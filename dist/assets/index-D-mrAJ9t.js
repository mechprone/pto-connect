const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CyHIxznO.js","assets/react-vendor-Cx5d5nzo.js","assets/ui-vendor-ClRLW3RW.js","assets/supabase-BqcIUn8s.js","assets/data-vendor-9EW3M4PF.js"])))=>i.map(i=>d[i]);
import{j as c,L as SE,B as jE,a as EN,G as TN,S as lb,C as ns,U as NE,b as Zr,c as qu,E as Uu,d as Th,T as _E,P as Ne,D as CN,e as kN,f as AE,F as OE,g as PE,h as EE,i as TE,k as DN,l as CE,m as kE,n as DE,o as LE,p as ME,q as IE,r as LN,s as $E,t as RE,A as Cx,u as kx,v as FE,w as Si,M as Eu,x as BE,y as Dx,z as Lx,H as zE,I as Xg,J as Mx,K as Zg,N as qE,Z as UE,O as WE,Q as HE,R as GE,V as VE,W as YE}from"./ui-vendor-ClRLW3RW.js";import{b as KE,r as z,N as Jg,O as cb,u as hn,d as MN,L as Ci,e as qd,g as xt,f as B,c as ea,h as IN,i as XE,j as ZE,k as We,B as JE}from"./react-vendor-Cx5d5nzo.js";import{c as QE,_ as Qv}from"./supabase-BqcIUn8s.js";import{a as Oa}from"./data-vendor-9EW3M4PF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var e0={},Ix=KE;e0.createRoot=Ix.createRoot,e0.hydrateRoot=Ix.hydrateRoot;const e6="https://dakyetfomciihdiuwrbx.supabase.co",t6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",Xe=QE(e6,t6);function yo(){const[e,t]=z.useState(null),[r,n]=z.useState(null),[a,i]=z.useState(!0),[o,s]=z.useState(null);return z.useEffect(()=>{const h=async()=>{try{i(!0),s(null);const{data:{user:g},error:b}=await Xe.auth.getUser();if(b)throw b;if(!g){t(null),n(null),i(!1);return}const{data:x,error:w}=await Xe.from("profiles").select("*").eq("id",g.id).single();if(w)throw w;t(x);let j=null;if(x!=null&&x.org_id){const{data:_,error:S}=await Xe.from("organizations").select("*").eq("id",x.org_id).single();S||(j=_)}n(j)}catch(g){console.error("Error fetching user profile:",g),s(g.message)}finally{i(!1)}};h();const{data:{subscription:v}}=Xe.auth.onAuthStateChange((g,b)=>{g==="SIGNED_OUT"?(t(null),n(null)):g==="SIGNED_IN"&&b&&h()});return()=>v.unsubscribe()},[]),{profile:e,organization:r,loading:a,error:o,updateProfile:async h=>{try{const{data:v,error:g}=await Xe.from("profiles").update(h).eq("id",e.id).select().single();if(g)throw g;return t(b=>({...b,...v})),{data:v,error:null}}catch(v){return console.error("Error updating profile:",v),{data:null,error:v.message}}},hasRole:h=>(e==null?void 0:e.role)===h,hasAnyRole:h=>h.includes(e==null?void 0:e.role),isSubscriptionActive:()=>{if(!r)return!1;const{subscription_status:h,trial_ends_at:v}=r;return h==="active"||h==="trial"&&v&&new Date(v)>new Date},showRenewalBanner:()=>{if(!r)return!1;const{plan_type:h,subscription_status:v,cancel_at_period_end:g,current_period_end:b}=r;return!!(h==="annual"&&v==="active"&&g&&b&&new Date(b)-new Date<15*24*60*60*1e3)},isAuthenticated:!!e}}function ub({size:e="default",className:t=""}){const r={small:"h-4 w-4",default:"h-6 w-6",large:"h-8 w-8"};return c.jsx("div",{className:"flex items-center justify-center",children:c.jsx(SE,{className:`animate-spin text-blue-600 ${r[e]} ${t}`})})}function Ro({allowedRoles:e}){const{profile:t,loading:r,isAuthenticated:n,isSubscriptionActive:a}=yo();return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(ub,{size:"xl"})}):n?e&&!e.includes(t.role)?c.jsx(Jg,{to:"/unauthorized",replace:!0}):!a()&&window.location.pathname!=="/billing"?c.jsx(Jg,{to:"/billing",replace:!0}):c.jsx(cb,{}):c.jsx(Jg,{to:"/login",replace:!0})}const ln=Oa.create({baseURL:"https://api.ptoconnect.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});ln.interceptors.request.use(async e=>{console.log("🔍 [FRONTEND DEBUG] API Request interceptor started"),console.log("🔍 [FRONTEND DEBUG] Request URL:",e.url),console.log("🔍 [FRONTEND DEBUG] Request method:",e.method);try{const{data:{session:t}}=await Xe.auth.getSession();console.log("🔍 [FRONTEND DEBUG] Session retrieved:",!!t),console.log("🔍 [FRONTEND DEBUG] Access token present:",!!(t!=null&&t.access_token)),t!=null&&t.access_token?(e.headers.Authorization=`Bearer ${t.access_token}`,console.log("🔍 [FRONTEND DEBUG] Auth header set, token length:",t.access_token.length)):console.warn("⚠️ [FRONTEND DEBUG] No access token found in session")}catch(t){console.error("❌ [FRONTEND DEBUG] Error getting session:",t)}return console.log("🔍 [FRONTEND DEBUG] Final request headers:",e.headers),e},e=>(console.error("❌ [FRONTEND DEBUG] Request interceptor error:",e),Promise.reject(e)));ln.interceptors.response.use(e=>(console.log("✅ [FRONTEND DEBUG] API Response received:",{url:e.config.url,status:e.status,statusText:e.statusText,dataKeys:Object.keys(e.data||{})}),e),e=>{var t,r,n,a,i;return console.error("❌ [FRONTEND DEBUG] API Response error:",{url:(t=e.config)==null?void 0:t.url,status:(r=e.response)==null?void 0:r.status,statusText:(n=e.response)==null?void 0:n.statusText,errorData:(a=e.response)==null?void 0:a.data,errorMessage:e.message}),((i=e.response)==null?void 0:i.status)===401&&(console.warn("🚫 [FRONTEND DEBUG] Unauthorized - redirecting to login"),window.location.href="/login"),Promise.reject(e)});const Vt=async(e,t,r=null,n={})=>{var a,i;try{return{data:(await ln({method:e,url:t,data:r,...n})).data,error:null}}catch(o){return console.error(`API Error (${e} ${t}):`,o),{data:null,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"An error occurred"}}},Ea={getFundraisers:()=>Vt("GET","/fundraiser"),getFundraiser:e=>Vt("GET",`/fundraiser/${e}`),createFundraiser:e=>Vt("POST","/fundraiser",e),updateFundraiser:(e,t)=>Vt("PUT",`/fundraiser/${e}`,t),deleteFundraiser:e=>Vt("DELETE",`/fundraiser/${e}`),getDonations:e=>Vt("GET",`/fundraiser/${e}/donations`),getFundraiserAnalytics:(e,t)=>Vt("GET",`/fundraiser/${e}/analytics${t?`?${new URLSearchParams(t)}`:""}`),getAllFundraisersAnalytics:e=>Vt("GET",`/fundraiser/analytics${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsOverview:e=>Vt("GET",`/fundraiser/analytics/overview${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsTrends:e=>Vt("GET",`/fundraiser/analytics/trends${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsDonorRetention:e=>Vt("GET",`/fundraiser/analytics/donor-retention${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsCampaigns:e=>Vt("GET",`/fundraiser/analytics/campaigns${e?`?${new URLSearchParams(e)}`:""}`),addDonation:(e,t)=>Vt("POST","/fundraiser/analytics/donations",{...t,fundraiser_id:e}),getFundraiserTopDonor:e=>Vt("GET",`/fundraiser/${e}/top-donor`),getDonationTiers:e=>Vt("GET",`/fundraiser/${e}/tiers`),createDonationTier:(e,t)=>Vt("POST",`/fundraiser/${e}/tiers`,t),updateDonationTier:(e,t,r)=>Vt("PUT",`/fundraiser/${e}/tiers/${t}`,r),deleteDonationTier:(e,t)=>Vt("DELETE",`/fundraiser/${e}/tiers/${t}`),getAnalyticsYears:()=>Vt("GET","/fundraiser/analytics/years"),getDonorYears:()=>Vt("GET","/fundraiser/donors/years"),getDonorData:(e,t,r,n)=>Vt("GET",`/fundraiser/donors${t||r||n?`?${new URLSearchParams({year:t,fundraiserId:r,type:n})}`:""}`),getDonorTypes:()=>Vt("GET","/fundraiser/donor-types")};function $N(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=$N(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function gt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=$N(e))&&(n&&(n+=" "),n+=t);return n}function r6(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}r6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var db=e=>typeof e=="number"&&!isNaN(e),Wu=e=>typeof e=="string",RN=e=>typeof e=="function",n6=e=>Wu(e)||db(e),a6=e=>z.isValidElement(e)||Wu(e)||RN(e)||db(e),i6=1,FN=()=>`${i6++}`,ti=new Map,t0=[],$x=new Set,BN=()=>ti.size>0,o6=(e,{containerId:t})=>{var r;return(r=ti.get(t||1))==null?void 0:r.toasts.get(e)};function s6(e,t){var r;if(t)return!!((r=ti.get(t))!=null&&r.isToastActive(e));let n=!1;return ti.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function l6(e){if(!BN()){t0=t0.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||n6(e))ti.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ti.get(e.containerId);t?t.removeToast(e.id):ti.forEach(r=>{r.removeToast(e.id)})}}var c6=(e={})=>{ti.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function u6(e,t){a6(e)&&(BN()||t0.push({content:e,options:t}),ti.forEach(r=>{r.buildToast(e,t)}))}function zN(e,t){ti.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function d6(e){return $x.add(e),()=>{$x.delete(e)}}function f6(e){return e&&(Wu(e.toastId)||db(e.toastId))?e.toastId:FN()}function Ud(e,t){return u6(e,t),t.toastId}function zp(e,t){return{...t,type:t&&t.type||e,toastId:f6(t)}}function qp(e){return(t,r)=>Ud(t,zp(e,r))}function Zt(e,t){return Ud(e,zp("default",t))}Zt.loading=(e,t)=>Ud(e,zp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function h6(e,{pending:t,error:r,success:n},a){let i;t&&(i=Wu(t)?Zt.loading(t,a):Zt.loading(t.render,{...a,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(u,d,f)=>{if(d==null){Zt.dismiss(i);return}let p={type:u,...o,...a,data:f},h=Wu(d)?{render:d}:d;return i?Zt.update(i,{...p,...h}):Zt(h.render,{...p,...h}),f},l=RN(e)?e():e;return l.then(u=>s("success",n,u)).catch(u=>s("error",r,u)),l}Zt.promise=h6;Zt.success=qp("success");Zt.info=qp("info");Zt.error=qp("error");Zt.warning=qp("warning");Zt.warn=Zt.warning;Zt.dark=(e,t)=>Ud(e,zp("default",{theme:"dark",...t}));function p6(e){l6(e)}Zt.dismiss=p6;Zt.clearWaitingQueue=c6;Zt.isActive=s6;Zt.update=(e,t={})=>{let r=o6(e,t);if(r){let{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:FN()};i.toastId!==e&&(i.staleId=e);let o=i.render||a;delete i.render,Ud(o,i)}};Zt.done=e=>{Zt.update(e,{progress:1})};Zt.onChange=d6;Zt.play=e=>zN(!0,e);Zt.pause=e=>zN(!1,e);const Ta=(e,t="An error occurred")=>(console.error("Error:",e),Zt.error(t),!1),us=(e="Operation successful")=>(Zt.success(e),!0);function m6(){const[e,t]=z.useState([]),[r,n]=z.useState(!1),[a,i]=z.useState(null),[o,s]=z.useState(!1),l=async()=>{try{n(!0);const{data:f}=await ln.get("/notifications");t(f),i(null)}catch(f){i("Failed to fetch notifications"),Ta(f,"Failed to fetch notifications")}finally{n(!1)}},u=async f=>{try{n(!0),await ln.put(`/notifications/${f}/read`),t(e.map(p=>p.id===f?{...p,read:!0}:p)),us("Notification marked as read")}catch(p){Ta(p,"Failed to update notification")}finally{n(!1)}},d=async()=>{try{n(!0),await ln.delete("/notifications/clear-all"),t([]),us("All notifications cleared")}catch(f){Ta(f,"Failed to clear notifications")}finally{n(!1)}};return z.useEffect(()=>{l()},[]),r?c.jsx(ub,{size:"sm"}):c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>s(!o),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none",children:[c.jsx(jE,{className:"h-6 w-6 text-gray-600"}),e.length>0&&c.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:e.length})]}),o&&c.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:[c.jsx("div",{className:"p-4 border-b",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),e.length>0&&c.jsx("button",{onClick:d,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?c.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):e.map(f=>c.jsxs("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${f.read?"":"bg-blue-50"}`,onClick:()=>u(f.id),children:[c.jsx("p",{className:"text-sm",children:f.message}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.created_at).toLocaleString()})]},f.id))})]})]})}function g6(){const e=hn(),t=async()=>{await Xe.auth.signOut(),localStorage.removeItem("access_token"),e("/login")};return c.jsx("button",{onClick:t,className:"text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Logout"})}const v6=[{to:"/dashboard/admin",label:"Dashboard",roles:["admin"]},{to:"/events",label:"Events",roles:["admin","teacher","parent_member"]},{to:"/fundraisers",label:"Fundraisers",roles:["admin","treasurer"]},{to:"/budget",label:"Budget",roles:["admin","treasurer"]},{to:"/communications",label:"Communications",roles:["admin","committee_lead","teacher"]},{to:"/teacher-requests",label:"Teacher Requests",roles:["admin","teacher"]},{to:"/billing",label:"Billing",roles:["admin"]}];function y6({role:e}){const t=MN(),r=v6.filter(n=>n.roles.includes(e));return c.jsx("aside",{className:"w-64 bg-white border-r shadow-sm hidden md:block",children:c.jsx("nav",{className:"px-4 py-6 space-y-2",children:r.map(n=>c.jsx(Ci,{to:n.to,className:`block px-3 py-2 rounded text-sm font-medium ${t.pathname===n.to?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:n.label},n.to))})})}function b6(){return c.jsxs("footer",{className:"text-xs text-gray-500 text-center py-4 border-t bg-white",children:["PTO Connect © ",new Date().getFullYear()," — Need help? Visit our support page."]})}function x6(){const{showRenewalBanner:e,organization:t}=yo();return e()?c.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 mb-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Annual Subscription Expiring Soon:"})," Your annual subscription will expire on"," ",c.jsx("span",{className:"font-semibold",children:t!=null&&t.current_period_end?new Date(t.current_period_end).toLocaleDateString():"soon"}),". Please renew to avoid interruption."]}),c.jsx("a",{href:"/billing",className:"ml-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Renew Now"})]}):null}function Fo(){const[e,t]=z.useState(null),[r,n]=z.useState(null);return z.useEffect(()=>{async function a(){const{data:{user:i}}=await Xe.auth.getUser();t(i);const{data:o}=await Xe.from("profiles").select("role").eq("id",i.id).single();n(o==null?void 0:o.role)}a()},[]),!e||!r?null:c.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[c.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center w-full",children:[c.jsx("span",{className:"text-xl font-bold text-blue-700",children:"PTO Connect"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(m6,{}),c.jsx(g6,{})]})]}),c.jsx(x6,{}),c.jsxs("div",{className:"flex flex-1",children:[c.jsx(y6,{role:r}),c.jsx("main",{className:"flex-1 p-6",children:c.jsx(cb,{})})]}),c.jsx(b6,{})]})}const w6={admin:"/dashboard/admin",board_member:"/dashboard/board",committee_lead:"/dashboard/committee",volunteer:"/dashboard/volunteer",parent_member:"/dashboard/parent",teacher:"/dashboard/teacher"},S6=e=>w6[e]||"/dashboard";function Rx(){const[e,t]=z.useState(""),[r,n]=z.useState(""),[a,i]=z.useState(""),[o,s]=z.useState(!1),l=hn(),u=async d=>{if(d&&d.preventDefault(),console.log("🔍 [LOGIN DEBUG] Login attempt started"),console.log("🔍 [LOGIN DEBUG] Email:",e),s(!0),i(""),!e||!r){console.log("❌ [LOGIN DEBUG] Missing email or password"),i("Email and password are required."),s(!1);return}console.log("🔍 [LOGIN DEBUG] Calling Supabase signInWithPassword...");const{data:f,error:p}=await Xe.auth.signInWithPassword({email:e,password:r});if(console.log("🔍 [LOGIN DEBUG] Supabase response:",{user:!!(f!=null&&f.user),session:!!(f!=null&&f.session),error:p}),p||!(f!=null&&f.user)){console.error("❌ [LOGIN DEBUG] Login error:",p),i((p==null?void 0:p.message)||"Login failed."),s(!1);return}const h=f.user;console.log("🔍 [LOGIN DEBUG] User authenticated:",{id:h.id,email:h.email,user_metadata:h.user_metadata}),console.log("🔍 [LOGIN DEBUG] Fetching user profile...");const{data:v,error:g}=await Xe.from("profiles").select("role, org_id, approved").eq("id",h.id).single();if(console.log("🔍 [LOGIN DEBUG] Profile query result:",{profile:v,profileError:g}),g||!v){console.error("❌ [LOGIN DEBUG] Profile fetch error:",g),i("Unable to load user profile. Please contact support."),s(!1);return}if(!v.approved){console.log("❌ [LOGIN DEBUG] User not approved"),i("Your account is pending approval. Please contact an administrator."),s(!1);return}const b=v.role;if(console.log("🔍 [LOGIN DEBUG] User role:",b),!b){console.log("❌ [LOGIN DEBUG] No role assigned"),i("Your account does not have a role assigned."),s(!1);return}console.log("🔍 [LOGIN DEBUG] Getting dashboard route for role:",b);const x=S6(b);console.log("🔍 [LOGIN DEBUG] Navigating to:",x),l(x),s(!1)};return c.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[c.jsx("h1",{className:"text-xl font-bold mb-4",children:"Log In"}),c.jsxs("form",{onSubmit:u,className:"space-y-4",children:[c.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"email",value:e,onChange:d=>t(d.target.value),placeholder:"Email",required:!0,disabled:o,autoComplete:"email"}),c.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"password",value:r,onChange:d=>n(d.target.value),placeholder:"Password",required:!0,disabled:o,autoComplete:"current-password"}),c.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Logging in...":"Log In"}),a&&c.jsx("p",{className:"text-red-500 mt-2",children:a})]})]})}const j6=["admin","treasurer","board_member"];function N6(){const[e,t]=z.useState(""),[r,n]=z.useState(""),[a,i]=z.useState(""),[o,s]=z.useState("parent_member"),[l,u]=z.useState(""),[d,f]=z.useState(""),p=async()=>{if(u(""),f(""),!e||!r||!a||!o){u("All fields are required.");return}const{data:h,error:v}=await Xe.from("organizations").select("id").ilike("signup_code",a).single();if(v||!(h!=null&&h.id)){console.error("PTO code lookup failed:",v),u("Invalid PTO code. Please check with your organization.");return}const g=h.id,{data:b,error:x}=await Xe.auth.signUp({email:e,password:r,options:{data:{org_id:g,role:o}}});if(x||!(b!=null&&b.user)){console.error("Signup error:",x),u((x==null?void 0:x.message)||"Signup failed.");return}const w=b.user,j=!j6.includes(o),{data:_}=await Xe.from("profiles").select("id").eq("id",w.id).maybeSingle();if(_){console.warn("Profile already exists, skipping insert."),f("Signup successful! You can now log in.");return}const{error:S}=await Xe.from("profiles").insert([{id:w.id,email:e,org_id:g,role:o,approved:j}]);S?(console.error("Profile insert error:",S),u("Signup successful, but failed to save profile.")):(f(j?"Signup successful! You can now log in.":"Signup submitted. An admin must approve your role before you can access the system."),t(""),n(""),i(""),s("parent_member"))};return c.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[c.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sign Up"}),c.jsx("input",{className:"border p-2 w-full mb-2",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"Email",required:!0}),c.jsx("input",{className:"border p-2 w-full mb-2",type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Password",required:!0}),c.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"PTO Code (e.g. abc123xy)",required:!0}),c.jsxs("select",{className:"border p-2 w-full mb-4",value:o,onChange:h=>s(h.target.value),required:!0,children:[c.jsx("option",{value:"parent_member",children:"Parent Member"}),c.jsx("option",{value:"teacher",children:"Teacher"}),c.jsx("option",{value:"volunteer",children:"Volunteer"}),c.jsx("option",{value:"committee_lead",children:"Committee Lead"}),c.jsx("option",{value:"board_member",children:"Board Member"}),c.jsx("option",{value:"treasurer",children:"Treasurer"}),c.jsx("option",{value:"admin",children:"Admin"})]}),c.jsx("button",{onClick:p,className:"bg-green-600 text-white px-4 py-2 rounded w-full",children:"Sign Up"}),l&&c.jsx("p",{className:"text-red-500 mt-2",children:l}),d&&c.jsx("p",{className:"text-green-600 mt-2",children:d})]})}function _6(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-6",children:c.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-md text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),c.jsx("p",{className:"text-gray-700 mb-6",children:"You don’t have permission to view this page."}),c.jsx(Ci,{to:"/",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Return to Home"})]})})}const A6=()=>{var j,_,S,P;const{userProfile:e}=yo(),[t,r]=z.useState("membership"),[n,a]=z.useState("6months"),[i,o]=z.useState({membership:[],events:[],financial:[],engagement:[]}),[s,l]=z.useState(!0);z.useEffect(()=>{e!=null&&e.org_id&&u()},[e,n]);const u=async()=>{try{l(!0);const A=new Date,E=new Date;switch(n){case"3months":E.setMonth(A.getMonth()-3);break;case"6months":E.setMonth(A.getMonth()-6);break;case"1year":E.setFullYear(A.getFullYear()-1);break;default:E.setMonth(A.getMonth()-6)}const[k,M,T,C]=await Promise.all([d(E,A),f(E,A),p(E,A),h(E,A)]);o({membership:k,events:M,financial:T,engagement:C})}catch(A){console.error("Error fetching chart data:",A)}finally{l(!1)}},d=async(A,E)=>{const k=[],M=new Date(A);for(;M<=E;){const T=new Date(M.getFullYear(),M.getMonth(),1),C=new Date(M.getFullYear(),M.getMonth()+1,0),{count:I}=await Xe.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).lte("created_at",C.toISOString());k.push({month:T.toLocaleDateString("en-US",{month:"short"}),value:I||0,date:T}),M.setMonth(M.getMonth()+1)}return k},f=async(A,E)=>{const{data:k}=await Xe.from("events").select("event_date, title, status").eq("org_id",e.org_id).gte("event_date",A.toISOString()).lte("event_date",E.toISOString()).order("event_date"),M={};return k==null||k.forEach(T=>{const C=new Date(T.event_date).toLocaleDateString("en-US",{month:"short"});M[C]||(M[C]={total:0,completed:0}),M[C].total++,T.status==="completed"&&M[C].completed++}),Object.entries(M).map(([T,C])=>({month:T,total:C.total,completed:C.completed,success_rate:C.total>0?Math.round(C.completed/C.total*100):0}))},p=async(A,E)=>{const{data:k}=await Xe.from("budget_entries").select("amount, type, category, created_at").eq("org_id",e.org_id).gte("created_at",A.toISOString()).lte("created_at",E.toISOString()),M={};return k==null||k.forEach(T=>{M[T.category]||(M[T.category]={income:0,expenses:0}),T.type==="income"?M[T.category].income+=T.amount:M[T.category].expenses+=T.amount}),Object.entries(M).map(([T,C])=>({category:T,income:C.income,expenses:C.expenses,net:C.income-C.expenses}))},h=async(A,E)=>{const k=[],M=new Date(A);for(;M<=E;){const T=M.toLocaleDateString("en-US",{month:"short"}),C=65,I=Math.random()*20-10,$=Math.max(0,Math.min(100,C+I));k.push({month:T,engagement:Math.round($),email_opens:Math.round($*.8),event_attendance:Math.round($*.6),volunteer_participation:Math.round($*.4)}),M.setMonth(M.getMonth()+1)}return k},v=(A,E,k="#3B82F6")=>{if(!A||A.length===0)return null;const M=Math.max(...A.map($=>$[E]||0)),T=Math.min(...A.map($=>$[E]||0)),C=M-T||1,I=A.map(($,G)=>{const H=G/(A.length-1)*100,Z=100-(($[E]||0)-T)/C*80-10;return`${H},${Z}`}).join(" ");return c.jsxs("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:[c.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[c.jsx("polyline",{fill:"none",stroke:k,strokeWidth:"0.5",points:I}),A.map(($,G)=>{const H=G/(A.length-1)*100,Z=100-(($[E]||0)-T)/C*80-10;return c.jsx("circle",{cx:H,cy:Z,r:"1",fill:k},G)})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between text-xs text-gray-500 px-4",children:A.map(($,G)=>c.jsx("span",{children:$.month},G))}),c.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-gray-500 py-4",children:[c.jsx("span",{children:M}),c.jsx("span",{children:Math.round((M+T)/2)}),c.jsx("span",{children:T})]})]})},g=(A,E,k="#10B981")=>{if(!A||A.length===0)return null;const M=Math.max(...A.map(T=>T[E]||0));return c.jsx("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:c.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:A.map((T,C)=>{const I=M>0?(T[E]||0)/M*100:0;return c.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[c.jsx("div",{className:"w-full rounded-t",style:{height:`${I}%`,backgroundColor:k,minHeight:I>0?"4px":"0"}}),c.jsx("span",{className:"text-xs text-gray-500 mt-2",children:T.month})]},C)})})})},b=A=>{if(!A||A.length===0)return null;const E=A.reduce((T,C)=>T+Math.abs(C.net||0),0);let k=0;const M=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return c.jsxs("div",{className:"relative h-64 flex items-center justify-center",children:[c.jsxs("svg",{className:"w-48 h-48",viewBox:"0 0 100 100",children:[A.map((T,C)=>{const $=(E>0?Math.abs(T.net||0)/E:0)*360,G=k,H=k+$,Z=50+35*Math.cos(G*Math.PI/180),J=50+35*Math.sin(G*Math.PI/180),Y=50+35*Math.cos(H*Math.PI/180),Q=50+35*Math.sin(H*Math.PI/180),oe=$>180?1:0,L=["M 50 50",`L ${Z} ${J}`,`A 35 35 0 ${oe} 1 ${Y} ${Q}`,"Z"].join(" ");return k+=$,c.jsx("path",{d:L,fill:M[C%M.length],opacity:.8},C)}),c.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"white"})]}),c.jsx("div",{className:"absolute right-0 top-0 space-y-2",children:A.map((T,C)=>c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:M[C%M.length]}}),c.jsx("span",{className:"text-gray-700",children:T.category})]},C))})]})},x=()=>{const A=i[t],E="data:text/csv;charset=utf-8,"+Object.keys(A[0]||{}).join(",")+`
`+A.map(T=>Object.values(T).join(",")).join(`
`),k=encodeURI(E),M=document.createElement("a");M.setAttribute("href",k),M.setAttribute("download",`${t}_analytics.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M)},w={membership:{title:"Membership Growth",description:"Track member acquisition and retention over time",dataKey:"value",color:"#3B82F6"},events:{title:"Event Performance",description:"Monitor event frequency and success rates",dataKey:"total",color:"#10B981"},financial:{title:"Financial Distribution",description:"Analyze income and expenses by category",dataKey:"net",color:"#F59E0B"},engagement:{title:"Member Engagement",description:"Measure community participation and activity",dataKey:"engagement",color:"#8B5CF6"}};return s?c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),c.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Dashboard"}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("select",{value:n,onChange:A=>a(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"3months",children:"Last 3 Months"}),c.jsx("option",{value:"6months",children:"Last 6 Months"}),c.jsx("option",{value:"1year",children:"Last Year"})]}),c.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:"Export CSV"})]})]}),c.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:Object.entries(w).map(([A,E])=>c.jsx("button",{onClick:()=>r(A),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===A?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:E.title},A))})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:w[t].title}),c.jsx("p",{className:"text-sm text-gray-600",children:w[t].description})]}),c.jsxs("div",{className:"mb-6",children:[t==="membership"&&v(i.membership,w.membership.dataKey,w.membership.color),t==="events"&&g(i.events,w.events.dataKey,w.events.color),t==="financial"&&b(i.financial),t==="engagement"&&v(i.engagement,w.engagement.dataKey,w.engagement.color)]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[t==="membership"&&i.membership.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((j=i.membership[i.membership.length-1])==null?void 0:j.value)||0}),c.jsx("p",{className:"text-sm text-gray-600",children:"Current Members"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",i.membership.length>1?(((_=i.membership[i.membership.length-1])==null?void 0:_.value)||0)-(((S=i.membership[0])==null?void 0:S.value)||0):0]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Growth"})]})]}),t==="events"&&i.events.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.events.reduce((A,E)=>A+E.total,0)}),c.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.events.length>0?Math.round(i.events.reduce((A,E)=>A+E.success_rate,0)/i.events.length):0,"%"]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Avg Success Rate"})]})]}),t==="financial"&&i.financial.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",i.financial.reduce((A,E)=>A+E.income,0).toLocaleString()]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Total Income"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",i.financial.reduce((A,E)=>A+E.expenses,0).toLocaleString()]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"})]})]}),t==="engagement"&&i.engagement.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((P=i.engagement[i.engagement.length-1])==null?void 0:P.engagement)||0,"%"]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Current Engagement"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.engagement.length>0?Math.round(i.engagement.reduce((A,E)=>A+E.email_opens,0)/i.engagement.length):0,"%"]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Avg Email Opens"})]})]})]})]})]})},O6=()=>{const{userProfile:e}=yo(),[t,r]=z.useState([]),[n,a]=z.useState("all"),[i,o]=z.useState(!0);z.useEffect(()=>{e!=null&&e.org_id&&s()},[e]);const s=async()=>{try{o(!0);const w=[],j=await l();w.push(...j);const _=await u();w.push(..._);const S=await d();w.push(...S);const P=await f();w.push(...P),w.sort((A,E)=>{const k={high:3,medium:2,low:1};return k[A.priority]!==k[E.priority]?k[E.priority]-k[A.priority]:new Date(E.timestamp)-new Date(A.timestamp)}),r(w)}catch(w){console.error("Error generating smart notifications:",w)}finally{o(!1)}},l=async()=>{const w=[];try{const{data:j}=await Xe.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(j&&j.length>0){const _=j.filter(E=>E.type==="income").reduce((E,k)=>E+k.amount,0),S=j.filter(E=>E.type==="expense").reduce((E,k)=>E+k.amount,0),P=_>0?S/_*100:0;P>80?w.push({id:"budget-alert-1",type:"budget",priority:"high",title:"Budget Alert: Events Category",message:`Events budget is ${Math.round(P)}% spent with 3 months remaining. Consider reviewing upcoming event costs.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Budget",action:"review_budget"},{label:"View Details",action:"view_details"}]}):P>60&&w.push({id:"budget-alert-2",type:"budget",priority:"medium",title:"Budget Tracking",message:`Budget is ${Math.round(P)}% utilized. On track for current period.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const A=j.reduce((E,k)=>(E[k.category]||(E[k.category]={income:0,expenses:0}),k.type==="income"?E[k.category].income+=k.amount:E[k.category].expenses+=k.amount,E),{});Object.entries(A).forEach(([E,k])=>{const M=k.income>0?k.expenses/k.income*100:0;M>90&&w.push({id:`budget-category-${E}`,type:"budget",priority:"high",title:`${E} Budget Alert`,message:`${E} category is ${Math.round(M)}% spent. Immediate attention required.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Category",action:"review_category"},{label:"Adjust Budget",action:"adjust_budget"}]})})}}catch(j){console.error("Error generating budget alerts:",j)}return w},u=async()=>{const w=[];try{const j=new Date;j.setDate(j.getDate()-30);const{count:_}=await Xe.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("created_at",j.toISOString()),{count:S}=await Xe.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id),P=S>0?_/S*100:0;P<5?w.push({id:"membership-growth-1",type:"membership",priority:"medium",title:"Membership Growth Trending Down",message:"New member registrations have decreased by 15% this month. Consider launching a recruitment campaign.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Start Campaign",action:"start_campaign"},{label:"View Analytics",action:"view_analytics"}]}):P>15&&w.push({id:"membership-growth-2",type:"membership",priority:"low",title:"Excellent Membership Growth",message:`Outstanding! New member registrations increased by ${Math.round(P)}% this month.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const{count:A}=await Xe.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",j.toISOString()),E=S>0?A/S*100:0;E<40&&w.push({id:"engagement-alert-1",type:"engagement",priority:"medium",title:"Low Member Engagement",message:`Only ${Math.round(E)}% of members were active this month. Consider increasing communication frequency.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Newsletter",action:"send_newsletter"},{label:"Plan Event",action:"plan_event"}]})}catch(j){console.error("Error generating membership insights:",j)}return w},d=async()=>{const w=[];try{const j=new Date;j.setDate(j.getDate()+7);const{data:_}=await Xe.from("events").select("id, title, event_date, volunteer_slots_needed, volunteer_slots_filled").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).lte("event_date",j.toISOString());_==null||_.forEach(A=>{const E=Math.ceil((new Date(A.event_date)-new Date)/864e5),k=(A.volunteer_slots_needed||0)-(A.volunteer_slots_filled||0);E<=3&&k>0?w.push({id:`event-volunteer-${A.id}`,type:"events",priority:"high",title:`Volunteer Shortage: ${A.title}`,message:`${A.title} in ${E} days needs ${k} more volunteers.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Reminder",action:"send_reminder"},{label:"View Event",action:"view_event"}]}):E<=7&&w.push({id:`event-reminder-${A.id}`,type:"events",priority:"low",title:`Upcoming Event: ${A.title}`,message:`${A.title} is coming up in ${E} days. All preparations on track.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]})});const{data:S}=await Xe.from("events").select("id, title, event_date, updated_at").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()),P=new Date;P.setDate(P.getDate()-14),S==null||S.forEach(A=>{new Date(A.updated_at)<P&&w.push({id:`event-stale-${A.id}`,type:"events",priority:"medium",title:`Event Needs Attention: ${A.title}`,message:`${A.title} hasn't been updated in 2 weeks. Consider reviewing event details.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Update Event",action:"update_event"},{label:"View Details",action:"view_details"}]})})}catch(j){console.error("Error generating event alerts:",j)}return w},f=async()=>{const w=[];w.push({id:"goal-achievement-1",type:"goals",priority:"low",title:"Goal Achievement: Volunteer Hours",message:"Congratulations! Volunteer hours goal exceeded by 104% this quarter.",timestamp:new Date().toISOString(),actionable:!1,actions:[]});const j=new Date().getMonth();return j>=8&&j<=10&&w.push({id:"seasonal-insight-1",type:"seasonal",priority:"medium",title:"Fall Fundraising Opportunity",message:"Fall is peak fundraising season. Consider launching a major campaign now.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Create Campaign",action:"create_campaign"},{label:"View Templates",action:"view_templates"}]}),w.push({id:"communication-insight-1",type:"communication",priority:"low",title:"Communication Performance",message:"Email open rates increased by 8% this month. Great job on engaging content!",timestamp:new Date().toISOString(),actionable:!1,actions:[]}),w},p=(w,j)=>{switch(console.log(`Executing action: ${w} for notification: ${j}`),w){case"review_budget":break;case"start_campaign":break;case"send_reminder":break;case"view_analytics":break;default:console.log("Action not implemented:",w)}},h=w=>{r(j=>j.filter(_=>_.id!==w))},v=t.filter(w=>n==="all"?!0:n==="actionable"?w.actionable:w.type===n),g=w=>{switch(w){case"high":return"border-red-200 bg-red-50";case"medium":return"border-yellow-200 bg-yellow-50";case"low":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},b=w=>{switch(w){case"high":return c.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"medium":return c.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"low":return c.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},x=w=>{switch(w){case"budget":return c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"membership":return c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})});case"events":return c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"engagement":return c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});default:return c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}};return i?c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"h-16 bg-gray-200 rounded"}),c.jsx("div",{className:"h-16 bg-gray-200 rounded"}),c.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:c.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Smart Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered insights and alerts"})]})]}),c.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All"})]}),c.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All"},{key:"actionable",label:"Actionable"},{key:"budget",label:"Budget"},{key:"events",label:"Events"},{key:"membership",label:"Members"}].map(({key:w,label:j})=>c.jsx("button",{onClick:()=>a(w),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${n===w?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:j},w))})]}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"space-y-4",children:v.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("p",{className:"text-gray-500",children:"No notifications to display"})]}):v.map(w=>c.jsx("div",{className:`border rounded-lg p-4 ${g(w.priority)}`,children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[b(w.priority),c.jsx("div",{className:"text-gray-500",children:x(w.type)})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:w.title}),c.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w.priority==="high"?"bg-red-100 text-red-800":w.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[w.priority," priority"]})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.message}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(w.timestamp).toLocaleString()}),w.actions.length>0&&c.jsx("div",{className:"flex items-center space-x-2 mt-3",children:w.actions.map((j,_)=>c.jsx("button",{onClick:()=>p(j.action,w.id),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:j.label},_))})]})]}),c.jsx("button",{onClick:()=>h(w.id),className:"text-gray-400 hover:text-gray-600 ml-2",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},w.id))})})]})},P6=()=>{const{userProfile:e,loading:t}=yo(),[r,n]=z.useState({metrics:{totalMembers:0,activeEvents:0,budgetUsed:0,engagementRate:0},recentActivity:[],upcomingEvents:[],pendingTasks:[],financialSummary:{totalBudget:0,spent:0,remaining:0,categories:[]}}),[a,i]=z.useState(!0);z.useEffect(()=>{e!=null&&e.org_id&&o()},[e]);const o=async()=>{try{i(!0);const x=[s(),l(),u(),d()],[w,j,_,S]=await Promise.all(x),[P,A,E]=await Promise.all([f(),p(),h()]);n({metrics:{totalMembers:w,activeEvents:j,budgetUsed:_.percentUsed,engagementRate:S},recentActivity:P,upcomingEvents:A,pendingTasks:E,financialSummary:_})}catch(x){console.error("Error fetching dashboard data:",x)}finally{i(!1)}},s=async()=>{const{count:x}=await Xe.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return x||0},l=async()=>{const{count:x}=await Xe.from("events").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("event_date",new Date().toISOString());return x||0},u=async()=>{const{data:x}=await Xe.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(!x)return{percentUsed:0,totalBudget:0,spent:0,remaining:0,categories:[]};const w=x.filter(S=>S.type==="income").reduce((S,P)=>S+P.amount,0),j=x.filter(S=>S.type==="expense").reduce((S,P)=>S+P.amount,0),_=x.reduce((S,P)=>(S[P.category]||(S[P.category]={income:0,expenses:0}),P.type==="income"?S[P.category].income+=P.amount:S[P.category].expenses+=P.amount,S),{});return{totalBudget:w,spent:j,remaining:w-j,percentUsed:w>0?Math.round(j/w*100):0,categories:Object.entries(_).map(([S,P])=>({name:S,...P,net:P.income-P.expenses}))}},d=async()=>{const x=new Date;x.setDate(x.getDate()-30);const{count:w}=await Xe.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",x.toISOString()),{count:j}=await Xe.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return j>0?Math.round(w/j*100):0},f=async()=>{const{data:x}=await Xe.from("events").select("title, created_at, created_by").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(5),{data:w}=await Xe.from("profiles").select("first_name, last_name, created_at").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(3),j=[];return x&&x.forEach(_=>{j.push({type:"event_created",title:`New event: ${_.title}`,timestamp:_.created_at,user:"System"})}),w&&w.forEach(_=>{j.push({type:"user_joined",title:`${_.first_name} ${_.last_name} joined`,timestamp:_.created_at,user:`${_.first_name} ${_.last_name}`})}),j.sort((_,S)=>new Date(S.timestamp)-new Date(_.timestamp)).slice(0,8)},p=async()=>{const{data:x}=await Xe.from("events").select("id, title, event_date, location, status").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0}).limit(5);return x||[]},h=async()=>{const x=[];return(e.role==="admin"||e.role==="board_member")&&x.push({id:1,title:"Review budget proposal",priority:"high",dueDate:"2025-06-10"},{id:2,title:"Approve volunteer applications",priority:"medium",dueDate:"2025-06-12"},{id:3,title:"Update event calendar",priority:"low",dueDate:"2025-06-15"}),x},v=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x),g=x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),b=x=>{const w=new Date,j=new Date(x),_=Math.floor((w-j)/(1e3*60*60));if(_<1)return"Just now";if(_<24)return`${_}h ago`;const S=Math.floor(_/24);return S<7?`${S}d ago`:g(x)};return t||a?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):c.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e==null?void 0:e.first_name,"!"]}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your PTO today"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.totalMembers})]}),c.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:c.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]}),c.jsx("div",{className:"mt-4",children:c.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.activeEvents})]}),c.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:c.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),c.jsx("div",{className:"mt-4",children:c.jsx("span",{className:"text-sm text-blue-600",children:"3 this month"})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Budget Used"}),c.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.budgetUsed,"%"]})]}),c.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:c.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]}),c.jsx("div",{className:"mt-4",children:c.jsxs("span",{className:"text-sm text-gray-600",children:[v(r.financialSummary.remaining)," remaining"]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Engagement Rate"}),c.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.engagementRate,"%"]})]}),c.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:c.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),c.jsx("div",{className:"mt-4",children:c.jsx("span",{className:"text-sm text-green-600",children:"+5% from last month"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"space-y-4",children:r.recentActivity.map((x,w)=>c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${x.type==="event_created"?"bg-blue-500":"bg-green-500"}`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.title}),c.jsx("p",{className:"text-sm text-gray-500",children:b(x.timestamp)})]})]},w))})})]}),c.jsx(A6,{})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsx(O6,{}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upcoming Events"})}),c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"space-y-4",children:[r.upcomingEvents.map(x=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:x.title}),c.jsx("p",{className:"text-sm text-gray-600",children:g(x.event_date)}),x.location&&c.jsx("p",{className:"text-sm text-gray-500",children:x.location})]}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.status==="confirmed"?"bg-green-100 text-green-800":x.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:x.status})]},x.id)),r.upcomingEvents.length===0&&c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming events"})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("span",{className:"text-sm font-medium text-blue-900",children:"New Event"})]}),c.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[c.jsx("svg",{className:"w-6 h-6 text-green-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),c.jsx("span",{className:"text-sm font-medium text-green-900",children:"Send Message"})]}),c.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[c.jsx("svg",{className:"w-6 h-6 text-purple-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),c.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Add Member"})]}),c.jsxs("button",{className:"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors",children:[c.jsx("svg",{className:"w-6 h-6 text-yellow-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"New Report"})]})]})})]}),r.pendingTasks.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending Tasks"})}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"space-y-3",children:r.pendingTasks.map(x=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:x.title}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",g(x.dueDate)]})]}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.priority==="high"?"bg-red-100 text-red-800":x.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:x.priority})]},x.id))})})]})]})]})]})})},E6=[{value:"",label:"All Roles"},{value:"admin",label:"Admin"},{value:"board_member",label:"Board Member"},{value:"committee_lead",label:"Committee Lead"},{value:"volunteer",label:"Volunteer"},{value:"parent_member",label:"Parent Member"},{value:"teacher",label:"Teacher"}];function T6(){const[e,t]=z.useState([]),[r,n]=z.useState([]),[a,i]=z.useState({}),[o,s]=z.useState(!0),[l,u]=z.useState(""),[d,f]=z.useState(!1),[p,h]=z.useState(!1),[v,g]=z.useState(""),[b,x]=z.useState({});if(z.useEffect(()=>{async function A(){var G,H,Z;s(!0),u("");const[{data:E,error:k},{data:M,error:T}]=await Promise.all([Vt("GET","/admin/organization-permissions"),Vt("GET","/admin-users")]);if(console.log("[PermissionsConsole] /admin/organization-permissions response:",E),console.log("[PermissionsConsole] /admin-users response:",M),k||T){u("Failed to load permissions or users."),s(!1);return}const C=(G=E==null?void 0:E.data)==null?void 0:G.permissions,I=(H=E==null?void 0:E.data)==null?void 0:H.grouped;n(Array.isArray(C)?C:[]),i(I&&typeof I=="object"?I:{});const $=((Z=M==null?void 0:M.data)==null?void 0:Z.profiles)||(M==null?void 0:M.profiles)||(Array.isArray(M==null?void 0:M.data)?M.data:[]);t($),s(!1)}A()},[]),o)return c.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading permissions..."});if(l)return c.jsx("div",{className:"py-8 text-center text-red-600",children:l});if(!Array.isArray(r)||!a||typeof a!="object")return c.jsx("div",{className:"py-8 text-center text-red-600",children:"Permissions data is unavailable or malformed."});const w=v?e.filter(A=>A.role===v):e,j=r.map(A=>({key:A.permission_key,name:A.permission_name,module:A.module_name,defaultEnabled:A.is_enabled,minRole:A.current_min_role})),_=(A,E,k)=>{x(M=>({...M,[A]:{...M[A]||{},[E]:k}})),h(!0)},S=(A,E)=>{w.forEach(k=>{_(k.id,A,E)})},P=async()=>{f(!0),u("");const A=Object.entries(b).flatMap(([k,M])=>Object.entries(M).map(([T,C])=>({user_id:k,permission_key:T,is_enabled:C}))),{error:E}=await Vt("POST","/admin/organization-permissions/user-overrides",{overrides:A});E?u("Failed to save changes."):h(!1),f(!1)};return c.jsxs("div",{className:"bg-white rounded shadow p-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Permissions Management"}),c.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[c.jsx("label",{className:"font-medium",children:"Filter by Role:"}),c.jsx("select",{className:"border rounded px-2 py-1",value:v,onChange:A=>g(A.target.value),children:E6.map(A=>c.jsx("option",{value:A.value,children:A.label},A.value))})]}),c.jsx("div",{className:"overflow-x-auto",children:Object.keys(a).length===0?c.jsx("div",{className:"text-gray-500 text-center py-8",children:"No permissions found."}):c.jsxs("table",{className:"w-full table-auto border mb-2",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100",children:[c.jsx("th",{className:"p-2 border",children:"Name"}),c.jsx("th",{className:"p-2 border",children:"Email"}),c.jsx("th",{className:"p-2 border",children:"Role"}),j.map(A=>c.jsx("th",{className:"p-2 border",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{children:A.name}),c.jsx("button",{className:"text-xs text-blue-600 underline mt-1",onClick:()=>S(A.key,!0),title:"Enable for all filtered users",children:"Enable All"}),c.jsx("button",{className:"text-xs text-red-600 underline",onClick:()=>S(A.key,!1),title:"Disable for all filtered users",children:"Disable All"})]})},A.key))]})}),c.jsx("tbody",{children:w.map(A=>c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"p-2 border font-medium",children:A.full_name||A.email}),c.jsx("td",{className:"p-2 border",children:A.email}),c.jsx("td",{className:"p-2 border capitalize",children:A.role}),j.map(E=>{var T;const k=(T=b[A.id])==null?void 0:T[E.key],M=k!==void 0?k:E.defaultEnabled;return c.jsx("td",{className:"p-2 border text-center",children:c.jsx("input",{type:"checkbox",checked:M,onChange:C=>_(A.id,E.key,C.target.checked),className:"w-5 h-5 accent-blue-600"})},E.key)})]},A.id))})]})}),c.jsxs("div",{className:"flex gap-4 items-center mt-4",children:[c.jsx("button",{className:`px-4 py-2 rounded bg-blue-600 text-white font-semibold ${!p||d?"opacity-50 cursor-not-allowed":""}`,onClick:P,disabled:!p||d,children:d?"Saving...":"Save Changes"}),p&&!d&&c.jsx("span",{className:"text-yellow-600",children:"Unsaved changes"})]})]})}function C6(){return c.jsxs("div",{className:"bg-white rounded shadow p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Organization Info"}),c.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl text-gray-400",children:"Logo"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-lg mb-1",children:"[Organization Name]"}),c.jsx("div",{className:"text-gray-500",children:"[School/Year/Timezone]"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),c.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"contact@email.com",disabled:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),c.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"123 Main St",disabled:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),c.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"(555) 555-5555",disabled:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone"}),c.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"America/Chicago",disabled:!0})]})]}),c.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Organization editing coming soon]"})]})}function k6(){return c.jsxs("div",{className:"bg-white rounded shadow p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Email Settings (SMTP)"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),c.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"smtp.example.com",disabled:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),c.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"587",disabled:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),c.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"user@example.com",disabled:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),c.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"••••••••",type:"password",disabled:!0})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sender Name/Email"}),c.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"PTO Connect <noreply@ptoconnect.com>",disabled:!0})]})]}),c.jsxs("div",{className:"mt-6 flex gap-4 items-center",children:[c.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Test Connection"}),c.jsx("span",{className:"text-gray-400",children:"[SMTP editing & testing coming soon]"})]})]})}function D6(){return c.jsxs("div",{className:"bg-white rounded shadow p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Subscription"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"font-bold",children:"Current Plan:"}),c.jsx("div",{className:"text-gray-600",children:"[Plan Name]"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"font-bold",children:"Renewal Date:"}),c.jsx("div",{className:"text-gray-600",children:"[2025-12-31]"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"font-bold",children:"Payment Method:"}),c.jsx("div",{className:"text-gray-600",children:"[Visa •••• 1234]"})]}),c.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Manage Subscription"}),c.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Subscription management coming soon]"})]})}function L6(){return c.jsxs("div",{className:"bg-white rounded shadow p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Keys"}),c.jsxs("table",{className:"w-full table-auto border mb-4",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100",children:[c.jsx("th",{className:"p-2 border",children:"Key Name"}),c.jsx("th",{className:"p-2 border",children:"Permissions"}),c.jsx("th",{className:"p-2 border",children:"Status"}),c.jsx("th",{className:"p-2 border",children:"Actions"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border",children:"[Key 1]"}),c.jsx("td",{className:"p-2 border",children:"[Read, Write]"}),c.jsx("td",{className:"p-2 border",children:"Active"}),c.jsx("td",{className:"p-2 border",children:c.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border",children:"[Key 2]"}),c.jsx("td",{className:"p-2 border",children:"[Read]"}),c.jsx("td",{className:"p-2 border",children:"Inactive"}),c.jsx("td",{className:"p-2 border",children:c.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]})]})]}),c.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Create New API Key"}),c.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[API key management coming soon]"})]})}const M6=[{key:"org",label:"Organization Info"},{key:"permissions",label:"Permissions"},{key:"email",label:"Email Settings"},{key:"subscription",label:"Subscription"},{key:"apikeys",label:"API Keys"}];function Qg(){const[e,t]=z.useState("org");return c.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:M6.map(r=>c.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e===r.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t(r.key),children:r.label},r.key))})}),c.jsxs("div",{children:[e==="org"&&c.jsx(C6,{}),e==="permissions"&&c.jsx(T6,{}),e==="email"&&c.jsx(k6,{}),e==="subscription"&&c.jsx(D6,{}),e==="apikeys"&&c.jsx(L6,{})]})]})}const ll="https://api.ptoconnect.com";function I6(){const{profile:e,loading:t}=yo(),[r,n]=z.useState([]),[a,i]=z.useState([]),[o,s]=z.useState(!0),[l,u]=z.useState(null),[d,f]=z.useState(!1),p=(e==null?void 0:e.role)==="admin",h=z.useCallback(async()=>{if(!(e!=null&&e.user_id)||t||!p){s(!1);return}try{s(!0),u(null);const{data:{session:A}}=await Xe.auth.getSession();if(!(A!=null&&A.access_token))throw new Error("No authentication token available");const[E,k]=await Promise.all([Oa.get(`${ll}/api/admin/organization-permissions/templates`,{headers:{Authorization:`Bearer ${A.access_token}`}}),Oa.get(`${ll}/api/admin/organization-permissions`,{headers:{Authorization:`Bearer ${A.access_token}`}})]);n(E.data.templates||[]),i(k.data.permissions||[])}catch(A){console.error("Error fetching permission data:",A.message),u(A.message)}finally{s(!1)}},[e==null?void 0:e.user_id,t,p]);z.useEffect(()=>{h()},[h]);const v=z.useCallback(async(A,E)=>{var k,M;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:T}}=await Xe.auth.getSession();if(!(T!=null&&T.access_token))throw new Error("No authentication token available");const C=await Oa.put(`${ll}/api/admin/organization-permissions/${A}`,E,{headers:{Authorization:`Bearer ${T.access_token}`}});return await h(),C.data}catch(T){throw console.error(`Error updating permission ${A}:`,T.message),u(((M=(k=T.response)==null?void 0:k.data)==null?void 0:M.error)||T.message),T}finally{f(!1)}},[p,h]),g=z.useCallback(async A=>{var E,k;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:M}}=await Xe.auth.getSession();if(!(M!=null&&M.access_token))throw new Error("No authentication token available");const T=await Oa.post(`${ll}/api/admin/organization-permissions/bulk-update`,{permissions:A},{headers:{Authorization:`Bearer ${M.access_token}`}});return await h(),T.data}catch(M){throw console.error("Error bulk updating permissions:",M.message),u(((k=(E=M.response)==null?void 0:E.data)==null?void 0:k.error)||M.message),M}finally{f(!1)}},[p,h]),b=z.useCallback(async A=>{var E,k;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:M}}=await Xe.auth.getSession();if(!(M!=null&&M.access_token))throw new Error("No authentication token available");const T=await Oa.delete(`${ll}/api/admin/organization-permissions/${A}`,{headers:{Authorization:`Bearer ${M.access_token}`}});return await h(),T.data}catch(M){throw console.error(`Error resetting permission ${A}:`,M.message),u(((k=(E=M.response)==null?void 0:E.data)==null?void 0:k.error)||M.message),M}finally{f(!1)}},[p,h]),x=z.useCallback(async A=>{if(!p)throw new Error("Only administrators can view user permissions");try{const{data:{session:E}}=await Xe.auth.getSession();if(!(E!=null&&E.access_token))throw new Error("No authentication token available");return(await Oa.get(`${ll}/api/admin/organization-permissions/user/${A}`,{headers:{Authorization:`Bearer ${E.access_token}`}})).data}catch(E){throw console.error(`Error fetching permissions for user ${A}:`,E.message),E}},[p]),w=z.useCallback(()=>{const A={};return a.forEach(E=>{const k=E.module_name;A[k]||(A[k]=[]),A[k].push(E)}),A},[a]),j=z.useCallback(A=>r.find(E=>E.permission_key===A)||null,[r]),_=z.useCallback(A=>{const E=a.find(k=>k.permission_key===A);return!!(E!=null&&E.has_custom_setting)},[a]),S=z.useCallback(A=>{const E=a.find(M=>M.permission_key===A),k=j(A);return k?{permission_key:A,module_name:k.module_name,permission_name:k.permission_name,permission_description:k.permission_description,current_min_role:(E==null?void 0:E.current_min_role)||k.default_min_role,specific_users:(E==null?void 0:E.specific_users)||[],is_enabled:(E==null?void 0:E.is_enabled)!==void 0?E.is_enabled:!0,is_customized:!!(E!=null&&E.has_custom_setting),default_min_role:k.default_min_role}:null},[a,j]),P=z.useCallback(()=>{h()},[h]);return{templates:r,orgPermissions:a,loading:o,error:l,saving:d,isAdmin:p,updatePermission:v,bulkUpdatePermissions:g,resetPermission:b,getUserPermissions:x,refreshPermissions:P,getPermissionsByModule:w,getPermissionTemplate:j,isPermissionCustomized:_,getEffectivePermission:S,userId:e==null?void 0:e.user_id,orgId:e==null?void 0:e.org_id,userRole:e==null?void 0:e.role}}function $6(){const{profile:e,organization:t,loading:r}=yo(),n={admin:5,board_member:4,committee_lead:3,volunteer:2,parent_member:1,teacher:1},a=S=>e!=null&&e.role?n[e.role]>=n[S]:!1,i=S=>e!=null&&e.role?S.includes(e.role):!1,o=S=>(e==null?void 0:e.role)===S,s=()=>a("admin"),l=()=>a("committee_lead"),u=()=>a("committee_lead"),d=()=>a("committee_lead");return{hasRole:a,hasAnyRole:i,hasExactRole:o,canAccessAdminFeatures:s,canManageEvents:l,canManageBudget:u,canManageCommunications:d,canManageUsers:()=>a("admin"),canViewReports:()=>a("board_member"),canCreateEvents:()=>a("volunteer"),canVolunteer:()=>a("parent_member"),isInOrganization:()=>!!(e!=null&&e.org_id)&&!!t,getOrganizationId:()=>e==null?void 0:e.org_id,getOrganizationName:()=>t==null?void 0:t.name,getRoleDisplayName:(S=e==null?void 0:e.role)=>({admin:"Administrator",board_member:"Board Member",committee_lead:"Committee Lead",volunteer:"Volunteer",parent_member:"Parent Member",teacher:"Teacher"})[S]||"Unknown Role",getRoleColor:(S=e==null?void 0:e.role)=>({admin:"bg-red-100 text-red-800",board_member:"bg-purple-100 text-purple-800",committee_lead:"bg-blue-100 text-blue-800",volunteer:"bg-green-100 text-green-800",parent_member:"bg-yellow-100 text-yellow-800",teacher:"bg-indigo-100 text-indigo-800"})[S]||"bg-gray-100 text-gray-800",canAccessRoute:S=>({"/dashboard/admin":s(),"/dashboard/board":a("board_member"),"/dashboard/committee":a("committee_lead"),"/dashboard/volunteer":a("volunteer"),"/dashboard/parent":a("parent_member"),"/dashboard/teacher":o("teacher"),"/events":l(),"/budget":u(),"/communications":d(),"/billing":s(),"/shared-library":a("volunteer"),"/teacher-requests":o("teacher")})[S]??!1,currentRole:e==null?void 0:e.role,currentUserId:e==null?void 0:e.id,loading:r}}function R6(){const{canAccessAdminFeatures:e}=$6(),{templates:t,loading:r,error:n,saving:a,isAdmin:i,updatePermission:o,bulkUpdatePermissions:s,resetPermission:l,getEffectivePermission:u,isPermissionCustomized:d,refreshPermissions:f}=I6(),[p,h]=z.useState("all"),[v,g]=z.useState({}),[b,x]=z.useState(!1),[w,j]=z.useState(!1),_=[{value:"volunteer",label:"Volunteer",color:"bg-green-100 text-green-800"},{value:"committee_lead",label:"Committee Lead",color:"bg-blue-100 text-blue-800"},{value:"board_member",label:"Board Member",color:"bg-purple-100 text-purple-800"},{value:"admin",label:"Administrator",color:"bg-red-100 text-red-800"}],S=[...new Set(t.map(I=>I.module_name))].sort(),A=(p==="all"?t:t.filter(I=>I.module_name===p)).reduce((I,$)=>{const G=$.module_name;return I[G]||(I[G]=[]),I[G].push($),I},{}),E=(I,$,G)=>{g(H=>({...H,[I]:{...H[I],[$]:G}}))},k=async I=>{const $=v[I];if($)try{const G=u(I),H={min_role_required:$.min_role_required||G.current_min_role,specific_users:$.specific_users||G.specific_users,is_enabled:$.is_enabled!==void 0?$.is_enabled:G.is_enabled};await o(I,H),g(Z=>{const J={...Z};return delete J[I],J}),alert(`Permission "${I}" updated successfully!`)}catch(G){alert(`Failed to update permission: ${G.message}`)}},M=async()=>{if(Object.keys(v).length!==0)try{const I=Object.entries(v).map(([$,G])=>{const H=u($);return{permission_key:$,min_role_required:G.min_role_required||H.current_min_role,specific_users:G.specific_users||H.specific_users,is_enabled:G.is_enabled!==void 0?G.is_enabled:H.is_enabled}});await s(I),g({}),alert(`Successfully updated ${I.length} permissions!`)}catch(I){alert(`Failed to save changes: ${I.message}`)}},T=async I=>{if(confirm(`Reset "${I}" to default settings?`))try{await l(I),g($=>{const G={...$};return delete G[I],G}),alert(`Permission "${I}" reset to default!`)}catch($){alert(`Failed to reset permission: ${$.message}`)}},C=I=>{const $=u(I),G=v[I];return G?{...$,current_min_role:G.min_role_required||$.current_min_role,specific_users:G.specific_users||$.specific_users,is_enabled:G.is_enabled!==void 0?G.is_enabled:$.is_enabled}:$};return!e||!i?c.jsx("div",{className:"max-w-4xl mx-auto p-6",children:c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-red-600",children:"Only administrators can access permission management."})]})}):r?c.jsx("div",{className:"max-w-6xl mx-auto p-6",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),c.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>c.jsx("div",{className:"h-20 bg-gray-200 rounded"},I))})]})}):n?c.jsx("div",{className:"max-w-4xl mx-auto p-6",children:c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Permissions"}),c.jsx("p",{className:"text-red-600 mb-4",children:n}),c.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Retry"})]})}):c.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Permission Management"}),c.jsx("p",{className:"text-gray-600",children:"Customize which roles can perform specific actions in your organization."})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Module:"}),c.jsxs("select",{value:p,onChange:I=>h(I.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[c.jsx("option",{value:"all",children:"All Modules"}),S.map(I=>c.jsx("option",{value:I,children:I.charAt(0).toUpperCase()+I.slice(1).replace("_"," ")},I))]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>j(!w),className:`px-4 py-2 rounded-md text-sm font-medium ${w?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w?"Exit Bulk Mode":"Bulk Edit"}),Object.keys(v).length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>x(!b),className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-md text-sm font-medium hover:bg-yellow-200",children:["Preview Changes (",Object.keys(v).length,")"]}),c.jsx("button",{onClick:M,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:a?"Saving...":"Save All Changes"})]})]})]})}),b&&Object.keys(v).length>0&&c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[c.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Pending Changes"}),c.jsx("div",{className:"space-y-2",children:Object.entries(v).map(([I,$])=>c.jsxs("div",{className:"text-sm text-yellow-700",children:[c.jsxs("span",{className:"font-medium",children:[I,":"]}),$.min_role_required&&c.jsxs("span",{className:"ml-2",children:["Role → ",$.min_role_required]}),$.is_enabled!==void 0&&c.jsxs("span",{className:"ml-2",children:["Enabled → ",$.is_enabled?"Yes":"No"]})]},I))})]}),c.jsx("div",{className:"space-y-8",children:Object.entries(A).map(([I,$])=>c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[I.replace("_"," ")," Module"]}),c.jsxs("span",{className:"text-sm text-gray-500",children:[$.length," permissions"]})]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Role"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map(G=>{const H=C(G.permission_key),Z=v[G.permission_key],J=d(G.permission_key);return c.jsxs("tr",{className:Z?"bg-yellow-50":"",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[H.permission_name,J&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Custom"}),Z&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Modified"})]}),c.jsx("div",{className:"text-sm text-gray-500",children:H.permission_description})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("select",{value:H.current_min_role,onChange:Y=>E(G.permission_key,"min_role_required",Y.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:_.map(Y=>c.jsx("option",{value:Y.value,children:Y.label},Y.value))})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:H.is_enabled,onChange:Y=>E(G.permission_key,"is_enabled",Y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700",children:H.is_enabled?"Enabled":"Disabled"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[Z&&c.jsx("button",{onClick:()=>k(G.permission_key),disabled:a,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Save"}),J&&c.jsx("button",{onClick:()=>T(G.permission_key),disabled:a,className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Reset"})]})})]},G.permission_key)})})]})})]},I))}),c.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Permission Management Guide"}),c.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Minimum Role:"})," The lowest role level that can perform this action"]}),c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Custom:"})," Permission has been modified from the default setting"]}),c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Modified:"})," Permission has unsaved changes"]}),c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Reset:"})," Restore permission to its default setting"]}),c.jsx("li",{children:"• Changes take effect immediately for all users in your organization"})]})]})]})}function F6(){return c.jsxs("div",{className:"p-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Board Dashboard"}),c.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Board dashboard."})]})}function B6(){return c.jsxs("div",{className:"p-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Committee Dashboard"}),c.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Committee dashboard."})]})}function z6(){return c.jsxs("div",{className:"p-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Volunteer Dashboard"}),c.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Volunteer dashboard."})]})}function q6(){return c.jsxs("div",{className:"p-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Parent Dashboard"}),c.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Parent dashboard."})]})}function U6(){return c.jsxs("div",{className:"p-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Teacher Dashboard"}),c.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Teacher dashboard."})]})}function W6(){const[e,t]=z.useState([]),[r,n]=z.useState("");z.useEffect(()=>{async function i(){const{data:{session:o},error:s}=await Xe.auth.getSession();if(s||!(o!=null&&o.access_token)){n("Authentication error. Please log in again.");return}try{const l=await fetch("/api/events",{headers:{Authorization:`Bearer ${o.access_token}`}}),u=await l.json();l.ok?t(u):n(u.error||"Failed to load events")}catch(l){console.error("Fetch error:",l),n("Failed to connect to server.")}}i()},[]);const a=async i=>{if(!window.confirm("Are you sure you want to delete this event?"))return;const{data:{session:s}}=await Xe.auth.getSession();if(!(s!=null&&s.access_token)){alert("You must be logged in to delete events.");return}const l=await fetch(`/api/events/${i}`,{method:"DELETE",headers:{Authorization:`Bearer ${s.access_token}`}});l.ok?t(u=>u.filter(d=>d.id!==i)):(alert("Failed to delete event."),console.error("Delete error:",await l.text()))};return c.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"PTO-Wide Events"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ci,{to:"/events/calendar",className:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300",children:"📅 View Calendar"}),c.jsx(Ci,{to:"/events/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ Create Event"})]})]}),r&&c.jsx("p",{className:"text-red-600 mb-4",children:r}),e.length===0&&!r&&c.jsx("p",{children:"No events created yet."}),c.jsx("ul",{className:"space-y-4",children:e.map(i=>c.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("h2",{className:"text-xl font-semibold",children:i.title}),c.jsxs("div",{className:"flex gap-2 text-sm",children:[c.jsx(Ci,{to:`/events/edit/${i.id}`,className:"text-blue-600 hover:underline",children:"✏️ Edit"}),c.jsx("button",{onClick:()=>a(i.id),className:"text-red-600 hover:underline",children:"🗑️ Delete"})]})]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(i.event_date).toLocaleDateString()," • ",i.school_level," • ",i.category]}),c.jsx("p",{className:"mt-2",children:i.description}),i.share_public&&c.jsx("span",{className:"text-xs inline-block mt-2 px-2 py-1 bg-green-100 text-green-800 rounded",children:"Shared to Library"})]},i.id))})]})}const H6=()=>{const e=hn(),[t,r]=z.useState("grid"),[n,a]=z.useState("manual"),[i,o]=z.useState(""),[s,l]=z.useState("all"),u=()=>{e("/events/create")},d=()=>{e("/events/create?mode=ai-assisted")},f=()=>{e("/events/create?mode=ai-automated")},p=S=>{e(`/events/${S}`)},h=S=>{e(`/events/${S}/edit`)},v=S=>{window.confirm("Are you sure you want to delete this event?")&&console.log("Deleting event:",S)},g=()=>{e("/events/create")},b=[{id:1,name:"Fall Festival 2024",date:"2024-10-15",status:"planning",attendees:300,budget:3e3,profit:1800,progress:65,type:"ai-generated",description:"Community celebration with games, food, and family fun"},{id:2,name:"Book Fair",date:"2024-11-20",status:"active",attendees:150,budget:1500,profit:800,progress:85,type:"manual",description:"Annual book fair to promote reading"},{id:3,name:"Science Night",date:"2024-12-05",status:"draft",attendees:200,budget:2e3,profit:1200,progress:25,type:"manual",description:"Interactive science demonstrations and experiments"}],x=S=>{const P={draft:"bg-gray-100 text-gray-800",planning:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"};return P[S]||P.draft},w=({event:S})=>c.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),S.type==="ai-generated"&&c.jsx(Zr,{className:"w-4 h-4 text-purple-500",title:"AI Generated"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:S.description}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(ns,{className:"w-4 h-4"}),c.jsx("span",{children:new Date(S.date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(qu,{className:"w-4 h-4"}),c.jsxs("span",{children:[S.attendees," expected"]})]})]})]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(S.status)}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[c.jsx("span",{className:"text-gray-600",children:"Progress"}),c.jsxs("span",{className:"font-medium text-gray-900",children:[S.progress,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${S.progress}%`}})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Budget"}),c.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",S.budget]})]}),c.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[c.jsx("div",{className:"text-sm text-green-600",children:"Projected Profit"}),c.jsxs("div",{className:"text-lg font-semibold text-green-700",children:["$",S.profit]})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:()=>p(S.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Uu,{className:"w-4 h-4 mr-2"}),"View"]}),c.jsxs("button",{onClick:()=>h(S.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Th,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})}),j=({event:S})=>c.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h3",{className:"font-medium text-gray-900",children:S.name}),S.type==="ai-generated"&&c.jsx(Zr,{className:"w-4 h-4 text-purple-500"}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(S.status)}`,children:S.status})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Date"}),c.jsx("div",{className:"font-medium",children:new Date(S.date).toLocaleDateString()})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Attendees"}),c.jsx("div",{className:"font-medium",children:S.attendees})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Budget"}),c.jsxs("div",{className:"font-medium",children:["$",S.budget]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Progress"}),c.jsxs("div",{className:"font-medium",children:[S.progress,"%"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>p(S.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:c.jsx(Uu,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(S.id),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",children:c.jsx(Th,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:c.jsx(_E,{className:"w-4 h-4"})})]})]})}),_=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Event"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(NE,{className:"w-8 h-8 text-gray-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Manual Creation"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Full control over every detail"})]})]}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[c.jsx("li",{children:"• Step-by-step event setup"}),c.jsx("li",{children:"• Custom timeline creation"}),c.jsx("li",{children:"• Manual budget planning"}),c.jsx("li",{children:"• Individual task assignment"})]}),c.jsx("button",{onClick:u,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),c.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Zr,{className:"w-8 h-8 text-blue-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-blue-900",children:"AI Assisted"}),c.jsx("p",{className:"text-sm text-blue-700",children:"AI suggestions with manual control"})]})]}),c.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[c.jsx("li",{children:"• AI-generated suggestions"}),c.jsx("li",{children:"• Smart template recommendations"}),c.jsx("li",{children:"• Automated task suggestions"}),c.jsx("li",{children:"• Budget estimation help"})]}),c.jsx("button",{onClick:d,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create with AI Help"})]}),c.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Zr,{className:"w-8 h-8 text-purple-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-purple-900",children:"AI Automated"}),c.jsx("p",{className:"text-sm text-purple-700",children:"Complete workflow generation"})]})]}),c.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[c.jsx("li",{children:"• Complete workflow creation"}),c.jsx("li",{children:"• Automated timeline & tasks"}),c.jsx("li",{children:"• Budget & profit projections"}),c.jsx("li",{children:"• Communication campaigns"})]}),c.jsx("button",{onClick:f,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Generate Full Workflow"})]})]})]});return c.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Manage your PTO events with manual control or AI assistance"})]}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx("button",{onClick:()=>r(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?c.jsx(EN,{className:"w-5 h-5"}):c.jsx(TN,{className:"w-5 h-5"})})})]}),c.jsx(_,{}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(lb,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search events...",value:i,onChange:S=>o(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("select",{value:s,onChange:S=>l(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"draft",children:"Draft"}),c.jsx("option",{value:"planning",children:"Planning"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"completed",children:"Completed"})]})]})}),c.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:b.map(S=>t==="grid"?c.jsx(w,{event:S},S.id):c.jsx(j,{event:S},S.id))}),b.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(ns,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first event"}),c.jsx("button",{onClick:g,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Event"})]})]})})};function bt(e){"@babel/helpers - typeof";return bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(e)}var Qr=Uint8Array,In=Uint16Array,fb=Int32Array,Up=new Qr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wp=new Qr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),r0=new Qr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qN=function(e,t){for(var r=new In(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new fb(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},UN=qN(Up,2),WN=UN.b,n0=UN.r;WN[28]=258,n0[258]=28;var HN=qN(Wp,0),G6=HN.b,Fx=HN.r,a0=new In(32768);for(var Jt=0;Jt<32768;++Jt){var ro=(Jt&43690)>>1|(Jt&21845)<<1;ro=(ro&52428)>>2|(ro&13107)<<2,ro=(ro&61680)>>4|(ro&3855)<<4,a0[Jt]=((ro&65280)>>8|(ro&255)<<8)>>1}var ri=function(e,t,r){for(var n=e.length,a=0,i=new In(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new In(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var s;if(r){s=new In(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)s[a0[f]>>l]=u}else for(s=new In(n),a=0;a<n;++a)e[a]&&(s[a]=a0[o[e[a]-1]++]>>15-e[a]);return s},ho=new Qr(288);for(var Jt=0;Jt<144;++Jt)ho[Jt]=8;for(var Jt=144;Jt<256;++Jt)ho[Jt]=9;for(var Jt=256;Jt<280;++Jt)ho[Jt]=7;for(var Jt=280;Jt<288;++Jt)ho[Jt]=8;var Hu=new Qr(32);for(var Jt=0;Jt<32;++Jt)Hu[Jt]=5;var V6=ri(ho,9,0),Y6=ri(ho,9,1),K6=ri(Hu,5,0),X6=ri(Hu,5,1),ev=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},wa=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},tv=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},hb=function(e){return(e+7)/8|0},GN=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Qr(e.subarray(t,r))},Z6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Na=function(e,t,r){var n=new Error(t||Z6[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Na),!r)throw n;return n},J6=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Qr(0);var o=!r,s=o||t.i!=2,l=t.i;o&&(r=new Qr(a*3));var u=function(ye){var pe=r.length;if(ye>pe){var Pe=new Qr(Math.max(pe*2,ye));Pe.set(r),r=Pe}},d=t.f||0,f=t.p||0,p=t.b||0,h=t.l,v=t.d,g=t.m,b=t.n,x=a*8;do{if(!h){d=wa(e,f,1);var w=wa(e,f+1,3);if(f+=3,w)if(w==1)h=Y6,v=X6,g=9,b=5;else if(w==2){var P=wa(e,f,31)+257,A=wa(e,f+10,15)+4,E=P+wa(e,f+5,31)+1;f+=14;for(var k=new Qr(E),M=new Qr(19),T=0;T<A;++T)M[r0[T]]=wa(e,f+T*3,7);f+=A*3;for(var C=ev(M),I=(1<<C)-1,$=ri(M,C,1),T=0;T<E;){var G=$[wa(e,f,I)];f+=G&15;var j=G>>4;if(j<16)k[T++]=j;else{var H=0,Z=0;for(j==16?(Z=3+wa(e,f,3),f+=2,H=k[T-1]):j==17?(Z=3+wa(e,f,7),f+=3):j==18&&(Z=11+wa(e,f,127),f+=7);Z--;)k[T++]=H}}var J=k.subarray(0,P),Y=k.subarray(P);g=ev(J),b=ev(Y),h=ri(J,g,1),v=ri(Y,b,1)}else Na(1);else{var j=hb(f)+4,_=e[j-4]|e[j-3]<<8,S=j+_;if(S>a){l&&Na(0);break}s&&u(p+_),r.set(e.subarray(j,S),p),t.b=p+=_,t.p=f=S*8,t.f=d;continue}if(f>x){l&&Na(0);break}}s&&u(p+131072);for(var Q=(1<<g)-1,oe=(1<<b)-1,L=f;;L=f){var H=h[tv(e,f)&Q],q=H>>4;if(f+=H&15,f>x){l&&Na(0);break}if(H||Na(2),q<256)r[p++]=q;else if(q==256){L=f,h=null;break}else{var ee=q-254;if(q>264){var T=q-257,ie=Up[T];ee=wa(e,f,(1<<ie)-1)+WN[T],f+=ie}var K=v[tv(e,f)&oe],se=K>>4;K||Na(3),f+=K&15;var Y=G6[se];if(se>3){var ie=Wp[se];Y+=tv(e,f)&(1<<ie)-1,f+=ie}if(f>x){l&&Na(0);break}s&&u(p+131072);var de=p+ee;if(p<Y){var ae=i-Y,xe=Math.min(Y,de);for(ae+p<0&&Na(3);p<xe;++p)r[p]=n[ae+p]}for(;p<de;++p)r[p]=r[p-Y]}}t.l=h,t.p=L,t.b=p,t.f=d,h&&(d=1,t.m=g,t.d=v,t.n=b)}while(!d);return p!=r.length&&o?GN(r,0,p):r.subarray(0,p)},ji=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},fu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},rv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:YN,l:0};if(a==1){var o=new Qr(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,P){return S.f-P.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};d!=a-1;)s=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new In(p+1),v=i0(r[d-1],h,0);if(v>t){var n=0,g=0,b=v-t,x=1<<b;for(i.sort(function(P,A){return h[A.s]-h[P.s]||P.f-A.f});n<a;++n){var w=i[n].s;if(h[w]>t)g+=x-(1<<v-h[w]),h[w]=t;else break}for(g>>=b;g>0;){var j=i[n].s;h[j]<t?g-=1<<t-h[j]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;h[_]==t&&(--h[_],++g)}v=t}return{t:new Qr(h),l:v}},i0=function(e,t,r){return e.s==-1?Math.max(i0(e.l,t,r+1),i0(e.r,t,r+1)):t[e.s]=r},Bx=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new In(++t),n=0,a=e[0],i=1,o=function(l){r[n++]=l},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return{c:r.subarray(0,n),n:t}},hu=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},VN=function(e,t,r){var n=r.length,a=hb(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},zx=function(e,t,r,n,a,i,o,s,l,u,d){ji(t,d++,r),++a[256];for(var f=rv(a,15),p=f.t,h=f.l,v=rv(i,15),g=v.t,b=v.l,x=Bx(p),w=x.c,j=x.n,_=Bx(g),S=_.c,P=_.n,A=new In(19),E=0;E<w.length;++E)++A[w[E]&31];for(var E=0;E<S.length;++E)++A[S[E]&31];for(var k=rv(A,7),M=k.t,T=k.l,C=19;C>4&&!M[r0[C-1]];--C);var I=u+5<<3,$=hu(a,ho)+hu(i,Hu)+o,G=hu(a,p)+hu(i,g)+o+14+3*C+hu(A,M)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&I<=$&&I<=G)return VN(t,d,e.subarray(l,l+u));var H,Z,J,Y;if(ji(t,d,1+(G<$)),d+=2,G<$){H=ri(p,h,0),Z=p,J=ri(g,b,0),Y=g;var Q=ri(M,T,0);ji(t,d,j-257),ji(t,d+5,P-1),ji(t,d+10,C-4),d+=14;for(var E=0;E<C;++E)ji(t,d+3*E,M[r0[E]]);d+=3*C;for(var oe=[w,S],L=0;L<2;++L)for(var q=oe[L],E=0;E<q.length;++E){var ee=q[E]&31;ji(t,d,Q[ee]),d+=M[ee],ee>15&&(ji(t,d,q[E]>>5&127),d+=q[E]>>12)}}else H=V6,Z=ho,J=K6,Y=Hu;for(var E=0;E<s;++E){var ie=n[E];if(ie>255){var ee=ie>>18&31;fu(t,d,H[ee+257]),d+=Z[ee+257],ee>7&&(ji(t,d,ie>>23&31),d+=Up[ee]);var K=ie&31;fu(t,d,J[K]),d+=Y[K],K>3&&(fu(t,d,ie>>5&8191),d+=Wp[K])}else fu(t,d,H[ie]),d+=Z[ie]}return fu(t,d,H[256]),d+Z[256]},Q6=new fb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),YN=new Qr(0),eT=function(e,t,r,n,a,i){var o=i.z||e.length,s=new Qr(n+o+5*(1+Math.ceil(o/7e3))+a),l=s.subarray(n,s.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(l[0]=i.r>>3);for(var f=Q6[t-1],p=f>>13,h=f&8191,v=(1<<r)-1,g=i.p||new In(32768),b=i.h||new In(v+1),x=Math.ceil(r/3),w=2*x,j=function(De){return(e[De]^e[De+1]<<x^e[De+2]<<w)&v},_=new fb(25e3),S=new In(288),P=new In(32),A=0,E=0,k=i.i||0,M=0,T=i.w||0,C=0;k+2<o;++k){var I=j(k),$=k&32767,G=b[I];if(g[$]=G,b[I]=$,T<=k){var H=o-k;if((A>7e3||M>24576)&&(H>423||!u)){d=zx(e,l,0,_,S,P,E,M,C,k-C,d),M=A=E=0,C=k;for(var Z=0;Z<286;++Z)S[Z]=0;for(var Z=0;Z<30;++Z)P[Z]=0}var J=2,Y=0,Q=h,oe=$-G&32767;if(H>2&&I==j(k-oe))for(var L=Math.min(p,H)-1,q=Math.min(32767,k),ee=Math.min(258,H);oe<=q&&--Q&&$!=G;){if(e[k+J]==e[k+J-oe]){for(var ie=0;ie<ee&&e[k+ie]==e[k+ie-oe];++ie);if(ie>J){if(J=ie,Y=oe,ie>L)break;for(var K=Math.min(oe,ie-2),se=0,Z=0;Z<K;++Z){var de=k-oe+Z&32767,ae=g[de],xe=de-ae&32767;xe>se&&(se=xe,G=de)}}}$=G,G=g[$],oe+=$-G&32767}if(Y){_[M++]=268435456|n0[J]<<18|Fx[Y];var ye=n0[J]&31,pe=Fx[Y]&31;E+=Up[ye]+Wp[pe],++S[257+ye],++P[pe],T=k+J,++A}else _[M++]=e[k],++S[e[k]]}}for(k=Math.max(k,T);k<o;++k)_[M++]=e[k],++S[e[k]];d=zx(e,l,u,_,S,P,E,M,C,k-C,d),u||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=b,i.p=g,i.i=k,i.w=T)}else{for(var k=i.w||0;k<o+u;k+=65535){var Pe=k+65535;Pe>=o&&(l[d/8|0]=u,Pe=o),d=VN(l,d+1,e.subarray(k,Pe))}i.i=o}return GN(s,0,n+hb(d)+a)},KN=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},tT=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Qr(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return eT(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},XN=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},rT=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=KN();a.p(t.dictionary),XN(e,2,a.d())}},nT=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Na(6,"invalid zlib data"),(e[1]>>5&1)==1&&Na(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function o0(e,t){t||(t={});var r=KN();r.p(e);var n=tT(e,t,t.dictionary?6:2,4);return rT(n,t),XN(n,n.length-4,r.d()),n}function aT(e,t){return J6(e.subarray(nT(e),-4),{i:2},t,t)}var iT=typeof TextDecoder<"u"&&new TextDecoder,oT=0;try{iT.decode(YN,{stream:!0}),oT=1}catch{}var it=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function nv(){it.console&&typeof it.console.log=="function"&&it.console.log.apply(it.console,arguments)}var Rt={log:nv,warn:function(e){it.console&&(typeof it.console.warn=="function"?it.console.warn.apply(it.console,arguments):nv.call(null,arguments))},error:function(e){it.console&&(typeof it.console.error=="function"?it.console.error.apply(it.console,arguments):nv(e))}};function av(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Wo(n.response,t,r)},n.onerror=function(){Rt.error("could not download file")},n.send()}function qx(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Yf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ku,s0,Wo=it.saveAs||((typeof window>"u"?"undefined":bt(window))!=="object"||window!==it?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=it.URL||it.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?qx(a.href)?av(e,t,r):Yf(a,a.target="_blank"):Yf(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Yf(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(qx(e))av(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Yf(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:bt(i)!=="object"&&(Rt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return av(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(it.HTMLElement)||it.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":bt(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(e)}else{var l=it.URL||it.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ZN(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function iv(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Hr(r,n,a,i,t[0],7,-680876936),i=Hr(i,r,n,a,t[1],12,-389564586),a=Hr(a,i,r,n,t[2],17,606105819),n=Hr(n,a,i,r,t[3],22,-1044525330),r=Hr(r,n,a,i,t[4],7,-176418897),i=Hr(i,r,n,a,t[5],12,1200080426),a=Hr(a,i,r,n,t[6],17,-1473231341),n=Hr(n,a,i,r,t[7],22,-45705983),r=Hr(r,n,a,i,t[8],7,1770035416),i=Hr(i,r,n,a,t[9],12,-1958414417),a=Hr(a,i,r,n,t[10],17,-42063),n=Hr(n,a,i,r,t[11],22,-1990404162),r=Hr(r,n,a,i,t[12],7,1804603682),i=Hr(i,r,n,a,t[13],12,-40341101),a=Hr(a,i,r,n,t[14],17,-1502002290),r=Gr(r,n=Hr(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Gr(i,r,n,a,t[6],9,-1069501632),a=Gr(a,i,r,n,t[11],14,643717713),n=Gr(n,a,i,r,t[0],20,-373897302),r=Gr(r,n,a,i,t[5],5,-701558691),i=Gr(i,r,n,a,t[10],9,38016083),a=Gr(a,i,r,n,t[15],14,-660478335),n=Gr(n,a,i,r,t[4],20,-405537848),r=Gr(r,n,a,i,t[9],5,568446438),i=Gr(i,r,n,a,t[14],9,-1019803690),a=Gr(a,i,r,n,t[3],14,-187363961),n=Gr(n,a,i,r,t[8],20,1163531501),r=Gr(r,n,a,i,t[13],5,-1444681467),i=Gr(i,r,n,a,t[2],9,-51403784),a=Gr(a,i,r,n,t[7],14,1735328473),r=Vr(r,n=Gr(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Vr(i,r,n,a,t[8],11,-2022574463),a=Vr(a,i,r,n,t[11],16,1839030562),n=Vr(n,a,i,r,t[14],23,-35309556),r=Vr(r,n,a,i,t[1],4,-1530992060),i=Vr(i,r,n,a,t[4],11,1272893353),a=Vr(a,i,r,n,t[7],16,-155497632),n=Vr(n,a,i,r,t[10],23,-1094730640),r=Vr(r,n,a,i,t[13],4,681279174),i=Vr(i,r,n,a,t[0],11,-358537222),a=Vr(a,i,r,n,t[3],16,-722521979),n=Vr(n,a,i,r,t[6],23,76029189),r=Vr(r,n,a,i,t[9],4,-640364487),i=Vr(i,r,n,a,t[12],11,-421815835),a=Vr(a,i,r,n,t[15],16,530742520),r=Yr(r,n=Vr(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Yr(i,r,n,a,t[7],10,1126891415),a=Yr(a,i,r,n,t[14],15,-1416354905),n=Yr(n,a,i,r,t[5],21,-57434055),r=Yr(r,n,a,i,t[12],6,1700485571),i=Yr(i,r,n,a,t[3],10,-1894986606),a=Yr(a,i,r,n,t[10],15,-1051523),n=Yr(n,a,i,r,t[1],21,-2054922799),r=Yr(r,n,a,i,t[8],6,1873313359),i=Yr(i,r,n,a,t[15],10,-30611744),a=Yr(a,i,r,n,t[6],15,-1560198380),n=Yr(n,a,i,r,t[13],21,1309151649),r=Yr(r,n,a,i,t[4],6,-145523070),i=Yr(i,r,n,a,t[11],10,-1120210379),a=Yr(a,i,r,n,t[2],15,718787259),n=Yr(n,a,i,r,t[9],21,-343485551),e[0]=lo(r,e[0]),e[1]=lo(n,e[1]),e[2]=lo(a,e[2]),e[3]=lo(i,e[3])}function Hp(e,t,r,n,a,i){return t=lo(lo(t,e),lo(n,i)),lo(t<<a|t>>>32-a,r)}function Hr(e,t,r,n,a,i,o){return Hp(t&r|~t&n,e,t,a,i,o)}function Gr(e,t,r,n,a,i,o){return Hp(t&n|r&~n,e,t,a,i,o)}function Vr(e,t,r,n,a,i,o){return Hp(t^r^n,e,t,a,i,o)}function Yr(e,t,r,n,a,i,o){return Hp(r^(t|~n),e,t,a,i,o)}function JN(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)iv(n,sT(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(iv(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,iv(n,a),n}function sT(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}ku=it.atob.bind(it),s0=it.btoa.bind(it);var Ux="0123456789abcdef".split("");function lT(e){for(var t="",r=0;r<4;r++)t+=Ux[e>>8*r+4&15]+Ux[e>>8*r&15];return t}function cT(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function l0(e){return JN(e).map(cT).join("")}var uT=function(e){for(var t=0;t<e.length;t++)e[t]=lT(e[t]);return e.join("")}(JN("hello"))!="5d41402abc4b2a76b9719d911017c592";function lo(e,t){if(uT){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function c0(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var d=s[l];u=(u+d+o.charCodeAt(l))%256,s[l]=s[u],s[u]=d}r=e,n=s}else s=n;var f=t.length,p=0,h=0,v="";for(l=0;l<f;l++)h=(h+(d=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=d,o=s[(s[p]+s[h])%256],v+=String.fromCharCode(t.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Wx={print:4,modify:8,copy:16,"annot-forms":32};function vl(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(s){if(Wx.perm!==void 0)throw new Error("Invalid permission: "+s);a+=Wx[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=l0(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=c0(this.encryptionKey,this.padding)}function yl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function Hx(e){if(bt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(s){it.console&&Rt.error("jsPDF PubSub Error",s.message,s)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ch(e){if(!(this instanceof Ch))return new Ch(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function QN(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ko(e,t,r,n,a){if(!(this instanceof Ko))return new Ko(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,QN.call(this,n,a)}function xl(e,t,r,n,a){if(!(this instanceof xl))return new xl(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,QN.call(this,n,a)}function at(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],s=1,l=16,u="S",d=null;bt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=Hx;var v="1.3",g=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(N){v=N};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var x=h.__private__.getPageFormat=function(N){return b[N]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},j=w.COMPAT;function _(){this.saveGraphicsState(),re(new rt(Be,0,0,-Be,0,Wi()*Be).toString()+" cm"),this.setFontSize(this.getFontSize()/Be),u="n",j=w.ADVANCED}function S(){this.restoreGraphicsState(),u="S",j=w.COMPAT}var P=h.__private__.combineFontStyleAndFontWeight=function(N,F){if(N=="bold"&&F=="normal"||N=="bold"&&F==400||N=="normal"&&F=="italic"||N=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(N=F==400||F==="normal"?N==="italic"?"italic":"normal":F!=700&&F!=="bold"||N!=="normal"?(F==700?"bold":F)+""+N:"bold"),N};h.advancedAPI=function(N){var F=j===w.COMPAT;return F&&_.call(this),typeof N!="function"||(N(this),F&&S.call(this)),this},h.compatAPI=function(N){var F=j===w.ADVANCED;return F&&S.call(this),typeof N!="function"||(N(this),F&&_.call(this)),this},h.isAdvancedAPI=function(){return j===w.ADVANCED};var A,E=function(N){if(j!==w.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=h.roundToPrecision=h.__private__.roundToPrecision=function(N,F){var ne=t||F;if(isNaN(N)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ne).replace(/0+$/,"")};A=h.hpf=h.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return k(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return k(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return k(N,16)};var M=h.f2=h.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return k(N,2)},T=h.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return k(N,3)},C=h.scale=h.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return j===w.COMPAT?N*Be:j===w.ADVANCED?N:void 0},I=function(N){return j===w.COMPAT?Wi()-N:j===w.ADVANCED?N:void 0},$=function(N){return C(I(N))};h.__private__.setPrecision=h.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var G,H="00000000000000000000000000000000",Z=h.__private__.getFileId=function(){return H},J=h.__private__.setFileId=function(N){return H=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ur=new vl(d.userPermissions,d.userPassword,d.ownerPassword,H)),H};h.setFileId=function(N){return J(N),this},h.getFileId=function(){return Z()};var Y=h.__private__.convertDateToPDFDate=function(N){var F=N.getTimezoneOffset(),ne=F<0?"+":"-",le=Math.floor(Math.abs(F/60)),me=Math.abs(F%60),Se=[ne,ee(le),"'",ee(me),"'"].join("");return["D:",N.getFullYear(),ee(N.getMonth()+1),ee(N.getDate()),ee(N.getHours()),ee(N.getMinutes()),ee(N.getSeconds()),Se].join("")},Q=h.__private__.convertPDFDateToDate=function(N){var F=parseInt(N.substr(2,4),10),ne=parseInt(N.substr(6,2),10)-1,le=parseInt(N.substr(8,2),10),me=parseInt(N.substr(10,2),10),Se=parseInt(N.substr(12,2),10),Ce=parseInt(N.substr(14,2),10);return new Date(F,ne,le,me,Se,Ce,0)},oe=h.__private__.setCreationDate=function(N){var F;if(N===void 0&&(N=new Date),N instanceof Date)F=Y(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=N}return G=F},L=h.__private__.getCreationDate=function(N){var F=G;return N==="jsDate"&&(F=Q(G)),F};h.setCreationDate=function(N){return oe(N),this},h.getCreationDate=function(N){return L(N)};var q,ee=h.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},ie=h.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},K=0,se=[],de=[],ae=0,xe=[],ye=[],pe=!1,Pe=de,De=function(){K=0,ae=0,de=[],se=[],xe=[],fi=gr(),ha=gr()};h.__private__.setCustomOutputDestination=function(N){pe=!0,Pe=N};var be=function(N){pe||(Pe=N)};h.__private__.resetCustomOutputDestination=function(){pe=!1,Pe=de};var re=h.__private__.out=function(N){return N=N.toString(),ae+=N.length+1,Pe.push(N),Pe},Ue=h.__private__.write=function(N){return re(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Fe=h.__private__.getArrayBuffer=function(N){for(var F=N.length,ne=new ArrayBuffer(F),le=new Uint8Array(ne);F--;)le[F]=N.charCodeAt(F);return ne},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ae};var ke=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(N){return ke=j===w.ADVANCED?N/Be:N,this};var Me,Ie=h.__private__.getFontSize=h.getFontSize=function(){return j===w.COMPAT?ke:ke*Be},Ge=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(N){return Ge=N,this},h.__private__.getR2L=h.getR2L=function(){return Ge};var Ze,et=h.__private__.setZoomMode=function(N){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))Me=N;else if(isNaN(N)){if(F.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');Me=N}else Me=parseInt(N,10)};h.__private__.getZoomMode=function(){return Me};var lt,vt=h.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ze=N};h.__private__.getPageMode=function(){return Ze};var wt=h.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');lt=N};h.__private__.getLayoutMode=function(){return lt},h.__private__.setDisplayMode=h.setDisplayMode=function(N,F,ne){return et(N),wt(F),vt(ne),this};var tt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(N){if(Object.keys(tt).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tt[N]},h.__private__.getDocumentProperties=function(){return tt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(N){for(var F in tt)tt.hasOwnProperty(F)&&N[F]&&(tt[F]=N[F]);return this},h.__private__.setDocumentProperty=function(N,F){if(Object.keys(tt).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tt[N]=F};var Ye,Be,qr,_t,ua,It={},Qt={},Fa=[],Pt={},_o={},rr={},da={},di=null,nr=0,ct=[],Et=new Hx(h),Ao=e.hotfixes||[],$r={},Ba={},za=[],rt=function N(F,ne,le,me,Se,Ce){if(!(this instanceof N))return new N(F,ne,le,me,Se,Ce);isNaN(F)&&(F=1),isNaN(ne)&&(ne=0),isNaN(le)&&(le=0),isNaN(me)&&(me=1),isNaN(Se)&&(Se=0),isNaN(Ce)&&(Ce=0),this._matrix=[F,ne,le,me,Se,Ce]};Object.defineProperty(rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(N)},rt.prototype.multiply=function(N){var F=N.sx*this.sx+N.shy*this.shx,ne=N.sx*this.shy+N.shy*this.sy,le=N.shx*this.sx+N.sy*this.shx,me=N.shx*this.shy+N.sy*this.sy,Se=N.tx*this.sx+N.ty*this.shx+this.tx,Ce=N.tx*this.shy+N.ty*this.sy+this.ty;return new rt(F,ne,le,me,Se,Ce)},rt.prototype.decompose=function(){var N=this.sx,F=this.shy,ne=this.shx,le=this.sy,me=this.tx,Se=this.ty,Ce=Math.sqrt(N*N+F*F),ze=(N/=Ce)*ne+(F/=Ce)*le;ne-=N*ze,le-=F*ze;var Ke=Math.sqrt(ne*ne+le*le);return ze/=Ke,N*(le/=Ke)<F*(ne/=Ke)&&(N=-N,F=-F,ze=-ze,Ce=-Ce),{scale:new rt(Ce,0,0,Ke,0,0),translate:new rt(1,0,0,1,me,Se),rotate:new rt(N,F,-F,N,0,0),skew:new rt(1,0,ze,1,0,0)}},rt.prototype.toString=function(N){return this.join(" ")},rt.prototype.inversed=function(){var N=this.sx,F=this.shy,ne=this.shx,le=this.sy,me=this.tx,Se=this.ty,Ce=1/(N*le-F*ne),ze=le*Ce,Ke=-F*Ce,ft=-ne*Ce,ut=N*Ce;return new rt(ze,Ke,ft,ut,-ze*me-ft*Se,-Ke*me-ut*Se)},rt.prototype.applyToPoint=function(N){var F=N.x*this.sx+N.y*this.shx+this.tx,ne=N.x*this.shy+N.y*this.sy+this.ty;return new Gs(F,ne)},rt.prototype.applyToRectangle=function(N){var F=this.applyToPoint(N),ne=this.applyToPoint(new Gs(N.x+N.w,N.y+N.h));return new Gc(F.x,F.y,ne.x-F.x,ne.y-F.y)},rt.prototype.clone=function(){var N=this.sx,F=this.shy,ne=this.shx,le=this.sy,me=this.tx,Se=this.ty;return new rt(N,F,ne,le,me,Se)},h.Matrix=rt;var fa=h.matrixMult=function(N,F){return F.multiply(N)},qa=new rt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=qa;var pn=function(N,F){if(!_o[N]){var ne=(F instanceof Ko?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);F.id=ne,_o[N]=ne,Pt[ne]=F,Et.publish("addPattern",F)}};h.ShadingPattern=Ko,h.TilingPattern=xl,h.addShadingPattern=function(N,F){return E("addShadingPattern()"),pn(N,F),this},h.beginTilingPattern=function(N){E("beginTilingPattern()"),Sf(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},h.endTilingPattern=function(N,F){E("endTilingPattern()"),F.stream=ye[q].join(`
`),pn(N,F),Et.publish("endTilingPattern",F),za.pop().restore()};var Sr=h.__private__.newObject=function(){var N=gr();return On(N,!0),N},gr=h.__private__.newObjectDeferred=function(){return K++,se[K]=function(){return ae},K},On=function(N,F){return F=typeof F=="boolean"&&F,se[N]=ae,F&&re(N+" 0 obj"),N},Ds=h.__private__.newAdditionalObject=function(){var N={objId:gr(),content:""};return xe.push(N),N},fi=gr(),ha=gr(),pa=h.__private__.decodeColorString=function(N){var F=N.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ne=parseFloat(F[0]);F=[ne,ne,ne,"r"]}for(var le="#",me=0;me<3;me++)le+=("0"+Math.floor(255*parseFloat(F[me])).toString(16)).slice(-2);return le},ma=h.__private__.encodeColorString=function(N){var F;typeof N=="string"&&(N={ch1:N});var ne=N.ch1,le=N.ch2,me=N.ch3,Se=N.ch4,Ce=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var ze=new ZN(ne);if(ze.ok)ne=ze.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var Ke=parseInt(ne.substr(1),16);ne=Ke>>16&255,le=Ke>>8&255,me=255&Ke}if(le===void 0||Se===void 0&&ne===le&&le===me)if(typeof ne=="string")F=ne+" "+Ce[0];else switch(N.precision){case 2:F=M(ne/255)+" "+Ce[0];break;case 3:default:F=T(ne/255)+" "+Ce[0]}else if(Se===void 0||bt(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return F=["1.","1.","1.",Ce[1]].join(" ");if(typeof ne=="string")F=[ne,le,me,Ce[1]].join(" ");else switch(N.precision){case 2:F=[M(ne/255),M(le/255),M(me/255),Ce[1]].join(" ");break;default:case 3:F=[T(ne/255),T(le/255),T(me/255),Ce[1]].join(" ")}}else if(typeof ne=="string")F=[ne,le,me,Se,Ce[2]].join(" ");else switch(N.precision){case 2:F=[M(ne),M(le),M(me),M(Se),Ce[2]].join(" ");break;case 3:default:F=[T(ne),T(le),T(me),T(Se),Ce[2]].join(" ")}return F},Ua=h.__private__.getFilters=function(){return o},Fn=h.__private__.putStream=function(N){var F=(N=N||{}).data||"",ne=N.filters||Ua(),le=N.alreadyAppliedFilters||[],me=N.addLength1||!1,Se=F.length,Ce=N.objectId,ze=function(Wr){return Wr};if(d!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ze=Ur.encryptor(Ce,0));var Ke={};ne===!0&&(ne=["FlateEncode"]);var ft=N.additionalKeyValues||[],ut=(Ke=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(F,ne):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(Ke.data.length!==0&&(ft.push({key:"Length",value:Ke.data.length}),me===!0&&ft.push({key:"Length1",value:Se})),ut.length!=0)if(ut.split("/").length-1==1)ft.push({key:"Filter",value:ut});else{ft.push({key:"Filter",value:"["+ut+"]"});for(var St=0;St<ft.length;St+=1)if(ft[St].key==="DecodeParms"){for(var tr=[],ar=0;ar<Ke.reverseChain.split("/").length-1;ar+=1)tr.push("null");tr.push(ft[St].value),ft[St].value="["+tr.join(" ")+"]"}}re("<<");for(var vr=0;vr<ft.length;vr++)re("/"+ft[vr].key+" "+ft[vr].value);re(">>"),Ke.data.length!==0&&(re("stream"),re(ze(Ke.data)),re("endstream"))},Wa=h.__private__.putPage=function(N){var F=N.number,ne=N.data,le=N.objId,me=N.contentsObjId;On(le,!0),re("<</Type /Page"),re("/Parent "+N.rootDictionaryObjId+" 0 R"),re("/Resources "+N.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(A(N.mediaBox.bottomLeftX))+" "+parseFloat(A(N.mediaBox.bottomLeftY))+" "+A(N.mediaBox.topRightX)+" "+A(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&re("/CropBox ["+A(N.cropBox.bottomLeftX)+" "+A(N.cropBox.bottomLeftY)+" "+A(N.cropBox.topRightX)+" "+A(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&re("/BleedBox ["+A(N.bleedBox.bottomLeftX)+" "+A(N.bleedBox.bottomLeftY)+" "+A(N.bleedBox.topRightX)+" "+A(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&re("/TrimBox ["+A(N.trimBox.bottomLeftX)+" "+A(N.trimBox.bottomLeftY)+" "+A(N.trimBox.topRightX)+" "+A(N.trimBox.topRightY)+"]"),N.artBox!==null&&re("/ArtBox ["+A(N.artBox.bottomLeftX)+" "+A(N.artBox.bottomLeftY)+" "+A(N.artBox.topRightX)+" "+A(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&re("/UserUnit "+N.userUnit),Et.publish("putPage",{objId:le,pageContext:ct[F],pageNumber:F,page:ne}),re("/Contents "+me+" 0 R"),re(">>"),re("endobj");var Se=ne.join(`
`);return j===w.ADVANCED&&(Se+=`
Q`),On(me,!0),Fn({data:Se,filters:Ua(),objectId:me}),re("endobj"),le},Oo=h.__private__.putPages=function(){var N,F,ne=[];for(N=1;N<=nr;N++)ct[N].objId=gr(),ct[N].contentsObjId=gr();for(N=1;N<=nr;N++)ne.push(Wa({number:N,data:ye[N],objId:ct[N].objId,contentsObjId:ct[N].contentsObjId,mediaBox:ct[N].mediaBox,cropBox:ct[N].cropBox,bleedBox:ct[N].bleedBox,trimBox:ct[N].trimBox,artBox:ct[N].artBox,userUnit:ct[N].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:ha}));On(fi,!0),re("<</Type /Pages");var le="/Kids [";for(F=0;F<nr;F++)le+=ne[F]+" 0 R ";re(le+"]"),re("/Count "+nr),re(">>"),re("endobj"),Et.publish("postPutPages")},Ls=function(N){Et.publish("putFont",{font:N,out:re,newObject:Sr,putStream:Fn}),N.isAlreadyPutted!==!0&&(N.objectNumber=Sr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+yl(N.postScriptName)),re("/Subtype /Type1"),typeof N.encoding=="string"&&re("/Encoding /"+N.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Ms=function(){for(var N in It)It.hasOwnProperty(N)&&(f===!1||f===!0&&p.hasOwnProperty(N))&&Ls(It[N])},Is=function(N){N.objectNumber=Sr();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[A(N.x),A(N.y),A(N.x+N.width),A(N.y+N.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ne=N.pages[1].join(`
`);Fn({data:ne,additionalKeyValues:F,objectId:N.objectNumber}),re("endobj")},$s=function(){for(var N in $r)$r.hasOwnProperty(N)&&Is($r[N])},nf=function(N,F){var ne,le=[],me=1/(F-1);for(ne=0;ne<1;ne+=me)le.push(ne);if(le.push(1),N[0].offset!=0){var Se={offset:0,color:N[0].color};N.unshift(Se)}if(N[N.length-1].offset!=1){var Ce={offset:1,color:N[N.length-1].color};N.push(Ce)}for(var ze="",Ke=0,ft=0;ft<le.length;ft++){for(ne=le[ft];ne>N[Ke+1].offset;)Ke++;var ut=N[Ke].offset,St=(ne-ut)/(N[Ke+1].offset-ut),tr=N[Ke].color,ar=N[Ke+1].color;ze+=ie(Math.round((1-St)*tr[0]+St*ar[0]).toString(16))+ie(Math.round((1-St)*tr[1]+St*ar[1]).toString(16))+ie(Math.round((1-St)*tr[2]+St*ar[2]).toString(16))}return ze.trim()},lg=function(N,F){F||(F=21);var ne=Sr(),le=nf(N.colors,F),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+F+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fn({data:le,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),re("endobj"),N.objectNumber=Sr(),re("<< /ShadingType "+N.type),re("/ColorSpace /DeviceRGB");var Se="/Coords ["+A(parseFloat(N.coords[0]))+" "+A(parseFloat(N.coords[1]))+" ";N.type===2?Se+=A(parseFloat(N.coords[2]))+" "+A(parseFloat(N.coords[3])):Se+=A(parseFloat(N.coords[2]))+" "+A(parseFloat(N.coords[3]))+" "+A(parseFloat(N.coords[4]))+" "+A(parseFloat(N.coords[5])),re(Se+="]"),N.matrix&&re("/Matrix ["+N.matrix.toString()+"]"),re("/Function "+ne+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},cg=function(N,F){var ne=gr(),le=Sr();F.push({resourcesOid:ne,objectOid:le}),N.objectNumber=le;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+N.boundingBox.map(A).join(" ")+"]"}),me.push({key:"XStep",value:A(N.xStep)}),me.push({key:"YStep",value:A(N.yStep)}),me.push({key:"Resources",value:ne+" 0 R"}),N.matrix&&me.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Fn({data:N.stream,additionalKeyValues:me,objectId:N.objectNumber}),re("endobj")},Rs=function(N){var F;for(F in Pt)Pt.hasOwnProperty(F)&&(Pt[F]instanceof Ko?lg(Pt[F]):Pt[F]instanceof xl&&cg(Pt[F],N))},af=function(N){for(var F in N.objectNumber=Sr(),re("<<"),N)switch(F){case"opacity":re("/ca "+M(N[F]));break;case"stroke-opacity":re("/CA "+M(N[F]))}re(">>"),re("endobj")},ug=function(){var N;for(N in rr)rr.hasOwnProperty(N)&&af(rr[N])},Ic=function(){for(var N in re("/XObject <<"),$r)$r.hasOwnProperty(N)&&$r[N].objectNumber>=0&&re("/"+N+" "+$r[N].objectNumber+" 0 R");Et.publish("putXobjectDict"),re(">>")},dg=function(){Ur.oid=Sr(),re("<<"),re("/Filter /Standard"),re("/V "+Ur.v),re("/R "+Ur.r),re("/U <"+Ur.toHexString(Ur.U)+">"),re("/O <"+Ur.toHexString(Ur.O)+">"),re("/P "+Ur.P),re(">>"),re("endobj")},of=function(){for(var N in re("/Font <<"),It)It.hasOwnProperty(N)&&(f===!1||f===!0&&p.hasOwnProperty(N))&&re("/"+N+" "+It[N].objectNumber+" 0 R");re(">>")},fg=function(){if(Object.keys(Pt).length>0){for(var N in re("/Shading <<"),Pt)Pt.hasOwnProperty(N)&&Pt[N]instanceof Ko&&Pt[N].objectNumber>=0&&re("/"+N+" "+Pt[N].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),re(">>")}},Fs=function(N){if(Object.keys(Pt).length>0){for(var F in re("/Pattern <<"),Pt)Pt.hasOwnProperty(F)&&Pt[F]instanceof h.TilingPattern&&Pt[F].objectNumber>=0&&Pt[F].objectNumber<N&&re("/"+F+" "+Pt[F].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),re(">>")}},hg=function(){if(Object.keys(rr).length>0){var N;for(N in re("/ExtGState <<"),rr)rr.hasOwnProperty(N)&&rr[N].objectNumber>=0&&re("/"+N+" "+rr[N].objectNumber+" 0 R");Et.publish("putGStateDict"),re(">>")}},ur=function(N){On(N.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),of(),fg(),Fs(N.objectOid),hg(),Ic(),re(">>"),re("endobj")},sf=function(){var N=[];Ms(),ug(),$s(),Rs(N),Et.publish("putResources"),N.forEach(ur),ur({resourcesOid:ha,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources")},lf=function(){Et.publish("putAdditionalObjects");for(var N=0;N<xe.length;N++){var F=xe[N];On(F.objId,!0),re(F.content),re("endobj")}Et.publish("postPutAdditionalObjects")},cf=function(N){Qt[N.fontName]=Qt[N.fontName]||{},Qt[N.fontName][N.fontStyle]=N.id},$c=function(N,F,ne,le,me){var Se={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:N,fontName:F,fontStyle:ne,encoding:le,isStandardFont:me||!1,metadata:{}};return Et.publish("addFont",{font:Se,instance:this}),It[Se.id]=Se,cf(Se),Se.id},pg=function(N){for(var F=0,ne=Ae.length;F<ne;F++){var le=$c.call(this,N[F][0],N[F][1],N[F][2],Ae[F][3],!0);f===!1&&(p[le]=!0);var me=N[F][0].split("-");cf({id:le,fontName:me[0],fontStyle:me[1]||""})}Et.publish("addFonts",{fonts:It,dictionary:Qt})},ga=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(le){var F=le.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var ne="Error in function "+F.split(`
`)[0].split("<")[0]+": "+le.message;if(!it.console)throw new Error(ne);it.console.error(ne,le),it.alert&&alert(ne)}},N.foo.bar=N,N.foo},Bs=function(N,F){var ne,le,me,Se,Ce,ze,Ke,ft,ut;if(me=(F=F||{}).sourceEncoding||"Unicode",Ce=F.outputEncoding,(F.autoencode||Ce)&&It[Ye].metadata&&It[Ye].metadata[me]&&It[Ye].metadata[me].encoding&&(Se=It[Ye].metadata[me].encoding,!Ce&&It[Ye].encoding&&(Ce=It[Ye].encoding),!Ce&&Se.codePages&&(Ce=Se.codePages[0]),typeof Ce=="string"&&(Ce=Se[Ce]),Ce)){for(Ke=!1,ze=[],ne=0,le=N.length;ne<le;ne++)(ft=Ce[N.charCodeAt(ne)])?ze.push(String.fromCharCode(ft)):ze.push(N[ne]),ze[ne].charCodeAt(0)>>8&&(Ke=!0);N=ze.join("")}for(ne=N.length;Ke===void 0&&ne!==0;)N.charCodeAt(ne-1)>>8&&(Ke=!0),ne--;if(!Ke)return N;for(ze=F.noBOM?[]:[254,255],ne=0,le=N.length;ne<le;ne++){if((ut=(ft=N.charCodeAt(ne))>>8)>>8)throw new Error("Character at position "+ne+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ze.push(ut),ze.push(ft-(ut<<8))}return String.fromCharCode.apply(void 0,ze)},mn=h.__private__.pdfEscape=h.pdfEscape=function(N,F){return Bs(N,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rc=h.__private__.beginPage=function(N){ye[++nr]=[],ct[nr]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},df(nr),be(ye[q])},uf=function(N,F){var ne,le,me;switch(r=F||r,typeof N=="string"&&(ne=x(N.toLowerCase()),Array.isArray(ne)&&(le=ne[0],me=ne[1])),Array.isArray(N)&&(le=N[0]*Be,me=N[1]*Be),isNaN(le)&&(le=a[0],me=a[1]),(le>14400||me>14400)&&(Rt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),me=Math.min(14400,me)),a=[le,me],r.substr(0,1)){case"l":me>le&&(a=[me,le]);break;case"p":le>me&&(a=[me,le])}Rc(a),vf(qc),re(va),Wc!==0&&re(Wc+" J"),Hc!==0&&re(Hc+" j"),Et.publish("addPage",{pageNumber:nr})},mg=function(N){N>0&&N<=nr&&(ye.splice(N,1),ct.splice(N,1),nr--,q>nr&&(q=nr),this.setPage(q))},df=function(N){N>0&&N<=nr&&(q=N)},gg=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ye.length-1},ff=function(N,F,ne){var le,me=void 0;return ne=ne||{},N=N!==void 0?N:It[Ye].fontName,F=F!==void 0?F:It[Ye].fontStyle,le=N.toLowerCase(),Qt[le]!==void 0&&Qt[le][F]!==void 0?me=Qt[le][F]:Qt[N]!==void 0&&Qt[N][F]!==void 0?me=Qt[N][F]:ne.disableWarning===!1&&Rt.warn("Unable to look up font label for font '"+N+"', '"+F+"'. Refer to getFontList() for available fonts."),me||ne.noFallback||(me=Qt.times[F])==null&&(me=Qt.times.normal),me},vg=h.__private__.putInfo=function(){var N=Sr(),F=function(le){return le};for(var ne in d!==null&&(F=Ur.encryptor(N,0)),re("<<"),re("/Producer ("+mn(F("jsPDF "+at.version))+")"),tt)tt.hasOwnProperty(ne)&&tt[ne]&&re("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+mn(F(tt[ne]))+")");re("/CreationDate ("+mn(F(G))+")"),re(">>"),re("endobj")},Fc=h.__private__.putCatalog=function(N){var F=(N=N||{}).rootDictionaryObjId||fi;switch(Sr(),re("<<"),re("/Type /Catalog"),re("/Pages "+F+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Me;ne.substr(ne.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&re("/OpenAction [3 0 R /XYZ null null "+M(Me)+"]")}switch(lt||(lt="continuous"),lt){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ze&&re("/PageMode /"+Ze),Et.publish("putCatalog"),re(">>"),re("endobj")},yg=h.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(K+1)),re("/Root "+K+" 0 R"),re("/Info "+(K-1)+" 0 R"),d!==null&&re("/Encrypt "+Ur.oid+" 0 R"),re("/ID [ <"+H+"> <"+H+"> ]"),re(">>")},bg=h.__private__.putHeader=function(){re("%PDF-"+v),re("%ºß¬à")},xg=h.__private__.putXRef=function(){var N="0000000000";re("xref"),re("0 "+(K+1)),re("0000000000 65535 f ");for(var F=1;F<=K;F++)typeof se[F]=="function"?re((N+se[F]()).slice(-10)+" 00000 n "):se[F]!==void 0?re((N+se[F]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},hi=h.__private__.buildDocument=function(){De(),be(de),Et.publish("buildDocument"),bg(),Oo(),lf(),sf(),d!==null&&dg(),vg(),Fc();var N=ae;return xg(),yg(),re("startxref"),re(""+N),re("%%EOF"),be(ye[q]),de.join(`
`)},zs=h.__private__.getBlob=function(N){return new Blob([Fe(N)],{type:"application/pdf"})},qs=h.output=h.__private__.output=ga(function(N,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",N){case void 0:return hi();case"save":h.save(F.filename);break;case"arraybuffer":return Fe(hi());case"blob":return zs(hi());case"bloburi":case"bloburl":if(it.URL!==void 0&&typeof it.URL.createObjectURL=="function")return it.URL&&it.URL.createObjectURL(zs(hi()))||void 0;Rt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",le=hi();try{ne=s0(le)}catch{ne=s0(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+F.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(me=F.pdfObjectUrl,Se="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",ze=it.open();return ze!==null&&ze.document.write(Ce),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',ft=it.open();if(ft!==null){ft.document.write(Ke);var ut=this;ft.document.documentElement.querySelector("#pdfViewer").onload=function(){ft.document.title=F.filename,ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ut.output("bloburl"))}}return ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(it)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',tr=it.open();if(tr!==null&&(tr.document.write(St),tr.document.title=F.filename),tr||typeof safari>"u")return tr;break;case"datauri":case"dataurl":return it.document.location.href=this.output("datauristring",F);default:return null}}),hf=function(N){return Array.isArray(Ao)===!0&&Ao.indexOf(N)>-1};switch(n){case"pt":Be=1;break;case"mm":Be=72/25.4;break;case"cm":Be=72/2.54;break;case"in":Be=72;break;case"px":Be=hf("px_scaling")==1?.75:96/72;break;case"pc":case"em":Be=12;break;case"ex":Be=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Be=n}var Ur=null;oe(),J();var wg=function(N){return d!==null?Ur.encryptor(N,0):function(F){return F}},pf=h.__private__.getPageInfo=h.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[N].objId,pageNumber:N,pageContext:ct[N]}},st=h.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in ct)if(ct[F].objId===N)break;return pf(F)},Sg=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ct[q].objId,pageNumber:q,pageContext:ct[q]}};h.addPage=function(){return uf.apply(this,arguments),this},h.setPage=function(){return df.apply(this,arguments),be.call(this,ye[q]),this},h.insertPage=function(N){return this.addPage(),this.movePage(q,N),this},h.movePage=function(N,F){var ne,le;if(N>F){ne=ye[N],le=ct[N];for(var me=N;me>F;me--)ye[me]=ye[me-1],ct[me]=ct[me-1];ye[F]=ne,ct[F]=le,this.setPage(F)}else if(N<F){ne=ye[N],le=ct[N];for(var Se=N;Se<F;Se++)ye[Se]=ye[Se+1],ct[Se]=ct[Se+1];ye[F]=ne,ct[F]=le,this.setPage(F)}return this},h.deletePage=function(){return mg.apply(this,arguments),this},h.__private__.text=h.text=function(N,F,ne,le,me){var Se,Ce,ze,Ke,ft,ut,St,tr,ar,vr=(le=le||{}).scope||this;if(typeof N=="number"&&typeof F=="number"&&(typeof ne=="string"||Array.isArray(ne))){var Wr=ne;ne=F,F=N,N=Wr}if(arguments[3]instanceof rt?(E("The transform parameter of text() with a Matrix value"),ar=me):(ze=arguments[4],Ke=arguments[5],bt(St=arguments[3])==="object"&&St!==null||(typeof ze=="string"&&(Ke=ze,ze=null),typeof St=="string"&&(Ke=St,St=null),typeof St=="number"&&(ze=St,St=null),le={flags:St,angle:ze,align:Ke})),isNaN(F)||isNaN(ne)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return vr;var Tr="",ya=!1,Pn=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:Eo,Va=vr.internal.scaleFactor;function jf(zt){return zt=zt.split("	").join(Array(le.TabLen||9).join(" ")),mn(zt,St)}function Xc(zt){for(var qt,fr=zt.concat(),jr=[],yi=fr.length;yi--;)typeof(qt=fr.shift())=="string"?jr.push(qt):Array.isArray(zt)&&(qt.length===1||qt[1]===void 0&&qt[2]===void 0)?jr.push(qt[0]):jr.push([qt[0],qt[1],qt[2]]);return jr}function Zc(zt,qt){var fr;if(typeof zt=="string")fr=qt(zt)[0];else if(Array.isArray(zt)){for(var jr,yi,iu=zt.concat(),nl=[],Pf=iu.length;Pf--;)typeof(jr=iu.shift())=="string"?nl.push(qt(jr)[0]):Array.isArray(jr)&&typeof jr[0]=="string"&&(yi=qt(jr[0],jr[1],jr[2]),nl.push([yi[0],yi[1],yi[2]]));fr=nl}return fr}var Ys=!1,Jc=!0;if(typeof N=="string")Ys=!0;else if(Array.isArray(N)){var Qc=N.concat();Ce=[];for(var Ks,Rr=Qc.length;Rr--;)(typeof(Ks=Qc.shift())!="string"||Array.isArray(Ks)&&typeof Ks[0]!="string")&&(Jc=!1);Ys=Jc}if(Ys===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Xs=ke/vr.internal.scaleFactor,Zs=Xs*(Pn-1);switch(le.baseline){case"bottom":ne-=Zs;break;case"top":ne+=Xs-Zs;break;case"hanging":ne+=Xs-2*Zs;break;case"middle":ne+=Xs/2-Zs}if((ut=le.maxWidth||0)>0&&(typeof N=="string"?N=vr.splitTextToSize(N,ut):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(zt,qt){return zt.concat(vr.splitTextToSize(qt,ut))},[]))),Se={text:N,x:F,y:ne,options:le,mutex:{pdfEscape:mn,activeFontKey:Ye,fonts:It,activeFontSize:ke}},Et.publish("preProcessText",Se),N=Se.text,ze=(le=Se.options).angle,!(ar instanceof rt)&&ze&&typeof ze=="number"){ze*=Math.PI/180,le.rotationDirection===0&&(ze=-ze),j===w.ADVANCED&&(ze=-ze);var Js=Math.cos(ze),eu=Math.sin(ze);ar=new rt(Js,eu,-eu,Js,0,0)}else ze&&ze instanceof rt&&(ar=ze);j!==w.ADVANCED||ar||(ar=qa),(ft=le.charSpace||Hs)!==void 0&&(Tr+=A(C(ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tr=le.horizontalScale)!==void 0&&(Tr+=A(100*tr)+` Tz
`),le.lang;var gn=-1,kg=le.renderingMode!==void 0?le.renderingMode:le.stroke,tu=vr.internal.getCurrentPageInfo().pageContext;switch(kg){case 0:case!1:case"fill":gn=0;break;case 1:case!0:case"stroke":gn=1;break;case 2:case"fillThenStroke":gn=2;break;case 3:case"invisible":gn=3;break;case 4:case"fillAndAddForClipping":gn=4;break;case 5:case"strokeAndAddPathForClipping":gn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gn=6;break;case 7:case"addToPathForClipping":gn=7}var Nf=tu.usedRenderingMode!==void 0?tu.usedRenderingMode:-1;gn!==-1?Tr+=gn+` Tr
`:Nf!==-1&&(Tr+=`0 Tr
`),gn!==-1&&(tu.usedRenderingMode=gn),Ke=le.align||"left";var Bn,Qs=ke*Pn,_f=vr.internal.pageSize.getWidth(),Af=It[Ye];ft=le.charSpace||Hs,ut=le.maxWidth||0,St=Object.assign({autoencode:!0,noBOM:!0},le.flags);var Hi=[],ko=function(zt){return vr.getStringUnitWidth(zt,{font:Af,charSpace:ft,fontSize:ke,doKerning:!1})*ke/Va};if(Object.prototype.toString.call(N)==="[object Array]"){var vn;Ce=Xc(N),Ke!=="left"&&(Bn=Ce.map(ko));var nn,Gi=0;if(Ke==="right"){F-=Bn[0],N=[],Rr=Ce.length;for(var mi=0;mi<Rr;mi++)mi===0?(nn=Ga(F),vn=pi(ne)):(nn=C(Gi-Bn[mi]),vn=-Qs),N.push([Ce[mi],nn,vn]),Gi=Bn[mi]}else if(Ke==="center"){F-=Bn[0]/2,N=[],Rr=Ce.length;for(var gi=0;gi<Rr;gi++)gi===0?(nn=Ga(F),vn=pi(ne)):(nn=C((Gi-Bn[gi])/2),vn=-Qs),N.push([Ce[gi],nn,vn]),Gi=Bn[gi]}else if(Ke==="left"){N=[],Rr=Ce.length;for(var el=0;el<Rr;el++)N.push(Ce[el])}else if(Ke==="justify"&&Af.encoding==="Identity-H"){N=[],Rr=Ce.length,ut=ut!==0?ut:_f;for(var vi=0,dr=0;dr<Rr;dr++)if(vn=dr===0?pi(ne):-Qs,nn=dr===0?Ga(F):vi,dr<Rr-1){var ru=C((ut-Bn[dr])/(Ce[dr].split(" ").length-1)),an=Ce[dr].split(" ");N.push([an[0]+" ",nn,vn]),vi=0;for(var zn=1;zn<an.length;zn++){var tl=(ko(an[zn-1]+" "+an[zn])-ko(an[zn]))*Va+ru;zn==an.length-1?N.push([an[zn],tl,0]):N.push([an[zn]+" ",tl,0]),vi-=tl}}else N.push([Ce[dr],nn,vn]);N.push(["",vi,0])}else{if(Ke!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Rr=Ce.length,ut=ut!==0?ut:_f,dr=0;dr<Rr;dr++)vn=dr===0?pi(ne):-Qs,nn=dr===0?Ga(F):0,dr<Rr-1?Hi.push(A(C((ut-Bn[dr])/(Ce[dr].split(" ").length-1)))):Hi.push(0),N.push([Ce[dr],nn,vn])}}var Of=typeof le.R2L=="boolean"?le.R2L:Ge;Of===!0&&(N=Zc(N,function(zt,qt,fr){return[zt.split("").reverse().join(""),qt,fr]})),Se={text:N,x:F,y:ne,options:le,mutex:{pdfEscape:mn,activeFontKey:Ye,fonts:It,activeFontSize:ke}},Et.publish("postProcessText",Se),N=Se.text,ya=Se.mutex.isHex||!1;var nu=It[Ye].encoding;nu!=="WinAnsiEncoding"&&nu!=="StandardEncoding"||(N=Zc(N,function(zt,qt,fr){return[jf(zt),qt,fr]})),Ce=Xc(N),N=[];for(var Do,Lo,Vi,Mo=0,rl=1,Io=Array.isArray(Ce[0])?rl:Mo,Yi="",au=function(zt,qt,fr){var jr="";return fr instanceof rt?(fr=typeof le.angle=="number"?fa(fr,new rt(1,0,0,1,zt,qt)):fa(new rt(1,0,0,1,zt,qt),fr),j===w.ADVANCED&&(fr=fa(new rt(1,0,0,-1,0,0),fr)),jr=fr.join(" ")+` Tm
`):jr=A(zt)+" "+A(qt)+` Td
`,jr},qn=0;qn<Ce.length;qn++){switch(Yi="",Io){case rl:Vi=(ya?"<":"(")+Ce[qn][0]+(ya?">":")"),Do=parseFloat(Ce[qn][1]),Lo=parseFloat(Ce[qn][2]);break;case Mo:Vi=(ya?"<":"(")+Ce[qn]+(ya?">":")"),Do=Ga(F),Lo=pi(ne)}Hi!==void 0&&Hi[qn]!==void 0&&(Yi=Hi[qn]+` Tw
`),qn===0?N.push(Yi+au(Do,Lo,ar)+Vi):Io===Mo?N.push(Yi+Vi):Io===rl&&N.push(Yi+au(Do,Lo,ar)+Vi)}N=Io===Mo?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Un=`BT
/`;return Un+=Ye+" "+ke+` Tf
`,Un+=A(ke*Pn)+` TL
`,Un+=To+`
`,Un+=Tr,Un+=N,re(Un+="ET"),p[Ye]=!0,vr};var jg=h.__private__.clip=h.clip=function(N){return re(N==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return jg("evenodd")},h.__private__.discardPath=h.discardPath=function(){return re("n"),this};var Ha=h.__private__.isValidStyle=function(N){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(F=!0),F};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(N){return Ha(N)&&(u=N),this};var mf=h.__private__.getStyle=h.getStyle=function(N){var F=u;switch(N){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=N}return F},gf=h.close=function(){return re("h"),this};h.stroke=function(){return re("S"),this},h.fill=function(N){return Us("f",N),this},h.fillEvenOdd=function(N){return Us("f*",N),this},h.fillStroke=function(N){return Us("B",N),this},h.fillStrokeEvenOdd=function(N){return Us("B*",N),this};var Us=function(N,F){bt(F)==="object"?_g(F,N):re(N)},Bc=function(N){N===null||j===w.ADVANCED&&N===void 0||(N=mf(N),re(N))};function Ng(N,F,ne,le,me){var Se=new xl(F||this.boundingBox,ne||this.xStep,le||this.yStep,this.gState,me||this.matrix);Se.stream=this.stream;var Ce=N+"$$"+this.cloneIndex+++"$$";return pn(Ce,Se),Se}var _g=function(N,F){var ne=_o[N.key],le=Pt[ne];if(le instanceof Ko)re("q"),re(Ag(F)),le.gState&&h.setGState(le.gState),re(N.matrix.toString()+" cm"),re("/"+ne+" sh"),re("Q");else if(le instanceof xl){var me=new rt(1,0,0,-1,0,Wi());N.matrix&&(me=me.multiply(N.matrix||qa),ne=Ng.call(le,N.key,N.boundingBox,N.xStep,N.yStep,me).id),re("q"),re("/Pattern cs"),re("/"+ne+" scn"),le.gState&&h.setGState(le.gState),re(F),re("Q")}},Ag=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},zc=h.moveTo=function(N,F){return re(A(C(N))+" "+A($(F))+" m"),this},Po=h.lineTo=function(N,F){return re(A(C(N))+" "+A($(F))+" l"),this},qi=h.curveTo=function(N,F,ne,le,me,Se){return re([A(C(N)),A($(F)),A(C(ne)),A($(le)),A(C(me)),A($(Se)),"c"].join(" ")),this};h.__private__.line=h.line=function(N,F,ne,le,me){if(isNaN(N)||isNaN(F)||isNaN(ne)||isNaN(le)||!Ha(me))throw new Error("Invalid arguments passed to jsPDF.line");return j===w.COMPAT?this.lines([[ne-N,le-F]],N,F,[1,1],me||"S"):this.lines([[ne-N,le-F]],N,F,[1,1]).stroke()},h.__private__.lines=h.lines=function(N,F,ne,le,me,Se){var Ce,ze,Ke,ft,ut,St,tr,ar,vr,Wr,Tr,ya;if(typeof N=="number"&&(ya=ne,ne=F,F=N,N=ya),le=le||[1,1],Se=Se||!1,isNaN(F)||isNaN(ne)||!Array.isArray(N)||!Array.isArray(le)||!Ha(me)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(zc(F,ne),Ce=le[0],ze=le[1],ft=N.length,Wr=F,Tr=ne,Ke=0;Ke<ft;Ke++)(ut=N[Ke]).length===2?(Wr=ut[0]*Ce+Wr,Tr=ut[1]*ze+Tr,Po(Wr,Tr)):(St=ut[0]*Ce+Wr,tr=ut[1]*ze+Tr,ar=ut[2]*Ce+Wr,vr=ut[3]*ze+Tr,Wr=ut[4]*Ce+Wr,Tr=ut[5]*ze+Tr,qi(St,tr,ar,vr,Wr,Tr));return Se&&gf(),Bc(me),this},h.path=function(N){for(var F=0;F<N.length;F++){var ne=N[F],le=ne.c;switch(ne.op){case"m":zc(le[0],le[1]);break;case"l":Po(le[0],le[1]);break;case"c":qi.apply(this,le);break;case"h":gf()}}return this},h.__private__.rect=h.rect=function(N,F,ne,le,me){if(isNaN(N)||isNaN(F)||isNaN(ne)||isNaN(le)||!Ha(me))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w.COMPAT&&(le=-le),re([A(C(N)),A($(F)),A(C(ne)),A(C(le)),"re"].join(" ")),Bc(me),this},h.__private__.triangle=h.triangle=function(N,F,ne,le,me,Se,Ce){if(isNaN(N)||isNaN(F)||isNaN(ne)||isNaN(le)||isNaN(me)||isNaN(Se)||!Ha(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-N,le-F],[me-ne,Se-le],[N-me,F-Se]],N,F,[1,1],Ce,!0),this},h.__private__.roundedRect=h.roundedRect=function(N,F,ne,le,me,Se,Ce){if(isNaN(N)||isNaN(F)||isNaN(ne)||isNaN(le)||isNaN(me)||isNaN(Se)||!Ha(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*ne),Se=Math.min(Se,.5*le),this.lines([[ne-2*me,0],[me*ze,0,me,Se-Se*ze,me,Se],[0,le-2*Se],[0,Se*ze,-me*ze,Se,-me,Se],[2*me-ne,0],[-me*ze,0,-me,-Se*ze,-me,-Se],[0,2*Se-le],[0,-Se*ze,me*ze,-Se,me,-Se]],N+me,F,[1,1],Ce,!0),this},h.__private__.ellipse=h.ellipse=function(N,F,ne,le,me){if(isNaN(N)||isNaN(F)||isNaN(ne)||isNaN(le)||!Ha(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*ne,Ce=4/3*(Math.SQRT2-1)*le;return zc(N+ne,F),qi(N+ne,F-Ce,N+Se,F-le,N,F-le),qi(N-Se,F-le,N-ne,F-Ce,N-ne,F),qi(N-ne,F+Ce,N-Se,F+le,N,F+le),qi(N+Se,F+le,N+ne,F+Ce,N+ne,F),Bc(me),this},h.__private__.circle=h.circle=function(N,F,ne,le){if(isNaN(N)||isNaN(F)||isNaN(ne)||!Ha(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,F,ne,ne,le)},h.setFont=function(N,F,ne){return ne&&(F=P(F,ne)),Ye=ff(N,F,{disableWarning:!1}),this};var Og=h.__private__.getFont=h.getFont=function(){return It[ff.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var N,F,ne={};for(N in Qt)if(Qt.hasOwnProperty(N))for(F in ne[N]=[],Qt[N])Qt[N].hasOwnProperty(F)&&ne[N].push(F);return ne},h.addFont=function(N,F,ne,le,me){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(ne=P(ne,le)),me=me||"Identity-H",$c.call(this,N,F,ne,me)};var Eo,qc=e.lineWidth||.200025,Ws=h.__private__.getLineWidth=h.getLineWidth=function(){return qc},vf=h.__private__.setLineWidth=h.setLineWidth=function(N){return qc=N,re(A(C(N))+" w"),this};h.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(N,F){if(N=N||[],F=F||0,isNaN(F)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ne){return A(C(ne))}).join(" "),F=A(C(F)),re("["+N+"] "+F+" d"),this};var yf=h.__private__.getLineHeight=h.getLineHeight=function(){return ke*Eo};h.__private__.getLineHeight=h.getLineHeight=function(){return ke*Eo};var bf=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Eo=N),this},xf=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Eo};bf(e.lineHeight);var Ga=h.__private__.getHorizontalCoordinate=function(N){return C(N)},pi=h.__private__.getVerticalCoordinate=function(N){return j===w.ADVANCED?N:ct[q].mediaBox.topRightY-ct[q].mediaBox.bottomLeftY-C(N)},Pg=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(N){return A(Ga(N))},Ui=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(N){return A(pi(N))},va=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return pa(va)},h.__private__.setStrokeColor=h.setDrawColor=function(N,F,ne,le){return va=ma({ch1:N,ch2:F,ch3:ne,ch4:le,pdfColorType:"draw",precision:2}),re(va),this};var Uc=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return pa(Uc)},h.__private__.setFillColor=h.setFillColor=function(N,F,ne,le){return Uc=ma({ch1:N,ch2:F,ch3:ne,ch4:le,pdfColorType:"fill",precision:2}),re(Uc),this};var To=e.textColor||"0 g",Eg=h.__private__.getTextColor=h.getTextColor=function(){return pa(To)};h.__private__.setTextColor=h.setTextColor=function(N,F,ne,le){return To=ma({ch1:N,ch2:F,ch3:ne,ch4:le,pdfColorType:"text",precision:3}),this};var Hs=e.charSpace,Tg=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Hs||0)};h.__private__.setCharSpace=h.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hs=N,this};var Wc=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(N){var F=h.CapJoinStyles[N];if(F===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wc=F,re(F+" J"),this};var Hc=0;h.__private__.setLineJoin=h.setLineJoin=function(N){var F=h.CapJoinStyles[N];if(F===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hc=F,re(F+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(A(C(N))+" M"),this},h.GState=Ch,h.setGState=function(N){(N=typeof N=="string"?rr[da[N]]:wf(null,N)).equals(di)||(re("/"+N.id+" gs"),di=N)};var wf=function(N,F){if(!N||!da[N]){var ne=!1;for(var le in rr)if(rr.hasOwnProperty(le)&&rr[le].equals(F)){ne=!0;break}if(ne)F=rr[le];else{var me="GS"+(Object.keys(rr).length+1).toString(10);rr[me]=F,F.id=me}return N&&(da[N]=F.id),Et.publish("addGState",F),F}};h.addGState=function(N,F){return wf(N,F),this},h.saveGraphicsState=function(){return re("q"),Fa.push({key:Ye,size:ke,color:To}),this},h.restoreGraphicsState=function(){re("Q");var N=Fa.pop();return Ye=N.key,ke=N.size,To=N.color,di=null,this},h.setCurrentTransformationMatrix=function(N){return re(N.toString()+" cm"),this},h.comment=function(N){return re("#"+N),this};var Gs=function(N,F){var ne=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Se){isNaN(Se)||(ne=parseFloat(Se))}});var le=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Se){isNaN(Se)||(le=parseFloat(Se))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(Se){me=Se.toString()}}),this},Gc=function(N,F,ne,le){Gs.call(this,N,F),this.type="rect";var me=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Ce){isNaN(Ce)||(me=parseFloat(Ce))}});var Se=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Ce){isNaN(Ce)||(Se=parseFloat(Ce))}}),this},Vc=function(){this.page=nr,this.currentPage=q,this.pages=ye.slice(0),this.pagesContext=ct.slice(0),this.x=qr,this.y=_t,this.matrix=ua,this.width=Co(q),this.height=Wi(q),this.outputDestination=Pe,this.id="",this.objectNumber=-1};Vc.prototype.restore=function(){nr=this.page,q=this.currentPage,ct=this.pagesContext,ye=this.pages,qr=this.x,_t=this.y,ua=this.matrix,Yc(q,this.width),Kc(q,this.height),Pe=this.outputDestination};var Sf=function(N,F,ne,le,me){za.push(new Vc),nr=q=0,ye=[],qr=N,_t=F,ua=me,Rc([ne,le])},Cg=function(N){if(Ba[N])za.pop().restore();else{var F=new Vc,ne="Xo"+(Object.keys($r).length+1).toString(10);F.id=ne,Ba[N]=ne,$r[ne]=F,Et.publish("addFormObject",F),za.pop().restore()}};for(var Vs in h.beginFormObject=function(N,F,ne,le,me){return Sf(N,F,ne,le,me),this},h.endFormObject=function(N){return Cg(N),this},h.doFormObject=function(N,F){var ne=$r[Ba[N]];return re("q"),re(F.toString()+" cm"),re("/"+ne.id+" Do"),re("Q"),this},h.getFormObject=function(N){var F=$r[Ba[N]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},h.save=function(N,F){return N=N||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Wo(zs(hi()),N),typeof Wo.unload=="function"&&it.setTimeout&&setTimeout(Wo.unload,911),this):new Promise(function(ne,le){try{var me=Wo(zs(hi()),N);typeof Wo.unload=="function"&&it.setTimeout&&setTimeout(Wo.unload,911),ne(me)}catch(Se){le(Se.message)}})},at.API)at.API.hasOwnProperty(Vs)&&(Vs==="events"&&at.API.events.length?function(N,F){var ne,le,me;for(me=F.length-1;me!==-1;me--)ne=F[me][0],le=F[me][1],N.subscribe.apply(N,[ne].concat(typeof le=="function"?[le]:le))}(Et,at.API.events):h[Vs]=at.API[Vs]);var Co=h.getPageWidth=function(N){return(ct[N=N||q].mediaBox.topRightX-ct[N].mediaBox.bottomLeftX)/Be},Yc=h.setPageWidth=function(N,F){ct[N].mediaBox.topRightX=F*Be+ct[N].mediaBox.bottomLeftX},Wi=h.getPageHeight=function(N){return(ct[N=N||q].mediaBox.topRightY-ct[N].mediaBox.bottomLeftY)/Be},Kc=h.setPageHeight=function(N,F){ct[N].mediaBox.topRightY=F*Be+ct[N].mediaBox.bottomLeftY};return h.internal={pdfEscape:mn,getStyle:mf,getFont:Og,getFontSize:Ie,getCharSpace:Tg,getTextColor:Eg,getLineHeight:yf,getLineHeightFactor:xf,getLineWidth:Ws,write:Ue,getHorizontalCoordinate:Ga,getVerticalCoordinate:pi,getCoordinateString:Pg,getVerticalCoordinateString:Ui,collections:{},newObject:Sr,newAdditionalObject:Ds,newObjectDeferred:gr,newObjectDeferredBegin:On,getFilters:Ua,putStream:Fn,events:Et,scaleFactor:Be,pageSize:{getWidth:function(){return Co(q)},setWidth:function(N){Yc(q,N)},getHeight:function(){return Wi(q)},setHeight:function(N){Kc(q,N)}},encryptionOptions:d,encryption:Ur,getEncryptor:wg,output:qs,getNumberOfPages:gg,pages:ye,out:re,f2:M,f3:T,getPageInfo:pf,getPageInfoByObjId:st,getCurrentPageInfo:Sg,getPDFVersion:g,Point:Gs,Rectangle:Gc,Matrix:rt,hasHotfix:hf},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Co(q)},set:function(N){Yc(q,N)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Wi(q)},set:function(N){Kc(q,N)},enumerable:!0,configurable:!0}),pg.call(h,Ae),Ye="F1",uf(a,r),Et.publish("initialized"),h}vl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},vl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vl.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},vl.prototype.processOwnerPassword=function(e,t){return c0(l0(t).substr(0,5),e)},vl.prototype.encryptor=function(e,t){var r=l0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return c0(r,n)}},Ch.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||bt(e)!==bt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},at.API={events:[]},at.version="3.0.1";var or=at.API,pb=1,Os=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dt=function(e){return e.toFixed(2)},no=function(e){return e.toFixed(5)};or.__acroform__={};var An=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Gx=function(e){return e*pb},Xa=function(e){var t=new t_,r=Ve.internal.getHeight(e)||0,n=Ve.internal.getWidth(e)||0;return t.BBox=[0,0,Number(dt(n)),Number(dt(r))],t},dT=or.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},fT=or.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},hT=or.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},hr=or.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hT(e,t-1)},pr=or.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dT(e,t-1)},mr=or.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fT(e,t-1)},pT=or.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+s)||0,l.upperRight_X=r(a+o)||0,l.upperRight_Y=n(i)||0,[Number(dt(l.lowerLeft_X)),Number(dt(l.lowerLeft_Y)),Number(dt(l.upperRight_X)),Number(dt(l.upperRight_Y))]},mT=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=u0(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+dt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Xa(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},u0=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,o=Ve.internal.getHeight(e)||0;o=o<0?-o:o;var s=Ve.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(T,C,I){if(T+1<a.length){var $=C+" "+a[T+1][0];return Kf($,e,I).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=Kf("3",e,i).height,p=e.multiline?o-i:(o-f)/2,h=p+=2,v=0,g=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Kf(t,e,i=12).width+", FieldWidth:"+s+`
`;break}for(var x="",w=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var _=!1;if(a[j].length!==1&&b!==a[j].length-1){if((f+2)*(w+2)+2>o)continue e;x+=a[j][b],_=!0,g=j,j--}else{x=(x+=a[j][b]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(j),P=l(S,x,i),A=j>=a.length-1;if(P&&!A){x+=" ",b=0;continue}if(P||A){if(A)g=S;else if(e.multiline&&(f+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>o)continue e;g=S}}for(var E="",k=v;k<=g;k++){var M=a[k];if(e.multiline){if(k===g){E+=M[b]+" ",b=(b+1)%M.length;continue}if(k===v){E+=M[M.length-1]+" ";continue}}E+=M[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=Kf(E,e,i).width,e.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;case"left":default:u=2}t+=dt(u)+" "+dt(h)+` Td
`,t+="("+Os(E)+`) Tj
`,t+=-dt(u)+` 0 Td
`,h=-(i+2),d=0,v=_?g:g+1,w++,x=""}break}return n.text=t,n.fontSize=i,n},Kf=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},gT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vT=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},yT=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),bt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},bT=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Da.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(gT)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pb=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new r_,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&vT(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=pT(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Ve.createDefaultAppearanceStream(s),bt(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=mT(s);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var f="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var h=s.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var v=h[o];typeof v=="function"&&(v=v.call(a,s)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(a,s)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:s.objId}),a.internal.out("endobj")}i&&yT(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},e_=or.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),bt(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Os(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ov=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Os(n(e))+")"},Ja=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ja.prototype.toString=function(){return this.objId+" 0 R"},Ja.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ja.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:e_(a,this.objId,this.scope)}):a instanceof Ja?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var t_=function(){Ja.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};An(t_,Ja);var r_=function(){Ja.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Os(r(e))+")"}},set:function(r){e=r}})};An(r_,Ja);var Da=function e(){Ja.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hr(t,3)},set:function(x){x?this.F=pr(t,3):this.F=mr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof kh)return;i="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Os(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/pb:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof kh||this instanceof as))return ov(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Lr?p:ov(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof Lr?x:x.substr(0,1)==="("?cl(x.substr(1,x.length-2)):cl(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?cl(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Lr?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Lr?h:ov(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof Lr?x:x.substr(0,1)==="("?cl(x.substr(1,x.length-2)):cl(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?cl(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Lr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(x){v=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,1)},set:function(x){x?this.Ff=pr(this.Ff,1):this.Ff=mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,2)},set:function(x){x?this.Ff=pr(this.Ff,2):this.Ff=mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,3)},set:function(x){x?this.Ff=pr(this.Ff,3):this.Ff=mr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');b=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(b){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};An(Da,Ja);var Al=function(){Da.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return e_(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,s){s||(s=1);for(var l,u=[];l=o.exec(i);)u.push(l[s]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,18)},set:function(r){r?this.Ff=pr(this.Ff,18):this.Ff=mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=pr(this.Ff,19):this.Ff=mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,20)},set:function(r){r?(this.Ff=pr(this.Ff,20),t.sort()):this.Ff=mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,22)},set:function(r){r?this.Ff=pr(this.Ff,22):this.Ff=mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(r){r?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,27)},set:function(r){r?this.Ff=pr(this.Ff,27):this.Ff=mr(this.Ff,27)}}),this.hasAppearanceStream=!1};An(Al,Da);var Ol=function(){Al.call(this),this.fontName="helvetica",this.combo=!1};An(Ol,Al);var Pl=function(){Ol.call(this),this.combo=!0};An(Pl,Ol);var yh=function(){Pl.call(this),this.edit=!0};An(yh,Pl);var Lr=function(){Da.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,15)},set:function(r){r?this.Ff=pr(this.Ff,15):this.Ff=mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,16)},set:function(r){r?this.Ff=pr(this.Ff,16):this.Ff=mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,17)},set:function(r){r?this.Ff=pr(this.Ff,17):this.Ff=mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(r){r?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Os(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){bt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};An(Lr,Da);var bh=function(){Lr.call(this),this.pushButton=!0};An(bh,Lr);var El=function(){Lr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};An(El,Lr);var kh=function(){var e,t;Da.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Os(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){bt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ve.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};An(kh,Da),El.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},El.prototype.createOption=function(e){var t=new kh;return t.Parent=this,t.optionName=e,this.Kids.push(t),xT.call(this.scope,t),t};var xh=function(){Lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ve.CheckBox.createAppearanceStream()};An(xh,Lr);var as=function(){Da.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,13)},set:function(t){t?this.Ff=pr(this.Ff,13):this.Ff=mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,21)},set:function(t){t?this.Ff=pr(this.Ff,21):this.Ff=mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(t){t?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,24)},set:function(t){t?this.Ff=pr(this.Ff,24):this.Ff=mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,25)},set:function(t){t?this.Ff=pr(this.Ff,25):this.Ff=mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(t){t?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};An(as,Da);var wh=function(){as.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,14)},set:function(e){e?this.Ff=pr(this.Ff,14):this.Ff=mr(this.Ff,14)}}),this.password=!0};An(wh,as);var Ve={CheckBox:{createAppearanceStream:function(){return{N:{On:Ve.CheckBox.YesNormal},D:{On:Ve.CheckBox.YesPushDown,Off:Ve.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=u0(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+dt(Ve.internal.getWidth(e))+" "+dt(Ve.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+dt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Xa(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Ve.internal.getHeight(e),o=Ve.internal.getWidth(e),s=u0(e,e.caption);return a.push("1 g"),a.push("0 0 "+dt(o)+" "+dt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+dt(o-1)+" "+dt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+dt(s.fontSize)+" Tf "+n),a.push(s.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ve.internal.getWidth(e))+" "+dt(Ve.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Circle.YesNormal,t.D[e]=Ve.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Xa(e);t.scope=e.scope;var r=[],n=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ve.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+no(Ve.internal.getWidth(e)/2)+" "+no(Ve.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=[],n=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ve.internal.Bezier_C).toFixed(5)),o=Number((n*Ve.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+no(Ve.internal.getWidth(e)/2)+" "+no(Ve.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+no(Ve.internal.getWidth(e)/2)+" "+no(Ve.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=[],n=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ve.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+no(Ve.internal.getWidth(e)/2)+" "+no(Ve.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Cross.YesNormal,t.D[e]=Ve.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Xa(e);t.scope=e.scope;var r=[],n=Ve.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+dt(Ve.internal.getWidth(e)-2)+" "+dt(Ve.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(dt(n.x1.x)+" "+dt(n.x1.y)+" m"),r.push(dt(n.x2.x)+" "+dt(n.x2.y)+" l"),r.push(dt(n.x4.x)+" "+dt(n.x4.y)+" m"),r.push(dt(n.x3.x)+" "+dt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=Ve.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ve.internal.getWidth(e))+" "+dt(Ve.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+dt(Ve.internal.getWidth(e)-2)+" "+dt(Ve.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(dt(r.x1.x)+" "+dt(r.x1.y)+" m"),n.push(dt(r.x2.x)+" "+dt(r.x2.y)+" l"),n.push(dt(r.x4.x)+" "+dt(r.x4.y)+" m"),n.push(dt(r.x3.x)+" "+dt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ve.internal.getWidth(e))+" "+dt(Ve.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ve.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ve.internal.getWidth(e),r=Ve.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ve.internal.getWidth=function(e){var t=0;return bt(e)==="object"&&(t=Gx(e.Rect[2])),t},Ve.internal.getHeight=function(e){var t=0;return bt(e)==="object"&&(t=Gx(e.Rect[3])),t};var xT=or.addField=function(e){if(bT(this,e),!(e instanceof Da))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};or.AcroFormChoiceField=Al,or.AcroFormListBox=Ol,or.AcroFormComboBox=Pl,or.AcroFormEditBox=yh,or.AcroFormButton=Lr,or.AcroFormPushButton=bh,or.AcroFormRadioButton=El,or.AcroFormCheckBox=xh,or.AcroFormTextField=as,or.AcroFormPasswordField=wh,or.AcroFormAppearance=Ve,or.AcroForm={ChoiceField:Al,ListBox:Ol,ComboBox:Pl,EditBox:yh,Button:Lr,PushButton:bh,RadioButton:El,CheckBox:xh,TextField:as,PasswordField:wh,Appearance:Ve},at.AcroForm={ChoiceField:Al,ListBox:Ol,ComboBox:Pl,EditBox:yh,Button:Lr,PushButton:bh,RadioButton:El,CheckBox:xh,TextField:as,PasswordField:wh,Appearance:Ve};at.AcroForm;function n_(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(T,C){var I,$,G,H,Z,J=t;if((C=C||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(P(T))for(Z in r)for(G=r[Z],I=0;I<G.length;I+=1){for(H=!0,$=0;$<G[I].length;$+=1)if(G[I][$]!==void 0&&G[I][$]!==T[$]){H=!1;break}if(H===!0){J=Z;break}}else for(Z in r)for(G=r[Z],I=0;I<G.length;I+=1){for(H=!0,$=0;$<G[I].length;$+=1)if(G[I][$]!==void 0&&G[I][$]!==T.charCodeAt($)){H=!1;break}if(H===!0){J=Z;break}}return J===t&&C!==t&&(J=C),J},a=function T(C){for(var I=this.internal.write,$=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:C.width}),H.push({key:"Height",value:C.height}),C.colorSpace===b.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===b.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var Z="",J=0,Y=C.transparency.length;J<Y;J++)Z+=C.transparency[J]+" "+C.transparency[J]+" ";H.push({key:"Mask",value:"["+Z+"]"})}C.sMask!==void 0&&H.push({key:"SMask",value:C.objectId+1+" 0 R"});var Q=C.filter!==void 0?["/"+C.filter]:void 0;if($({data:C.data,additionalKeyValues:H,alreadyAppliedFilters:Q,objectId:C.objectId}),I("endobj"),"sMask"in C&&C.sMask!==void 0){var oe="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,L={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:oe,data:C.sMask};"filter"in C&&(L.filter=C.filter),T.call(this,L)}if(C.colorSpace===b.INDEXED){var q=this.internal.newObject();$({data:E(new Uint8Array(C.palette)),objectId:q}),I("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var C in T)a.call(this,T[C])},o=function(){var T,C=this.internal.collections.addImage_images,I=this.internal.write;for(var $ in C)I("/I"+(T=C[$]).index,T.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var T=this.internal.collections.addImage_images;return s.call(this),T},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(T){return typeof e["process"+T.toUpperCase()]=="function"},f=function(T){return bt(T)==="object"&&T.nodeType===1},p=function(T,C){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var I=""+T.getAttribute("src");if(I.indexOf("data:image/")===0)return ku(unescape(I).split("base64,").pop());var $=e.loadFile(I,!0);if($!==void 0)return $}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var G;switch(C){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return ku(T.toDataURL(G,1).split("base64,").pop())}},h=function(T){var C=this.internal.collections.addImage_images;if(C){for(var I in C)if(T===C[I].alias)return C[I]}},v=function(T,C,I){return T||C||(T=-96,C=-96),T<0&&(T=-1*I.width*72/T/this.internal.scaleFactor),C<0&&(C=-1*I.height*72/C/this.internal.scaleFactor),T===0&&(T=C*I.width/I.height),C===0&&(C=T*I.height/I.width),[T,C]},g=function(T,C,I,$,G,H){var Z=v.call(this,I,$,G),J=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,Q=l.call(this);if(I=Z[0],$=Z[1],Q[G.index]=G,H){H*=Math.PI/180;var oe=Math.cos(H),L=Math.sin(H),q=function(ie){return ie.toFixed(4)},ee=[q(oe),q(L),q(-1*L),q(oe),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,J(T),Y(C+$),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([J(I),"0","0",J($),"0","0","cm"].join(" "))):this.internal.write([J(I),"0","0",J($),J(T),Y(C+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(T){var C,I,$=0;if(typeof T=="string")for(I=T.length,C=0;C<I;C++)$=($<<5)-$+T.charCodeAt(C),$|=0;else if(P(T))for(I=T.byteLength/2,C=0;C<I;C++)$=($<<5)-$+T[C],$|=0;return $},j=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var C=!0;return T.length===0&&(C=!1),T.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(C=!1),C},_=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var C=T.indexOf(",");return C<0?null:T.substring(0,C).trim().endsWith("base64")?T.substring(C+1):null},S=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return S()&&T instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(T){return S()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},A=e.__addimage__.binaryStringToUint8Array=function(T){for(var C=T.length,I=new Uint8Array(C),$=0;$<C;$++)I[$]=T.charCodeAt($);return I},E=e.__addimage__.arrayBufferToBinaryString=function(T){for(var C="",I=P(T)?T:new Uint8Array(T),$=0;$<I.length;$+=8192)C+=String.fromCharCode.apply(null,I.subarray($,$+8192));return C};e.addImage=function(){var T,C,I,$,G,H,Z,J,Y;if(typeof arguments[1]=="number"?(C=t,I=arguments[1],$=arguments[2],G=arguments[3],H=arguments[4],Z=arguments[5],J=arguments[6],Y=arguments[7]):(C=arguments[1],I=arguments[2],$=arguments[3],G=arguments[4],H=arguments[5],Z=arguments[6],J=arguments[7],Y=arguments[8]),bt(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var Q=T;T=Q.imageData,C=Q.format||C||t,I=Q.x||I||0,$=Q.y||$||0,G=Q.w||Q.width||G,H=Q.h||Q.height||H,Z=Q.alias||Z,J=Q.compression||J,Y=Q.rotation||Q.angle||Y}var oe=this.internal.getFilters();if(J===void 0&&oe.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(I)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var L=k.call(this,T,C,Z,J);return g.call(this,I,$,G,H,L,Y),this};var k=function(T,C,I,$){var G,H,Z;if(typeof T=="string"&&n(T)===t){T=unescape(T);var J=M(T,!1);(J!==""||(J=e.loadFile(T,!0))!==void 0)&&(T=J)}if(f(T)&&(T=p(T,C)),C=n(T,C),!d(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((Z=I)==null||Z.length===0)&&(I=function(Y){return typeof Y=="string"||P(Y)?w(Y):P(Y.data)?w(Y.data):null}(T)),(G=h.call(this,I))||(S()&&(T instanceof Uint8Array||C==="RGBA"||(H=T,T=A(T))),G=this["process"+C.toUpperCase()](T,u.call(this),I,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:x.NONE}($),H)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},M=e.__addimage__.convertBase64ToBinaryString=function(T,C){C=typeof C!="boolean"||C;var I,$="";if(typeof T=="string"){var G;I=(G=_(T))!==null&&G!==void 0?G:T;try{$=ku(I)}catch(H){if(C)throw j(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};e.getImageProperties=function(T){var C,I,$="";if(f(T)&&(T=p(T)),typeof T=="string"&&n(T)===t&&(($=M(T,!1))===""&&($=e.loadFile(T)||""),T=$),I=n(T),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!S()||T instanceof Uint8Array||(T=A(T)),!(C=this["process"+I.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=I,C}})(at.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};at.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+h(x(w))+") >>",g.content=i;var j=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var P=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,s,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var d=this.splitTextToSize(r,s).length;o=Math.ceil(u*d)}else s=l,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-u,s,o,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(at.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var b=0,x=r,w="",j=0;for(b=0;b<g.length;b+=1)x[g.charCodeAt(b)]!==void 0?(j++,typeof(x=x[g.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(x),x=r,j=0),b===g.length-1&&(x=r,w+=g.charAt(b-(j-1)),b-=j-1,j=0)):(x=r,w+=g.charAt(b-j),b-=j,j=0);return w};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,b,x){return o(g)?i(g)===!1?-1:!u(g)||!o(b)&&!o(x)||!o(x)&&s(b)||s(g)&&!o(b)||s(g)&&l(b)||s(g)&&s(b)?0:d(g)&&o(b)&&!s(b)&&o(x)&&u(x)?3:s(g)||!o(x)?1:2:-1},h=function(g){var b=0,x=0,w=0,j="",_="",S="",P=(g=g||"").split("\\s+"),A=[];for(b=0;b<P.length;b+=1){for(A.push(""),x=0;x<P[b].length;x+=1)j=P[b][x],_=P[b][x-1],S=P[b][x+1],o(j)?(w=p(j,_,S),A[b]+=w!==-1?String.fromCharCode(t[j.charCodeAt(0)][w]):j):A[b]+=j;A[b]=f(A[b])}return A.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(b)){var w=0;for(x=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?x.push([h(b[w][0]),b[w][1],b[w][2]]):x.push([h(b[w])]);g=x}else g=h(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])}(at.API),at.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(at.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,g=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=u.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(j,_){return j.concat(b.splitTextToSize(_,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(g=this.getStringUnitWidth(l[w],{font:f})*d)&&(h=g);return h!==0&&(v=l.length),{w:h/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,v,g,b,x=[],w=[],j=[],_={},S={},P=[],A=[],E=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,M=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,T=p.margins||Object.assign({width:this.getPageWidth()},t),C=typeof p.padding=="number"?p.padding:3,I=p.headerBackgroundColor||"#c8c8c8",$=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=$,this.setFontSize(M),f==null)w=x=Object.keys(d[0]),j=x.map(function(){return"left"});else if(Array.isArray(f)&&bt(f[0])==="object")for(x=f.map(function(Q){return Q.name}),w=f.map(function(Q){return Q.prompt||Q.name||""}),j=f.map(function(Q){return Q.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(w=x=f,j=x.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(_[b=x[h]]=d.map(function(Q){return Q[b]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=_[b],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)P.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[b]=Math.max.apply(null,P)+C+C,P=[]}if(k){var G={};for(h=0;h<x.length;h+=1)G[x[h]]={},G[x[h]].text=w[h],G[x[h]].align=j[h];var H=s.call(this,G,S);A=x.map(function(Q){return new i(l,u,S[Q],H,G[Q].text,void 0,G[Q].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var Z=f.reduce(function(Q,oe){return Q[oe.name]=oe.align,Q},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var J=s.call(this,d[h],S);for(g=0;g<x.length;g+=1){var Y=d[h][x[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:Y},this),o.call(this,new i(l,u,S[x[g]],J,Y,h+2,Z[x[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var v=l[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,v){return Math.max(h,v)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(at.API);var a_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},i_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],d0=n_(i_),o_=[100,200,300,400,500,600,700,800,900],wT=n_(o_);function f0(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return a_[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof d0[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function Vx(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var ST={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Yx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Kx(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function jT(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},ST,r.genericFontFamilies||{}),i=null,o=null,s=0;s<t.length;++s)if(a[(i=f0(t[s])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+Kx(i)+"' and default family '"+n+"'.");if(o=function(l,u){if(u[l])return u[l];var d=d0[l],f=d<=d0.normal?-1:1,p=Vx(u,i_,d,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(i.stretch,o),o=function(l,u){if(u[l])return u[l];for(var d=a_[l],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=wT[l],f=Vx(u,o_,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Kx(i)+"'.");return o}function Xx(e){return e.trimLeft()}function NT(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function _T(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Xf,Zx,Jx,sv=["times"];(function(e){var t,r,n,a,i,o,s,l,u,d=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=L;Object.defineProperty(this,"pdf",{get:function(){return q}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(be){ee=!!be}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(be){ie=!!be}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(be){isNaN(be)||(K=be)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(be){isNaN(be)||(se=be)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(be){var re;typeof be=="number"?re=[be,be,be,be]:((re=new Array(4))[0]=be[0],re[1]=be.length>=2?be[1]:re[0],re[2]=be.length>=3?be[2]:re[0],re[3]=be.length>=4?be[3]:re[1]),u.margin=re}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(be){de=be}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(be){ae=be}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(be){xe=be}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(be){be instanceof d&&(u=be)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(be){u.path=be}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(be){ye=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var re;re=p(be),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var re=p(be);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var pe=null;function Pe(be,re){if(pe===null){var Ue=function(Fe){var Ae=[];return Object.keys(Fe).forEach(function(ke){Fe[ke].forEach(function(Me){var Ie=null;switch(Me){case"bold":Ie={family:ke,weight:"bold"};break;case"italic":Ie={family:ke,style:"italic"};break;case"bolditalic":Ie={family:ke,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:ke}}Ie!==null&&(Ie.ref={name:ke,style:Me},Ae.push(Ie))})}),Ae}(be.getFontList());pe=function(Fe){for(var Ae={},ke=0;ke<Fe.length;++ke){var Me=f0(Fe[ke]),Ie=Me.family,Ge=Me.stretch,Ze=Me.style,et=Me.weight;Ae[Ie]=Ae[Ie]||{},Ae[Ie][Ge]=Ae[Ie][Ge]||{},Ae[Ie][Ge][Ze]=Ae[Ie][Ge][Ze]||{},Ae[Ie][Ge][Ze][et]=Me}return Ae}(Ue.concat(re))}return pe}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(be){pe=null,De=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var re;if(this.ctx.font=be,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var Ue=re[1];re[2];var Fe=re[3],Ae=re[4];re[5];var ke=re[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Me==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Ie=function(tt){var Ye,Be,qr=[],_t=tt.trim();if(_t==="")return sv;if(_t in Yx)return[Yx[_t]];for(;_t!=="";){switch(Be=null,Ye=(_t=Xx(_t)).charAt(0)){case'"':case"'":Be=NT(_t.substring(1),Ye);break;default:Be=_T(_t)}if(Be===null||(qr.push(Be[0]),(_t=Xx(Be[1]))!==""&&_t.charAt(0)!==","))return sv;_t=_t.replace(/^,/,"")}return qr}(ke);if(this.fontFaces){var Ge=jT(Pe(this.pdf,this.fontFaces),Ie.map(function(tt){return{family:tt,stretch:"normal",weight:Fe,style:Ue}}));this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var Ze="";(Fe==="bold"||parseInt(Fe,10)>=700||Ue==="bold")&&(Ze="bold"),Ue==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var et="",lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Ie.length;vt++){if(this.pdf.internal.getFont(Ie[vt],Ze,{noFallback:!0,disableWarning:!0})!==void 0){et=Ie[vt];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Ie[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)et=Ie[vt],Ze="bold";else if(this.pdf.internal.getFont(Ie[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){et=Ie[vt],Ze="normal";break}}if(et===""){for(var wt=0;wt<Ie.length;wt++)if(lt[Ie[wt]]){et=lt[Ie[wt]];break}}et=et===""?"Times":et,this.pdf.setFont(et,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,q){if(isNaN(L)||isNaN(q))throw Rt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(L,q)},f.prototype.closePath=function(){var L=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&bt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){L=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},f.prototype.lineTo=function(L,q){if(isNaN(L)||isNaN(q))throw Rt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,q,ee,ie){if(isNaN(ee)||isNaN(ie)||isNaN(L)||isNaN(q))throw Rt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new o(ee,ie)),se=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"qct",x1:se.x,y1:se.y,x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},f.prototype.bezierCurveTo=function(L,q,ee,ie,K,se){if(isNaN(K)||isNaN(se)||isNaN(L)||isNaN(q)||isNaN(ee)||isNaN(ie))throw Rt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(K,se)),ae=this.ctx.transform.applyToPoint(new o(L,q)),xe=this.ctx.transform.applyToPoint(new o(ee,ie));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:xe.x,y2:xe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(L,q,ee,ie,K,se){if(isNaN(L)||isNaN(q)||isNaN(ee)||isNaN(ie)||isNaN(K))throw Rt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(L,q));L=de.x,q=de.y;var ae=this.ctx.transform.applyToPoint(new o(0,ee)),xe=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(ae.x-xe.x,2)+Math.pow(ae.y-xe.y,2))}Math.abs(K-ie)>=2*Math.PI&&(ie=0,K=2*Math.PI),this.path.push({type:"arc",x:L,y:q,radius:ee,startAngle:ie,endAngle:K,counterclockwise:se})},f.prototype.arcTo=function(L,q,ee,ie,K){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,q,ee,ie){if(isNaN(L)||isNaN(q)||isNaN(ee)||isNaN(ie))throw Rt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,q),this.lineTo(L+ee,q),this.lineTo(L+ee,q+ie),this.lineTo(L,q+ie),this.lineTo(L,q),this.lineTo(L+ee,q),this.lineTo(L,q)},f.prototype.fillRect=function(L,q,ee,ie){if(isNaN(L)||isNaN(q)||isNaN(ee)||isNaN(ie))throw Rt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,q,ee,ie),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},f.prototype.strokeRect=function(L,q,ee,ie){if(isNaN(L)||isNaN(q)||isNaN(ee)||isNaN(ie))throw Rt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(L,q,ee,ie),this.stroke())},f.prototype.clearRect=function(L,q,ee,ie){if(isNaN(L)||isNaN(q)||isNaN(ee)||isNaN(ie))throw Rt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,q,ee,ie))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(q),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(L){var q,ee,ie,K;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))q=0,ee=0,ie=0,K=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(se!==null)q=parseInt(se[1]),ee=parseInt(se[2]),ie=parseInt(se[3]),K=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)q=parseInt(se[1]),ee=parseInt(se[2]),ie=parseInt(se[3]),K=parseFloat(se[4]);else{if(K=1,typeof L=="string"&&L.charAt(0)!=="#"){var de=new ZN(L);L=de.ok?de.toHex():"#000000"}L.length===4?(q=L.substring(1,2),q+=q,ee=L.substring(2,3),ee+=ee,ie=L.substring(3,4),ie+=ie):(q=L.substring(1,3),ee=L.substring(3,5),ie=L.substring(5,7)),q=parseInt(q,16),ee=parseInt(ee,16),ie=parseInt(ie,16)}}return{r:q,g:ee,b:ie,a:K,style:L}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,q,ee,ie){if(isNaN(q)||isNaN(ee)||typeof L!="string")throw Rt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!h.call(this)){var K=J(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;C.call(this,{text:L,x:q,y:ee,scale:se,angle:K,align:this.textAlign,maxWidth:ie})}},f.prototype.strokeText=function(L,q,ee,ie){if(isNaN(q)||isNaN(ee)||typeof L!="string")throw Rt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ie=isNaN(ie)?void 0:ie;var K=J(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;C.call(this,{text:L,x:q,y:ee,scale:se,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:ie})}},f.prototype.measureText=function(L){if(typeof L!="string")throw Rt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,ee=this.pdf.internal.scaleFactor,ie=q.internal.getFontSize(),K=q.getStringUnitWidth(L)*ie/q.internal.scaleFactor,se=function(de){var ae=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this};return new se({width:K*=Math.round(96*ee/72*1e4)/1e4})},f.prototype.scale=function(L,q){if(isNaN(L)||isNaN(q))throw Rt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(L,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.rotate=function(L){if(isNaN(L))throw Rt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function(L,q){if(isNaN(L)||isNaN(q))throw Rt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,L,q);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.transform=function(L,q,ee,ie,K,se){if(isNaN(L)||isNaN(q)||isNaN(ee)||isNaN(ie)||isNaN(K)||isNaN(se))throw Rt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(L,q,ee,ie,K,se);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(L,q,ee,ie,K,se){L=isNaN(L)?1:L,q=isNaN(q)?0:q,ee=isNaN(ee)?0:ee,ie=isNaN(ie)?1:ie,K=isNaN(K)?0:K,se=isNaN(se)?0:se,this.ctx.transform=new l(L,q,ee,ie,K,se)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,q,ee,ie,K,se,de,ae,xe){var ye=this.pdf.getImageProperties(L),pe=1,Pe=1,De=1,be=1;ie!==void 0&&ae!==void 0&&(De=ae/ie,be=xe/K,pe=ye.width/ie*ae/ie,Pe=ye.height/K*xe/K),se===void 0&&(se=q,de=ee,q=0,ee=0),ie!==void 0&&ae===void 0&&(ae=ie,xe=K),ie===void 0&&ae===void 0&&(ae=ye.width,xe=ye.height);for(var re,Ue=this.ctx.transform.decompose(),Fe=J(Ue.rotate.shx),Ae=new l,ke=(Ae=(Ae=(Ae=Ae.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new s(se-q*De,de-ee*be,ie*pe,K*Pe)),Me=b.call(this,ke),Ie=[],Ge=0;Ge<Me.length;Ge+=1)Ie.indexOf(Me[Ge])===-1&&Ie.push(Me[Ge]);if(j(Ie),this.autoPaging)for(var Ze=Ie[0],et=Ie[Ie.length-1],lt=Ze;lt<et+1;lt++){this.pdf.setPage(lt);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=lt===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=lt===1?0:tt+(lt-2)*Ye;if(this.ctx.clip_path.length!==0){var qr=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(re,this.posX+this.margin[3],-Be+wt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=qr}var _t=JSON.parse(JSON.stringify(ke));_t=w([_t],this.posX+this.margin[3],-Be+wt+this.ctx.prevPageLastElemOffset)[0];var ua=(lt>Ze||lt<et)&&g.call(this);ua&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Ye,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Fe),ua&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,Fe)};var b=function(L,q,ee){var ie=[];q=q||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ie.push(Math.floor((L.y+K)/ee)+1);break;case"arc":ie.push(Math.floor((L.y+K-L.radius)/ee)+1),ie.push(Math.floor((L.y+K+L.radius)/ee)+1);break;case"qct":var se=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ie.push(Math.floor((se.y+K)/ee)+1),ie.push(Math.floor((se.y+se.h+K)/ee)+1);break;case"bct":var de=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ie.push(Math.floor((de.y+K)/ee)+1),ie.push(Math.floor((de.y+de.h+K)/ee)+1);break;case"rect":ie.push(Math.floor((L.y+K)/ee)+1),ie.push(Math.floor((L.y+L.h+K)/ee)+1)}for(var ae=0;ae<ie.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<ie[ae];)x.call(this);return ie},x=function(){var L=this.fillStyle,q=this.strokeStyle,ee=this.font,ie=this.lineCap,K=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=q,this.font=ee,this.lineCap=ie,this.lineWidth=K,this.lineJoin=se},w=function(L,q,ee){for(var ie=0;ie<L.length;ie++)switch(L[ie].type){case"bct":L[ie].x2+=q,L[ie].y2+=ee;case"qct":L[ie].x1+=q,L[ie].y1+=ee;case"mt":case"lt":case"arc":default:L[ie].x+=q,L[ie].y+=ee}return L},j=function(L){return L.sort(function(q,ee){return q-ee})},_=function(L,q){for(var ee,ie,K=this.fillStyle,se=this.strokeStyle,de=this.lineCap,ae=this.lineWidth,xe=Math.abs(ae*this.ctx.transform.scaleX),ye=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),De=[],be=0;be<Pe.length;be++)if(Pe[be].x!==void 0)for(var re=b.call(this,Pe[be]),Ue=0;Ue<re.length;Ue+=1)De.indexOf(re[Ue])===-1&&De.push(re[Ue]);for(var Fe=0;Fe<De.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<De[Fe];)x.call(this);if(j(De),this.autoPaging)for(var Ae=De[0],ke=De[De.length-1],Me=Ae;Me<ke+1;Me++){this.pdf.setPage(Me),this.fillStyle=K,this.strokeStyle=se,this.lineCap=de,this.lineWidth=xe,this.lineJoin=ye;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Me===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=Me===1?0:Ze+(Me-2)*et;if(this.ctx.clip_path.length!==0){var vt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ee,this.posX+this.margin[3],-lt+Ge+this.ctx.prevPageLastElemOffset),S.call(this,L,!0),this.path=vt}if(ie=JSON.parse(JSON.stringify(pe)),this.path=w(ie,this.posX+this.margin[3],-lt+Ge+this.ctx.prevPageLastElemOffset),q===!1||Me===0){var wt=(Me>Ae||Me<ke)&&g.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,et,null).clip().discardPath()),S.call(this,L,q),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=xe,S.call(this,L,q),this.lineWidth=ae;this.path=pe},S=function(L,q){if((L!=="stroke"||q||!v.call(this))&&(L==="stroke"||q||!h.call(this))){for(var ee,ie,K=[],se=this.path,de=0;de<se.length;de++){var ae=se[de];switch(ae.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:ae,deltas:[],abs:[]});break;case"lt":var xe=K.length;if(se[de-1]&&!isNaN(se[de-1].x)&&(ee=[ae.x-se[de-1].x,ae.y-se[de-1].y],xe>0)){for(;xe>=0;xe--)if(K[xe-1].close!==!0&&K[xe-1].begin!==!0){K[xe-1].deltas.push(ee),K[xe-1].abs.push(ae);break}}break;case"bct":ee=[ae.x1-se[de-1].x,ae.y1-se[de-1].y,ae.x2-se[de-1].x,ae.y2-se[de-1].y,ae.x-se[de-1].x,ae.y-se[de-1].y],K[K.length-1].deltas.push(ee);break;case"qct":var ye=se[de-1].x+2/3*(ae.x1-se[de-1].x),pe=se[de-1].y+2/3*(ae.y1-se[de-1].y),Pe=ae.x+2/3*(ae.x1-ae.x),De=ae.y+2/3*(ae.y1-ae.y),be=ae.x,re=ae.y;ee=[ye-se[de-1].x,pe-se[de-1].y,Pe-se[de-1].x,De-se[de-1].y,be-se[de-1].x,re-se[de-1].y],K[K.length-1].deltas.push(ee);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(ae)}}ie=q?null:L==="stroke"?"stroke":"fill";for(var Ue=!1,Fe=0;Fe<K.length;Fe++)if(K[Fe].arc)for(var Ae=K[Fe].abs,ke=0;ke<Ae.length;ke++){var Me=Ae[ke];Me.type==="arc"?E.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,q,!Ue):I.call(this,Me.x,Me.y),Ue=!0}else if(K[Fe].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(K[Fe].begin!==!0){var Ie=K[Fe].start.x,Ge=K[Fe].start.y;$.call(this,K[Fe].deltas,Ie,Ge),Ue=!0}ie&&k.call(this,ie),q&&M.call(this)}},P=function(L){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-ee;case"top":return L+q-ee;case"hanging":return L+q-2*ee;case"middle":return L+q/2-ee;case"ideographic":return L;case"alphabetic":default:return L}},A=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(q,ee){this.colorStops.push([q,ee])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(L,q,ee,ie,K,se,de,ae,xe){for(var ye=H.call(this,ee,ie,K,se),pe=0;pe<ye.length;pe++){var Pe=ye[pe];pe===0&&(xe?T.call(this,Pe.x1+L,Pe.y1+q):I.call(this,Pe.x1+L,Pe.y1+q)),G.call(this,L,q,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ae?M.call(this):k.call(this,de)},k=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(L,q){this.pdf.internal.out(r(L)+" "+n(q)+" m")},C=function(L){var q;switch(L.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var ee=this.pdf.getTextDimensions(L.text),ie=P.call(this,L.y),K=A.call(this,ie)-ee.h,se=this.ctx.transform.applyToPoint(new o(L.x,ie)),de=this.ctx.transform.decompose(),ae=new l;ae=(ae=(ae=ae.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var xe,ye,pe,Pe=this.ctx.transform.applyToRectangle(new s(L.x,ie,ee.w,ee.h)),De=ae.applyToRectangle(new s(L.x,K,ee.w,ee.h)),be=b.call(this,De),re=[],Ue=0;Ue<be.length;Ue+=1)re.indexOf(be[Ue])===-1&&re.push(be[Ue]);if(j(re),this.autoPaging)for(var Fe=re[0],Ae=re[re.length-1],ke=Fe;ke<Ae+1;ke++){this.pdf.setPage(ke);var Me=ke===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],Ze=Ge-this.margin[0],et=this.pdf.internal.pageSize.width-this.margin[1],lt=et-this.margin[3],vt=ke===1?0:Ie+(ke-2)*Ze;if(this.ctx.clip_path.length!==0){var wt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(xe,this.posX+this.margin[3],-1*vt+Me),S.call(this,"fill",!0),this.path=wt}var tt=w([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-vt+Me+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*L.scale),pe=this.lineWidth,this.lineWidth=pe*L.scale);var Ye=this.autoPaging!=="text";if(Ye||tt.y+tt.h<=Ge){if(Ye||tt.y>=Me&&tt.x<=et){var Be=Ye?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||et-tt.x)[0],qr=w([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-vt+Me+this.ctx.prevPageLastElemOffset)[0],_t=Ye&&(ke>Fe||ke<Ae)&&g.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Ze,null).clip().discardPath()),this.pdf.text(Be,qr.x,qr.y,{angle:L.angle,align:q,renderingMode:L.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else tt.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-tt.y);L.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=pe)}else L.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*L.scale),pe=this.lineWidth,this.lineWidth=pe*L.scale),this.pdf.text(L.text,se.x+this.posX,se.y+this.posY,{angle:L.angle,align:q,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=pe)},I=function(L,q,ee,ie){ee=ee||0,ie=ie||0,this.pdf.internal.out(r(L+ee)+" "+n(q+ie)+" l")},$=function(L,q,ee){return this.pdf.lines(L,q,ee,null,null)},G=function(L,q,ee,ie,K,se,de,ae){this.pdf.internal.out([t(a(ee+L)),t(i(ie+q)),t(a(K+L)),t(i(se+q)),t(a(de+L)),t(i(ae+q)),"c"].join(" "))},H=function(L,q,ee,ie){for(var K=2*Math.PI,se=Math.PI/2;q>ee;)q-=K;var de=Math.abs(ee-q);de<K&&ie&&(de=K-de);for(var ae=[],xe=ie?-1:1,ye=q;de>1e-5;){var pe=ye+xe*Math.min(de,se);ae.push(Z.call(this,L,ye,pe)),de-=Math.abs(pe-ye),ye=pe}return ae},Z=function(L,q,ee){var ie=(ee-q)/2,K=L*Math.cos(ie),se=L*Math.sin(ie),de=K,ae=-se,xe=de*de+ae*ae,ye=xe+de*K+ae*se,pe=4/3*(Math.sqrt(2*xe*ye)-ye)/(de*se-ae*K),Pe=de-pe*ae,De=ae+pe*de,be=Pe,re=-De,Ue=ie+q,Fe=Math.cos(Ue),Ae=Math.sin(Ue);return{x1:L*Math.cos(q),y1:L*Math.sin(q),x2:Pe*Fe-De*Ae,y2:Pe*Ae+De*Fe,x3:be*Fe-re*Ae,y3:be*Ae+re*Fe,x4:L*Math.cos(ee),y4:L*Math.sin(ee)}},J=function(L){return 180*L/Math.PI},Y=function(L,q,ee,ie,K,se){var de=L+.5*(ee-L),ae=q+.5*(ie-q),xe=K+.5*(ee-K),ye=se+.5*(ie-se),pe=Math.min(L,K,de,xe),Pe=Math.max(L,K,de,xe),De=Math.min(q,se,ae,ye),be=Math.max(q,se,ae,ye);return new s(pe,De,Pe-pe,be-De)},Q=function(L,q,ee,ie,K,se,de,ae){var xe,ye,pe,Pe,De,be,re,Ue,Fe,Ae,ke,Me,Ie,Ge,Ze=ee-L,et=ie-q,lt=K-ee,vt=se-ie,wt=de-K,tt=ae-se;for(ye=0;ye<41;ye++)Fe=(re=(pe=L+(xe=ye/40)*Ze)+xe*((De=ee+xe*lt)-pe))+xe*(De+xe*(K+xe*wt-De)-re),Ae=(Ue=(Pe=q+xe*et)+xe*((be=ie+xe*vt)-Pe))+xe*(be+xe*(se+xe*tt-be)-Ue),ye==0?(ke=Fe,Me=Ae,Ie=Fe,Ge=Ae):(ke=Math.min(ke,Fe),Me=Math.min(Me,Ae),Ie=Math.max(Ie,Fe),Ge=Math.max(Ge,Ae));return new s(Math.round(ke),Math.round(Me),Math.round(Ie-ke),Math.round(Ge-Me))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,q,ee=(L=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:q}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(at.API),function(e){var t=function(i){var o,s,l,u,d,f,p,h,v,g;for(s=[],l=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>l;l+=4)(d=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(v=d%85))/85)-(h=d%85))/85)-(p=d%85))/85)%85,s.push(f+33,p+33,h+33,v+33,g+33)):s.push(122);return function(b,x){for(var w=x;w>0;w--)b.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},r=function(i){var o,s,l,u,d,f=String,p="length",h=255,v="charCodeAt",g="slice",b="replace";for(i[g](-2),i=i[g](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],u=0,d=(i+=o="uuuuu"[g](i[p]%5||5))[p];d>u;u+=5)s=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),l.push(h&s>>24,h&s>>16,h&s>>8,h&s);return function(x,w){for(var j=w;j>0;j--)x.pop()}(l,o[p]),f.fromCharCode.apply(f,l)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var s="",l=0;l<i.length;l+=2)s+=String.fromCharCode("0x"+(i[l]+i[l+1]));return s},a=function(i){for(var o=new Uint8Array(i.length),s=i.length;s--;)o[s]=i.charCodeAt(s);return i=(o=o0(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var s=0,l=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(at.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,d){var f=new XMLHttpRequest,p=0,h=function(v){var g=v.length,b=[],x=String.fromCharCode;for(p=0;p<g;p+=1)b.push(x(255&v.charCodeAt(p)));return b.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(a,i,o)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}(at.API),function(e){function t(){return(it.html2canvas?Promise.resolve(it.html2canvas):Qv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(it.DOMPurify?Promise.resolve(it.DOMPurify):Qv(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var s=bt(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},a=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},i=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,s){return o.__proto__=s||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var h=u[p],v=h.src.find(function(g){return g.format==="truetype"});v&&l.addFont(v.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},i.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},i.prototype.get=function(o,s){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,d).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=l.call(u,o,s);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},i.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},i.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return i.convert(s,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,at.getPageSize=function(o,s,l){if(bt(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+s}var h,v=0,g=0;if(p.hasOwnProperty(f))v=p[f][1]/d,g=p[f][0]/d;else try{v=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>v&&(h=g,g=v,v=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>g&&(h=g,g=v,v=h)}return{width:g,height:v,unit:s,k:d,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(f0):null;var l=new i(s);return s.worker?l:l.from(o).doCallback()}}(at.API),at.API.addJS=function(e){return Jx=e,this.internal.events.subscribe("postPutResources",function(){Xf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Zx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Jx+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xf!==void 0&&Zx!==void 0&&this.internal.out("/Names <</JavaScript "+Xf+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],s=n.exec(o);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(at.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,s){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=h,t.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}h=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(at.API);var ul,Zf,Qx,e2,t2,AT=function(){var e,t,r;function n(i){var o,s,l,u,d,f,p,h,v,g,b,x,w,j;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var _,S;for(S=[],_=0;_<4;++_)S.push(String.fromCharCode(this.data[this.pos++]));return S}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(w=0;0<=g?w<g:w>g;0<=g?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(b=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,b.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,b.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,s;for(s=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,p,h,v){var g,b,x,w,j,_,S,P,A,E,k,M,T,C,I,$,G,H,Z,J,Y,Q=Math.ceil((u.width-f)/h),oe=Math.ceil((u.height-p)/v),L=u.width==Q&&u.height==oe;for(C=o*Q,M=L?s:new Uint8Array(C*oe),_=i.length,T=0,b=0;T<oe&&l<_;){switch(i[l++]){case 0:for(w=G=0;G<C;w=G+=1)M[b++]=i[l++];break;case 1:for(w=H=0;H<C;w=H+=1)g=i[l++],j=w<o?0:M[b-o],M[b++]=(g+j)%256;break;case 2:for(w=Z=0;Z<C;w=Z+=1)g=i[l++],x=(w-w%o)/o,I=T&&M[(T-1)*C+x*o+w%o],M[b++]=(I+g)%256;break;case 3:for(w=J=0;J<C;w=J+=1)g=i[l++],x=(w-w%o)/o,j=w<o?0:M[b-o],I=T&&M[(T-1)*C+x*o+w%o],M[b++]=(g+Math.floor((j+I)/2))%256;break;case 4:for(w=Y=0;Y<C;w=Y+=1)g=i[l++],x=(w-w%o)/o,j=w<o?0:M[b-o],T===0?I=$=0:(I=M[(T-1)*C+x*o+w%o],$=x&&M[(T-1)*C+(x-1)*o+w%o]),S=j+I-$,P=Math.abs(S-j),E=Math.abs(S-I),k=Math.abs(S-$),A=P<=E&&P<=k?j:E<=k?I:$,M[b++]=(g+A)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!L){var q=((p+T*v)*u.width+f)*o,ee=T*C;for(w=0;w<Q;w+=1){for(var ie=0;ie<o;ie+=1)s[q++]=M[ee++];q+=(h-1)*o}}T++}}return i=aT(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),s},n.prototype.decodePalette=function(){var i,o,s,l,u,d,f,p,h;for(s=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+s.length),l=0,i=0,o=f=0,p=s.length;f<p;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(h=d[i++])!=null?h:255;return u},n.prototype.copyToImageData=function(i,o){var s,l,u,d,f,p,h,v,g,b,x;if(l=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,s=!0),v=(u=i.data||i).length,f=g||o,d=p=0,l===1)for(;d<v;)h=g?4*o[d/4]:p,b=f[h++],u[d++]=b,u[d++]=b,u[d++]=b,u[d++]=s?f[h++]:255,p=h;else for(;d<v;)h=g?4*o[d/4]:p,u[d++]=f[h++],u[d++]=f[h++],u[d++]=f[h++],u[d++]=s?f[h++]:255,p=h},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(it)==="[object Window]"){try{t=it.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,s,l,u,d,f,p,h;if(this.animation){for(h=[],s=d=0,f=(p=this.animation.frames).length;d<f;s=++d)o=p[s],l=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,h.push(o.image=e(l));return h}},n.prototype.renderFrame=function(i,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&i.clearRect(s.xOffset,s.yOffset,s.width,s.height),i.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(i){var o,s,l,u,d,f,p=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,d=f.numPlays,(o=function(){var h,v;if(h=s++%u,v=l[h],p.renderFrame(i,h),u>1&&s/u<d)return p.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,s;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function OT(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var s=null,l=null;i&&(s=t,l=o,t+=3*o);var u=!0,d=[],f=0,p=null,h=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],!(1&g)&&(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,_=e[t++],S=_>>6&1,P=1<<(7&_)+1,A=s,E=l,k=!1;_>>7&&(k=!0,A=t,E=P,t+=3*P);var M=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}d.push({x:b,y:x,width:w,height:j,has_local_palette:k,palette_offset:A,palette_size:E,data_offset:M,data_length:t-M,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(C){if(C<0||C>=d.length)throw new Error("Frame index out of range.");return d[C]},this.decodeAndBlitFrameBGRA=function(C,I){var $=this.frameInfo(C),G=$.width*$.height,H=new Uint8Array(G);r2(e,$.data_offset,H,G);var Z=$.palette_offset,J=$.transparent_index;J===null&&(J=256);var Y=$.width,Q=r-Y,oe=Y,L=4*($.y*r+$.x),q=4*(($.y+$.height)*r+$.x),ee=L,ie=4*Q;$.interlaced===!0&&(ie+=4*r*7);for(var K=8,se=0,de=H.length;se<de;++se){var ae=H[se];if(oe===0&&(oe=Y,(ee+=ie)>=q&&(ie=4*Q+4*r*(K-1),ee=L+(Y+Q)*(K<<1),K>>=1)),ae===J)ee+=4;else{var xe=e[Z+3*ae],ye=e[Z+3*ae+1],pe=e[Z+3*ae+2];I[ee++]=pe,I[ee++]=ye,I[ee++]=xe,I[ee++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(C,I){var $=this.frameInfo(C),G=$.width*$.height,H=new Uint8Array(G);r2(e,$.data_offset,H,G);var Z=$.palette_offset,J=$.transparent_index;J===null&&(J=256);var Y=$.width,Q=r-Y,oe=Y,L=4*($.y*r+$.x),q=4*(($.y+$.height)*r+$.x),ee=L,ie=4*Q;$.interlaced===!0&&(ie+=4*r*7);for(var K=8,se=0,de=H.length;se<de;++se){var ae=H[se];if(oe===0&&(oe=Y,(ee+=ie)>=q&&(ie=4*Q+4*r*(K-1),ee=L+(Y+Q)*(K<<1),K>>=1)),ae===J)ee+=4;else{var xe=e[Z+3*ae],ye=e[Z+3*ae+1],pe=e[Z+3*ae+2];I[ee++]=xe,I[ee++]=ye,I[ee++]=pe,I[ee++]=255}--oe}}}function r2(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,s=o+1,l=a+1,u=(1<<l)-1,d=0,f=0,p=0,h=e[t++],v=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<l)break;var b=f&u;if(f>>=l,d-=l,b!==i){if(b===o)break;for(var x=b<s?b:g,w=0,j=x;j>i;)j=v[j]>>8,++w;var _=j;if(p+w+(x!==b?1:0)>n)return void Rt.log("Warning, gif stream longer than expected.");r[p++]=_;var S=p+=w;for(x!==b&&(r[p++]=_),j=x;w--;)j=v[j],r[--S]=255&j,j>>=8;g!==null&&s<4096&&(v[s++]=g<<8|_,s>=u+1&&l<12&&(++l,u=u<<1|1)),g=b}else s=o+1,u=(1<<(l=a+1))-1,g=null}return p!==n&&Rt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function lv(e){var t,r,n,a,i,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),v=new Array(64),g=[],b=0,x=7,w=new Array(64),j=new Array(64),_=new Array(64),S=new Array(256),P=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(L,q){for(var ee=0,ie=0,K=new Array,se=1;se<=16;se++){for(var de=1;de<=L[se];de++)K[q[ie]]=[],K[q[ie]][0]=ee,K[q[ie]][1]=se,ie++,ee++;ee*=2}return K}function Z(L){for(var q=L[0],ee=L[1]-1;ee>=0;)q&1<<ee&&(b|=1<<x),ee--,--x<0&&(b==255?(J(255),J(0)):J(b),x=7,b=0)}function J(L){g.push(L)}function Y(L){J(L>>8&255),J(255&L)}function Q(L,q,ee,ie,K){for(var se,de=K[0],ae=K[240],xe=function(Ae,ke){var Me,Ie,Ge,Ze,et,lt,vt,wt,tt,Ye,Be=0;for(tt=0;tt<8;++tt){Me=Ae[Be],Ie=Ae[Be+1],Ge=Ae[Be+2],Ze=Ae[Be+3],et=Ae[Be+4],lt=Ae[Be+5],vt=Ae[Be+6];var qr=Me+(wt=Ae[Be+7]),_t=Me-wt,ua=Ie+vt,It=Ie-vt,Qt=Ge+lt,Fa=Ge-lt,Pt=Ze+et,_o=Ze-et,rr=qr+Pt,da=qr-Pt,di=ua+Qt,nr=ua-Qt;Ae[Be]=rr+di,Ae[Be+4]=rr-di;var ct=.707106781*(nr+da);Ae[Be+2]=da+ct,Ae[Be+6]=da-ct;var Et=.382683433*((rr=_o+Fa)-(nr=It+_t)),Ao=.5411961*rr+Et,$r=1.306562965*nr+Et,Ba=.707106781*(di=Fa+It),za=_t+Ba,rt=_t-Ba;Ae[Be+5]=rt+Ao,Ae[Be+3]=rt-Ao,Ae[Be+1]=za+$r,Ae[Be+7]=za-$r,Be+=8}for(Be=0,tt=0;tt<8;++tt){Me=Ae[Be],Ie=Ae[Be+8],Ge=Ae[Be+16],Ze=Ae[Be+24],et=Ae[Be+32],lt=Ae[Be+40],vt=Ae[Be+48];var fa=Me+(wt=Ae[Be+56]),qa=Me-wt,pn=Ie+vt,Sr=Ie-vt,gr=Ge+lt,On=Ge-lt,Ds=Ze+et,fi=Ze-et,ha=fa+Ds,pa=fa-Ds,ma=pn+gr,Ua=pn-gr;Ae[Be]=ha+ma,Ae[Be+32]=ha-ma;var Fn=.707106781*(Ua+pa);Ae[Be+16]=pa+Fn,Ae[Be+48]=pa-Fn;var Wa=.382683433*((ha=fi+On)-(Ua=Sr+qa)),Oo=.5411961*ha+Wa,Ls=1.306562965*Ua+Wa,Ms=.707106781*(ma=On+Sr),Is=qa+Ms,$s=qa-Ms;Ae[Be+40]=$s+Oo,Ae[Be+24]=$s-Oo,Ae[Be+8]=Is+Ls,Ae[Be+56]=Is-Ls,Be++}for(tt=0;tt<64;++tt)Ye=Ae[tt]*ke[tt],h[tt]=Ye>0?Ye+.5|0:Ye-.5|0;return h}(L,q),ye=0;ye<64;++ye)v[A[ye]]=xe[ye];var pe=v[0]-ee;ee=v[0],pe==0?Z(ie[0]):(Z(ie[p[se=32767+pe]]),Z(f[se]));for(var Pe=63;Pe>0&&v[Pe]==0;)Pe--;if(Pe==0)return Z(de),ee;for(var De,be=1;be<=Pe;){for(var re=be;v[be]==0&&be<=Pe;)++be;var Ue=be-re;if(Ue>=16){De=Ue>>4;for(var Fe=1;Fe<=De;++Fe)Z(ae);Ue&=15}se=32767+v[be],Z(K[(Ue<<4)+p[se]]),Z(f[se]),be++}return Pe!=63&&Z(de),ee}function oe(L){L=Math.min(Math.max(L,1),100),i!=L&&(function(q){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var K=o((ee[ie]*q+50)/100);K=Math.min(Math.max(K,1),255),s[A[ie]]=K}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ae=o((se[de]*q+50)/100);ae=Math.min(Math.max(ae,1),255),l[A[de]]=ae}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,pe=0;pe<8;pe++)for(var Pe=0;Pe<8;Pe++)u[ye]=1/(s[A[ye]]*xe[pe]*xe[Pe]*8),d[ye]=1/(l[A[ye]]*xe[pe]*xe[Pe]*8),ye++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),i=L)}this.encode=function(L,q){q&&oe(q),g=new Array,b=0,x=7,Y(65496),Y(65504),Y(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),Y(1),Y(1),J(0),J(0),function(){Y(65499),Y(132),J(0);for(var Ie=0;Ie<64;Ie++)J(s[Ie]);J(1);for(var Ge=0;Ge<64;Ge++)J(l[Ge])}(),function(Ie,Ge){Y(65472),Y(17),J(8),Y(Ge),Y(Ie),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(L.width,L.height),function(){Y(65476),Y(418),J(0);for(var Ie=0;Ie<16;Ie++)J(E[Ie+1]);for(var Ge=0;Ge<=11;Ge++)J(k[Ge]);J(16);for(var Ze=0;Ze<16;Ze++)J(M[Ze+1]);for(var et=0;et<=161;et++)J(T[et]);J(1);for(var lt=0;lt<16;lt++)J(C[lt+1]);for(var vt=0;vt<=11;vt++)J(I[vt]);J(17);for(var wt=0;wt<16;wt++)J($[wt+1]);for(var tt=0;tt<=161;tt++)J(G[tt])}(),Y(65498),Y(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var ee=0,ie=0,K=0;b=0,x=7,this.encode.displayName="_encode_";for(var se,de,ae,xe,ye,pe,Pe,De,be,re=L.data,Ue=L.width,Fe=L.height,Ae=4*Ue,ke=0;ke<Fe;){for(se=0;se<Ae;){for(ye=Ae*ke+se,Pe=-1,De=0,be=0;be<64;be++)pe=ye+(De=be>>3)*Ae+(Pe=4*(7&be)),ke+De>=Fe&&(pe-=Ae*(ke+1+De-Fe)),se+Pe>=Ae&&(pe-=se+Pe-Ae+4),de=re[pe++],ae=re[pe++],xe=re[pe++],w[be]=(P[de]+P[ae+256>>0]+P[xe+512>>0]>>16)-128,j[be]=(P[de+768>>0]+P[ae+1024>>0]+P[xe+1280>>0]>>16)-128,_[be]=(P[de+1280>>0]+P[ae+1536>>0]+P[xe+1792>>0]>>16)-128;ee=Q(w,u,ee,t,n),ie=Q(j,d,ie,r,a),K=Q(_,d,K,r,a),se+=32}ke+=8}if(x>=0){var Me=[];Me[1]=x+1,Me[0]=(1<<x+1)-1,Z(Me)}return Y(65497),new Uint8Array(g)},e=e||50,function(){for(var L=String.fromCharCode,q=0;q<256;q++)S[q]=L(q)}(),t=H(E,k),r=H(C,I),n=H(M,T),a=H($,G),function(){for(var L=1,q=2,ee=1;ee<=15;ee++){for(var ie=L;ie<q;ie++)p[32767+ie]=ee,f[32767+ie]=[],f[32767+ie][1]=ee,f[32767+ie][0]=ie;for(var K=-(q-1);K<=-L;K++)p[32767+K]=ee,f[32767+K]=[],f[32767+K][1]=ee,f[32767+K][0]=q-1+K;L<<=1,q<<=1}}(),function(){for(var L=0;L<256;L++)P[L]=19595*L,P[L+256>>0]=38470*L,P[L+512>>0]=7471*L+32768,P[L+768>>0]=-11059*L,P[L+1024>>0]=-21709*L,P[L+1280>>0]=32768*L+8421375,P[L+1536>>0]=-27439*L,P[L+1792>>0]=-5329*L}(),oe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Sa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function n2(e){function t(E){if(!E)throw Error("assert :P")}function r(E,k,M){for(var T=0;4>T;T++)if(E[k+T]!=M.charCodeAt(T))return!0;return!1}function n(E,k,M,T,C){for(var I=0;I<C;I++)E[k+I]=M[T+I]}function a(E,k,M,T){for(var C=0;C<T;C++)E[k+C]=M}function i(E){return new Int32Array(E)}function o(E,k){for(var M=[],T=0;T<E;T++)M.push(new k);return M}function s(E,k){var M=[];return function T(C,I,$){for(var G=$[I],H=0;H<G&&(C.push($.length>I+1?[]:new k),!($.length<I+1));H++)T(C[H],I+1,$)}(M,0,E),M}var l=function(){var E=this;function k(m,y){for(var O=1<<y-1>>>0;m&O;)O>>>=1;return O?(m&O-1)+O:m}function M(m,y,O,D,R){t(!(D%O));do m[y+(D-=O)]=R;while(0<D)}function T(m,y,O,D,R){if(t(2328>=R),512>=R)var U=i(512);else if((U=i(R))==null)return 0;return function(W,V,X,te,ce,ge){var ve,he,Ee=V,we=1<<X,ue=i(16),fe=i(16);for(t(ce!=0),t(te!=null),t(W!=null),t(0<X),he=0;he<ce;++he){if(15<te[he])return 0;++ue[te[he]]}if(ue[0]==ce)return 0;for(fe[1]=0,ve=1;15>ve;++ve){if(ue[ve]>1<<ve)return 0;fe[ve+1]=fe[ve]+ue[ve]}for(he=0;he<ce;++he)ve=te[he],0<te[he]&&(ge[fe[ve]++]=he);if(fe[15]==1)return(te=new C).g=0,te.value=ge[0],M(W,Ee,1,we,te),we;var _e,Te=-1,Oe=we-1,qe=0,$e=1,Qe=1,Re=1<<X;for(he=0,ve=1,ce=2;ve<=X;++ve,ce<<=1){if($e+=Qe<<=1,0>(Qe-=ue[ve]))return 0;for(;0<ue[ve];--ue[ve])(te=new C).g=ve,te.value=ge[he++],M(W,Ee+qe,ce,Re,te),qe=k(qe,ve)}for(ve=X+1,ce=2;15>=ve;++ve,ce<<=1){if($e+=Qe<<=1,0>(Qe-=ue[ve]))return 0;for(;0<ue[ve];--ue[ve]){if(te=new C,(qe&Oe)!=Te){for(Ee+=Re,_e=1<<(Te=ve)-X;15>Te&&!(0>=(_e-=ue[Te]));)++Te,_e<<=1;we+=Re=1<<(_e=Te-X),W[V+(Te=qe&Oe)].g=_e+X,W[V+Te].value=Ee-V-Te}te.g=ve-X,te.value=ge[he++],M(W,Ee+(qe>>X),ce,Re,te),qe=k(qe,ve)}}return $e!=2*fe[15]-1?0:we}(m,y,O,D,R,U)}function C(){this.value=this.g=0}function I(){this.value=this.g=0}function $(){this.G=o(5,C),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Rr,I)}function G(m,y,O,D){t(m!=null),t(y!=null),t(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=y,m.pa=O,m.Jd=y,m.Yc=O+D,m.Zc=4<=D?O+D-4+1:O,se(m)}function H(m,y){for(var O=0;0<y--;)O|=ae(m,128)<<y;return O}function Z(m,y){var O=H(m,y);return de(m)?-O:O}function J(m,y,O,D){var R,U=0;for(t(m!=null),t(y!=null),t(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),R=0;R<D;++R)U+=y[O+R]<<8*R;m.Ra=U,m.bb=D,m.oa=y,m.pa=O}function Y(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Js-8>>>0,++m.bb,m.u-=8;ee(m)&&(m.h=1,m.u=0)}function Q(m,y){if(t(0<=y),!m.h&&y<=Zs){var O=q(m)&Xs[y];return m.u+=y,Y(m),O}return m.h=1,m.u=0}function oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(m){return m.Ra>>>(m.u&Js-1)>>>0}function ee(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Js}function ie(m,y){m.u=y,m.h=ee(m)}function K(m){m.u>=eu&&(t(m.u>=eu),Y(m))}function se(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function de(m){return H(m,1)}function ae(m,y){var O=m.Ca;0>m.b&&se(m);var D=m.b,R=O*y>>>8,U=(m.I>>>D>R)+0;for(U?(O-=R,m.I-=R+1<<D>>>0):O=R+1,D=O,R=0;256<=D;)R+=8,D>>=8;return D=7^R+gn[D],m.b-=D,m.Ca=(O<<D)-1,U}function xe(m,y,O){m[y+0]=O>>24&255,m[y+1]=O>>16&255,m[y+2]=O>>8&255,m[y+3]=O>>0&255}function ye(m,y){return m[y+0]<<0|m[y+1]<<8}function pe(m,y){return ye(m,y)|m[y+2]<<16}function Pe(m,y){return ye(m,y)|ye(m,y+2)<<16}function De(m,y){var O=1<<y;return t(m!=null),t(0<y),m.X=i(O),m.X==null?0:(m.Mb=32-y,m.Xa=y,1)}function be(m,y){t(m!=null),t(y!=null),t(m.Xa==y.Xa),n(y.X,0,m.X,0,1<<y.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Ue(m,y,O,D){t(O!=null),t(D!=null);var R=O[0],U=D[0];return R==0&&(R=(m*U+y/2)/y),U==0&&(U=(y*R+m/2)/m),0>=R||0>=U?0:(O[0]=R,D[0]=U,1)}function Fe(m,y){return m+(1<<y)-1>>>y}function Ae(m,y){return((4278255360&m)+(4278255360&y)>>>0&4278255360)+((16711935&m)+(16711935&y)>>>0&16711935)>>>0}function ke(m,y){E[y]=function(O,D,R,U,W,V,X){var te;for(te=0;te<W;++te){var ce=E[m](V[X+te-1],R,U+te);V[X+te]=Ae(O[D+te],ce)}}}function Me(){this.ud=this.hd=this.jd=0}function Ie(m,y){return((4278124286&(m^y))>>>1)+(m&y)>>>0}function Ge(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ze(m,y){return Ge(m+(m-y+.5>>1))}function et(m,y,O){return Math.abs(y-O)-Math.abs(m-O)}function lt(m,y,O,D,R,U,W){for(D=U[W-1],O=0;O<R;++O)U[W+O]=D=Ae(m[y+O],D)}function vt(m,y,O,D,R){var U;for(U=0;U<O;++U){var W=m[y+U],V=W>>8&255,X=16711935&(X=(X=16711935&W)+((V<<16)+V));D[R+U]=(4278255360&W)+X>>>0}}function wt(m,y){y.jd=m>>0&255,y.hd=m>>8&255,y.ud=m>>16&255}function tt(m,y,O,D,R,U){var W;for(W=0;W<D;++W){var V=y[O+W],X=V>>>8,te=V,ce=255&(ce=(ce=V>>>16)+((m.jd<<24>>24)*(X<<24>>24)>>>5));te=255&(te=(te=te+((m.hd<<24>>24)*(X<<24>>24)>>>5))+((m.ud<<24>>24)*(ce<<24>>24)>>>5)),R[U+W]=(4278255360&V)+(ce<<16)+te}}function Ye(m,y,O,D,R){E[y]=function(U,W,V,X,te,ce,ge,ve,he){for(X=ge;X<ve;++X)for(ge=0;ge<he;++ge)te[ce++]=R(V[D(U[W++])])},E[m]=function(U,W,V,X,te,ce,ge){var ve=8>>U.b,he=U.Ea,Ee=U.K[0],we=U.w;if(8>ve)for(U=(1<<U.b)-1,we=(1<<ve)-1;W<V;++W){var ue,fe=0;for(ue=0;ue<he;++ue)ue&U||(fe=D(X[te++])),ce[ge++]=R(Ee[fe&we]),fe>>=ve}else E["VP8LMapColor"+O](X,te,Ee,we,ce,ge,W,V,he)}}function Be(m,y,O,D,R){for(O=y+O;y<O;){var U=m[y++];D[R++]=U>>16&255,D[R++]=U>>8&255,D[R++]=U>>0&255}}function qr(m,y,O,D,R){for(O=y+O;y<O;){var U=m[y++];D[R++]=U>>16&255,D[R++]=U>>8&255,D[R++]=U>>0&255,D[R++]=U>>24&255}}function _t(m,y,O,D,R){for(O=y+O;y<O;){var U=(W=m[y++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;D[R++]=U,D[R++]=W}}function ua(m,y,O,D,R){for(O=y+O;y<O;){var U=(W=m[y++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;D[R++]=U,D[R++]=W}}function It(m,y,O,D,R){for(O=y+O;y<O;){var U=m[y++];D[R++]=U>>0&255,D[R++]=U>>8&255,D[R++]=U>>16&255}}function Qt(m,y,O,D,R,U){if(U==0)for(O=y+O;y<O;)xe(D,((U=m[y++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),R+=32;else n(D,R,m,y,O)}function Fa(m,y){E[y][0]=E[m+"0"],E[y][1]=E[m+"1"],E[y][2]=E[m+"2"],E[y][3]=E[m+"3"],E[y][4]=E[m+"4"],E[y][5]=E[m+"5"],E[y][6]=E[m+"6"],E[y][7]=E[m+"7"],E[y][8]=E[m+"8"],E[y][9]=E[m+"9"],E[y][10]=E[m+"10"],E[y][11]=E[m+"11"],E[y][12]=E[m+"12"],E[y][13]=E[m+"13"],E[y][14]=E[m+"0"],E[y][15]=E[m+"0"]}function Pt(m){return m==Mg||m==Ig||m==Lf||m==$g}function _o(){this.eb=[],this.size=this.A=this.fb=0}function rr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function da(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _o,this.f.kb=new rr,this.sd=null}function di(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Et(m,y){var O=m.T,D=y.ba.f.RGBA,R=D.eb,U=D.fb+m.ka*D.A,W=Hn[y.ba.S],V=m.y,X=m.O,te=m.f,ce=m.N,ge=m.ea,ve=m.W,he=y.cc,Ee=y.dc,we=y.Mc,ue=y.Nc,fe=m.ka,_e=m.ka+m.T,Te=m.U,Oe=Te+1>>1;for(fe==0?W(V,X,null,null,te,ce,ge,ve,te,ce,ge,ve,R,U,null,null,Te):(W(y.ec,y.fc,V,X,he,Ee,we,ue,te,ce,ge,ve,R,U-D.A,R,U,Te),++O);fe+2<_e;fe+=2)he=te,Ee=ce,we=ge,ue=ve,ce+=m.Rc,ve+=m.Rc,U+=2*D.A,W(V,(X+=2*m.fa)-m.fa,V,X,he,Ee,we,ue,te,ce,ge,ve,R,U-D.A,R,U,Te);return X+=m.fa,m.j+_e<m.o?(n(y.ec,y.fc,V,X,Te),n(y.cc,y.dc,te,ce,Oe),n(y.Mc,y.Nc,ge,ve,Oe),O--):1&_e||W(V,X,null,null,te,ce,ge,ve,te,ce,ge,ve,R,U+D.A,null,null,Te),O}function Ao(m,y,O){var D=m.F,R=[m.J];if(D!=null){var U=m.U,W=y.ba.S,V=W==Df||W==Lf;y=y.ba.f.RGBA;var X=[0],te=m.ka;X[0]=m.T,m.Kb&&(te==0?--X[0]:(--te,R[0]-=m.width),m.j+m.ka+m.T==m.o&&(X[0]=m.o-m.j-te));var ce=y.eb;te=y.fb+te*y.A,m=qt(D,R[0],m.width,U,X,ce,te+(V?0:3),y.A),t(O==X),m&&Pt(W)&&Un(ce,te,V,U,X,y.A)}return 0}function $r(m){var y=m.ma,O=y.ba.S,D=11>O,R=O==Cf||O==kf||O==Df||O==Lg||O==12||Pt(O);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Jc(y.Oa,m,R?11:12))return 0;if(R&&Pt(O)&&Ce(),m.da)alert("todo:use_scaling");else{if(D){if(y.Ib=ct,m.Kb){if(O=m.U+1>>1,y.memory=i(m.U+2*O),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+m.U,y.Mc=y.cc,y.Nc=y.dc+O,y.Ib=Et,Ce()}}else alert("todo:EmitYUV");R&&(y.Jb=Ao,D&&me())}if(D&&!hx){for(m=0;256>m;++m)nE[m]=89858*(m-128)+If>>Mf,oE[m]=-22014*(m-128)+If,iE[m]=-45773*(m-128),aE[m]=113618*(m-128)+If>>Mf;for(m=su;m<Bg;++m)y=76283*(m-16)+If>>Mf,sE[m-su]=Pn(y,255),lE[m-su]=Pn(y+8>>4,15);hx=1}return 1}function Ba(m){var y=m.ma,O=m.U,D=m.T;return t(!(1&m.ka)),0>=O||0>=D?0:(O=y.Ib(m,y),y.Jb!=null&&y.Jb(m,y,O),y.Dc+=O,1)}function za(m){m.ma.memory=null}function rt(m,y,O,D){return Q(m,8)!=47?0:(y[0]=Q(m,14)+1,O[0]=Q(m,14)+1,D[0]=Q(m,1),Q(m,3)!=0?0:!m.h)}function fa(m,y){if(4>m)return m+1;var O=m-2>>1;return(2+(1&m)<<O)+Q(y,O)+1}function qa(m,y){return 120<y?y-120:1<=(O=((O=UP[y-1])>>4)*m+(8-(15&O)))?O:1;var O}function pn(m,y,O){var D=q(O),R=m[y+=255&D].g-8;return 0<R&&(ie(O,O.u+8),D=q(O),y+=m[y].value,y+=D&(1<<R)-1),ie(O,O.u+m[y].g),m[y].value}function Sr(m,y,O){return O.g+=m.g,O.value+=m.value<<y>>>0,t(8>=O.g),m.g}function gr(m,y,O){var D=m.xc;return t((y=D==0?0:m.vc[m.md*(O>>D)+(y>>D)])<m.Wb),m.Ya[y]}function On(m,y,O,D){var R=m.ab,U=m.c*y,W=m.C;y=W+y;var V=O,X=D;for(D=m.Ta,O=m.Ua;0<R--;){var te=m.gc[R],ce=W,ge=y,ve=V,he=X,Ee=(X=D,V=O,te.Ea);switch(t(ce<ge),t(ge<=te.nc),te.hc){case 2:Nf(ve,he,(ge-ce)*Ee,X,V);break;case 0:var we=ce,ue=ge,fe=X,_e=V,Te=(Re=te).Ea;we==0&&(kg(ve,he,null,null,1,fe,_e),lt(ve,he+1,0,0,Te-1,fe,_e+1),he+=Te,_e+=Te,++we);for(var Oe=1<<Re.b,qe=Oe-1,$e=Fe(Te,Re.b),Qe=Re.K,Re=Re.w+(we>>Re.b)*$e;we<ue;){var Ot=Qe,Tt=Re,Nt=1;for(tu(ve,he,fe,_e-Te,1,fe,_e);Nt<Te;){var yt=(Nt&~qe)+Oe;yt>Te&&(yt=Te),(0,Hi[Ot[Tt++]>>8&15])(ve,he+ +Nt,fe,_e+Nt-Te,yt-Nt,fe,_e+Nt),Nt=yt}he+=Te,_e+=Te,++we&qe||(Re+=$e)}ge!=te.nc&&n(X,V-Ee,X,V+(ge-ce-1)*Ee,Ee);break;case 1:for(Ee=ve,ue=he,Te=(ve=te.Ea)-(_e=ve&~(fe=(he=1<<te.b)-1)),we=Fe(ve,te.b),Oe=te.K,te=te.w+(ce>>te.b)*we;ce<ge;){for(qe=Oe,$e=te,Qe=new Me,Re=ue+_e,Ot=ue+ve;ue<Re;)wt(qe[$e++],Qe),ko(Qe,Ee,ue,he,X,V),ue+=he,V+=he;ue<Ot&&(wt(qe[$e++],Qe),ko(Qe,Ee,ue,Te,X,V),ue+=Te,V+=Te),++ce&fe||(te+=we)}break;case 3:if(ve==X&&he==V&&0<te.b){for(ue=X,ve=Ee=V+(ge-ce)*Ee-(_e=(ge-ce)*Fe(te.Ea,te.b)),he=X,fe=V,we=[],_e=(Te=_e)-1;0<=_e;--_e)we[_e]=he[fe+_e];for(_e=Te-1;0<=_e;--_e)ue[ve+_e]=we[_e];Bn(te,ce,ge,X,Ee,X,V)}else Bn(te,ce,ge,ve,he,X,V)}V=D,X=O}X!=O&&n(D,O,V,X,U)}function Ds(m,y){var O=m.V,D=m.Ba+m.c*m.C,R=y-m.C;if(t(y<=m.l.o),t(16>=R),0<R){var U=m.l,W=m.Ta,V=m.Ua,X=U.width;if(On(m,R,O,D),R=V=[V],t((O=m.C)<(D=y)),t(U.v<U.va),D>U.o&&(D=U.o),O<U.j){var te=U.j-O;O=U.j,R[0]+=te*X}if(O>=D?O=0:(R[0]+=4*U.v,U.ka=O-U.j,U.U=U.va-U.v,U.T=D-O,O=1),O){if(V=V[0],11>(O=m.ca).S){var ce=O.f.RGBA,ge=(D=O.S,R=U.U,U=U.T,te=ce.eb,ce.A),ve=U;for(ce=ce.fb+m.Ma*ce.A;0<ve--;){var he=W,Ee=V,we=R,ue=te,fe=ce;switch(D){case Tf:vn(he,Ee,we,ue,fe);break;case Cf:nn(he,Ee,we,ue,fe);break;case Mg:nn(he,Ee,we,ue,fe),Un(ue,fe,0,we,1,0);break;case ax:gi(he,Ee,we,ue,fe);break;case kf:Qt(he,Ee,we,ue,fe,1);break;case Ig:Qt(he,Ee,we,ue,fe,1),Un(ue,fe,0,we,1,0);break;case Df:Qt(he,Ee,we,ue,fe,0);break;case Lf:Qt(he,Ee,we,ue,fe,0),Un(ue,fe,1,we,1,0);break;case Lg:Gi(he,Ee,we,ue,fe);break;case $g:Gi(he,Ee,we,ue,fe),zt(ue,fe,we,1,0);break;case ix:mi(he,Ee,we,ue,fe);break;default:t(0)}V+=X,ce+=ge}m.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=O.height)}}m.C=y,t(m.C<=m.i)}function fi(m){var y;if(0<m.ua)return 0;for(y=0;y<m.Wb;++y){var O=m.Ya[y].G,D=m.Ya[y].H;if(0<O[1][D[1]+0].g||0<O[2][D[2]+0].g||0<O[3][D[3]+0].g)return 0}return 1}function ha(m,y,O,D,R,U){if(m.Z!=0){var W=m.qd,V=m.rd;for(t(Xi[m.Z]!=null);y<O;++y)Xi[m.Z](W,V,D,R,D,R,U),W=D,V=R,R+=U;m.qd=W,m.rd=V}}function pa(m,y){var O=m.l.ma,D=O.Z==0||O.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,t(y<=m.l.o),y>D){var R=m.l.width,U=O.ca,W=O.tb+R*D,V=m.V,X=m.Ba+m.c*D,te=m.gc;t(m.ab==1),t(te[0].hc==3),_f(te[0],D,y,V,X,U,W),ha(O,D,y,U,W,R)}m.C=m.Ma=y}function ma(m,y,O,D,R,U,W){var V=m.$/D,X=m.$%D,te=m.m,ce=m.s,ge=O+m.$,ve=ge;R=O+D*R;var he=O+D*U,Ee=280+ce.ua,we=m.Pb?V:16777216,ue=0<ce.ua?ce.Wa:null,fe=ce.wc,_e=ge<he?gr(ce,X,V):null;t(m.C<U),t(he<=R);var Te=!1;e:for(;;){for(;Te||ge<he;){var Oe=0;if(V>=we){var qe=ge-O;t((we=m).Pb),we.wd=we.m,we.xd=qe,0<we.s.ua&&be(we.s.Wa,we.s.vb),we=V+HP}if(X&fe||(_e=gr(ce,X,V)),t(_e!=null),_e.Qb&&(y[ge]=_e.qb,Te=!0),!Te)if(K(te),_e.jc){Oe=te,qe=y;var $e=ge,Qe=_e.pd[q(Oe)&Rr-1];t(_e.jc),256>Qe.g?(ie(Oe,Oe.u+Qe.g),qe[$e]=Qe.value,Oe=0):(ie(Oe,Oe.u+Qe.g-256),t(256<=Qe.value),Oe=Qe.value),Oe==0&&(Te=!0)}else Oe=pn(_e.G[0],_e.H[0],te);if(te.h)break;if(Te||256>Oe){if(!Te)if(_e.nd)y[ge]=(_e.qb|Oe<<8)>>>0;else{if(K(te),Te=pn(_e.G[1],_e.H[1],te),K(te),qe=pn(_e.G[2],_e.H[2],te),$e=pn(_e.G[3],_e.H[3],te),te.h)break;y[ge]=($e<<24|Te<<16|Oe<<8|qe)>>>0}if(Te=!1,++ge,++X>=D&&(X=0,++V,W!=null&&V<=U&&!(V%16)&&W(m,V),ue!=null))for(;ve<ge;)Oe=y[ve++],ue.X[(506832829*Oe&4294967295)>>>ue.Mb]=Oe}else if(280>Oe){if(Oe=fa(Oe-256,te),qe=pn(_e.G[4],_e.H[4],te),K(te),qe=qa(D,qe=fa(qe,te)),te.h)break;if(ge-O<qe||R-ge<Oe)break e;for($e=0;$e<Oe;++$e)y[ge+$e]=y[ge+$e-qe];for(ge+=Oe,X+=Oe;X>=D;)X-=D,++V,W!=null&&V<=U&&!(V%16)&&W(m,V);if(t(ge<=R),X&fe&&(_e=gr(ce,X,V)),ue!=null)for(;ve<ge;)Oe=y[ve++],ue.X[(506832829*Oe&4294967295)>>>ue.Mb]=Oe}else{if(!(Oe<Ee))break e;for(Te=Oe-280,t(ue!=null);ve<ge;)Oe=y[ve++],ue.X[(506832829*Oe&4294967295)>>>ue.Mb]=Oe;Oe=ge,t(!(Te>>>(qe=ue).Xa)),y[Oe]=qe.X[Te],Te=!0}Te||t(te.h==ee(te))}if(m.Pb&&te.h&&ge<R)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&be(m.s.vb,m.s.Wa);else{if(te.h)break e;W!=null&&W(m,V>U?U:V),m.a=0,m.$=ge-O}return 1}return m.a=3,0}function Ua(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var y=m.Wa;y!=null&&(y.X=null),m.vb=null,t(m!=null)}function Fn(){var m=new Cg;return m==null?null:(m.a=0,m.xb=lx,Fa("Predictor","VP8LPredictors"),Fa("Predictor","VP8LPredictors_C"),Fa("PredictorAdd","VP8LPredictorsAdd"),Fa("PredictorAdd","VP8LPredictorsAdd_C"),Nf=vt,ko=tt,vn=Be,nn=qr,Gi=_t,mi=ua,gi=It,E.VP8LMapColor32b=Qs,E.VP8LMapColor8b=Af,m)}function Wa(m,y,O,D,R){var U=1,W=[m],V=[y],X=D.m,te=D.s,ce=null,ge=0;e:for(;;){if(O)for(;U&&Q(X,1);){var ve=W,he=V,Ee=D,we=1,ue=Ee.m,fe=Ee.gc[Ee.ab],_e=Q(ue,2);if(Ee.Oc&1<<_e)U=0;else{switch(Ee.Oc|=1<<_e,fe.hc=_e,fe.Ea=ve[0],fe.nc=he[0],fe.K=[null],++Ee.ab,t(4>=Ee.ab),_e){case 0:case 1:fe.b=Q(ue,3)+2,we=Wa(Fe(fe.Ea,fe.b),Fe(fe.nc,fe.b),0,Ee,fe.K),fe.K=fe.K[0];break;case 3:var Te,Oe=Q(ue,8)+1,qe=16<Oe?0:4<Oe?1:2<Oe?2:3;if(ve[0]=Fe(fe.Ea,qe),fe.b=qe,Te=we=Wa(Oe,1,0,Ee,fe.K)){var $e,Qe=Oe,Re=fe,Ot=1<<(8>>Re.b),Tt=i(Ot);if(Tt==null)Te=0;else{var Nt=Re.K[0],yt=Re.w;for(Tt[0]=Re.K[0][0],$e=1;$e<1*Qe;++$e)Tt[$e]=Ae(Nt[yt+$e],Tt[$e-1]);for(;$e<4*Ot;++$e)Tt[$e]=0;Re.K[0]=null,Re.K[0]=Tt,Te=1}}we=Te;break;case 2:break;default:t(0)}U=we}}if(W=W[0],V=V[0],U&&Q(X,1)&&!(U=1<=(ge=Q(X,4))&&11>=ge)){D.a=3;break e}var $t;if($t=U)t:{var Lt,ht,yr,yn=D,br=W,bn=V,Ct=ge,Tn=O,Cn=yn.m,Cr=yn.s,Fr=[null],on=1,Gn=0,Ya=WP[Ct];r:for(;;){if(Tn&&Q(Cn,1)){var kr=Q(Cn,3)+2,xi=Fe(br,kr),$o=Fe(bn,kr),al=xi*$o;if(!Wa(xi,$o,0,yn,Fr))break r;for(Fr=Fr[0],Cr.xc=kr,Lt=0;Lt<al;++Lt){var Zi=Fr[Lt]>>8&65535;Fr[Lt]=Zi,Zi>=on&&(on=Zi+1)}}if(Cn.h)break r;for(ht=0;5>ht;++ht){var ir=ox[ht];!ht&&0<Ct&&(ir+=1<<Ct),Gn<ir&&(Gn=ir)}var zg=o(on*Ya,C),gx=on,vx=o(gx,$);if(vx==null)var Rf=null;else t(65536>=gx),Rf=vx;var lu=i(Gn);if(Rf==null||lu==null||zg==null){yn.a=1;break r}var Ff=zg;for(Lt=yr=0;Lt<on;++Lt){var xa=Rf[Lt],il=xa.G,ol=xa.H,yx=0,Bf=1,bx=0;for(ht=0;5>ht;++ht){ir=ox[ht],il[ht]=Ff,ol[ht]=yr,!ht&&0<Ct&&(ir+=1<<Ct);a:{var zf,qg=ir,qf=yn,cu=lu,dE=Ff,fE=yr,Ug=0,Ji=qf.m,hE=Q(Ji,1);if(a(cu,0,0,qg),hE){var pE=Q(Ji,1)+1,mE=Q(Ji,1),xx=Q(Ji,mE==0?1:8);cu[xx]=1,pE==2&&(cu[xx=Q(Ji,8)]=1);var Uf=1}else{var wx=i(19),Sx=Q(Ji,4)+4;if(19<Sx){qf.a=3;var Wf=0;break a}for(zf=0;zf<Sx;++zf)wx[qP[zf]]=Q(Ji,3);var Wg=void 0,uu=void 0,jx=qf,gE=wx,Hf=qg,Nx=cu,Hg=0,Qi=jx.m,_x=8,Ax=o(128,C);n:for(;T(Ax,0,7,gE,19);){if(Q(Qi,1)){var vE=2+2*Q(Qi,3);if((Wg=2+Q(Qi,vE))>Hf)break n}else Wg=Hf;for(uu=0;uu<Hf&&Wg--;){K(Qi);var Ox=Ax[0+(127&q(Qi))];ie(Qi,Qi.u+Ox.g);var sl=Ox.value;if(16>sl)Nx[uu++]=sl,sl!=0&&(_x=sl);else{var yE=sl==16,Px=sl-16,bE=BP[Px],Ex=Q(Qi,FP[Px])+bE;if(uu+Ex>Hf)break n;for(var xE=yE?_x:0;0<Ex--;)Nx[uu++]=xE}}Hg=1;break n}Hg||(jx.a=3),Uf=Hg}(Uf=Uf&&!Ji.h)&&(Ug=T(dE,fE,8,cu,qg)),Uf&&Ug!=0?Wf=Ug:(qf.a=3,Wf=0)}if(Wf==0)break r;if(Bf&&zP[ht]==1&&(Bf=Ff[yr].g==0),yx+=Ff[yr].g,yr+=Wf,3>=ht){var du,Gg=lu[0];for(du=1;du<ir;++du)lu[du]>Gg&&(Gg=lu[du]);bx+=Gg}}if(xa.nd=Bf,xa.Qb=0,Bf&&(xa.qb=(il[3][ol[3]+0].value<<24|il[1][ol[1]+0].value<<16|il[2][ol[2]+0].value)>>>0,yx==0&&256>il[0][ol[0]+0].value&&(xa.Qb=1,xa.qb+=il[0][ol[0]+0].value<<8)),xa.jc=!xa.Qb&&6>bx,xa.jc){var Gf,wi=xa;for(Gf=0;Gf<Rr;++Gf){var eo=Gf,to=wi.pd[eo],Vf=wi.G[0][wi.H[0]+eo];256<=Vf.value?(to.g=Vf.g+256,to.value=Vf.value):(to.g=0,to.value=0,eo>>=Sr(Vf,8,to),eo>>=Sr(wi.G[1][wi.H[1]+eo],16,to),eo>>=Sr(wi.G[2][wi.H[2]+eo],0,to),Sr(wi.G[3][wi.H[3]+eo],24,to))}}}Cr.vc=Fr,Cr.Wb=on,Cr.Ya=Rf,Cr.yc=zg,$t=1;break t}$t=0}if(!(U=$t)){D.a=3;break e}if(0<ge){if(te.ua=1<<ge,!De(te.Wa,ge)){D.a=1,U=0;break e}}else te.ua=0;var Vg=D,Tx=W,wE=V,Yg=Vg.s,Kg=Yg.xc;if(Vg.c=Tx,Vg.i=wE,Yg.md=Fe(Tx,Kg),Yg.wc=Kg==0?-1:(1<<Kg)-1,O){D.xb=JP;break e}if((ce=i(W*V))==null){D.a=1,U=0;break e}U=(U=ma(D,ce,0,W,V,V,null))&&!X.h;break e}return U?(R!=null?R[0]=ce:(t(ce==null),t(O)),D.$=0,O||Ua(te)):Ua(te),U}function Oo(m,y){var O=m.c*m.i,D=O+y+16*y;return t(m.c<=y),m.V=i(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+O+y,1)}function Ls(m,y){var O=m.C,D=y-O,R=m.V,U=m.Ba+m.c*O;for(t(y<=m.l.o);0<D;){var W=16<D?16:D,V=m.l.ma,X=m.l.width,te=X*W,ce=V.ca,ge=V.tb+X*O,ve=m.Ta,he=m.Ua;On(m,W,R,U),fr(ve,he,ce,ge,te),ha(V,O,O+W,ce,ge,X),D-=W,R+=W*m.c,O+=W}t(O==y),m.C=m.Ma=y}function Ms(){this.ub=this.yd=this.td=this.Rb=0}function Is(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $s(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function nf(){this.Yb=function(){var m=[];return function y(O,D,R){for(var U=R[D],W=0;W<U&&(O.push(R.length>D+1?[]:0),!(R.length<D+1));W++)y(O[W],D+1,R)}(m,0,[3,11]),m}()}function lg(){this.jb=i(3),this.Wc=s([4,8],nf),this.Xc=s([4,17],nf)}function cg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Rs(){this.ld=this.La=this.dd=this.tc=0}function af(){this.Na=this.la=0}function ug(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ic(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dg(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rs),this.Y=0,this.ya=Array(new Ic),this.aa=0,this.l=new Fs}function of(){this.y=i(16),this.f=i(8),this.ea=i(8)}function fg(){this.cb=this.a=0,this.sc="",this.m=new oe,this.Od=new Ms,this.Kc=new Is,this.ed=new cg,this.Qa=new $s,this.Ic=this.$c=this.Aa=0,this.D=new dg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,oe),this.ia=0,this.pb=o(4,ug),this.Pa=new lg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new of),this.Hd=0,this.rb=Array(new af),this.sb=0,this.wa=Array(new Rs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ic),this.L=this.aa=0,this.gd=s([4,2],Rs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Fs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hg(){var m=new fg;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,ou||(ou=cf)),m}function ur(m,y,O){return m.a==0&&(m.a=y,m.sc=O,m.cb=0),0}function sf(m,y,O){return 3<=O&&m[y+0]==157&&m[y+1]==1&&m[y+2]==42}function lf(m,y){if(m==null)return 0;if(m.a=0,m.sc="OK",y==null)return ur(m,2,"null VP8Io passed to VP8GetHeaders()");var O=y.data,D=y.w,R=y.ha;if(4>R)return ur(m,7,"Truncated header.");var U=O[D+0]|O[D+1]<<8|O[D+2]<<16,W=m.Od;if(W.Rb=!(1&U),W.td=U>>1&7,W.yd=U>>4&1,W.ub=U>>5,3<W.td)return ur(m,3,"Incorrect keyframe parameters.");if(!W.yd)return ur(m,4,"Frame not displayable.");D+=3,R-=3;var V=m.Kc;if(W.Rb){if(7>R)return ur(m,7,"cannot parse picture header");if(!sf(O,D,R))return ur(m,3,"Bad code word");V.c=16383&(O[D+4]<<8|O[D+3]),V.Td=O[D+4]>>6,V.i=16383&(O[D+6]<<8|O[D+5]),V.Ud=O[D+6]>>6,D+=7,R-=7,m.za=V.c+15>>4,m.Ub=V.i+15>>4,y.width=V.c,y.height=V.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((U=m.Pa).jb,0,255,U.jb.length),t((U=m.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,a(U.Zb,0,0,U.Zb.length),a(U.Lb,0,0,U.Lb)}if(W.ub>R)return ur(m,7,"bad partition length");G(U=m.m,O,D,W.ub),D+=W.ub,R-=W.ub,W.Rb&&(V.Ld=de(U),V.Kd=de(U)),V=m.Qa;var X,te=m.Pa;if(t(U!=null),t(V!=null),V.Cb=de(U),V.Cb){if(V.Bb=de(U),de(U)){for(V.Fb=de(U),X=0;4>X;++X)V.Zb[X]=de(U)?Z(U,7):0;for(X=0;4>X;++X)V.Lb[X]=de(U)?Z(U,6):0}if(V.Bb)for(X=0;3>X;++X)te.jb[X]=de(U)?H(U,8):255}else V.Bb=0;if(U.Ka)return ur(m,3,"cannot parse segment header");if((V=m.ed).zd=de(U),V.Tb=H(U,6),V.wb=H(U,3),V.Pc=de(U),V.Pc&&de(U)){for(te=0;4>te;++te)de(U)&&(V.vd[te]=Z(U,6));for(te=0;4>te;++te)de(U)&&(V.od[te]=Z(U,6))}if(m.L=V.Tb==0?0:V.zd?1:2,U.Ka)return ur(m,3,"cannot parse filter header");var ce=R;if(R=X=D,D=X+ce,V=ce,m.Xb=(1<<H(m.m,2))-1,ce<3*(te=m.Xb))O=7;else{for(X+=3*te,V-=3*te,ce=0;ce<te;++ce){var ge=O[R+0]|O[R+1]<<8|O[R+2]<<16;ge>V&&(ge=V),G(m.Jc[+ce],O,X,ge),X+=ge,V-=ge,R+=3}G(m.Jc[+te],O,X,V),O=X<D?0:5}if(O!=0)return ur(m,O,"cannot parse partitions");for(O=H(X=m.m,7),R=de(X)?Z(X,4):0,D=de(X)?Z(X,4):0,V=de(X)?Z(X,4):0,te=de(X)?Z(X,4):0,X=de(X)?Z(X,4):0,ce=m.Qa,ge=0;4>ge;++ge){if(ce.Cb){var ve=ce.Zb[ge];ce.Fb||(ve+=O)}else{if(0<ge){m.pb[ge]=m.pb[0];continue}ve=O}var he=m.pb[ge];he.Sc[0]=Rg[Pn(ve+R,127)],he.Sc[1]=Fg[Pn(ve+0,127)],he.Eb[0]=2*Rg[Pn(ve+D,127)],he.Eb[1]=101581*Fg[Pn(ve+V,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=Rg[Pn(ve+te,117)],he.Qc[1]=Fg[Pn(ve+X,127)],he.lc=ve+X}if(!W.Rb)return ur(m,4,"Not a key frame.");for(de(U),W=m.Pa,O=0;4>O;++O){for(R=0;8>R;++R)for(D=0;3>D;++D)for(V=0;11>V;++V)te=ae(U,XP[O][R][D][V])?H(U,8):YP[O][R][D][V],W.Wc[O][R].Yb[D][V]=te;for(R=0;17>R;++R)W.Xc[O][R]=W.Wc[O][ZP[R]]}return m.kc=de(U),m.kc&&(m.Bd=H(U,8)),m.cb=1}function cf(m,y,O,D,R,U,W){var V=y[R].Yb[O];for(O=0;16>R;++R){if(!ae(m,V[O+0]))return R;for(;!ae(m,V[O+1]);)if(V=y[++R].Yb[0],O=0,R==16)return 16;var X=y[R+1].Yb;if(ae(m,V[O+2])){var te=m,ce=0;if(ae(te,(ve=V)[(ge=O)+3]))if(ae(te,ve[ge+6])){for(V=0,ge=2*(ce=ae(te,ve[ge+8]))+(ve=ae(te,ve[ge+9+ce])),ce=0,ve=GP[ge];ve[V];++V)ce+=ce+ae(te,ve[V]);ce+=3+(8<<ge)}else ae(te,ve[ge+7])?(ce=7+2*ae(te,165),ce+=ae(te,145)):ce=5+ae(te,159);else ce=ae(te,ve[ge+4])?3+ae(te,ve[ge+5]):2;V=X[2]}else ce=1,V=X[1];X=W+VP[R],0>(te=m).b&&se(te);var ge,ve=te.b,he=(ge=te.Ca>>1)-(te.I>>ve)>>31;--te.b,te.Ca+=he,te.Ca|=1,te.I-=(ge+1&he)<<ve,U[X]=((ce^he)-he)*D[(0<R)+0]}return 16}function $c(m){var y=m.rb[m.sb-1];y.la=0,y.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function pg(m,y){if(m==null)return 0;if(y==null)return ur(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!lf(m,y))return 0;if(t(m.cb),y.ac==null||y.ac(y)){y.ob&&(m.L=0);var O=$f[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=y.v-O>>4,m.zb=y.j-O>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=y.o+15+O>>4,m.Hb=y.va+15+O>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var D=m.ed;for(O=0;4>O;++O){var R;if(m.Qa.Cb){var U=m.Qa.Lb[O];m.Qa.Fb||(U+=D.Tb)}else U=D.Tb;for(R=0;1>=R;++R){var W=m.gd[O][R],V=U;if(D.Pc&&(V+=D.vd[0],R&&(V+=D.od[0])),0<(V=0>V?0:63<V?63:V)){var X=V;0<D.wb&&(X=4<D.wb?X>>2:X>>1)>9-D.wb&&(X=9-D.wb),1>X&&(X=1),W.dd=X,W.tc=2*V+X,W.ld=40<=V?2:15<=V?1:0}else W.tc=0;W.La=R}}}O=0}else ur(m,6,"Frame setup failed"),O=m.a;if(O=O==0){if(O){m.$c=0,0<m.Aa||(m.Ic=uE);e:{O=m.Ic,D=4*(X=m.za);var te=32*X,ce=X+1,ge=0<m.L?X*(0<m.Aa?2:1):0,ve=(m.Aa==2?2:1)*X;if((W=D+832+(R=3*(16*O+$f[m.L])/2*te)+(U=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=W)O=0;else{if(W>m.Vb){if(m.Vb=0,m.Ec=i(W),m.Fc=0,m.Ec==null){O=ur(m,1,"no memory during frame initialization.");break e}m.Vb=W}W=m.Ec,V=m.Fc,m.Ac=W,m.Bc=V,V+=D,m.Gd=o(te,of),m.Hd=0,m.rb=o(ce+1,af),m.sb=1,m.wa=ge?o(ge,Rs):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=X),t(!0),m.oc=W,m.pc=V,V+=832,m.ya=o(ve,Ic),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=X),m.R=16*X,m.B=8*X,X=(te=$f[m.L])*m.R,te=te/2*m.B,m.sa=W,m.ta=V+X,m.qa=m.sa,m.ra=m.ta+16*O*m.R+te,m.Ha=m.qa,m.Ia=m.ra+8*O*m.B+te,m.$c=0,V+=R,m.mb=U?W:null,m.nb=U?V:null,t(V+U<=m.Fc+m.Vb),$c(m),a(m.Ac,m.Bc,0,D),O=1}}if(O){if(y.ka=0,y.y=m.sa,y.O=m.ta,y.f=m.qa,y.N=m.ra,y.ea=m.Ha,y.Vd=m.Ia,y.fa=m.R,y.Rc=m.B,y.F=null,y.J=0,!Pf){for(O=-255;255>=O;++O)jr[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)yi[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)iu[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)nl[255+O]=0>O?0:255<O?255:O;Pf=1}el=vg,vi=mg,ru=df,an=gg,zn=ff,dr=uf,tl=Uc,Of=To,nu=Tg,Do=Wc,Lo=Eg,Vi=Hs,Mo=Hc,rl=wf,Io=xf,Yi=Ga,au=pi,qn=Pg,ba[0]=Ha,ba[1]=yg,ba[2]=Sg,ba[3]=jg,ba[4]=mf,ba[5]=Us,ba[6]=gf,ba[7]=Bc,ba[8]=_g,ba[9]=Ng,Ki[0]=hf,Ki[1]=xg,Ki[2]=hi,Ki[3]=zs,Ki[4]=Ur,Ki[5]=wg,Ki[6]=pf,bi[0]=qi,bi[1]=bg,bi[2]=Ag,bi[3]=zc,bi[4]=Eo,bi[5]=Og,bi[6]=qc,O=1}else O=0}O&&(O=function(he,Ee){for(he.M=0;he.M<he.Va;++he.M){var we,ue=he.Jc[he.M&he.Xb],fe=he.m,_e=he;for(we=0;we<_e.za;++we){var Te=fe,Oe=_e,qe=Oe.Ac,$e=Oe.Bc+4*we,Qe=Oe.zc,Re=Oe.ya[Oe.aa+we];if(Oe.Qa.Bb?Re.$b=ae(Te,Oe.Pa.jb[0])?2+ae(Te,Oe.Pa.jb[2]):ae(Te,Oe.Pa.jb[1]):Re.$b=0,Oe.kc&&(Re.Ad=ae(Te,Oe.Bd)),Re.Za=!ae(Te,145)+0,Re.Za){var Ot=Re.Ob,Tt=0;for(Oe=0;4>Oe;++Oe){var Nt,yt=Qe[0+Oe];for(Nt=0;4>Nt;++Nt){yt=KP[qe[$e+Nt]][yt];for(var $t=sx[ae(Te,yt[0])];0<$t;)$t=sx[2*$t+ae(Te,yt[$t])];yt=-$t,qe[$e+Nt]=yt}n(Ot,Tt,qe,$e,4),Tt+=4,Qe[0+Oe]=yt}}else yt=ae(Te,156)?ae(Te,128)?1:3:ae(Te,163)?2:0,Re.Ob[0]=yt,a(qe,$e,yt,4),a(Qe,0,yt,4);Re.Dd=ae(Te,142)?ae(Te,114)?ae(Te,183)?1:3:2:0}if(_e.m.Ka)return ur(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(_e=ue,Te=(fe=he).rb[fe.sb-1],qe=fe.rb[fe.sb+fe.ja],we=fe.ya[fe.aa+fe.ja],$e=fe.kc?we.Ad:0)Te.la=qe.la=0,we.Za||(Te.Na=qe.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var Lt,ht;if(Te=qe,qe=_e,$e=fe.Pa.Xc,Qe=fe.ya[fe.aa+fe.ja],Re=fe.pb[Qe.$b],Oe=Qe.ad,Ot=0,Tt=fe.rb[fe.sb-1],yt=Nt=0,a(Oe,Ot,0,384),Qe.Za)var yr=0,yn=$e[3];else{$t=i(16);var br=Te.Na+Tt.Na;if(br=ou(qe,$e[1],br,Re.Eb,0,$t,0),Te.Na=Tt.Na=(0<br)+0,1<br)el($t,0,Oe,Ot);else{var bn=$t[0]+3>>3;for($t=0;256>$t;$t+=16)Oe[Ot+$t]=bn}yr=1,yn=$e[0]}var Ct=15&Te.la,Tn=15&Tt.la;for($t=0;4>$t;++$t){var Cn=1&Tn;for(bn=ht=0;4>bn;++bn)Ct=Ct>>1|(Cn=(br=ou(qe,yn,br=Cn+(1&Ct),Re.Sc,yr,Oe,Ot))>yr)<<7,ht=ht<<2|(3<br?3:1<br?2:Oe[Ot+0]!=0),Ot+=16;Ct>>=4,Tn=Tn>>1|Cn<<7,Nt=(Nt<<8|ht)>>>0}for(yn=Ct,yr=Tn>>4,Lt=0;4>Lt;Lt+=2){for(ht=0,Ct=Te.la>>4+Lt,Tn=Tt.la>>4+Lt,$t=0;2>$t;++$t){for(Cn=1&Tn,bn=0;2>bn;++bn)br=Cn+(1&Ct),Ct=Ct>>1|(Cn=0<(br=ou(qe,$e[2],br,Re.Qc,0,Oe,Ot)))<<3,ht=ht<<2|(3<br?3:1<br?2:Oe[Ot+0]!=0),Ot+=16;Ct>>=2,Tn=Tn>>1|Cn<<5}yt|=ht<<4*Lt,yn|=Ct<<4<<Lt,yr|=(240&Tn)<<Lt}Te.la=yn,Tt.la=yr,Qe.Hc=Nt,Qe.Gc=yt,Qe.ia=43690&yt?0:Re.ia,$e=!(Nt|yt)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[we.$b][we.Za],fe.wa[fe.Y+fe.ja].La|=!$e),_e.Ka)return ur(he,7,"Premature end-of-file encountered.")}if($c(he),fe=Ee,_e=1,we=(ue=he).D,Te=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(we.M=ue.M,we.uc=Te,Zc(ue,we),_e=1,we=(ht=ue.D).Nb,Te=(yt=$f[ue.L])*ue.R,qe=yt/2*ue.B,$t=16*we*ue.R,bn=8*we*ue.B,$e=ue.sa,Qe=ue.ta-Te+$t,Re=ue.qa,Oe=ue.ra-qe+bn,Ot=ue.Ha,Tt=ue.Ia-qe+bn,Tn=(Ct=ht.M)==0,Nt=Ct>=ue.Va-1,ue.Aa==2&&Zc(ue,ht),ht.uc)for(Cn=(br=ue).D.M,t(br.D.uc),ht=br.yb;ht<br.Hb;++ht){yr=ht,yn=Cn;var Cr=(Fr=(ir=br).D).Nb;Lt=ir.R;var Fr=Fr.wa[Fr.Y+yr],on=ir.sa,Gn=ir.ta+16*Cr*Lt+16*yr,Ya=Fr.dd,kr=Fr.tc;if(kr!=0)if(t(3<=kr),ir.L==1)0<yr&&Yi(on,Gn,Lt,kr+4),Fr.La&&qn(on,Gn,Lt,kr),0<yn&&Io(on,Gn,Lt,kr+4),Fr.La&&au(on,Gn,Lt,kr);else{var xi=ir.B,$o=ir.qa,al=ir.ra+8*Cr*xi+8*yr,Zi=ir.Ha,ir=ir.Ia+8*Cr*xi+8*yr;Cr=Fr.ld,0<yr&&(Of(on,Gn,Lt,kr+4,Ya,Cr),Do($o,al,Zi,ir,xi,kr+4,Ya,Cr)),Fr.La&&(Vi(on,Gn,Lt,kr,Ya,Cr),rl($o,al,Zi,ir,xi,kr,Ya,Cr)),0<yn&&(tl(on,Gn,Lt,kr+4,Ya,Cr),nu($o,al,Zi,ir,xi,kr+4,Ya,Cr)),Fr.La&&(Lo(on,Gn,Lt,kr,Ya,Cr),Mo($o,al,Zi,ir,xi,kr,Ya,Cr))}}if(ue.ia&&alert("todo:DitherRow"),fe.put!=null){if(ht=16*Ct,Ct=16*(Ct+1),Tn?(fe.y=ue.sa,fe.O=ue.ta+$t,fe.f=ue.qa,fe.N=ue.ra+bn,fe.ea=ue.Ha,fe.W=ue.Ia+bn):(ht-=yt,fe.y=$e,fe.O=Qe,fe.f=Re,fe.N=Oe,fe.ea=Ot,fe.W=Tt),Nt||(Ct-=yt),Ct>fe.o&&(Ct=fe.o),fe.F=null,fe.J=null,ue.Fa!=null&&0<ue.Fa.length&&ht<Ct&&(fe.J=Kc(ue,fe,ht,Ct-ht),fe.F=ue.mb,fe.F==null&&fe.F.length==0)){_e=ur(ue,3,"Could not decode alpha data.");break e}ht<fe.j&&(yt=fe.j-ht,ht=fe.j,t(!(1&yt)),fe.O+=ue.R*yt,fe.N+=ue.B*(yt>>1),fe.W+=ue.B*(yt>>1),fe.F!=null&&(fe.J+=fe.width*yt)),ht<Ct&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=ht-fe.j,fe.U=fe.va-fe.v,fe.T=Ct-ht,_e=fe.put(fe))}we+1!=ue.Ic||Nt||(n(ue.sa,ue.ta-Te,$e,Qe+16*ue.R,Te),n(ue.qa,ue.ra-qe,Re,Oe+8*ue.B,qe),n(ue.Ha,ue.Ia-qe,Ot,Tt+8*ue.B,qe))}if(!_e)return ur(he,6,"Output aborted.")}return 1}(m,y)),y.bc!=null&&y.bc(y),O&=1}return O?(m.cb=0,O):0}function ga(m,y,O,D,R){R=m[y+O+32*D]+(R>>3),m[y+O+32*D]=-256&R?0>R?0:255:R}function Bs(m,y,O,D,R,U){ga(m,y,0,O,D+R),ga(m,y,1,O,D+U),ga(m,y,2,O,D-U),ga(m,y,3,O,D-R)}function mn(m){return(20091*m>>16)+m}function Rc(m,y,O,D){var R,U=0,W=i(16);for(R=0;4>R;++R){var V=m[y+0]+m[y+8],X=m[y+0]-m[y+8],te=(35468*m[y+4]>>16)-mn(m[y+12]),ce=mn(m[y+4])+(35468*m[y+12]>>16);W[U+0]=V+ce,W[U+1]=X+te,W[U+2]=X-te,W[U+3]=V-ce,U+=4,y++}for(R=U=0;4>R;++R)V=(m=W[U+0]+4)+W[U+8],X=m-W[U+8],te=(35468*W[U+4]>>16)-mn(W[U+12]),ga(O,D,0,0,V+(ce=mn(W[U+4])+(35468*W[U+12]>>16))),ga(O,D,1,0,X+te),ga(O,D,2,0,X-te),ga(O,D,3,0,V-ce),U++,D+=32}function uf(m,y,O,D){var R=m[y+0]+4,U=35468*m[y+4]>>16,W=mn(m[y+4]),V=35468*m[y+1]>>16;Bs(O,D,0,R+W,m=mn(m[y+1]),V),Bs(O,D,1,R+U,m,V),Bs(O,D,2,R-U,m,V),Bs(O,D,3,R-W,m,V)}function mg(m,y,O,D,R){Rc(m,y,O,D),R&&Rc(m,y+16,O,D+4)}function df(m,y,O,D){vi(m,y+0,O,D,1),vi(m,y+32,O,D+128,1)}function gg(m,y,O,D){var R;for(m=m[y+0]+4,R=0;4>R;++R)for(y=0;4>y;++y)ga(O,D,y,R,m)}function ff(m,y,O,D){m[y+0]&&an(m,y+0,O,D),m[y+16]&&an(m,y+16,O,D+4),m[y+32]&&an(m,y+32,O,D+128),m[y+48]&&an(m,y+48,O,D+128+4)}function vg(m,y,O,D){var R,U=i(16);for(R=0;4>R;++R){var W=m[y+0+R]+m[y+12+R],V=m[y+4+R]+m[y+8+R],X=m[y+4+R]-m[y+8+R],te=m[y+0+R]-m[y+12+R];U[0+R]=W+V,U[8+R]=W-V,U[4+R]=te+X,U[12+R]=te-X}for(R=0;4>R;++R)W=(m=U[0+4*R]+3)+U[3+4*R],V=U[1+4*R]+U[2+4*R],X=U[1+4*R]-U[2+4*R],te=m-U[3+4*R],O[D+0]=W+V>>3,O[D+16]=te+X>>3,O[D+32]=W-V>>3,O[D+48]=te-X>>3,D+=64}function Fc(m,y,O){var D,R=y-32,U=En,W=255-m[R-1];for(D=0;D<O;++D){var V,X=U,te=W+m[y-1];for(V=0;V<O;++V)m[y+V]=X[te+m[R+V]];y+=32}}function yg(m,y){Fc(m,y,4)}function bg(m,y){Fc(m,y,8)}function xg(m,y){Fc(m,y,16)}function hi(m,y){var O;for(O=0;16>O;++O)n(m,y+32*O,m,y-32,16)}function zs(m,y){var O;for(O=16;0<O;--O)a(m,y,m[y-1],16),y+=32}function qs(m,y,O){var D;for(D=0;16>D;++D)a(y,O+32*D,m,16)}function hf(m,y){var O,D=16;for(O=0;16>O;++O)D+=m[y-1+32*O]+m[y+O-32];qs(D>>5,m,y)}function Ur(m,y){var O,D=8;for(O=0;16>O;++O)D+=m[y-1+32*O];qs(D>>4,m,y)}function wg(m,y){var O,D=8;for(O=0;16>O;++O)D+=m[y+O-32];qs(D>>4,m,y)}function pf(m,y){qs(128,m,y)}function st(m,y,O){return m+2*y+O+2>>2}function Sg(m,y){var O,D=y-32;for(D=new Uint8Array([st(m[D-1],m[D+0],m[D+1]),st(m[D+0],m[D+1],m[D+2]),st(m[D+1],m[D+2],m[D+3]),st(m[D+2],m[D+3],m[D+4])]),O=0;4>O;++O)n(m,y+32*O,D,0,D.length)}function jg(m,y){var O=m[y-1],D=m[y-1+32],R=m[y-1+64],U=m[y-1+96];xe(m,y+0,16843009*st(m[y-1-32],O,D)),xe(m,y+32,16843009*st(O,D,R)),xe(m,y+64,16843009*st(D,R,U)),xe(m,y+96,16843009*st(R,U,U))}function Ha(m,y){var O,D=4;for(O=0;4>O;++O)D+=m[y+O-32]+m[y-1+32*O];for(D>>=3,O=0;4>O;++O)a(m,y+32*O,D,4)}function mf(m,y){var O=m[y-1+0],D=m[y-1+32],R=m[y-1+64],U=m[y-1-32],W=m[y+0-32],V=m[y+1-32],X=m[y+2-32],te=m[y+3-32];m[y+0+96]=st(D,R,m[y-1+96]),m[y+1+96]=m[y+0+64]=st(O,D,R),m[y+2+96]=m[y+1+64]=m[y+0+32]=st(U,O,D),m[y+3+96]=m[y+2+64]=m[y+1+32]=m[y+0+0]=st(W,U,O),m[y+3+64]=m[y+2+32]=m[y+1+0]=st(V,W,U),m[y+3+32]=m[y+2+0]=st(X,V,W),m[y+3+0]=st(te,X,V)}function gf(m,y){var O=m[y+1-32],D=m[y+2-32],R=m[y+3-32],U=m[y+4-32],W=m[y+5-32],V=m[y+6-32],X=m[y+7-32];m[y+0+0]=st(m[y+0-32],O,D),m[y+1+0]=m[y+0+32]=st(O,D,R),m[y+2+0]=m[y+1+32]=m[y+0+64]=st(D,R,U),m[y+3+0]=m[y+2+32]=m[y+1+64]=m[y+0+96]=st(R,U,W),m[y+3+32]=m[y+2+64]=m[y+1+96]=st(U,W,V),m[y+3+64]=m[y+2+96]=st(W,V,X),m[y+3+96]=st(V,X,X)}function Us(m,y){var O=m[y-1+0],D=m[y-1+32],R=m[y-1+64],U=m[y-1-32],W=m[y+0-32],V=m[y+1-32],X=m[y+2-32],te=m[y+3-32];m[y+0+0]=m[y+1+64]=U+W+1>>1,m[y+1+0]=m[y+2+64]=W+V+1>>1,m[y+2+0]=m[y+3+64]=V+X+1>>1,m[y+3+0]=X+te+1>>1,m[y+0+96]=st(R,D,O),m[y+0+64]=st(D,O,U),m[y+0+32]=m[y+1+96]=st(O,U,W),m[y+1+32]=m[y+2+96]=st(U,W,V),m[y+2+32]=m[y+3+96]=st(W,V,X),m[y+3+32]=st(V,X,te)}function Bc(m,y){var O=m[y+0-32],D=m[y+1-32],R=m[y+2-32],U=m[y+3-32],W=m[y+4-32],V=m[y+5-32],X=m[y+6-32],te=m[y+7-32];m[y+0+0]=O+D+1>>1,m[y+1+0]=m[y+0+64]=D+R+1>>1,m[y+2+0]=m[y+1+64]=R+U+1>>1,m[y+3+0]=m[y+2+64]=U+W+1>>1,m[y+0+32]=st(O,D,R),m[y+1+32]=m[y+0+96]=st(D,R,U),m[y+2+32]=m[y+1+96]=st(R,U,W),m[y+3+32]=m[y+2+96]=st(U,W,V),m[y+3+64]=st(W,V,X),m[y+3+96]=st(V,X,te)}function Ng(m,y){var O=m[y-1+0],D=m[y-1+32],R=m[y-1+64],U=m[y-1+96];m[y+0+0]=O+D+1>>1,m[y+2+0]=m[y+0+32]=D+R+1>>1,m[y+2+32]=m[y+0+64]=R+U+1>>1,m[y+1+0]=st(O,D,R),m[y+3+0]=m[y+1+32]=st(D,R,U),m[y+3+32]=m[y+1+64]=st(R,U,U),m[y+3+64]=m[y+2+64]=m[y+0+96]=m[y+1+96]=m[y+2+96]=m[y+3+96]=U}function _g(m,y){var O=m[y-1+0],D=m[y-1+32],R=m[y-1+64],U=m[y-1+96],W=m[y-1-32],V=m[y+0-32],X=m[y+1-32],te=m[y+2-32];m[y+0+0]=m[y+2+32]=O+W+1>>1,m[y+0+32]=m[y+2+64]=D+O+1>>1,m[y+0+64]=m[y+2+96]=R+D+1>>1,m[y+0+96]=U+R+1>>1,m[y+3+0]=st(V,X,te),m[y+2+0]=st(W,V,X),m[y+1+0]=m[y+3+32]=st(O,W,V),m[y+1+32]=m[y+3+64]=st(D,O,W),m[y+1+64]=m[y+3+96]=st(R,D,O),m[y+1+96]=st(U,R,D)}function Ag(m,y){var O;for(O=0;8>O;++O)n(m,y+32*O,m,y-32,8)}function zc(m,y){var O;for(O=0;8>O;++O)a(m,y,m[y-1],8),y+=32}function Po(m,y,O){var D;for(D=0;8>D;++D)a(y,O+32*D,m,8)}function qi(m,y){var O,D=8;for(O=0;8>O;++O)D+=m[y+O-32]+m[y-1+32*O];Po(D>>4,m,y)}function Og(m,y){var O,D=4;for(O=0;8>O;++O)D+=m[y+O-32];Po(D>>3,m,y)}function Eo(m,y){var O,D=4;for(O=0;8>O;++O)D+=m[y-1+32*O];Po(D>>3,m,y)}function qc(m,y){Po(128,m,y)}function Ws(m,y,O){var D=m[y-O],R=m[y+0],U=3*(R-D)+Dg[1020+m[y-2*O]-m[y+O]],W=Ef[112+(U+4>>3)];m[y-O]=En[255+D+Ef[112+(U+3>>3)]],m[y+0]=En[255+R-W]}function vf(m,y,O,D){var R=m[y+0],U=m[y+O];return Wn[255+m[y-2*O]-m[y-O]]>D||Wn[255+U-R]>D}function yf(m,y,O,D){return 4*Wn[255+m[y-O]-m[y+0]]+Wn[255+m[y-2*O]-m[y+O]]<=D}function bf(m,y,O,D,R){var U=m[y-3*O],W=m[y-2*O],V=m[y-O],X=m[y+0],te=m[y+O],ce=m[y+2*O],ge=m[y+3*O];return 4*Wn[255+V-X]+Wn[255+W-te]>D?0:Wn[255+m[y-4*O]-U]<=R&&Wn[255+U-W]<=R&&Wn[255+W-V]<=R&&Wn[255+ge-ce]<=R&&Wn[255+ce-te]<=R&&Wn[255+te-X]<=R}function xf(m,y,O,D){var R=2*D+1;for(D=0;16>D;++D)yf(m,y+D,O,R)&&Ws(m,y+D,O)}function Ga(m,y,O,D){var R=2*D+1;for(D=0;16>D;++D)yf(m,y+D*O,1,R)&&Ws(m,y+D*O,1)}function pi(m,y,O,D){var R;for(R=3;0<R;--R)xf(m,y+=4*O,O,D)}function Pg(m,y,O,D){var R;for(R=3;0<R;--R)Ga(m,y+=4,O,D)}function Ui(m,y,O,D,R,U,W,V){for(U=2*U+1;0<R--;){if(bf(m,y,O,U,W))if(vf(m,y,O,V))Ws(m,y,O);else{var X=m,te=y,ce=O,ge=X[te-2*ce],ve=X[te-ce],he=X[te+0],Ee=X[te+ce],we=X[te+2*ce],ue=27*(_e=Dg[1020+3*(he-ve)+Dg[1020+ge-Ee]])+63>>7,fe=18*_e+63>>7,_e=9*_e+63>>7;X[te-3*ce]=En[255+X[te-3*ce]+_e],X[te-2*ce]=En[255+ge+fe],X[te-ce]=En[255+ve+ue],X[te+0]=En[255+he-ue],X[te+ce]=En[255+Ee-fe],X[te+2*ce]=En[255+we-_e]}y+=D}}function va(m,y,O,D,R,U,W,V){for(U=2*U+1;0<R--;){if(bf(m,y,O,U,W))if(vf(m,y,O,V))Ws(m,y,O);else{var X=m,te=y,ce=O,ge=X[te-ce],ve=X[te+0],he=X[te+ce],Ee=Ef[112+((we=3*(ve-ge))+4>>3)],we=Ef[112+(we+3>>3)],ue=Ee+1>>1;X[te-2*ce]=En[255+X[te-2*ce]+ue],X[te-ce]=En[255+ge+we],X[te+0]=En[255+ve-Ee],X[te+ce]=En[255+he-ue]}y+=D}}function Uc(m,y,O,D,R,U){Ui(m,y,O,1,16,D,R,U)}function To(m,y,O,D,R,U){Ui(m,y,1,O,16,D,R,U)}function Eg(m,y,O,D,R,U){var W;for(W=3;0<W;--W)va(m,y+=4*O,O,1,16,D,R,U)}function Hs(m,y,O,D,R,U){var W;for(W=3;0<W;--W)va(m,y+=4,1,O,16,D,R,U)}function Tg(m,y,O,D,R,U,W,V){Ui(m,y,R,1,8,U,W,V),Ui(O,D,R,1,8,U,W,V)}function Wc(m,y,O,D,R,U,W,V){Ui(m,y,1,R,8,U,W,V),Ui(O,D,1,R,8,U,W,V)}function Hc(m,y,O,D,R,U,W,V){va(m,y+4*R,R,1,8,U,W,V),va(O,D+4*R,R,1,8,U,W,V)}function wf(m,y,O,D,R,U,W,V){va(m,y+4,1,R,8,U,W,V),va(O,D+4,1,R,8,U,W,V)}function Gs(){this.ba=new da,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Gc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Vc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Sf(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new C}function Cg(){this.xb=this.a=0,this.l=new Fs,this.ca=new da,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Sf,this.ab=0,this.gc=o(4,Vc),this.Oc=0}function Vs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Fs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Co(m,y,O,D,R,U,W){for(m=m==null?0:m[y+0],y=0;y<W;++y)R[U+y]=m+O[D+y]&255,m=R[U+y]}function Yc(m,y,O,D,R,U,W){var V;if(m==null)Co(null,null,O,D,R,U,W);else for(V=0;V<W;++V)R[U+V]=m[y+V]+O[D+V]&255}function Wi(m,y,O,D,R,U,W){if(m==null)Co(null,null,O,D,R,U,W);else{var V,X=m[y+0],te=X,ce=X;for(V=0;V<W;++V)te=ce+(X=m[y+V])-te,ce=O[D+V]+(-256&te?0>te?0:255:te)&255,te=X,R[U+V]=ce}}function Kc(m,y,O,D){var R=y.width,U=y.o;if(t(m!=null&&y!=null),0>O||0>=D||O+D>U)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new Vs,(W=m.ga==null)||(W=y.width*y.o,t(m.Gb.length==0),m.Gb=i(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var V=m.Fa,X=m.P,te=m.qc,ce=m.mb,ge=m.nb,ve=X+1,he=te-1,Ee=W.l;if(t(V!=null&&ce!=null&&y!=null),Xi[0]=null,Xi[1]=Co,Xi[2]=Yc,Xi[3]=Wi,W.ca=ce,W.tb=ge,W.c=y.width,W.i=y.height,t(0<W.c&&0<W.i),1>=te)y=0;else if(W.$a=V[X+0]>>0&3,W.Z=V[X+0]>>2&3,W.Lc=V[X+0]>>4&3,X=V[X+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||X)y=0;else if(Ee.put=Ba,Ee.ac=$r,Ee.bc=za,Ee.ma=W,Ee.width=y.width,Ee.height=y.height,Ee.Da=y.Da,Ee.v=y.v,Ee.va=y.va,Ee.j=y.j,Ee.o=y.o,W.$a)e:{t(W.$a==1),y=Fn();t:for(;;){if(y==null){y=0;break e}if(t(W!=null),W.mc=y,y.c=W.c,y.i=W.i,y.l=W.l,y.l.ma=W,y.l.width=W.c,y.l.height=W.i,y.a=0,J(y.m,V,ve,he),!Wa(W.c,W.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&fi(y.s)?(W.ic=1,V=y.c*y.i,y.Ta=null,y.Ua=0,y.V=i(V),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(W.ic=0,y=Oo(y,W.c)),!y))break t;y=1;break e}W.mc=null,y=0}else y=he>=W.c*W.i;W=!y}if(W)return null;m.ga.Lc!=1?m.Ga=0:D=U-O}t(m.ga!=null),t(O+D<=U);e:{if(y=(V=m.ga).c,U=V.l.o,V.$a==0){if(ve=m.rc,he=m.Vc,Ee=m.Fa,X=m.P+1+O*y,te=m.mb,ce=m.nb+O*y,t(X<=m.P+m.qc),V.Z!=0)for(t(Xi[V.Z]!=null),W=0;W<D;++W)Xi[V.Z](ve,he,Ee,X,te,ce,y),ve=te,he=ce,ce+=y,X+=y;else for(W=0;W<D;++W)n(te,ce,Ee,X,y),ve=te,he=ce,ce+=y,X+=y;m.rc=ve,m.Vc=he}else{if(t(V.mc!=null),y=O+D,t((W=V.mc)!=null),t(y<=W.i),W.C>=y)y=1;else if(V.ic||me(),V.ic){V=W.V,ve=W.Ba,he=W.c;var we=W.i,ue=(Ee=1,X=W.$/he,te=W.$%he,ce=W.m,ge=W.s,W.$),fe=he*we,_e=he*y,Te=ge.wc,Oe=ue<_e?gr(ge,te,X):null;t(ue<=fe),t(y<=we),t(fi(ge));t:for(;;){for(;!ce.h&&ue<_e;){if(te&Te||(Oe=gr(ge,te,X)),t(Oe!=null),K(ce),256>(we=pn(Oe.G[0],Oe.H[0],ce)))V[ve+ue]=we,++ue,++te>=he&&(te=0,++X<=y&&!(X%16)&&pa(W,X));else{if(!(280>we)){Ee=0;break t}we=fa(we-256,ce);var qe,$e=pn(Oe.G[4],Oe.H[4],ce);if(K(ce),!(ue>=($e=qa(he,$e=fa($e,ce)))&&fe-ue>=we)){Ee=0;break t}for(qe=0;qe<we;++qe)V[ve+ue+qe]=V[ve+ue+qe-$e];for(ue+=we,te+=we;te>=he;)te-=he,++X<=y&&!(X%16)&&pa(W,X);ue<_e&&te&Te&&(Oe=gr(ge,te,X))}t(ce.h==ee(ce))}pa(W,X>y?y:X);break t}!Ee||ce.h&&ue<fe?(Ee=0,W.a=ce.h?5:3):W.$=ue,y=Ee}else y=ma(W,W.V,W.Ba,W.c,W.i,y,Ls);if(!y){D=0;break e}}O+D>=U&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+O*R}function N(m,y,O,D,R,U){for(;0<R--;){var W,V=m,X=y+(O?1:0),te=m,ce=y+(O?0:3);for(W=0;W<D;++W){var ge=te[ce+4*W];ge!=255&&(ge*=32897,V[X+4*W+0]=V[X+4*W+0]*ge>>23,V[X+4*W+1]=V[X+4*W+1]*ge>>23,V[X+4*W+2]=V[X+4*W+2]*ge>>23)}y+=U}}function F(m,y,O,D,R){for(;0<D--;){var U;for(U=0;U<O;++U){var W=m[y+2*U+0],V=15&(te=m[y+2*U+1]),X=4369*V,te=(240&te|te>>4)*X>>16;m[y+2*U+0]=(240&W|W>>4)*X>>16&240|(15&W|W<<4)*X>>16>>4&15,m[y+2*U+1]=240&te|V}y+=R}}function ne(m,y,O,D,R,U,W,V){var X,te,ce=255;for(te=0;te<R;++te){for(X=0;X<D;++X){var ge=m[y+X];U[W+4*X]=ge,ce&=ge}y+=O,W+=V}return ce!=255}function le(m,y,O,D,R){var U;for(U=0;U<R;++U)O[D+U]=m[y+U]>>8}function me(){Un=N,zt=F,qt=ne,fr=le}function Se(m,y,O){E[m]=function(D,R,U,W,V,X,te,ce,ge,ve,he,Ee,we,ue,fe,_e,Te){var Oe,qe=Te-1>>1,$e=V[X+0]|te[ce+0]<<16,Qe=ge[ve+0]|he[Ee+0]<<16;t(D!=null);var Re=3*$e+Qe+131074>>2;for(y(D[R+0],255&Re,Re>>16,we,ue),U!=null&&(Re=3*Qe+$e+131074>>2,y(U[W+0],255&Re,Re>>16,fe,_e)),Oe=1;Oe<=qe;++Oe){var Ot=V[X+Oe]|te[ce+Oe]<<16,Tt=ge[ve+Oe]|he[Ee+Oe]<<16,Nt=$e+Ot+Qe+Tt+524296,yt=Nt+2*(Ot+Qe)>>3;Re=yt+$e>>1,$e=(Nt=Nt+2*($e+Tt)>>3)+Ot>>1,y(D[R+2*Oe-1],255&Re,Re>>16,we,ue+(2*Oe-1)*O),y(D[R+2*Oe-0],255&$e,$e>>16,we,ue+(2*Oe-0)*O),U!=null&&(Re=Nt+Qe>>1,$e=yt+Tt>>1,y(U[W+2*Oe-1],255&Re,Re>>16,fe,_e+(2*Oe-1)*O),y(U[W+2*Oe+0],255&$e,$e>>16,fe,_e+(2*Oe+0)*O)),$e=Ot,Qe=Tt}1&Te||(Re=3*$e+Qe+131074>>2,y(D[R+Te-1],255&Re,Re>>16,we,ue+(Te-1)*O),U!=null&&(Re=3*Qe+$e+131074>>2,y(U[W+Te-1],255&Re,Re>>16,fe,_e+(Te-1)*O)))}}function Ce(){Hn[Tf]=QP,Hn[Cf]=cx,Hn[ax]=eE,Hn[kf]=ux,Hn[Df]=dx,Hn[Lg]=fx,Hn[ix]=tE,Hn[Mg]=cx,Hn[Ig]=ux,Hn[Lf]=dx,Hn[$g]=fx}function ze(m){return m&-16384?0>m?0:255:m>>rE}function Ke(m,y){return ze((19077*m>>8)+(26149*y>>8)-14234)}function ft(m,y,O){return ze((19077*m>>8)-(6419*y>>8)-(13320*O>>8)+8708)}function ut(m,y){return ze((19077*m>>8)+(33050*y>>8)-17685)}function St(m,y,O,D,R){D[R+0]=Ke(m,O),D[R+1]=ft(m,y,O),D[R+2]=ut(m,y)}function tr(m,y,O,D,R){D[R+0]=ut(m,y),D[R+1]=ft(m,y,O),D[R+2]=Ke(m,O)}function ar(m,y,O,D,R){var U=ft(m,y,O);y=U<<3&224|ut(m,y)>>3,D[R+0]=248&Ke(m,O)|U>>5,D[R+1]=y}function vr(m,y,O,D,R){var U=240&ut(m,y)|15;D[R+0]=240&Ke(m,O)|ft(m,y,O)>>4,D[R+1]=U}function Wr(m,y,O,D,R){D[R+0]=255,St(m,y,O,D,R+1)}function Tr(m,y,O,D,R){tr(m,y,O,D,R),D[R+3]=255}function ya(m,y,O,D,R){St(m,y,O,D,R),D[R+3]=255}function Pn(m,y){return 0>m?0:m>y?y:m}function Va(m,y,O){E[m]=function(D,R,U,W,V,X,te,ce,ge){for(var ve=ce+(-2&ge)*O;ce!=ve;)y(D[R+0],U[W+0],V[X+0],te,ce),y(D[R+1],U[W+0],V[X+0],te,ce+O),R+=2,++W,++X,ce+=2*O;1&ge&&y(D[R+0],U[W+0],V[X+0],te,ce)}}function jf(m,y,O){return O==0?m==0?y==0?6:5:y==0?4:0:O}function Xc(m,y,O,D,R){switch(m>>>30){case 3:vi(y,O,D,R,0);break;case 2:dr(y,O,D,R);break;case 1:an(y,O,D,R)}}function Zc(m,y){var O,D,R=y.M,U=y.Nb,W=m.oc,V=m.pc+40,X=m.oc,te=m.pc+584,ce=m.oc,ge=m.pc+600;for(O=0;16>O;++O)W[V+32*O-1]=129;for(O=0;8>O;++O)X[te+32*O-1]=129,ce[ge+32*O-1]=129;for(0<R?W[V-1-32]=X[te-1-32]=ce[ge-1-32]=129:(a(W,V-32-1,127,21),a(X,te-32-1,127,9),a(ce,ge-32-1,127,9)),D=0;D<m.za;++D){var ve=y.ya[y.aa+D];if(0<D){for(O=-1;16>O;++O)n(W,V+32*O-4,W,V+32*O+12,4);for(O=-1;8>O;++O)n(X,te+32*O-4,X,te+32*O+4,4),n(ce,ge+32*O-4,ce,ge+32*O+4,4)}var he=m.Gd,Ee=m.Hd+D,we=ve.ad,ue=ve.Hc;if(0<R&&(n(W,V-32,he[Ee].y,0,16),n(X,te-32,he[Ee].f,0,8),n(ce,ge-32,he[Ee].ea,0,8)),ve.Za){var fe=W,_e=V-32+16;for(0<R&&(D>=m.za-1?a(fe,_e,he[Ee].y[15],4):n(fe,_e,he[Ee+1].y,0,4)),O=0;4>O;O++)fe[_e+128+O]=fe[_e+256+O]=fe[_e+384+O]=fe[_e+0+O];for(O=0;16>O;++O,ue<<=2)fe=W,_e=V+px[O],ba[ve.Ob[O]](fe,_e),Xc(ue,we,16*+O,fe,_e)}else if(fe=jf(D,R,ve.Ob[0]),Ki[fe](W,V),ue!=0)for(O=0;16>O;++O,ue<<=2)Xc(ue,we,16*+O,W,V+px[O]);for(O=ve.Gc,fe=jf(D,R,ve.Dd),bi[fe](X,te),bi[fe](ce,ge),ue=we,fe=X,_e=te,255&(ve=O>>0)&&(170&ve?ru(ue,256,fe,_e):zn(ue,256,fe,_e)),ve=ce,ue=ge,255&(O>>=8)&&(170&O?ru(we,320,ve,ue):zn(we,320,ve,ue)),R<m.Ub-1&&(n(he[Ee].y,0,W,V+480,16),n(he[Ee].f,0,X,te+224,8),n(he[Ee].ea,0,ce,ge+224,8)),O=8*U*m.B,he=m.sa,Ee=m.ta+16*D+16*U*m.R,we=m.qa,ve=m.ra+8*D+O,ue=m.Ha,fe=m.Ia+8*D+O,O=0;16>O;++O)n(he,Ee+O*m.R,W,V+32*O,16);for(O=0;8>O;++O)n(we,ve+O*m.B,X,te+32*O,8),n(ue,fe+O*m.B,ce,ge+32*O,8)}}function Ys(m,y,O,D,R,U,W,V,X){var te=[0],ce=[0],ge=0,ve=X!=null?X.kd:0,he=X??new Gc;if(m==null||12>O)return 7;he.data=m,he.w=y,he.ha=O,y=[y],O=[O],he.gb=[he.gb];e:{var Ee=y,we=O,ue=he.gb;if(t(m!=null),t(we!=null),t(ue!=null),ue[0]=0,12<=we[0]&&!r(m,Ee[0],"RIFF")){if(r(m,Ee[0]+8,"WEBP")){ue=3;break e}var fe=Pe(m,Ee[0]+4);if(12>fe||4294967286<fe){ue=3;break e}if(ve&&fe>we[0]-8){ue=7;break e}ue[0]=fe,Ee[0]+=12,we[0]-=12}ue=0}if(ue!=0)return ue;for(fe=0<he.gb[0],O=O[0];;){e:{var _e=m;we=y,ue=O;var Te=te,Oe=ce,qe=Ee=[0];if((Re=ge=[ge])[0]=0,8>ue[0])ue=7;else{if(!r(_e,we[0],"VP8X")){if(Pe(_e,we[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var $e=Pe(_e,we[0]+8),Qe=1+pe(_e,we[0]+12);if(2147483648<=Qe*(_e=1+pe(_e,we[0]+15))){ue=3;break e}qe!=null&&(qe[0]=$e),Te!=null&&(Te[0]=Qe),Oe!=null&&(Oe[0]=_e),we[0]+=18,ue[0]-=18,Re[0]=1}ue=0}}if(ge=ge[0],Ee=Ee[0],ue!=0)return ue;if(we=!!(2&Ee),!fe&&ge)return 3;if(U!=null&&(U[0]=!!(16&Ee)),W!=null&&(W[0]=we),V!=null&&(V[0]=0),W=te[0],Ee=ce[0],ge&&we&&X==null){ue=0;break}if(4>O){ue=7;break}if(fe&&ge||!fe&&!ge&&!r(m,y[0],"ALPH")){O=[O],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{$e=m,ue=y,fe=O;var Re=he.gb;Te=he.na,Oe=he.P,qe=he.Sa,Qe=22,t($e!=null),t(fe!=null),_e=ue[0];var Ot=fe[0];for(t(Te!=null),t(qe!=null),Te[0]=null,Oe[0]=null,qe[0]=0;;){if(ue[0]=_e,fe[0]=Ot,8>Ot){ue=7;break e}var Tt=Pe($e,_e+4);if(4294967286<Tt){ue=3;break e}var Nt=8+Tt+1&-2;if(Qe+=Nt,0<Re&&Qe>Re){ue=3;break e}if(!r($e,_e,"VP8 ")||!r($e,_e,"VP8L")){ue=0;break e}if(Ot[0]<Nt){ue=7;break e}r($e,_e,"ALPH")||(Te[0]=$e,Oe[0]=_e+8,qe[0]=Tt),_e+=Nt,Ot-=Nt}}if(O=O[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],ue!=0)break}O=[O],he.Ja=[he.Ja],he.xa=[he.xa];e:if(Re=m,ue=y,fe=O,Te=he.gb[0],Oe=he.Ja,qe=he.xa,$e=ue[0],_e=!r(Re,$e,"VP8 "),Qe=!r(Re,$e,"VP8L"),t(Re!=null),t(fe!=null),t(Oe!=null),t(qe!=null),8>fe[0])ue=7;else{if(_e||Qe){if(Re=Pe(Re,$e+4),12<=Te&&Re>Te-12){ue=3;break e}if(ve&&Re>fe[0]-8){ue=7;break e}Oe[0]=Re,ue[0]+=8,fe[0]-=8,qe[0]=Qe}else qe[0]=5<=fe[0]&&Re[$e+0]==47&&!(Re[$e+4]>>5),Oe[0]=fe[0];ue=0}if(O=O[0],he.Ja=he.Ja[0],he.xa=he.xa[0],y=y[0],ue!=0)break;if(4294967286<he.Ja)return 3;if(V==null||we||(V[0]=he.xa?2:1),W=[W],Ee=[Ee],he.xa){if(5>O){ue=7;break}V=W,ve=Ee,we=U,m==null||5>O?m=0:5<=O&&m[y+0]==47&&!(m[y+4]>>5)?(fe=[0],Re=[0],Te=[0],J(Oe=new L,m,y,O),rt(Oe,fe,Re,Te)?(V!=null&&(V[0]=fe[0]),ve!=null&&(ve[0]=Re[0]),we!=null&&(we[0]=Te[0]),m=1):m=0):m=0}else{if(10>O){ue=7;break}V=Ee,m==null||10>O||!sf(m,y+3,O-3)?m=0:(ve=m[y+0]|m[y+1]<<8|m[y+2]<<16,we=16383&(m[y+7]<<8|m[y+6]),m=16383&(m[y+9]<<8|m[y+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=he.Ja||!we||!m?m=0:(W&&(W[0]=we),V&&(V[0]=m),m=1))}if(!m||(W=W[0],Ee=Ee[0],ge&&(te[0]!=W||ce[0]!=Ee)))return 3;X!=null&&(X[0]=he,X.offset=y-X.w,t(4294967286>y-X.w),t(X.offset==X.ha-O));break}return ue==0||ue==7&&ge&&X==null?(U!=null&&(U[0]|=he.na!=null&&0<he.na.length),D!=null&&(D[0]=W),R!=null&&(R[0]=Ee),0):ue}function Jc(m,y,O){var D=y.width,R=y.height,U=0,W=0,V=D,X=R;if(y.Da=m!=null&&0<m.Da,y.Da&&(V=m.cd,X=m.bd,U=m.v,W=m.j,11>O||(U&=-2,W&=-2),0>U||0>W||0>=V||0>=X||U+V>D||W+X>R))return 0;if(y.v=U,y.j=W,y.va=U+V,y.o=W+X,y.U=V,y.T=X,y.da=m!=null&&0<m.da,y.da){if(!Ue(V,X,O=[m.ib],U=[m.hb]))return 0;y.ib=O[0],y.hb=U[0]}return y.ob=m!=null&&m.ob,y.Kb=m==null||!m.Sd,y.da&&(y.ob=y.ib<3*D/4&&y.hb<3*R/4,y.Kb=0),1}function Qc(m){if(m==null)return 2;if(11>m.S){var y=m.f.RGBA;y.fb+=(m.height-1)*y.A,y.A=-y.A}else y=m.f.kb,m=m.height,y.O+=(m-1)*y.fa,y.fa=-y.fa,y.N+=(m-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(m-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(m-1)*y.lb,y.lb=-y.lb);return 0}function Ks(m,y,O,D){if(D==null||0>=m||0>=y)return 2;if(O!=null){if(O.Da){var R=O.cd,U=O.bd,W=-2&O.v,V=-2&O.j;if(0>W||0>V||0>=R||0>=U||W+R>m||V+U>y)return 2;m=R,y=U}if(O.da){if(!Ue(m,y,R=[O.ib],U=[O.hb]))return 2;m=R[0],y=U[0]}}D.width=m,D.height=y;e:{var X=D.width,te=D.height;if(m=D.S,0>=X||0>=te||!(m>=Tf&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){W=U=R=y=0;var ce=(V=X*mx[m])*te;if(11>m||(U=(te+1)/2*(y=(X+1)/2),m==12&&(W=(R=X)*te)),(te=i(ce+2*U+W))==null){m=1;break e}D.sd=te,11>m?((X=D.f.RGBA).eb=te,X.fb=0,X.A=V,X.size=ce):((X=D.f.kb).y=te,X.O=0,X.fa=V,X.Fd=ce,X.f=te,X.N=0+ce,X.Ab=y,X.Cd=U,X.ea=te,X.W=0+ce+U,X.Db=y,X.Ed=U,m==12&&(X.F=te,X.J=0+ce+2*U),X.Tc=W,X.lb=R)}if(y=1,R=D.S,U=D.width,W=D.height,R>=Tf&&13>R)if(11>R)m=D.f.RGBA,y&=(V=Math.abs(m.A))*(W-1)+U<=m.size,y&=V>=U*mx[R],y&=m.eb!=null;else{m=D.f.kb,V=(U+1)/2,ce=(W+1)/2,X=Math.abs(m.fa),te=Math.abs(m.Ab);var ge=Math.abs(m.Db),ve=Math.abs(m.lb),he=ve*(W-1)+U;y&=X*(W-1)+U<=m.Fd,y&=te*(ce-1)+V<=m.Cd,y=(y&=ge*(ce-1)+V<=m.Ed)&X>=U&te>=V&ge>=V,y&=m.y!=null,y&=m.f!=null,y&=m.ea!=null,R==12&&(y&=ve>=U,y&=he<=m.Tc,y&=m.F!=null)}else y=0;m=y?0:2}}return m!=0||O!=null&&O.fd&&(m=Qc(D)),m}var Rr=64,Xs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zs=24,Js=32,eu=8,gn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ke("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(m){return m},E.Predictor2=function(m,y,O){return y[O+0]},E.Predictor3=function(m,y,O){return y[O+1]},E.Predictor4=function(m,y,O){return y[O-1]},E.Predictor5=function(m,y,O){return Ie(Ie(m,y[O+1]),y[O+0])},E.Predictor6=function(m,y,O){return Ie(m,y[O-1])},E.Predictor7=function(m,y,O){return Ie(m,y[O+0])},E.Predictor8=function(m,y,O){return Ie(y[O-1],y[O+0])},E.Predictor9=function(m,y,O){return Ie(y[O+0],y[O+1])},E.Predictor10=function(m,y,O){return Ie(Ie(m,y[O-1]),Ie(y[O+0],y[O+1]))},E.Predictor11=function(m,y,O){var D=y[O+0];return 0>=et(D>>24&255,m>>24&255,(y=y[O-1])>>24&255)+et(D>>16&255,m>>16&255,y>>16&255)+et(D>>8&255,m>>8&255,y>>8&255)+et(255&D,255&m,255&y)?D:m},E.Predictor12=function(m,y,O){var D=y[O+0];return(Ge((m>>24&255)+(D>>24&255)-((y=y[O-1])>>24&255))<<24|Ge((m>>16&255)+(D>>16&255)-(y>>16&255))<<16|Ge((m>>8&255)+(D>>8&255)-(y>>8&255))<<8|Ge((255&m)+(255&D)-(255&y)))>>>0},E.Predictor13=function(m,y,O){var D=y[O-1];return(Ze((m=Ie(m,y[O+0]))>>24&255,D>>24&255)<<24|Ze(m>>16&255,D>>16&255)<<16|Ze(m>>8&255,D>>8&255)<<8|Ze(m>>0&255,D>>0&255))>>>0};var kg=E.PredictorAdd0;E.PredictorAdd1=lt,ke("Predictor2","PredictorAdd2"),ke("Predictor3","PredictorAdd3"),ke("Predictor4","PredictorAdd4"),ke("Predictor5","PredictorAdd5"),ke("Predictor6","PredictorAdd6"),ke("Predictor7","PredictorAdd7"),ke("Predictor8","PredictorAdd8"),ke("Predictor9","PredictorAdd9"),ke("Predictor10","PredictorAdd10"),ke("Predictor11","PredictorAdd11"),ke("Predictor12","PredictorAdd12"),ke("Predictor13","PredictorAdd13");var tu=E.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Nf,Bn=E.ColorIndexInverseTransform,Qs=E.MapARGB,_f=E.VP8LColorIndexInverseTransformAlpha,Af=E.MapAlpha,Hi=E.VP8LPredictorsAdd=[];Hi.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var ko,vn,nn,Gi,mi,gi,el,vi,dr,ru,an,zn,tl,Of,nu,Do,Lo,Vi,Mo,rl,Io,Yi,au,qn,Un,zt,qt,fr,jr=i(511),yi=i(2041),iu=i(225),nl=i(767),Pf=0,Dg=yi,Ef=iu,En=nl,Wn=jr,Tf=0,Cf=1,ax=2,kf=3,Df=4,Lg=5,ix=6,Mg=7,Ig=8,Lf=9,$g=10,FP=[2,3,7],BP=[3,3,11],ox=[280,256,256,256,40],zP=[0,1,1,1,0],qP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],UP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],WP=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],HP=8,Rg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ou=null,GP=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VP=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],YP=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],KP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],XP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ZP=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ki=[],ba=[],bi=[],JP=1,lx=2,Xi=[],Hn=[];Se("UpsampleRgbLinePair",St,3),Se("UpsampleBgrLinePair",tr,3),Se("UpsampleRgbaLinePair",ya,4),Se("UpsampleBgraLinePair",Tr,4),Se("UpsampleArgbLinePair",Wr,4),Se("UpsampleRgba4444LinePair",vr,2),Se("UpsampleRgb565LinePair",ar,2);var QP=E.UpsampleRgbLinePair,eE=E.UpsampleBgrLinePair,cx=E.UpsampleRgbaLinePair,ux=E.UpsampleBgraLinePair,dx=E.UpsampleArgbLinePair,fx=E.UpsampleRgba4444LinePair,tE=E.UpsampleRgb565LinePair,Mf=16,If=1<<Mf-1,su=-227,Bg=482,rE=6,hx=0,nE=i(256),aE=i(256),iE=i(256),oE=i(256),sE=i(Bg-su),lE=i(Bg-su);Va("YuvToRgbRow",St,3),Va("YuvToBgrRow",tr,3),Va("YuvToRgbaRow",ya,4),Va("YuvToBgraRow",Tr,4),Va("YuvToArgbRow",Wr,4),Va("YuvToRgba4444Row",vr,2),Va("YuvToRgb565Row",ar,2);var px=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$f=[0,2,8],cE=[8,7,6,4,4,2,2,2,1,1,1,1],uE=1;this.WebPDecodeRGBA=function(m,y,O,D,R){var U=Cf,W=new Gs,V=new da;W.ba=V,V.S=U,V.width=[V.width],V.height=[V.height];var X=V.width,te=V.height,ce=new di;if(ce==null||m==null)var ge=2;else t(ce!=null),ge=Ys(m,y,O,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(ge!=0?X=0:(X!=null&&(X[0]=ce.width[0]),te!=null&&(te[0]=ce.height[0]),X=1),X){V.width=V.width[0],V.height=V.height[0],D!=null&&(D[0]=V.width),R!=null&&(R[0]=V.height);e:{if(D=new Fs,(R=new Gc).data=m,R.w=y,R.ha=O,R.kd=1,y=[0],t(R!=null),((m=Ys(R.data,R.w,R.ha,null,null,null,y,null,R))==0||m==7)&&y[0]&&(m=4),(y=m)==0){if(t(W!=null),D.data=R.data,D.w=R.w+R.offset,D.ha=R.ha-R.offset,D.put=Ba,D.ac=$r,D.bc=za,D.ma=W,R.xa){if((m=Fn())==null){W=1;break e}if(function(ve,he){var Ee=[0],we=[0],ue=[0];t:for(;;){if(ve==null)return 0;if(he==null)return ve.a=2,0;if(ve.l=he,ve.a=0,J(ve.m,he.data,he.w,he.ha),!rt(ve.m,Ee,we,ue)){ve.a=3;break t}if(ve.xb=lx,he.width=Ee[0],he.height=we[0],!Wa(Ee[0],we[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(m,D)){if(D=(y=Ks(D.width,D.height,W.Oa,W.ba))==0){t:{D=m;r:for(;;){if(D==null){D=0;break t}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((O=D.l)!=null),t((R=O.ma)!=null),D.xb!=0){if(D.ca=R.ba,D.tb=R.tb,t(D.ca!=null),!Jc(R.Oa,O,kf)){D.a=2;break r}if(!Oo(D,O.width)||O.da)break r;if((O.da||Pt(D.ca.S))&&me(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&me()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!De(D.s.vb,D.s.Wa.Xa)){D.a=1;break r}D.xb=0}if(!ma(D,D.V,D.Ba,D.c,D.i,O.o,Ds))break r;R.Dc=D.Ma,D=1;break t}t(D.a!=0),D=0}D=!D}D&&(y=m.a)}else y=m.a}else{if((m=new hg)==null){W=1;break e}if(m.Fa=R.na,m.P=R.P,m.qc=R.Sa,lf(m,D)){if((y=Ks(D.width,D.height,W.Oa,W.ba))==0){if(m.Aa=0,O=W.Oa,t((R=m)!=null),O!=null){if(0<(X=0>(X=O.Md)?0:100<X?255:255*X/100)){for(te=ce=0;4>te;++te)12>(ge=R.pb[te]).lc&&(ge.ia=X*cE[0>ge.lc?0:ge.lc]>>3),ce|=ge.ia;ce&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=O.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}pg(m,D)||(y=m.a)}}else y=m.a}y==0&&W.Oa!=null&&W.Oa.fd&&(y=Qc(W.ba))}W=y}U=W!=0?null:11>U?V.f.RGBA.eb:V.f.kb.y}else U=null;return U};var mx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,k){for(var M="",T=0;T<4;T++)M+=String.fromCharCode(E[k++]);return M}function d(E,k){return(E[k+0]<<0|E[k+1]<<8|E[k+2]<<16)>>>0}function f(E,k){return(E[k+0]<<0|E[k+1]<<8|E[k+2]<<16|E[k+3]<<24)>>>0}new l;var p=[0],h=[0],v=[],g=new l,b=e,x=function(E,k){var M={},T=0,C=!1,I=0,$=0;if(M.frames=[],!function(q,ee,ie,K){for(var se=0;se<K;se++)if(q[ee+se]!=ie.charCodeAt(se))return!0;return!1}(E,k,"RIFF",4)){for(f(E,k+=4),k+=8;k<E.length;){var G=u(E,k),H=f(E,k+=4);k+=4;var Z=H+(1&H);switch(G){case"VP8 ":case"VP8L":M.frames[T]===void 0&&(M.frames[T]={}),(Q=M.frames[T]).src_off=C?$:k-8,Q.src_size=I+H+8,T++,C&&(C=!1,I=0,$=0);break;case"VP8X":(Q=M.header={}).feature_flags=E[k];var J=k+4;Q.canvas_width=1+d(E,J),J+=3,Q.canvas_height=1+d(E,J),J+=3;break;case"ALPH":C=!0,I=Z+8,$=k-8;break;case"ANIM":(Q=M.header).bgcolor=f(E,k),J=k+4,Q.loop_count=(oe=E)[(L=J)+0]<<0|oe[L+1]<<8,J+=2;break;case"ANMF":var Y,Q;(Q=M.frames[T]={}).offset_x=2*d(E,k),k+=3,Q.offset_y=2*d(E,k),k+=3,Q.width=1+d(E,k),k+=3,Q.height=1+d(E,k),k+=3,Q.duration=d(E,k),k+=3,Y=E[k++],Q.dispose=1&Y,Q.blend=Y>>1&1}G!="ANMF"&&(k+=Z)}var oe,L;return M}}(b,0);x.response=b,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,j=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],h=[w.canvas_width];for(var _=0;_<j.length&&j[_].blend!=0;_++);}var S=j[0],P=g.WebPDecodeRGBA(b,S.src_off,S.src_size,h,p);S.rgba=P,S.imgwidth=h[0],S.imgheight=p[0];for(var A=0;A<h[0]*p[0]*4;A++)v[A]=P[A];return this.width=h,this.height=p,this.data=v,this}(function(e){var t=function(){return typeof o0=="function"},r=function(p,h,v,g){var b=4,x=o;switch(g){case e.image_compression.FAST:b=1,x=i;break;case e.image_compression.MEDIUM:b=6,x=s;break;case e.image_compression.SLOW:b=9,x=l}p=n(p,h,v,x);var w=o0(p,{level:b});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(p,h,v,g){for(var b,x,w,j=p.length/h,_=new Uint8Array(p.length+j),S=d(),P=0;P<j;P+=1){if(w=P*h,b=p.subarray(w,w+h),g)_.set(g(b,v,x),w+P);else{for(var A,E=S.length,k=[];A<E;A+=1)k[A]=S[A](b,v,x);var M=f(k.concat());_.set(k[M],w+P)}x=b}return _},a=function(p){var h=Array.apply([],p);return h.unshift(0),h},i=function(p,h){var v,g=[],b=p.length;g[0]=1;for(var x=0;x<b;x+=1)v=p[x-h]||0,g[x+1]=p[x]-v+256&255;return g},o=function(p,h,v){var g,b=[],x=p.length;b[0]=2;for(var w=0;w<x;w+=1)g=v&&v[w]||0,b[w+1]=p[w]-g+256&255;return b},s=function(p,h,v){var g,b,x=[],w=p.length;x[0]=3;for(var j=0;j<w;j+=1)g=p[j-h]||0,b=v&&v[j]||0,x[j+1]=p[j]+256-(g+b>>>1)&255;return x},l=function(p,h,v){var g,b,x,w,j=[],_=p.length;j[0]=4;for(var S=0;S<_;S+=1)g=p[S-h]||0,b=v&&v[S]||0,x=v&&v[S-h]||0,w=u(g,b,x),j[S+1]=p[S]-w+256&255;return j},u=function(p,h,v){if(p===h&&h===v)return p;var g=Math.abs(h-v),b=Math.abs(p-v),x=Math.abs(p+h-v-v);return g<=b&&g<=x?p:b<=x?h:v},d=function(){return[a,i,o,s,l]},f=function(p){var h=p.map(function(v){return v.reduce(function(g,b){return g+Math.abs(b)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(p,h,v,g){var b,x,w,j,_,S,P,A,E,k,M,T,C,I,$,G=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(w=new AT(p)).imgData,x=w.bits,b=w.colorSpace,_=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){E=(A=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,M=new Uint8Array(E*w.colors),k=new Uint8Array(E);var Z,J=w.pixelBitlength-w.bits;for(I=0,$=0;I<E;I++){for(C=A[I],Z=0;Z<J;)M[$++]=C>>>Z&255,Z+=w.bits;k[I]=C>>>Z&255}}if(w.bits===16){E=(A=new Uint32Array(w.decodePixels().buffer)).length,M=new Uint8Array(E*(32/w.pixelBitlength)*w.colors),k=new Uint8Array(E*(32/w.pixelBitlength)),T=w.colors>1,I=0,$=0;for(var Y=0;I<E;)C=A[I++],M[$++]=C>>>0&255,T&&(M[$++]=C>>>16&255,C=A[I++],M[$++]=C>>>0&255),k[Y++]=C>>>16&255;x=8}g!==e.image_compression.NONE&&t()?(p=r(M,w.width*w.colors,w.colors,g),P=r(k,w.width,1,g)):(p=M,P=k,G=void 0)}if(w.colorType===3&&(b=this.color_spaces.INDEXED,S=w.palette,w.transparency.indexed)){var Q=w.transparency.indexed,oe=0;for(I=0,E=Q.length;I<E;++I)oe+=Q[I];if((oe/=255)===E-1&&Q.indexOf(0)!==-1)j=[Q.indexOf(0)];else if(oe!==E){for(A=w.decodePixels(),k=new Uint8Array(A.length),I=0,E=A.length;I<E;I++)k[I]=Q[A[I]];P=r(k,w.width,1)}}var L=function(q){var ee;switch(q){case e.image_compression.FAST:ee=11;break;case e.image_compression.MEDIUM:ee=13;break;case e.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(g);return G===this.decode.FLATE_DECODE&&(H="/Predictor "+L+" "),H+="/Colors "+_+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:v,data:p,index:h,filter:G,decodeParameters:H,transparency:j,palette:S,sMask:P,predictor:L,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:b}}}})(at.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new OT(t),o=i.width,s=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},d=new lv(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(at.API),Sa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Sa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Rt.log("bit decode error:"+r)}},Sa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var l=this.palette[i>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},Sa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,s=i>>4,l=15&i,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Sa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Sa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Sa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=255}this.pos+=e}},Sa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Sa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=o}},Sa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Sa(t,!1),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},u=new lv(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(at.API),n2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new n2(t),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},u=new lv(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(at.API),at.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),s=0,l=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];i[s++]=d,i[s++]=f,i[s++]=p,o[l++]=h}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},at.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ul=at.API,Zf=ul.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:a.metadata.Unicode.widths,l=s.fof?s.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,p=0,h=e.length,v=0,g=s[0]||l,b=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?b.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(p=f&&bt(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,b.push((s[n]||g)/l+p)),v=n;return b},Qx=ul.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return ul.processArabic&&(e=ul.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Zf.apply(this,arguments).reduce(function(i,o){return i+o},0)},e2=function(e,t,r,n){for(var a=[],i=0,o=e.length,s=0;i!==o&&s+t[i]<r;)s+=t[i],i++;a.push(e.slice(0,i));var l=i;for(s=0;i!==o;)s+t[i]>n&&(a.push(e.slice(l,i)),s=0,l=i),s+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},t2=function(e,t,r){r||(r={});var n,a,i,o,s,l,u,d=[],f=[d],p=r.textIndent||0,h=0,v=0,g=e.split(" "),b=Zf.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),w=[];g.map(function(_){(_=_.split(/\s*\n/)).length>1?w=w.concat(_.map(function(S,P){return(P&&S.length?`
`:"")+S})):w.push(_[0])}),g=w,l=Qx.apply(this,[x,r])}for(i=0,o=g.length;i<o;i++){var j=0;if(n=g[i],l&&n[0]==`
`&&(n=n.substr(1),j=1),p+h+(v=(a=Zf.apply(this,[n,r])).reduce(function(_,S){return _+S},0))>t||j){if(v>t){for(s=e2.apply(this,[n,a,t-(p+h),t]),d.push(s.shift()),d=[s.pop()];s.length;)f.push([s.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,S){return _+S},0)}else d=[n];f.push(d),p=v+l,h=b}else d.push(n),p+=h+v,h=b}return u=l?function(_,S){return(S?x:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},ul.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var s,l,u=[];for(s=0,l=n.length;s<l;s++)u=u.concat(t2.apply(this,[n[s],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var p,h,v,g,b=["{"];for(var x in f){if(p=f[x],isNaN(parseInt(x,10))?h="'"+x+"'":(x=parseInt(x,10),h=(h=i(x).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof p=="number")p<0?(v=i(p).slice(3),g="-"):(v=i(p).slice(2),g=""),v=g+v.slice(0,-1)+n[v.slice(-1)];else{if(bt(p)!=="object")throw new Error("Don't know what to do with value type "+bt(p)+".");v=o(p)}b.push(h+v)}return b.push("}"),b.join("")},s=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,v,g,b={},x=1,w=b,j=[],_="",S="",P=f.length-1,A=1;A<P;A+=1)(g=f[A])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(j.push([w,v]),w={},v=void 0):g=="}"?((h=j.pop())[0][h[1]]=w,v=void 0,w=h[0]):g=="-"?x=-1:v===void 0?r.hasOwnProperty(g)?(_+=r[g],v=parseInt(_,16)*x,x=1,_=""):_+=g:r.hasOwnProperty(g)?(S+=r[g],w[v]=parseInt(S,16)*x,x=1,v=void 0,S=""):S+=g;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var p=f.font,h=d.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var v=u.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(at.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(ku(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(at),function(e){function t(){return(it.canvg?Promise.resolve(it.canvg):Qv(()=>import("./index.es-CyHIxznO.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}at.API.addSvgAsImage=function(r,n,a,i,o,s,l,u){if(isNaN(n)||isNaN(a))throw Rt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Rt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(v){return v.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){h.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,l,u)})}}(),at.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},at.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,d=0,f=0;function p(v,g){var b,x=!1;for(b=0;b<v.length;b+=1)v[b]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=s.length;for(f=0;f<h;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if(bt(e)==="object"){for(a in e)if(i=e[a],p(s,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")l.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&l.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+s.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(at.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(s=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=i.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(i){var o,s,l,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(s=Object.keys(i).sort(function(h,v){return h-v})).length;f<p;f++)o=s[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",v=0;v<p.length;v++)h+=String.fromCharCode(p[v]);var g=u();d({data:h,addLength1:!0,objectId:g}),l("endobj");var b=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var x=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+yl(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var w=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+yl(s.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+yl(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var v=u();d({data:p,addLength1:!0,objectId:v}),l("endobj");var g=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var b=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+yl(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var x=0;x<s.metadata.hmtx.widths.length;x++)s.metadata.hmtx.widths[x]=parseInt(s.metadata.hmtx.widths[x]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+yl(s.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,s=i.text||"",l=i.x,u=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,v=f.fonts,g=h,b="",x=0,w="",j=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:s,x:l,y:u,options:d,mutex:f};for(w=s,g=h,Array.isArray(s)&&(w=s[0]),x=0;x<w.length;x+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?b+=w[x]:b+="";var _="";return parseInt(g.slice(1))<14||j==="WinAnsiEncoding"?_=p(b,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(_=r(b,v[g])),f.isHex=!0,{text:_,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",s=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([a(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(a(Object.assign({},l,{text:o[u]})).text);i.text=s}else i.text=a(Object.assign({},l,{text:o})).text}])}(at),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(at.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,s,l,u,d,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var _=function(T){var C=T.charCodeAt(),I=C>>8,$=g[I];return $!==void 0?f[256*$+(255&C)]:I===252||I===253?"AL":x.test(I)?"L":I===8?"R":"N"},S=function(T){for(var C,I=0;I<T.length;I++){if((C=_(T.charAt(I)))==="L")return!1;if(C==="R")return!0}return!1},P=function(T,C,I,$){var G,H,Z,J,Y=C[$];switch(Y){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(Y="AN");break;case"AL":w=!0,Y="R";break;case"WS":Y="N";break;case"CS":$<1||$+1>=C.length||(G=I[$-1])!=="EN"&&G!=="AN"||(H=C[$+1])!=="EN"&&H!=="AN"?Y="N":w&&(H="AN"),Y=H===G?H:"N";break;case"ES":Y=(G=$>0?I[$-1]:"B")==="EN"&&$+1<C.length&&C[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&I[$-1]==="EN"){Y="EN";break}if(w){Y="N";break}for(Z=$+1,J=C.length;Z<J&&C[Z]==="ET";)Z++;Y=Z<J&&C[Z]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(J=C.length,Z=$+1;Z<J&&C[Z]==="NSM";)Z++;if(Z<J){var Q=T[$],oe=Q>=1425&&Q<=2303||Q===64286;if(G=C[Z],oe&&(G==="R"||G==="AL")){Y="R";break}}}Y=$<1||(G=C[$-1])==="B"?"N":I[$-1];break;case"B":w=!1,a=!0,Y=j;break;case"S":i=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":Y="N"}return Y},A=function(T,C,I){var $=T.split("");return I&&E($,I,{hiLevel:j}),$.reverse(),C&&C.reverse(),$.join("")},E=function(T,C,I){var $,G,H,Z,J,Y=-1,Q=T.length,oe=0,L=[],q=j?h:p,ee=[];for(w=!1,a=!1,i=!1,G=0;G<Q;G++)ee[G]=_(T[G]);for(H=0;H<Q;H++){if(J=oe,L[H]=P(T,ee,L,H),$=240&(oe=q[J][v[L[H]]]),oe&=15,C[H]=Z=q[oe][5],$>0)if($===16){for(G=Y;G<H;G++)C[G]=1;Y=-1}else Y=-1;if(q[oe][6])Y===-1&&(Y=H);else if(Y>-1){for(G=Y;G<H;G++)C[G]=Z;Y=-1}ee[H]==="B"&&(C[H]=0),I.hiLevel|=Z}i&&function(ie,K,se){for(var de=0;de<se;de++)if(ie[de]==="S"){K[de]=j;for(var ae=de-1;ae>=0&&ie[ae]==="WS";ae--)K[ae]=j}}(ee,C,Q)},k=function(T,C,I,$,G){if(!(G.hiLevel<T)){if(T===1&&j===1&&!a)return C.reverse(),void(I&&I.reverse());for(var H,Z,J,Y,Q=C.length,oe=0;oe<Q;){if($[oe]>=T){for(J=oe+1;J<Q&&$[J]>=T;)J++;for(Y=oe,Z=J-1;Y<Z;Y++,Z--)H=C[Y],C[Y]=C[Z],C[Z]=H,I&&(H=I[Y],I[Y]=I[Z],I[Z]=H);oe=J}oe++}}},M=function(T,C,I){var $=T.split(""),G={hiLevel:j};return I||(I=[]),E($,I,G),function(H,Z,J){if(J.hiLevel!==0&&d)for(var Y,Q=0;Q<H.length;Q++)Z[Q]===1&&(Y=b.indexOf(H[Q]))>=0&&(H[Q]=b[Y+1])}($,I,G),k(2,$,C,I,G),k(1,$,C,I,G),$.join("")};return this.__bidiEngine__.doBidiReorder=function(T,C,I){if(function(G,H){if(H)for(var Z=0;Z<G.length;Z++)H[Z]=Z;s===void 0&&(s=S(G)),u===void 0&&(u=S(G))}(T,C),o||!l||u)if(o&&l&&s^u)j=s?1:0,T=A(T,C,I);else if(!o&&l&&u)j=s?1:0,T=M(T,C,I),T=A(T,C);else if(!o||s||l||u){if(o&&!l&&s^u)T=A(T,C),s?(j=0,T=M(T,C,I)):(j=1,T=M(T,C,I),T=A(T,C));else if(o&&s&&!l&&u)j=1,T=M(T,C,I),T=A(T,C);else if(!o&&!l&&s^u){var $=d;s?(j=1,T=M(T,C,I),j=0,d=!1,T=M(T,C,I),d=$):(j=0,T=M(T,C,I),T=A(T,C),j=1,d=!1,T=M(T,C,I),d=$,T=A(T,C))}}else j=0,T=M(T,C,I);else j=s?1:0,T=M(T,C,I);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,s=T.isInputRtl,u=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(o=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?o.push([r.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):o.push([r.doBidiReorder(a[s])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new po(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new qT(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new PT(this.contents),this.head=new TT(this),this.name=new MT(this),this.cmap=new s_(this),this.toUnicode={},this.hhea=new CT(this),this.maxp=new IT(this),this.hmtx=new $T(this),this.post=new DT(this),this.os2=new kT(this),this.loca=new zT(this),this.glyf=new RT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,s;for(o=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var La,po=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,s,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*s+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),PT=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,s,l,u,d,f,p,h,v,g;for(g in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),o=Math.floor(f/l),d=16*h-f,(a=new po).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*h,u=a.pos+i,s=null,v=[],r)for(p=r[g],a.writeString(g),a.writeInt(e(p)),a.writeInt(u),a.writeInt(p.length),v=v.concat(p),g==="head"&&(s=u),u+=p.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=s+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=l_.call(r);r.length%4;)r.push(0);for(i=new po(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),ET={}.hasOwnProperty,ui=function(e,t){for(var r in t)ET.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};La=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var TT=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ui(t,La),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new po).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),a2=function(){function e(t,r){var n,a,i,o,s,l,u,d,f,p,h,v,g,b,x,w,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,i=function(){var _,S;for(S=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)S.push(t.readUInt16());return S}(),t.pos+=2,g=function(){var _,S;for(S=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)S.push(t.readUInt16());return S}(),u=function(){var _,S;for(S=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)S.push(t.readUInt16());return S}(),d=function(){var _,S;for(S=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)S.push(t.readUInt16());return S}(),a=(this.length-t.pos+this.offset)/2,s=function(){var _,S;for(S=[],l=_=0;0<=a?_<a:_>a;l=0<=a?++_:--_)S.push(t.readUInt16());return S}(),l=x=0,j=i.length;x<j;l=++x)for(b=i[l],n=w=v=g[l];v<=b?w<=b:w>=b;n=v<=b?++w:--w)d[l]===0?o=n+u[l]:(o=s[d[l]/2+(n-v)-(p-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,s,l,u,d,f,p,h,v,g,b,x,w,j,_,S,P,A,E,k,M,T,C,I,$,G,H,Z,J,Y,Q,oe,L,q,ee,ie,K,se,de,ae,xe,ye,pe;switch($=new po,o=Object.keys(t).sort(function(Pe,De){return Pe-De}),r){case"macroman":for(g=0,b=function(){var Pe=[];for(v=0;v<256;++v)Pe.push(0);return Pe}(),w={0:0},i={},G=0,Y=o.length;G<Y;G++)w[ae=t[a=o[G]]]==null&&(w[ae]=++g),i[a]={old:t[a],new:w[t[a]]},b[a]=w[t[a]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(b),{charMap:i,subtable:$.data,maxGlyphID:g+1};case"unicode":for(C=[],f=[],j=0,w={},n={},x=u=null,H=0,Q=o.length;H<Q;H++)w[S=t[a=o[H]]]==null&&(w[S]=++j),n[a]={old:S,new:w[S]},s=w[S]-a,x!=null&&s===u||(x&&f.push(x),C.push(a),u=s),x=a;for(x&&f.push(x),f.push(65535),C.push(65535),M=2*(k=C.length),E=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,A=2*k-E,l=[],P=[],h=[],v=Z=0,oe=C.length;Z<oe;v=++Z){if(T=C[v],d=f[v],T===65535){l.push(0),P.push(0);break}if(T-(I=n[T].new)>=32768)for(l.push(0),P.push(2*(h.length+k-v)),a=J=T;T<=d?J<=d:J>=d;a=T<=d?++J:--J)h.push(n[a].new);else l.push(I-T),P.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*k+2*h.length),$.writeUInt16(0),$.writeUInt16(M),$.writeUInt16(E),$.writeUInt16(p),$.writeUInt16(A),se=0,L=f.length;se<L;se++)a=f[se],$.writeUInt16(a);for($.writeUInt16(0),de=0,q=C.length;de<q;de++)a=C[de],$.writeUInt16(a);for(xe=0,ee=l.length;xe<ee;xe++)s=l[xe],$.writeUInt16(s);for(ye=0,ie=P.length;ye<ie;ye++)_=P[ye],$.writeUInt16(_);for(pe=0,K=h.length;pe<K;pe++)g=h[pe],$.writeUInt16(g);return{charMap:n,subtable:$.data,maxGlyphID:j+1}}},e}(),s_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ui(t,La),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new a2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=a2.encode(r,n),(i=new po).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),CT=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ui(t,La),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),kT=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ui(t,La),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),DT=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ui(t,La),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(r.readUInt32());return u}).call(this)}},t}(),LT=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},MT=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ui(t,La),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,s,l,u,d,f,p,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},o=f=0,p=a.length;f<p;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),s=new LT(d,i),u[h=i.nameID]==null&&(u[h]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),IT=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ui(t,La),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),$T=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ui(t,La),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,s,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,p,h;for(h=[],d=0,f=(p=this.metrics).length;d<f;d++)o=p[d],h.push(o.advance);return h}).call(this),a=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),l_=[].slice,RT=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ui(t,La),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,s,l,u,d,f,p;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,s=(l=new po(n.read(i))).readShort(),d=l.readShort(),p=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=s===-1?new BT(l,d,p,u,f):new FT(l,s,d,p,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,s,l,u;for(s=[],o=[],l=0,u=n.length;l<u;l++)i=r[n[l]],o.push(s.length),i&&(s=s.concat(i.encode(a)));return o.push(s.length),{table:s,offsets:o}},t}(),FT=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),BT=function(){function e(t,r,n,a,i){var o,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new po(l_.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),zT=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ui(t,La),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<a.length;++s)if(a[s]=i,o<n.length&&n[o]==s){++o,a[s]=i;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),qT=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,s,l;for(a={},o=0,s=t.length;o<s;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,s,l,u,d,f,p,h,v,g,b,x;for(a in n=s_.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},x=n.charMap)h[(l=x[a]).old]=l.new;for(v in p=n.maxGlyphID,o)v in h||(h[v]=p++);return d=function(w){var j,_;for(j in _={},w)_[w[j]]=j;return _}(h),f=Object.keys(d).sort(function(w,j){return w-j}),g=function(){var w,j,_;for(_=[],w=0,j=f.length;w<j;w++)s=f[w],_.push(d[s]);return _}(),i=this.font.glyf.encode(o,g,h),u=this.font.loca.encode(i.offsets,g),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();at.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var s,l,u;for(u=[],s=0,l=r.length;s<l;s++)n=r[s],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const i2="https://api.ptoconnect.com";function UT(){const[e,t]=z.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[r,n]=z.useState(""),[a,i]=z.useState(""),[o,s]=z.useState(!1),[l,u]=z.useState({type:"",season:"",audience:"",theme:"",goal:""}),[d,f]=z.useState(""),p=w=>{const{name:j,value:_,type:S,checked:P}=w.target;t(A=>({...A,[j]:S==="checkbox"?P:_}))},h=async w=>{w.preventDefault(),n(""),i("");const{data:{session:j},error:_}=await Xe.auth.getSession();if(_||!(j!=null&&j.access_token)){i("Authentication error. Please log in again.");return}try{const S=await fetch(`${i2}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j.access_token}`},body:JSON.stringify(e)}),P=await S.json();if(!S.ok){i(P.error||"Failed to create event");return}n("Event created successfully!"),t({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1})}catch(S){i("Failed to connect to server."),console.error("Submit error:",S)}},v=w=>{const{name:j,value:_}=w.target;u(S=>({...S,[j]:_}))},g=async()=>{f("Generating...");try{const{data:w}=await Oa.post(`${i2}/api/ai/generate-event`,l);f(w.result)}catch{f("AI generation failed.")}},b=()=>{try{const w=JSON.parse(d);t(j=>({...j,title:w.title||"",description:w.description||"",event_date:w.event_date||"",category:w.category||"",school_level:w.school_level||"",location:w.location||"",estimated_budget:w.estimated_budget||""}))}catch(w){alert("Failed to parse AI response. Please review the output and enter manually."),console.error("Parse error:",w)}},x=()=>{try{const w=JSON.parse(d),j=new at;j.setFontSize(14),j.text(w.title||"Event Summary",10,20),j.setFontSize(10),j.text(`Date: ${w.event_date||"TBD"}`,10,30),j.text(`Category: ${w.category||"N/A"}`,10,36),j.text(`School Level: ${w.school_level||"N/A"}`,10,42),j.setFontSize(12),j.text("Description:",10,52),j.setFontSize(10),j.text(j.splitTextToSize(w.description||"",180),10,58),j.setFontSize(12),j.text("Planning Tasks:",10,100),(w.tasks||[]).forEach((S,P)=>{j.text(`- ${S}`,10,106+P*6)}),j.save(`${w.title||"event-summary"}.pdf`)}catch(w){alert("Unable to print. Please check that the AI returned a valid result."),console.error("Print error:",w)}};return c.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create New Event"}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsx("input",{name:"title",value:e.title,onChange:p,placeholder:"Event Title",className:"w-full border p-2",required:!0}),c.jsx("textarea",{name:"description",value:e.description,onChange:p,placeholder:"Description",className:"w-full border p-2"}),c.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:p,className:"w-full border p-2",required:!0}),c.jsx("input",{type:"time",name:"start_time",value:e.start_time,onChange:p,className:"w-full border p-2"}),c.jsx("input",{type:"time",name:"end_time",value:e.end_time,onChange:p,className:"w-full border p-2"}),c.jsx("input",{name:"location",value:e.location,onChange:p,placeholder:"Location",className:"w-full border p-2"}),c.jsxs("select",{name:"school_level",value:e.school_level,onChange:p,className:"w-full border p-2",children:[c.jsx("option",{value:"elementary",children:"Elementary"}),c.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),c.jsx("option",{value:"middle",children:"Middle"}),c.jsx("option",{value:"junior_high",children:"Junior High"}),c.jsx("option",{value:"high",children:"High School"})]}),c.jsx("input",{name:"category",value:e.category,onChange:p,placeholder:"Category (e.g., Fundraiser)",className:"w-full border p-2"}),c.jsx("input",{name:"estimated_budget",value:e.estimated_budget,onChange:p,placeholder:"Estimated Budget",className:"w-full border p-2"}),c.jsxs("select",{name:"visibility",value:e.visibility,onChange:p,className:"w-full border p-2",children:[c.jsx("option",{value:"public",children:"Public"}),c.jsx("option",{value:"private",children:"Private"})]}),c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:p}),c.jsx("span",{children:"Share this event to the PTO Connect Idea Library"})]}),c.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Create Event"}),r&&c.jsx("p",{className:"text-green-600",children:r}),a&&c.jsx("p",{className:"text-red-600",children:a})]}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsx("button",{onClick:()=>s(!o),className:"text-blue-600 underline",children:o?"Hide AI Event Assistant":"Use AI Event Assistant"}),o&&c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"AI Event Assistant"}),c.jsx("input",{type:"text",name:"type",placeholder:"Event Type",value:l.type,onChange:v,className:"w-full border p-2"}),c.jsx("input",{type:"text",name:"season",placeholder:"Season or Month",value:l.season,onChange:v,className:"w-full border p-2"}),c.jsx("input",{type:"text",name:"audience",placeholder:"Audience (e.g. families, teachers)",value:l.audience,onChange:v,className:"w-full border p-2"}),c.jsx("input",{type:"text",name:"theme",placeholder:"Theme (e.g. fall festival)",value:l.theme,onChange:v,className:"w-full border p-2"}),c.jsx("input",{type:"text",name:"goal",placeholder:"Goal (e.g. raise funds for library)",value:l.goal,onChange:v,className:"w-full border p-2"}),c.jsx("button",{onClick:g,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Generate Event Idea"}),d&&c.jsxs("div",{className:"border p-4 mt-4 bg-gray-50 rounded",children:[c.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:d}),c.jsxs("div",{className:"flex gap-2 mt-2",children:[c.jsx("button",{onClick:b,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Use This Event"}),c.jsx("button",{onClick:x,className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",children:"Print Summary"})]})]})]})]})]})}function WT(){const[e,t]=z.useState(null),[r,n]=z.useState(""),a=hn(),{id:i}=qd();z.useEffect(()=>{async function l(){const{data:u,error:d}=await Xe.from("events").select("*").eq("id",i).single();d?(n("Failed to load event."),console.error(d)):t(u)}l()},[i]);const o=l=>{const{name:u,value:d,type:f,checked:p}=l.target;t(h=>({...h,[u]:f==="checkbox"?p:d}))},s=async l=>{l.preventDefault();const{error:u}=await Xe.from("events").update({title:e.title,event_date:e.event_date,category:e.category,school_level:e.school_level,share_public:e.share_public}).eq("id",i);u?(n("Update failed."),console.error(u)):a("/events")};return e?c.jsxs("div",{className:"max-w-xl mx-auto mt-8 p-6 bg-white shadow rounded",children:[c.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Edit Event"}),r&&c.jsx("p",{className:"text-red-500 mb-2",children:r}),c.jsxs("form",{onSubmit:s,className:"space-y-4",children:[c.jsx("input",{type:"text",name:"title",value:e.title,onChange:o,className:"w-full border p-2 rounded",required:!0}),c.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:o,className:"w-full border p-2 rounded",required:!0}),c.jsxs("select",{name:"category",value:e.category,onChange:o,className:"w-full border p-2 rounded",required:!0,children:[c.jsx("option",{value:"Fundraiser",children:"Fundraiser"}),c.jsx("option",{value:"Meeting",children:"Meeting"}),c.jsx("option",{value:"Celebration",children:"Celebration"}),c.jsx("option",{value:"Other",children:"Other"})]}),c.jsxs("select",{name:"school_level",value:e.school_level,onChange:o,className:"w-full border p-2 rounded",required:!0,children:[c.jsx("option",{value:"Elementary",children:"Elementary"}),c.jsx("option",{value:"Middle",children:"Middle"}),c.jsx("option",{value:"High",children:"High"})]}),c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:o}),c.jsx("span",{children:"Share Publicly"})]}),c.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]}):c.jsx("p",{className:"p-4",children:"Loading event..."})}function HT(e,t){if(bt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c_(e){var t=HT(e,"string");return bt(t)=="symbol"?t:t+""}function Xo(e,t,r){return(t=c_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){Xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gp(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function si(e,t){if(e==null)return{};var r,n,a=Gp(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c_(n.key),n)}}function Pr(e,t,r){return t&&s2(e.prototype,t),r&&s2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dh(e){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dh(e)}function u_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u_=function(){return!!e})()}function GT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VT(e,t){if(t&&(bt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GT(e)}function en(e,t,r){return t=Dh(t),VT(e,u_()?Reflect.construct(t,r||[],Dh(e).constructor):t.apply(e,r))}function Lh(e,t){return Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Lh(e,t)}function tn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lh(e,t)}function d_(e){if(Array.isArray(e))return e}function YT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function h0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mb(e,t){if(e){if(typeof e=="string")return h0(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h0(e,t):void 0}}function f_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ds(e,t){return d_(e)||YT(e,t)||mb(e,t)||f_()}function h_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=h_(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function cr(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=h_(e))&&(n&&(n+=" "),n+=t);return n}function sr(){return sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sr.apply(null,arguments)}var KT=function(e,t,r,n,a,i,o,s){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,i,o,s],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},XT=KT;const Gu=xt(XT);var ZT=function(){};function JT(e,t){var r={};return Object.keys(e).forEach(function(n){r[Sh(n)]=ZT}),r}function l2(e,t){return e[t]!==void 0}function Sh(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function QT(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function eC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Lh(e,t)}function p_(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function m_(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function g_(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}p_.__suppressDeprecationWarning=!0;m_.__suppressDeprecationWarning=!0;g_.__suppressDeprecationWarning=!0;function tC(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=p_,t.componentWillReceiveProps=m_),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=g_;var s=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,u,d,p)}}return e}var rC="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function v_(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=QT(e),i=Object.keys(t),o=i.map(Sh);a||!r.length||Gu(!1);var s=function(u){eC(d,u);function d(){for(var p,h=arguments.length,v=new Array(h),g=0;g<h;g++)v[g]=arguments[g];p=u.call.apply(u,[this].concat(v))||this,p.handlers=Object.create(null),i.forEach(function(x){var w=t[x],j=function(S){if(p.props[w]){var P;p._notifying=!0;for(var A=arguments.length,E=new Array(A>1?A-1:0),k=1;k<A;k++)E[k-1]=arguments[k];(P=p.props)[w].apply(P,[S].concat(E)),p._notifying=!1}p.unmounted||p.setState(function(M){var T,C=M.values;return{values:sr(Object.create(null),C,(T={},T[x]=S,T))}})};p.handlers[w]=j}),r.length&&(p.attachRef=function(x){p.inner=x});var b=Object.create(null);return i.forEach(function(x){b[x]=p.props[Sh(x)]}),p.state={values:b,prevProps:{}},p}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(h,v){var g=v.values,b=v.prevProps,x={values:sr(Object.create(null),g),prevProps:{}};return i.forEach(function(w){x.prevProps[w]=h[w],!l2(h,w)&&l2(b,w)&&(x.values[w]=h[Sh(w)])}),x},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var h=this,v=this.props,g=v.innerRef,b=Gp(v,["innerRef"]);o.forEach(function(w){delete b[w]});var x={};return i.forEach(function(w){var j=h.props[w];x[w]=j!==void 0?j:h.state.values[w]}),B.createElement(e,sr({},b,x,this.handlers,{ref:g||this.attachRef}))},d}(B.Component);tC(s),s.displayName="Uncontrolled("+n+")",s.propTypes=sr({innerRef:function(){}},JT(t)),r.forEach(function(u){s.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var l=s;return B.forwardRef&&(l=B.forwardRef(function(u,d){return B.createElement(s,sr({},u,{innerRef:d,__source:{fileName:rC,lineNumber:128},__self:this}))}),l.propTypes=s.propTypes),l.ControlledComponent=e,l.deferControlTo=function(u,d,f){return d===void 0&&(d={}),v_(u,sr({},t,d),f)},l}var Mh="milliseconds",Vu="seconds",Yu="minutes",Ku="hours",fs="day",Ll="week",Xu="month",hs="year",ps="decade",ms="century",y_={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},nC={month:1,year:12,decade:10*12,century:100*12};function aC(e){return[31,iC(e),31,30,31,30,31,31,30,31,30,31]}function iC(e){return e%4===0&&e%100!==0||e%400===0?29:28}function ka(e,t,r){switch(e=new Date(e),r){case Mh:case Vu:case Yu:case Ku:case fs:case Ll:return oC(e,t*y_[r]);case Xu:case hs:case ps:case ms:return sC(e,t*nC[r])}throw new TypeError('Invalid units: "'+r+'"')}function oC(e,t){var r=new Date(+e+t);return lC(e,r)}function sC(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=r*12+n+t,o=Math.trunc(i/12),s=i%12,l=Math.min(a,aC(o)[s]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(s),u.setDate(l),u}function lC(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*y_.minutes)}function Zu(e,t,r){return ka(e,-t,r)}function zr(e,t,r){switch(e=new Date(e),t){case ms:case ps:case hs:e=$h(e,0);case Xu:e=j_(e,1);case Ll:case fs:e=ed(e,0);case Ku:e=Ml(e,0);case Yu:e=Qu(e,0);case Vu:e=Ju(e,0)}return t===ps&&(e=Zu(e,gs(e)%10,"year")),t===ms&&(e=Zu(e,gs(e)%100,"year")),t===Ll&&(e=N_(e,0,r)),e}function Ih(e,t,r){switch(e=new Date(e),e=zr(e,t,r),t){case ms:case ps:case hs:case Xu:case Ll:e=ka(e,1,t),e=Zu(e,1,fs),e.setHours(23,59,59,999);break;case fs:e.setHours(23,59,59,999);break;case Ku:case Yu:case Vu:e=ka(e,1,t),e=Zu(e,1,Mh)}return e}var fc=pc(function(e,t){return e===t}),gb=pc(function(e,t){return e!==t}),Vp=pc(function(e,t){return e>t}),Wd=pc(function(e,t){return e>=t}),vb=pc(function(e,t){return e<t}),hc=pc(function(e,t){return e<=t});function b_(){return new Date(Math.min.apply(Math,arguments))}function x_(){return new Date(Math.max.apply(Math,arguments))}function w_(e,t,r,n){return n=n||"day",(!t||Wd(e,t,n))&&(!r||hc(e,r,n))}var Ju=bo("Milliseconds"),Qu=bo("Seconds"),Ml=bo("Minutes"),ed=bo("Hours"),S_=bo("Day"),j_=bo("Date"),$h=bo("Month"),gs=bo("FullYear");function cC(e,t){return t===void 0?gs(zr(e,ps)):ka(e,t+10,hs)}function uC(e,t){return t===void 0?gs(zr(e,ms)):ka(e,t+100,hs)}function N_(e,t,r){var n=(S_(e)+7-(r||0))%7;return t===void 0?n:ka(e,t-n,fs)}function dC(e,t,r,n){var a,i,o;switch(r){case Mh:case Vu:case Yu:case Ku:case fs:case Ll:a=t.getTime()-e.getTime();break;case Xu:case hs:case ps:case ms:a=(gs(t)-gs(e))*12+$h(t)-$h(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Mh:i=1;break;case Vu:i=1e3;break;case Yu:i=1e3*60;break;case Ku:i=1e3*60*60;break;case fs:i=1e3*60*60*24;break;case Ll:i=1e3*60*60*24*7;break;case Xu:i=1;break;case hs:i=12;break;case ps:i=120;break;case ms:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=a/i,n?o:Math.round(o)}function bo(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function pc(e){return function(t,r,n){return e(+zr(t,n),+zr(r,n))}}const c2=Object.freeze(Object.defineProperty({__proto__:null,add:ka,century:uC,date:j_,day:S_,decade:cC,diff:dC,endOf:Ih,eq:fc,gt:Vp,gte:Wd,hours:ed,inRange:w_,lt:vb,lte:hc,max:x_,milliseconds:Ju,min:b_,minutes:Ml,month:$h,neq:gb,seconds:Qu,startOf:zr,subtract:Zu,weekday:N_,year:gs},Symbol.toStringTag,{value:"Module"}));function fC(e){if(Array.isArray(e))return h0(e)}function __(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jh(e){return fC(e)||__(e)||mb(e)||hC()}function pC(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var yb=pC;function mC(e,t){return e===t||e!==e&&t!==t}var Hd=mC,gC=typeof ea=="object"&&ea&&ea.Object===Object&&ea,A_=gC,vC=A_,yC=typeof self=="object"&&self&&self.Object===Object&&self,bC=vC||yC||Function("return this")(),Ma=bC,xC=Ma,wC=xC.Symbol,mc=wC,u2=mc,O_=Object.prototype,SC=O_.hasOwnProperty,jC=O_.toString,pu=u2?u2.toStringTag:void 0;function NC(e){var t=SC.call(e,pu),r=e[pu];try{e[pu]=void 0;var n=!0}catch{}var a=jC.call(e);return n&&(t?e[pu]=r:delete e[pu]),a}var _C=NC,AC=Object.prototype,OC=AC.toString;function PC(e){return OC.call(e)}var EC=PC,d2=mc,TC=_C,CC=EC,kC="[object Null]",DC="[object Undefined]",f2=d2?d2.toStringTag:void 0;function LC(e){return e==null?e===void 0?DC:kC:f2&&f2 in Object(e)?TC(e):CC(e)}var Fi=LC;function MC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var oa=MC;const gc=xt(oa);var IC=Fi,$C=oa,RC="[object AsyncFunction]",FC="[object Function]",BC="[object GeneratorFunction]",zC="[object Proxy]";function qC(e){if(!$C(e))return!1;var t=IC(e);return t==FC||t==BC||t==RC||t==zC}var Yp=qC;const ot=xt(Yp);var UC=9007199254740991;function WC(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=UC}var bb=WC,HC=Yp,GC=bb;function VC(e){return e!=null&&GC(e.length)&&!HC(e)}var vc=VC,YC=9007199254740991,KC=/^(?:0|[1-9]\d*)$/;function XC(e,t){var r=typeof e;return t=t??YC,!!t&&(r=="number"||r!="symbol"&&KC.test(e))&&e>-1&&e%1==0&&e<t}var xb=XC,ZC=Hd,JC=vc,QC=xb,ek=oa;function tk(e,t,r){if(!ek(r))return!1;var n=typeof t;return(n=="number"?JC(r)&&QC(t,r.length):n=="string"&&t in r)?ZC(r[t],e):!1}var yc=tk,rk=/\s/;function nk(e){for(var t=e.length;t--&&rk.test(e.charAt(t)););return t}var ak=nk,ik=ak,ok=/^\s+/;function sk(e){return e&&e.slice(0,ik(e)+1).replace(ok,"")}var lk=sk;function ck(e){return e!=null&&typeof e=="object"}var Ia=ck,uk=Fi,dk=Ia,fk="[object Symbol]";function hk(e){return typeof e=="symbol"||dk(e)&&uk(e)==fk}var bc=hk,pk=lk,h2=oa,mk=bc,p2=NaN,gk=/^[-+]0x[0-9a-f]+$/i,vk=/^0b[01]+$/i,yk=/^0o[0-7]+$/i,bk=parseInt;function xk(e){if(typeof e=="number")return e;if(mk(e))return p2;if(h2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=h2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=pk(e);var r=vk.test(e);return r||yk.test(e)?bk(e.slice(2),r?2:8):gk.test(e)?p2:+e}var P_=xk,wk=P_,m2=1/0,Sk=17976931348623157e292;function jk(e){if(!e)return e===0?e:0;if(e=wk(e),e===m2||e===-m2){var t=e<0?-1:1;return t*Sk}return e===e?e:0}var E_=jk,Nk=E_;function _k(e){var t=Nk(e),r=t%1;return t===t?r?t-r:t:0}var T_=_k,Ak=yb,Ok=yc,Pk=T_,Ek=Math.ceil,Tk=Math.max;function Ck(e,t,r){(r?Ok(e,t,r):t===void 0)?t=1:t=Tk(Pk(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,i=0,o=Array(Ek(n/t));a<n;)o[i++]=Ak(e,a,a+=t);return o}var kk=Ck;const Dk=xt(kk);function Gd(e){return e&&e.ownerDocument||document}function Lk(e){var t=Gd(e);return t&&t.defaultView||window}function Mk(e,t){return Lk(e).getComputedStyle(e,t)}var Ik=/([A-Z])/g;function $k(e){return e.replace(Ik,"-$1").toLowerCase()}var Rk=/^ms-/;function Jf(e){return $k(e).replace(Rk,"-ms-")}var Fk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Bk(e){return!!(e&&Fk.test(e))}function bl(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Jf(t))||Mk(e).getPropertyValue(Jf(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(Jf(a)):Bk(a)?n+=a+"("+i+") ":r+=Jf(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function td(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function zk(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function wb(e){return"window"in e&&e.window===e?e:zk(e)&&e.defaultView||!1}function C_(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=wb(n);if(a===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],a):n[t]=a}return r}const k_=C_("pageXOffset"),D_=C_("pageYOffset");function is(e){var t=Gd(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!td(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+D_(n)-(n.clientTop||0),left:r.left+k_(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var qk=function(t){return!!t&&"offsetParent"in t};function Uk(e){for(var t=Gd(e),r=e&&e.offsetParent;qk(r)&&r.nodeName!=="HTML"&&bl(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var Wk=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function L_(e,t){var r={top:0,left:0},n;if(bl(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||Uk(e);n=is(e),Wk(a)!=="html"&&(r=is(a));var i=String(bl(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-D_(a)||0;var o=String(bl(a,"borderLeftWidth")||0);r.left+=parseInt(o,10)-k_(a)||0}var s=String(bl(e,"marginTop")||0),l=String(bl(e,"marginLeft")||0);return sr({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const Sb=!!(typeof window<"u"&&window.document&&window.document.createElement);var g2=new Date().getTime();function Hk(e){var t=new Date().getTime(),r=Math.max(0,16-(t-g2)),n=setTimeout(e,r);return g2=t,n}var Gk=["","webkit","moz","o","ms"],p0="clearTimeout",m0=Hk,v2=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};Sb&&Gk.some(function(e){var t=v2(e,"request");return t in window&&(p0=v2(e,"cancel"),m0=function(n){return window[t](n)}),!!m0});var y2=function(t){typeof window[p0]=="function"&&window[p0](t)},M_=m0,cv;function Vk(e,t){if(!cv){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;cv=function(i,o){return n.call(i,o)}}return cv(e,t)}var Yk=Function.prototype.bind.call(Function.prototype.call,[].slice);function Kk(e,t){return Yk(e.querySelectorAll(t))}var g0=!1,v0=!1;try{var uv={get passive(){return g0=!0},get once(){return v0=g0=!0}};Sb&&(window.addEventListener("test",uv,uv),window.removeEventListener("test",uv,!0))}catch{}function Xk(e,t,r,n){if(n&&typeof n!="boolean"&&!v0){var a=n.once,i=n.capture,o=r;!v0&&a&&(o=r.__once||function s(l){this.removeEventListener(t,s,i),r.call(this,l)},r.__once=o),e.addEventListener(t,o,g0?n:i)}e.addEventListener(t,r,n)}function Zk(e){const t=z.useRef(e);return z.useEffect(()=>{t.current=e},[e]),t}function b2(e){const t=Zk(e);return z.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function x2(){return z.useState(null)}function Jk(){const e=z.useRef(!0),t=z.useRef(()=>e.current);return z.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Qk(e){const t=Jk();return[e[0],z.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var jn="top",na="bottom",aa="right",Nn="left",jb="auto",Vd=[jn,na,aa,Nn],Il="start",rd="end",eD="clippingParents",I_="viewport",mu="popper",tD="reference",w2=Vd.reduce(function(e,t){return e.concat([t+"-"+Il,t+"-"+rd])},[]),Nb=[].concat(Vd,[jb]).reduce(function(e,t){return e.concat([t,t+"-"+Il,t+"-"+rd])},[]),rD="beforeRead",nD="read",aD="afterRead",iD="beforeMain",oD="main",sD="afterMain",lD="beforeWrite",cD="write",uD="afterWrite",dD=[rD,nD,aD,iD,oD,sD,lD,cD,uD];function ni(e){return e.split("-")[0]}function Rn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vs(e){var t=Rn(e).Element;return e instanceof t||e instanceof Element}function ai(e){var t=Rn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function _b(e){if(typeof ShadowRoot>"u")return!1;var t=Rn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var os=Math.max,Rh=Math.min,$l=Math.round;function y0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function $_(){return!/^((?!chrome|android).)*safari/i.test(y0())}function Rl(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&ai(e)&&(a=e.offsetWidth>0&&$l(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&$l(n.height)/e.offsetHeight||1);var o=vs(e)?Rn(e):window,s=o.visualViewport,l=!$_()&&r,u=(n.left+(l&&s?s.offsetLeft:0))/a,d=(n.top+(l&&s?s.offsetTop:0))/i,f=n.width/a,p=n.height/i;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u,x:u,y:d}}function Ab(e){var t=Rl(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function R_(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&_b(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function mo(e){return e?(e.nodeName||"").toLowerCase():null}function Mi(e){return Rn(e).getComputedStyle(e)}function fD(e){return["table","td","th"].indexOf(mo(e))>=0}function xo(e){return((vs(e)?e.ownerDocument:e.document)||window.document).documentElement}function Kp(e){return mo(e)==="html"?e:e.assignedSlot||e.parentNode||(_b(e)?e.host:null)||xo(e)}function S2(e){return!ai(e)||Mi(e).position==="fixed"?null:e.offsetParent}function hD(e){var t=/firefox/i.test(y0()),r=/Trident/i.test(y0());if(r&&ai(e)){var n=Mi(e);if(n.position==="fixed")return null}var a=Kp(e);for(_b(a)&&(a=a.host);ai(a)&&["html","body"].indexOf(mo(a))<0;){var i=Mi(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Yd(e){for(var t=Rn(e),r=S2(e);r&&fD(r)&&Mi(r).position==="static";)r=S2(r);return r&&(mo(r)==="html"||mo(r)==="body"&&Mi(r).position==="static")?t:r||hD(e)||t}function Ob(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Du(e,t,r){return os(e,Rh(t,r))}function pD(e,t,r){var n=Du(e,t,r);return n>r?r:n}function F_(){return{top:0,right:0,bottom:0,left:0}}function B_(e){return Object.assign({},F_(),e)}function z_(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var mD=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,B_(typeof t!="number"?t:z_(t,Vd))};function gD(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,s=ni(r.placement),l=Ob(s),u=[Nn,aa].indexOf(s)>=0,d=u?"height":"width";if(!(!i||!o)){var f=mD(a.padding,r),p=Ab(i),h=l==="y"?jn:Nn,v=l==="y"?na:aa,g=r.rects.reference[d]+r.rects.reference[l]-o[l]-r.rects.popper[d],b=o[l]-r.rects.reference[l],x=Yd(i),w=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,j=g/2-b/2,_=f[h],S=w-p[d]-f[v],P=w/2-p[d]/2+j,A=Du(_,P,S),E=l;r.modifiersData[n]=(t={},t[E]=A,t.centerOffset=A-P,t)}}function vD(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||R_(t.elements.popper,a)&&(t.elements.arrow=a))}const yD={name:"arrow",enabled:!0,phase:"main",fn:gD,effect:vD,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fl(e){return e.split("-")[1]}var bD={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xD(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:$l(r*a)/a||0,y:$l(n*a)/a||0}}function j2(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=o.x,h=p===void 0?0:p,v=o.y,g=v===void 0?0:v,b=typeof d=="function"?d({x:h,y:g}):{x:h,y:g};h=b.x,g=b.y;var x=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),j=Nn,_=jn,S=window;if(u){var P=Yd(r),A="clientHeight",E="clientWidth";if(P===Rn(r)&&(P=xo(r),Mi(P).position!=="static"&&s==="absolute"&&(A="scrollHeight",E="scrollWidth")),P=P,a===jn||(a===Nn||a===aa)&&i===rd){_=na;var k=f&&P===S&&S.visualViewport?S.visualViewport.height:P[A];g-=k-n.height,g*=l?1:-1}if(a===Nn||(a===jn||a===na)&&i===rd){j=aa;var M=f&&P===S&&S.visualViewport?S.visualViewport.width:P[E];h-=M-n.width,h*=l?1:-1}}var T=Object.assign({position:s},u&&bD),C=d===!0?xD({x:h,y:g},Rn(r)):{x:h,y:g};if(h=C.x,g=C.y,l){var I;return Object.assign({},T,(I={},I[_]=w?"0":"",I[j]=x?"0":"",I.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",I))}return Object.assign({},T,(t={},t[_]=w?g+"px":"",t[j]=x?h+"px":"",t.transform="",t))}function wD(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,s=r.roundOffsets,l=s===void 0?!0:s,u={placement:ni(t.placement),variation:Fl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,j2(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,j2(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const SD={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wD,data:{}};var Qf={passive:!0};function jD(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,o=n.resize,s=o===void 0?!0:o,l=Rn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",r.update,Qf)}),s&&l.addEventListener("resize",r.update,Qf),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Qf)}),s&&l.removeEventListener("resize",r.update,Qf)}}const ND={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jD,data:{}};var _D={left:"right",right:"left",bottom:"top",top:"bottom"};function Nh(e){return e.replace(/left|right|bottom|top/g,function(t){return _D[t]})}var AD={start:"end",end:"start"};function N2(e){return e.replace(/start|end/g,function(t){return AD[t]})}function Pb(e){var t=Rn(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Eb(e){return Rl(xo(e)).left+Pb(e).scrollLeft}function OD(e,t){var r=Rn(e),n=xo(e),a=r.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;var u=$_();(u||!u&&t==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s+Eb(e),y:l}}function PD(e){var t,r=xo(e),n=Pb(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=os(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=os(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-n.scrollLeft+Eb(e),l=-n.scrollTop;return Mi(a||r).direction==="rtl"&&(s+=os(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:l}}function Tb(e){var t=Mi(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function q_(e){return["html","body","#document"].indexOf(mo(e))>=0?e.ownerDocument.body:ai(e)&&Tb(e)?e:q_(Kp(e))}function Lu(e,t){var r;t===void 0&&(t=[]);var n=q_(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=Rn(n),o=a?[i].concat(i.visualViewport||[],Tb(n)?n:[]):n,s=t.concat(o);return a?s:s.concat(Lu(Kp(o)))}function b0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ED(e,t){var r=Rl(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function _2(e,t,r){return t===I_?b0(OD(e,r)):vs(t)?ED(t,r):b0(PD(xo(e)))}function TD(e){var t=Lu(Kp(e)),r=["absolute","fixed"].indexOf(Mi(e).position)>=0,n=r&&ai(e)?Yd(e):e;return vs(n)?t.filter(function(a){return vs(a)&&R_(a,n)&&mo(a)!=="body"}):[]}function CD(e,t,r,n){var a=t==="clippingParents"?TD(e):[].concat(t),i=[].concat(a,[r]),o=i[0],s=i.reduce(function(l,u){var d=_2(e,u,n);return l.top=os(d.top,l.top),l.right=Rh(d.right,l.right),l.bottom=Rh(d.bottom,l.bottom),l.left=os(d.left,l.left),l},_2(e,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function U_(e){var t=e.reference,r=e.element,n=e.placement,a=n?ni(n):null,i=n?Fl(n):null,o=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(a){case jn:l={x:o,y:t.y-r.height};break;case na:l={x:o,y:t.y+t.height};break;case aa:l={x:t.x+t.width,y:s};break;case Nn:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var u=a?Ob(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Il:l[u]=l[u]-(t[d]/2-r[d]/2);break;case rd:l[u]=l[u]+(t[d]/2-r[d]/2);break}}return l}function nd(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.strategy,o=i===void 0?e.strategy:i,s=r.boundary,l=s===void 0?eD:s,u=r.rootBoundary,d=u===void 0?I_:u,f=r.elementContext,p=f===void 0?mu:f,h=r.altBoundary,v=h===void 0?!1:h,g=r.padding,b=g===void 0?0:g,x=B_(typeof b!="number"?b:z_(b,Vd)),w=p===mu?tD:mu,j=e.rects.popper,_=e.elements[v?w:p],S=CD(vs(_)?_:_.contextElement||xo(e.elements.popper),l,d,o),P=Rl(e.elements.reference),A=U_({reference:P,element:j,placement:a}),E=b0(Object.assign({},j,A)),k=p===mu?E:P,M={top:S.top-k.top+x.top,bottom:k.bottom-S.bottom+x.bottom,left:S.left-k.left+x.left,right:k.right-S.right+x.right},T=e.modifiersData.offset;if(p===mu&&T){var C=T[a];Object.keys(M).forEach(function(I){var $=[aa,na].indexOf(I)>=0?1:-1,G=[jn,na].indexOf(I)>=0?"y":"x";M[I]+=C[G]*$})}return M}function kD(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?Nb:l,d=Fl(n),f=d?s?w2:w2.filter(function(v){return Fl(v)===d}):Vd,p=f.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=f);var h=p.reduce(function(v,g){return v[g]=nd(e,{placement:g,boundary:a,rootBoundary:i,padding:o})[ni(g)],v},{});return Object.keys(h).sort(function(v,g){return h[v]-h[g]})}function DD(e){if(ni(e)===jb)return[];var t=Nh(e);return[N2(e),t,N2(t)]}function LD(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,v=h===void 0?!0:h,g=r.allowedAutoPlacements,b=t.options.placement,x=ni(b),w=x===b,j=l||(w||!v?[Nh(b)]:DD(b)),_=[b].concat(j).reduce(function(ee,ie){return ee.concat(ni(ie)===jb?kD(t,{placement:ie,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:g}):ie)},[]),S=t.rects.reference,P=t.rects.popper,A=new Map,E=!0,k=_[0],M=0;M<_.length;M++){var T=_[M],C=ni(T),I=Fl(T)===Il,$=[jn,na].indexOf(C)>=0,G=$?"width":"height",H=nd(t,{placement:T,boundary:d,rootBoundary:f,altBoundary:p,padding:u}),Z=$?I?aa:Nn:I?na:jn;S[G]>P[G]&&(Z=Nh(Z));var J=Nh(Z),Y=[];if(i&&Y.push(H[C]<=0),s&&Y.push(H[Z]<=0,H[J]<=0),Y.every(function(ee){return ee})){k=T,E=!1;break}A.set(T,Y)}if(E)for(var Q=v?3:1,oe=function(ie){var K=_.find(function(se){var de=A.get(se);if(de)return de.slice(0,ie).every(function(ae){return ae})});if(K)return k=K,"break"},L=Q;L>0;L--){var q=oe(L);if(q==="break")break}t.placement!==k&&(t.modifiersData[n]._skip=!0,t.placement=k,t.reset=!0)}}const MD={name:"flip",enabled:!0,phase:"main",fn:LD,requiresIfExists:["offset"],data:{_skip:!1}};function A2(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function O2(e){return[jn,aa,na,Nn].some(function(t){return e[t]>=0})}function ID(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=nd(t,{elementContext:"reference"}),s=nd(t,{altBoundary:!0}),l=A2(o,n),u=A2(s,a,i),d=O2(l),f=O2(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const $D={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ID};function RD(e,t,r){var n=ni(e),a=[Nn,jn].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[Nn,aa].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function FD(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,o=Nb.reduce(function(d,f){return d[f]=RD(f,t.rects,i),d},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const BD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:FD};function zD(e){var t=e.state,r=e.name;t.modifiersData[r]=U_({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const qD={name:"popperOffsets",enabled:!0,phase:"read",fn:zD,data:{}};function UD(e){return e==="x"?"y":"x"}function WD(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,p=r.tether,h=p===void 0?!0:p,v=r.tetherOffset,g=v===void 0?0:v,b=nd(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),x=ni(t.placement),w=Fl(t.placement),j=!w,_=Ob(x),S=UD(_),P=t.modifiersData.popperOffsets,A=t.rects.reference,E=t.rects.popper,k=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,M=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(P){if(i){var I,$=_==="y"?jn:Nn,G=_==="y"?na:aa,H=_==="y"?"height":"width",Z=P[_],J=Z+b[$],Y=Z-b[G],Q=h?-E[H]/2:0,oe=w===Il?A[H]:E[H],L=w===Il?-E[H]:-A[H],q=t.elements.arrow,ee=h&&q?Ab(q):{width:0,height:0},ie=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:F_(),K=ie[$],se=ie[G],de=Du(0,A[H],ee[H]),ae=j?A[H]/2-Q-de-K-M.mainAxis:oe-de-K-M.mainAxis,xe=j?-A[H]/2+Q+de+se+M.mainAxis:L+de+se+M.mainAxis,ye=t.elements.arrow&&Yd(t.elements.arrow),pe=ye?_==="y"?ye.clientTop||0:ye.clientLeft||0:0,Pe=(I=T==null?void 0:T[_])!=null?I:0,De=Z+ae-Pe-pe,be=Z+xe-Pe,re=Du(h?Rh(J,De):J,Z,h?os(Y,be):Y);P[_]=re,C[_]=re-Z}if(s){var Ue,Fe=_==="x"?jn:Nn,Ae=_==="x"?na:aa,ke=P[S],Me=S==="y"?"height":"width",Ie=ke+b[Fe],Ge=ke-b[Ae],Ze=[jn,Nn].indexOf(x)!==-1,et=(Ue=T==null?void 0:T[S])!=null?Ue:0,lt=Ze?Ie:ke-A[Me]-E[Me]-et+M.altAxis,vt=Ze?ke+A[Me]+E[Me]-et-M.altAxis:Ge,wt=h&&Ze?pD(lt,ke,vt):Du(h?lt:Ie,ke,h?vt:Ge);P[S]=wt,C[S]=wt-ke}t.modifiersData[n]=C}}const HD={name:"preventOverflow",enabled:!0,phase:"main",fn:WD,requiresIfExists:["offset"]};function GD(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function VD(e){return e===Rn(e)||!ai(e)?Pb(e):GD(e)}function YD(e){var t=e.getBoundingClientRect(),r=$l(t.width)/e.offsetWidth||1,n=$l(t.height)/e.offsetHeight||1;return r!==1||n!==1}function KD(e,t,r){r===void 0&&(r=!1);var n=ai(t),a=ai(t)&&YD(t),i=xo(t),o=Rl(e,a,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((mo(t)!=="body"||Tb(i))&&(s=VD(t)),ai(t)?(l=Rl(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=Eb(i))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function XD(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&a(l)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function ZD(e){var t=XD(e);return dD.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function JD(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function QD(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var P2={placement:"bottom",modifiers:[],strategy:"absolute"};function E2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function eL(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?P2:a;return function(s,l,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},P2,i),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],p=!1,h={state:d,setOptions:function(x){var w=typeof x=="function"?x(d.options):x;g(),d.options=Object.assign({},i,d.options,w),d.scrollParents={reference:vs(s)?Lu(s):s.contextElement?Lu(s.contextElement):[],popper:Lu(l)};var j=ZD(QD([].concat(n,d.options.modifiers)));return d.orderedModifiers=j.filter(function(_){return _.enabled}),v(),h.update()},forceUpdate:function(){if(!p){var x=d.elements,w=x.reference,j=x.popper;if(E2(w,j)){d.rects={reference:KD(w,Yd(j),d.options.strategy==="fixed"),popper:Ab(j)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(M){return d.modifiersData[M.name]=Object.assign({},M.data)});for(var _=0;_<d.orderedModifiers.length;_++){if(d.reset===!0){d.reset=!1,_=-1;continue}var S=d.orderedModifiers[_],P=S.fn,A=S.options,E=A===void 0?{}:A,k=S.name;typeof P=="function"&&(d=P({state:d,options:E,name:k,instance:h})||d)}}}},update:JD(function(){return new Promise(function(b){h.forceUpdate(),b(d)})}),destroy:function(){g(),p=!0}};if(!E2(s,l))return h;h.setOptions(u).then(function(b){!p&&u.onFirstUpdate&&u.onFirstUpdate(b)});function v(){d.orderedModifiers.forEach(function(b){var x=b.name,w=b.options,j=w===void 0?{}:w,_=b.effect;if(typeof _=="function"){var S=_({state:d,name:x,instance:h,options:j}),P=function(){};f.push(S||P)}})}function g(){f.forEach(function(b){return b()}),f=[]}return h}}var tL=eL({defaultModifiers:[$D,qD,SD,ND,BD,MD,HD,yD]}),T2=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},rL={name:"applyStyles",enabled:!1},nL={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var o=(a.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==i.id});o.length?a.setAttribute("aria-describedby",o.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,i=a.popper,o=a.reference,s=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&s==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+i.id:i.id)}}},aL=[];function iL(e,t,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,o=n.placement,s=o===void 0?"bottom":o,l=n.strategy,u=l===void 0?"absolute":l,d=n.modifiers,f=d===void 0?aL:d,p=Gp(n,["enabled","placement","strategy","modifiers"]),h=z.useRef(),v=z.useCallback(function(){var _;(_=h.current)==null||_.update()},[]),g=z.useCallback(function(){var _;(_=h.current)==null||_.forceUpdate()},[]),b=Qk(z.useState({placement:s,update:v,forceUpdate:g,attributes:{},styles:{popper:T2(u),arrow:{}}})),x=b[0],w=b[1],j=z.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(S){var P=S.state,A={},E={};Object.keys(P.elements).forEach(function(k){A[k]=P.styles[k],E[k]=P.attributes[k]}),w({state:P,styles:A,attributes:E,update:v,forceUpdate:g,placement:P.placement})}}},[v,g,w]);return z.useEffect(function(){!h.current||!i||h.current.setOptions({placement:s,strategy:u,modifiers:[].concat(f,[j,rL])})},[u,s,j,i]),z.useEffect(function(){if(!(!i||e==null||t==null))return h.current=tL(e,t,sr({},p,{placement:s,strategy:u,modifiers:[].concat(f,[nL,j])})),function(){h.current!=null&&(h.current.destroy(),h.current=void 0,w(function(_){return sr({},_,{attributes:{},styles:{popper:T2(u)}})}))}},[i,e,t]),x}function oL(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function Tu(e,t,r,n){return Xk(e,t,r,n),function(){oL(e,t,r,n)}}var sL=function(){},lL=sL;const cL=xt(lL);function uL(e){return e&&"setState"in e?IN.findDOMNode(e):e??null}const dL=function(e){return Gd(uL(e))};var fL=27,C2=function(){};function hL(e){return e.button===0}function pL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var k2=function(t){return t&&("current"in t?t.current:t)};function mL(e,t,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,o=i===void 0?"click":i,s=z.useRef(!1),l=t||C2,u=z.useCallback(function(p){var h,v=k2(e);cL(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!v||pL(p)||!hL(p)||!!td(v,(h=p.composedPath==null?void 0:p.composedPath()[0])!=null?h:p.target)},[e]),d=b2(function(p){s.current||l(p)}),f=b2(function(p){p.keyCode===fL&&l(p)});z.useEffect(function(){if(!(a||e==null)){var p=window.event,h=dL(k2(e)),v=Tu(h,o,u,!0),g=Tu(h,o,function(w){if(w===p){p=void 0;return}d(w)}),b=Tu(h,"keyup",function(w){if(w===p){p=void 0;return}f(w)}),x=[];return"ontouchstart"in h.documentElement&&(x=[].slice.call(h.body.children).map(function(w){return Tu(w,"mousemove",C2)})),function(){v(),g(),b(),x.forEach(function(w){return w()})}}},[e,a,o,u,d,f])}function gL(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function vL(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function yL(e){var t,r,n,a,i=e.enabled,o=e.enableEvents,s=e.placement,l=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,p=e.arrowElement,h=e.popperConfig,v=h===void 0?{}:h,g=gL(v.modifiers);return sr({},v,{placement:s,enabled:i,strategy:d?"fixed":v.strategy,modifiers:vL(sr({},g,{eventListeners:{enabled:o},preventOverflow:sr({},g.preventOverflow,{options:f?sr({padding:f},(t=g.preventOverflow)==null?void 0:t.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:sr({offset:u},(n=g.offset)==null?void 0:n.options)},arrow:sr({},g.arrow,{enabled:!!p,options:sr({},(a=g.arrow)==null?void 0:a.options,{element:p})}),flip:sr({enabled:!!l},g.flip)}))})}function bL(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function xL(e,t){e.classList?e.classList.add(t):bL(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function D2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wL(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=D2(e.className,t):e.setAttribute("class",D2(e.className&&e.className.baseVal||"",t))}var eh;function Cb(e){if((!eh&&eh!==0||e)&&Sb){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),eh=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return eh}var dv=function(t){var r;return typeof document>"u"?null:t==null?Gd().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function L2(e,t){var r=z.useState(function(){return dv(e)}),n=r[0],a=r[1];if(!n){var i=dv(e);i&&a(i)}return z.useEffect(function(){},[t,n]),z.useEffect(function(){var o=dv(e);o!==n&&a(o)},[e,n]),n}const M2=e=>!e||typeof e=="function"?e:t=>{e.current=t};function SL(e,t){const r=M2(e),n=M2(t);return a=>{r&&r(a),n&&n(a)}}function jL(e,t){return z.useMemo(()=>SL(e,t),[e,t])}var kb=B.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,i=e.containerPadding,o=i===void 0?5:i,s=e.popperConfig,l=s===void 0?{}:s,u=e.transition,d=x2(),f=d[0],p=d[1],h=x2(),v=h[0],g=h[1],b=jL(p,t),x=L2(e.container),w=L2(e.target),j=z.useState(!e.show),_=j[0],S=j[1],P=iL(w,f,yL({placement:a,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:v,popperConfig:l})),A=P.styles,E=P.attributes,k=Gp(P,["styles","attributes"]);e.show?_&&S(!1):!e.transition&&!_&&S(!0);var M=function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},T=e.show||u&&!_;if(mL(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!T)return null;var C=e.children(sr({},k,{show:!!e.show,props:sr({},E.popper,{style:A.popper,ref:b}),arrowProps:sr({},E.arrow,{style:A.arrow,ref:g})}));if(u){var I=e.onExit,$=e.onExiting,G=e.onEnter,H=e.onEntering,Z=e.onEntered;C=B.createElement(u,{in:e.show,appear:!0,onExit:I,onExiting:$,onExited:M,onEnter:G,onEntering:H,onEntered:Z},C)}return x?IN.createPortal(C,x):null});kb.displayName="Overlay";kb.propTypes={show:Ne.bool,placement:Ne.oneOf(Nb),target:Ne.any,container:Ne.any,flip:Ne.bool,children:Ne.func.isRequired,containerPadding:Ne.number,popperConfig:Ne.object,rootClose:Ne.bool,rootCloseEvent:Ne.oneOf(["click","mousedown"]),rootCloseDisabled:Ne.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var i;return(i=Ne.func).isRequired.apply(i,[t].concat(n))}return Ne.func.apply(Ne,[t].concat(n))},transition:Ne.elementType,onEnter:Ne.func,onEntering:Ne.func,onEntered:Ne.func,onExit:Ne.func,onExiting:Ne.func,onExited:Ne.func};function NL(){this.__data__=[],this.size=0}var _L=NL,AL=Hd;function OL(e,t){for(var r=e.length;r--;)if(AL(e[r][0],t))return r;return-1}var Xp=OL,PL=Xp,EL=Array.prototype,TL=EL.splice;function CL(e){var t=this.__data__,r=PL(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():TL.call(t,r,1),--this.size,!0}var kL=CL,DL=Xp;function LL(e){var t=this.__data__,r=DL(t,e);return r<0?void 0:t[r][1]}var ML=LL,IL=Xp;function $L(e){return IL(this.__data__,e)>-1}var RL=$L,FL=Xp;function BL(e,t){var r=this.__data__,n=FL(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var zL=BL,qL=_L,UL=kL,WL=ML,HL=RL,GL=zL;function xc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xc.prototype.clear=qL;xc.prototype.delete=UL;xc.prototype.get=WL;xc.prototype.has=HL;xc.prototype.set=GL;var Zp=xc,VL=Zp;function YL(){this.__data__=new VL,this.size=0}var KL=YL;function XL(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ZL=XL;function JL(e){return this.__data__.get(e)}var QL=JL;function eM(e){return this.__data__.has(e)}var tM=eM,rM=Ma,nM=rM["__core-js_shared__"],aM=nM,fv=aM,I2=function(){var e=/[^.]+$/.exec(fv&&fv.keys&&fv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function iM(e){return!!I2&&I2 in e}var oM=iM,sM=Function.prototype,lM=sM.toString;function cM(e){if(e!=null){try{return lM.call(e)}catch{}try{return e+""}catch{}}return""}var W_=cM,uM=Yp,dM=oM,fM=oa,hM=W_,pM=/[\\^$.*+?()[\]{}|]/g,mM=/^\[object .+?Constructor\]$/,gM=Function.prototype,vM=Object.prototype,yM=gM.toString,bM=vM.hasOwnProperty,xM=RegExp("^"+yM.call(bM).replace(pM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wM(e){if(!fM(e)||dM(e))return!1;var t=uM(e)?xM:mM;return t.test(hM(e))}var SM=wM;function jM(e,t){return e==null?void 0:e[t]}var NM=jM,_M=SM,AM=NM;function OM(e,t){var r=AM(e,t);return _M(r)?r:void 0}var Ps=OM,PM=Ps,EM=Ma,TM=PM(EM,"Map"),Db=TM,CM=Ps,kM=CM(Object,"create"),Jp=kM,$2=Jp;function DM(){this.__data__=$2?$2(null):{},this.size=0}var LM=DM;function MM(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var IM=MM,$M=Jp,RM="__lodash_hash_undefined__",FM=Object.prototype,BM=FM.hasOwnProperty;function zM(e){var t=this.__data__;if($M){var r=t[e];return r===RM?void 0:r}return BM.call(t,e)?t[e]:void 0}var qM=zM,UM=Jp,WM=Object.prototype,HM=WM.hasOwnProperty;function GM(e){var t=this.__data__;return UM?t[e]!==void 0:HM.call(t,e)}var VM=GM,YM=Jp,KM="__lodash_hash_undefined__";function XM(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=YM&&t===void 0?KM:t,this}var ZM=XM,JM=LM,QM=IM,eI=qM,tI=VM,rI=ZM;function wc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wc.prototype.clear=JM;wc.prototype.delete=QM;wc.prototype.get=eI;wc.prototype.has=tI;wc.prototype.set=rI;var nI=wc,R2=nI,aI=Zp,iI=Db;function oI(){this.size=0,this.__data__={hash:new R2,map:new(iI||aI),string:new R2}}var sI=oI;function lI(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var cI=lI,uI=cI;function dI(e,t){var r=e.__data__;return uI(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Qp=dI,fI=Qp;function hI(e){var t=fI(this,e).delete(e);return this.size-=t?1:0,t}var pI=hI,mI=Qp;function gI(e){return mI(this,e).get(e)}var vI=gI,yI=Qp;function bI(e){return yI(this,e).has(e)}var xI=bI,wI=Qp;function SI(e,t){var r=wI(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var jI=SI,NI=sI,_I=pI,AI=vI,OI=xI,PI=jI;function Sc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sc.prototype.clear=NI;Sc.prototype.delete=_I;Sc.prototype.get=AI;Sc.prototype.has=OI;Sc.prototype.set=PI;var Lb=Sc,EI=Zp,TI=Db,CI=Lb,kI=200;function DI(e,t){var r=this.__data__;if(r instanceof EI){var n=r.__data__;if(!TI||n.length<kI-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new CI(n)}return r.set(e,t),this.size=r.size,this}var LI=DI,MI=Zp,II=KL,$I=ZL,RI=QL,FI=tM,BI=LI;function jc(e){var t=this.__data__=new MI(e);this.size=t.size}jc.prototype.clear=II;jc.prototype.delete=$I;jc.prototype.get=RI;jc.prototype.has=FI;jc.prototype.set=BI;var Mb=jc,zI="__lodash_hash_undefined__";function qI(e){return this.__data__.set(e,zI),this}var UI=qI;function WI(e){return this.__data__.has(e)}var HI=WI,GI=Lb,VI=UI,YI=HI;function Fh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new GI;++t<r;)this.add(e[t])}Fh.prototype.add=Fh.prototype.push=VI;Fh.prototype.has=YI;var H_=Fh;function KI(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var G_=KI;function XI(e,t){return e.has(t)}var V_=XI,ZI=H_,JI=G_,QI=V_,e$=1,t$=2;function r$(e,t,r,n,a,i){var o=r&e$,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,h=r&t$?new ZI:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],g=t[f];if(n)var b=o?n(g,v,f,t,e,i):n(v,g,f,e,t,i);if(b!==void 0){if(b)continue;p=!1;break}if(h){if(!JI(t,function(x,w){if(!QI(h,w)&&(v===x||a(v,x,r,n,i)))return h.push(w)})){p=!1;break}}else if(!(v===g||a(v,g,r,n,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var Y_=r$,n$=Ma,a$=n$.Uint8Array,K_=a$;function i$(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var o$=i$;function s$(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ib=s$,F2=mc,B2=K_,l$=Hd,c$=Y_,u$=o$,d$=Ib,f$=1,h$=2,p$="[object Boolean]",m$="[object Date]",g$="[object Error]",v$="[object Map]",y$="[object Number]",b$="[object RegExp]",x$="[object Set]",w$="[object String]",S$="[object Symbol]",j$="[object ArrayBuffer]",N$="[object DataView]",z2=F2?F2.prototype:void 0,hv=z2?z2.valueOf:void 0;function _$(e,t,r,n,a,i,o){switch(r){case N$:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j$:return!(e.byteLength!=t.byteLength||!i(new B2(e),new B2(t)));case p$:case m$:case y$:return l$(+e,+t);case g$:return e.name==t.name&&e.message==t.message;case b$:case w$:return e==t+"";case v$:var s=u$;case x$:var l=n&f$;if(s||(s=d$),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=h$,o.set(e,t);var d=c$(s(e),s(t),n,a,i,o);return o.delete(e),d;case S$:if(hv)return hv.call(e)==hv.call(t)}return!1}var A$=_$;function O$(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var $b=O$,P$=Array.isArray,rn=P$,E$=$b,T$=rn;function C$(e,t,r){var n=t(e);return T$(e)?n:E$(n,r(e))}var X_=C$;function k$(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var D$=k$;function L$(){return[]}var Z_=L$,M$=D$,I$=Z_,$$=Object.prototype,R$=$$.propertyIsEnumerable,q2=Object.getOwnPropertySymbols,F$=q2?function(e){return e==null?[]:(e=Object(e),M$(q2(e),function(t){return R$.call(e,t)}))}:I$,Rb=F$;function B$(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var z$=B$,q$=Fi,U$=Ia,W$="[object Arguments]";function H$(e){return U$(e)&&q$(e)==W$}var G$=H$,U2=G$,V$=Ia,J_=Object.prototype,Y$=J_.hasOwnProperty,K$=J_.propertyIsEnumerable,X$=U2(function(){return arguments}())?U2:function(e){return V$(e)&&Y$.call(e,"callee")&&!K$.call(e,"callee")},Fb=X$,Bh={exports:{}};function Z$(){return!1}var J$=Z$;Bh.exports;(function(e,t){var r=Ma,n=J$,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u})(Bh,Bh.exports);var em=Bh.exports,Q$=Fi,e8=bb,t8=Ia,r8="[object Arguments]",n8="[object Array]",a8="[object Boolean]",i8="[object Date]",o8="[object Error]",s8="[object Function]",l8="[object Map]",c8="[object Number]",u8="[object Object]",d8="[object RegExp]",f8="[object Set]",h8="[object String]",p8="[object WeakMap]",m8="[object ArrayBuffer]",g8="[object DataView]",v8="[object Float32Array]",y8="[object Float64Array]",b8="[object Int8Array]",x8="[object Int16Array]",w8="[object Int32Array]",S8="[object Uint8Array]",j8="[object Uint8ClampedArray]",N8="[object Uint16Array]",_8="[object Uint32Array]",Yt={};Yt[v8]=Yt[y8]=Yt[b8]=Yt[x8]=Yt[w8]=Yt[S8]=Yt[j8]=Yt[N8]=Yt[_8]=!0;Yt[r8]=Yt[n8]=Yt[m8]=Yt[a8]=Yt[g8]=Yt[i8]=Yt[o8]=Yt[s8]=Yt[l8]=Yt[c8]=Yt[u8]=Yt[d8]=Yt[f8]=Yt[h8]=Yt[p8]=!1;function A8(e){return t8(e)&&e8(e.length)&&!!Yt[Q$(e)]}var O8=A8;function P8(e){return function(t){return e(t)}}var tm=P8,zh={exports:{}};zh.exports;(function(e,t){var r=A_,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(zh,zh.exports);var Bb=zh.exports,E8=O8,T8=tm,W2=Bb,H2=W2&&W2.isTypedArray,C8=H2?T8(H2):E8,zb=C8,k8=z$,D8=Fb,L8=rn,M8=em,I8=xb,$8=zb,R8=Object.prototype,F8=R8.hasOwnProperty;function B8(e,t){var r=L8(e),n=!r&&D8(e),a=!r&&!n&&M8(e),i=!r&&!n&&!a&&$8(e),o=r||n||a||i,s=o?k8(e.length,String):[],l=s.length;for(var u in e)(t||F8.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||I8(u,l)))&&s.push(u);return s}var Q_=B8,z8=Object.prototype;function q8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||z8;return e===r}var qb=q8;function U8(e,t){return function(r){return e(t(r))}}var eA=U8,W8=eA,H8=W8(Object.keys,Object),G8=H8,V8=qb,Y8=G8,K8=Object.prototype,X8=K8.hasOwnProperty;function Z8(e){if(!V8(e))return Y8(e);var t=[];for(var r in Object(e))X8.call(e,r)&&r!="constructor"&&t.push(r);return t}var J8=Z8,Q8=Q_,e7=J8,t7=vc;function r7(e){return t7(e)?Q8(e):e7(e)}var Nc=r7,n7=X_,a7=Rb,i7=Nc;function o7(e){return n7(e,i7,a7)}var tA=o7,G2=tA,s7=1,l7=Object.prototype,c7=l7.hasOwnProperty;function u7(e,t,r,n,a,i){var o=r&s7,s=G2(e),l=s.length,u=G2(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var p=s[f];if(!(o?p in t:c7.call(t,p)))return!1}var h=i.get(e),v=i.get(t);if(h&&v)return h==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var b=o;++f<l;){p=s[f];var x=e[p],w=t[p];if(n)var j=o?n(w,x,p,t,e,i):n(x,w,p,e,t,i);if(!(j===void 0?x===w||a(x,w,r,n,i):j)){g=!1;break}b||(b=p=="constructor")}if(g&&!b){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(g=!1)}return i.delete(e),i.delete(t),g}var d7=u7,f7=Ps,h7=Ma,p7=f7(h7,"DataView"),m7=p7,g7=Ps,v7=Ma,y7=g7(v7,"Promise"),b7=y7,x7=Ps,w7=Ma,S7=x7(w7,"Set"),rA=S7,j7=Ps,N7=Ma,_7=j7(N7,"WeakMap"),A7=_7,x0=m7,w0=Db,S0=b7,j0=rA,N0=A7,nA=Fi,_c=W_,V2="[object Map]",O7="[object Object]",Y2="[object Promise]",K2="[object Set]",X2="[object WeakMap]",Z2="[object DataView]",P7=_c(x0),E7=_c(w0),T7=_c(S0),C7=_c(j0),k7=_c(N0),Ho=nA;(x0&&Ho(new x0(new ArrayBuffer(1)))!=Z2||w0&&Ho(new w0)!=V2||S0&&Ho(S0.resolve())!=Y2||j0&&Ho(new j0)!=K2||N0&&Ho(new N0)!=X2)&&(Ho=function(e){var t=nA(e),r=t==O7?e.constructor:void 0,n=r?_c(r):"";if(n)switch(n){case P7:return Z2;case E7:return V2;case T7:return Y2;case C7:return K2;case k7:return X2}return t});var rm=Ho,pv=Mb,D7=Y_,L7=A$,M7=d7,J2=rm,Q2=rn,ew=em,I7=zb,$7=1,tw="[object Arguments]",rw="[object Array]",th="[object Object]",R7=Object.prototype,nw=R7.hasOwnProperty;function F7(e,t,r,n,a,i){var o=Q2(e),s=Q2(t),l=o?rw:J2(e),u=s?rw:J2(t);l=l==tw?th:l,u=u==tw?th:u;var d=l==th,f=u==th,p=l==u;if(p&&ew(e)){if(!ew(t))return!1;o=!0,d=!1}if(p&&!d)return i||(i=new pv),o||I7(e)?D7(e,t,r,n,a,i):L7(e,t,l,r,n,a,i);if(!(r&$7)){var h=d&&nw.call(e,"__wrapped__"),v=f&&nw.call(t,"__wrapped__");if(h||v){var g=h?e.value():e,b=v?t.value():t;return i||(i=new pv),a(g,b,r,n,i)}}return p?(i||(i=new pv),M7(e,t,r,n,a,i)):!1}var B7=F7,z7=B7,aw=Ia;function aA(e,t,r,n,a){return e===t?!0:e==null||t==null||!aw(e)&&!aw(t)?e!==e&&t!==t:z7(e,t,r,n,aA,a)}var Ub=aA,q7=Ub;function U7(e,t){return q7(e,t)}var W7=U7;const ys=xt(W7);function mv(e,t){var r=wb(e);return r?r.innerHeight:is(e).height}function iA(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(Vk(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function H7(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var oA=H7,G7=Mb,V7=Ub,Y7=1,K7=2;function X7(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var l=s[0],u=e[l],d=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new G7;if(n)var p=n(u,d,l,e,t,f);if(!(p===void 0?V7(d,u,Y7|K7,n,f):p))return!1}}return!0}var Z7=X7,J7=oa;function Q7(e){return e===e&&!J7(e)}var sA=Q7,eR=sA,tR=Nc;function rR(e){for(var t=tR(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,eR(a)]}return t}var nR=rR;function aR(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var lA=aR,iR=Z7,oR=nR,sR=lA;function lR(e){var t=oR(e);return t.length==1&&t[0][2]?sR(t[0][0],t[0][1]):function(r){return r===e||iR(r,e,t)}}var cR=lR,uR=rn,dR=bc,fR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hR=/^\w*$/;function pR(e,t){if(uR(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||dR(e)?!0:hR.test(e)||!fR.test(e)||t!=null&&e in Object(t)}var Wb=pR,cA=Lb,mR="Expected a function";function Hb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(mR);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Hb.Cache||cA),r}Hb.Cache=cA;var uA=Hb;const gR=xt(uA);var vR=uA,yR=500;function bR(e){var t=vR(e,function(n){return r.size===yR&&r.clear(),n}),r=t.cache;return t}var xR=bR,wR=xR,SR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jR=/\\(\\)?/g,NR=wR(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(SR,function(r,n,a,i){t.push(a?i.replace(jR,"$1"):n||r)}),t}),_R=NR;function AR(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var nm=AR,iw=mc,OR=nm,PR=rn,ER=bc,ow=iw?iw.prototype:void 0,sw=ow?ow.toString:void 0;function dA(e){if(typeof e=="string")return e;if(PR(e))return OR(e,dA)+"";if(ER(e))return sw?sw.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var TR=dA,CR=TR;function kR(e){return e==null?"":CR(e)}var fA=kR,DR=rn,LR=Wb,MR=_R,IR=fA;function $R(e,t){return DR(e)?e:LR(e,t)?[e]:MR(IR(e))}var am=$R,RR=bc;function FR(e){if(typeof e=="string"||RR(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Kd=FR,BR=am,zR=Kd;function qR(e,t){t=BR(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[zR(t[r++])];return r&&r==n?e:void 0}var im=qR,UR=im;function WR(e,t,r){var n=e==null?void 0:UR(e,t);return n===void 0?r:n}var hA=WR;const $n=xt(hA);function HR(e,t){return e!=null&&t in Object(e)}var GR=HR,VR=am,YR=Fb,KR=rn,XR=xb,ZR=bb,JR=Kd;function QR(e,t,r){t=VR(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=JR(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&ZR(a)&&XR(o,a)&&(KR(e)||YR(e)))}var eF=QR,tF=GR,rF=eF;function nF(e,t){return e!=null&&rF(e,t,tF)}var aF=nF,iF=Ub,oF=hA,sF=aF,lF=Wb,cF=sA,uF=lA,dF=Kd,fF=1,hF=2;function pF(e,t){return lF(e)&&cF(t)?uF(dF(e),t):function(r){var n=oF(r,e);return n===void 0&&n===t?sF(r,e):iF(t,n,fF|hF)}}var mF=pF;function gF(e){return e}var Ac=gF;function vF(e){return function(t){return t==null?void 0:t[e]}}var yF=vF,bF=im;function xF(e){return function(t){return bF(t,e)}}var wF=xF,SF=yF,jF=wF,NF=Wb,_F=Kd;function AF(e){return NF(e)?SF(_F(e)):jF(e)}var OF=AF,PF=cR,EF=mF,TF=Ac,CF=rn,kF=OF;function DF(e){return typeof e=="function"?e:e==null?TF:typeof e=="object"?CF(e)?EF(e[0],e[1]):PF(e):kF(e)}var $a=DF,LF=oA,MF=$a,IF=T_,$F=Math.max;function RF(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:IF(r);return a<0&&(a=$F(n+a,0)),LF(e,MF(t),a)}var pA=RF;const FF=xt(pA);var BF=Math.ceil,zF=Math.max;function qF(e,t,r,n){for(var a=-1,i=zF(BF((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var UF=qF,WF=UF,HF=yc,gv=E_;function GF(e){return function(t,r,n){return n&&typeof n!="number"&&HF(t,r,n)&&(r=n=void 0),t=gv(t),r===void 0?(r=t,t=0):r=gv(r),n=n===void 0?t<r?1:-1:gv(n),WF(t,r,n,e)}}var VF=GF,YF=VF,KF=YF(),XF=KF;const ad=xt(XF);var lw=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function ZF(e,t){return!!(e===t||lw(e)&&lw(t))}function JF(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!ZF(e[r],t[r]))return!1;return!0}function mA(e,t){t===void 0&&(t=JF);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}function _0(e,t){var r=wb(e);return r?r.innerWidth:is(e).width}var cw=mc,QF=Fb,eB=rn,uw=cw?cw.isConcatSpreadable:void 0;function tB(e){return eB(e)||QF(e)||!!(uw&&e&&e[uw])}var rB=tB,nB=$b,aB=rB;function gA(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=aB),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?gA(s,t-1,r,n,a):nB(a,s):n||(a[a.length]=s)}return a}var Gb=gA;function iB(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(r(i[l],l,i)===!1)break}return t}}var oB=iB,sB=oB,lB=sB(),cB=lB,uB=cB,dB=Nc;function fB(e,t){return e&&uB(e,t,dB)}var Vb=fB,hB=vc;function pB(e,t){return function(r,n){if(r==null)return r;if(!hB(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var mB=pB,gB=Vb,vB=mB,yB=vB(gB),Yb=yB,bB=Yb,xB=vc;function wB(e,t){var r=-1,n=xB(e)?Array(e.length):[];return bB(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var vA=wB;function SB(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var jB=SB,dw=bc;function NB(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=dw(e),o=t!==void 0,s=t===null,l=t===t,u=dw(t);if(!s&&!u&&!i&&e>t||i&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0}var _B=NB,AB=_B;function OB(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=AB(a[n],i[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var PB=OB,vv=nm,EB=im,TB=$a,CB=vA,kB=jB,DB=tm,LB=PB,MB=Ac,IB=rn;function $B(e,t,r){t.length?t=vv(t,function(i){return IB(i)?function(o){return EB(o,i.length===1?i[0]:i)}:i}):t=[MB];var n=-1;t=vv(t,DB(TB));var a=CB(e,function(i,o,s){var l=vv(t,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return kB(a,function(i,o){return LB(i,o,r)})}var RB=$B;function FB(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var BB=FB,zB=BB,fw=Math.max;function qB(e,t,r){return t=fw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=fw(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),zB(e,this,s)}}var yA=qB;function UB(e){return function(){return e}}var WB=UB,HB=Ps,GB=function(){try{var e=HB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bA=GB,VB=WB,hw=bA,YB=Ac,KB=hw?function(e,t){return hw(e,"toString",{configurable:!0,enumerable:!1,value:VB(t),writable:!0})}:YB,XB=KB,ZB=800,JB=16,QB=Date.now;function e9(e){var t=0,r=0;return function(){var n=QB(),a=JB-(n-r);if(r=n,a>0){if(++t>=ZB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var t9=e9,r9=XB,n9=t9,a9=n9(r9),xA=a9,i9=Ac,o9=yA,s9=xA;function l9(e,t){return s9(o9(e,t,i9),e+"")}var wA=l9,c9=Gb,u9=RB,d9=wA,pw=yc,f9=d9(function(e,t){if(e==null)return[];var r=t.length;return r>1&&pw(e,t[0],t[1])?t=[]:r>2&&pw(t[0],t[1],t[2])&&(t=[t[0]]),u9(e,c9(t,1),[])}),h9=f9;const om=xt(h9);function SA(e){return d_(e)||__(e)||mb(e)||f_()}function p9(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var m9=p9,g9=oa,v9=qb,y9=m9,b9=Object.prototype,x9=b9.hasOwnProperty;function w9(e){if(!g9(e))return y9(e);var t=v9(e),r=[];for(var n in e)n=="constructor"&&(t||!x9.call(e,n))||r.push(n);return r}var S9=w9,j9=Q_,N9=S9,_9=vc;function A9(e){return _9(e)?j9(e,!0):N9(e)}var sm=A9,O9=wA,P9=Hd,E9=yc,T9=sm,jA=Object.prototype,C9=jA.hasOwnProperty,k9=O9(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&E9(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],o=T9(i),s=-1,l=o.length;++s<l;){var u=o[s],d=e[u];(d===void 0||P9(d,jA[u])&&!C9.call(e,u))&&(e[u]=i[u])}return e}),D9=k9;const L9=xt(D9);var mw=bA;function M9(e,t,r){t=="__proto__"&&mw?mw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Kb=M9,I9=Kb,$9=Vb,R9=$a;function F9(e,t){var r={};return t=R9(t),$9(e,function(n,a,i){I9(r,a,t(n,a,i))}),r}var B9=F9;const NA=xt(B9);function z9(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var _A=z9,q9=Kb,U9=Hd,W9=Object.prototype,H9=W9.hasOwnProperty;function G9(e,t,r){var n=e[t];(!(H9.call(e,t)&&U9(n,r))||r===void 0&&!(t in e))&&q9(e,t,r)}var AA=G9,V9=AA,Y9=Kb;function K9(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],l=n?n(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),a?Y9(r,s,l):V9(r,s,l)}return r}var Xd=K9,X9=Xd,Z9=Nc;function J9(e,t){return e&&X9(t,Z9(t),e)}var Q9=J9,ez=Xd,tz=sm;function rz(e,t){return e&&ez(t,tz(t),e)}var nz=rz,qh={exports:{}};qh.exports;(function(e,t){var r=Ma,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,p=s?s(f):new u.constructor(f);return u.copy(p),p}e.exports=l})(qh,qh.exports);var az=qh.exports;function iz(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var oz=iz,sz=Xd,lz=Rb;function cz(e,t){return sz(e,lz(e),t)}var uz=cz,dz=eA,fz=dz(Object.getPrototypeOf,Object),lm=fz,hz=$b,pz=lm,mz=Rb,gz=Z_,vz=Object.getOwnPropertySymbols,yz=vz?function(e){for(var t=[];e;)hz(t,mz(e)),e=pz(e);return t}:gz,OA=yz,bz=Xd,xz=OA;function wz(e,t){return bz(e,xz(e),t)}var Sz=wz,jz=X_,Nz=OA,_z=sm;function Az(e){return jz(e,_z,Nz)}var PA=Az,Oz=Object.prototype,Pz=Oz.hasOwnProperty;function Ez(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Pz.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Tz=Ez,gw=K_;function Cz(e){var t=new e.constructor(e.byteLength);return new gw(t).set(new gw(e)),t}var Xb=Cz,kz=Xb;function Dz(e,t){var r=t?kz(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Lz=Dz,Mz=/\w*$/;function Iz(e){var t=new e.constructor(e.source,Mz.exec(e));return t.lastIndex=e.lastIndex,t}var $z=Iz,vw=mc,yw=vw?vw.prototype:void 0,bw=yw?yw.valueOf:void 0;function Rz(e){return bw?Object(bw.call(e)):{}}var Fz=Rz,Bz=Xb;function zz(e,t){var r=t?Bz(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var qz=zz,Uz=Xb,Wz=Lz,Hz=$z,Gz=Fz,Vz=qz,Yz="[object Boolean]",Kz="[object Date]",Xz="[object Map]",Zz="[object Number]",Jz="[object RegExp]",Qz="[object Set]",eq="[object String]",tq="[object Symbol]",rq="[object ArrayBuffer]",nq="[object DataView]",aq="[object Float32Array]",iq="[object Float64Array]",oq="[object Int8Array]",sq="[object Int16Array]",lq="[object Int32Array]",cq="[object Uint8Array]",uq="[object Uint8ClampedArray]",dq="[object Uint16Array]",fq="[object Uint32Array]";function hq(e,t,r){var n=e.constructor;switch(t){case rq:return Uz(e);case Yz:case Kz:return new n(+e);case nq:return Wz(e,r);case aq:case iq:case oq:case sq:case lq:case cq:case uq:case dq:case fq:return Vz(e,r);case Xz:return new n;case Zz:case eq:return new n(e);case Jz:return Hz(e);case Qz:return new n;case tq:return Gz(e)}}var pq=hq,mq=oa,xw=Object.create,gq=function(){function e(){}return function(t){if(!mq(t))return{};if(xw)return xw(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),EA=gq,vq=EA,yq=lm,bq=qb;function xq(e){return typeof e.constructor=="function"&&!bq(e)?vq(yq(e)):{}}var wq=xq,Sq=rm,jq=Ia,Nq="[object Map]";function _q(e){return jq(e)&&Sq(e)==Nq}var Aq=_q,Oq=Aq,Pq=tm,ww=Bb,Sw=ww&&ww.isMap,Eq=Sw?Pq(Sw):Oq,Tq=Eq,Cq=rm,kq=Ia,Dq="[object Set]";function Lq(e){return kq(e)&&Cq(e)==Dq}var Mq=Lq,Iq=Mq,$q=tm,jw=Bb,Nw=jw&&jw.isSet,Rq=Nw?$q(Nw):Iq,Fq=Rq,Bq=Mb,zq=_A,qq=AA,Uq=Q9,Wq=nz,Hq=az,Gq=oz,Vq=uz,Yq=Sz,Kq=tA,Xq=PA,Zq=rm,Jq=Tz,Qq=pq,eU=wq,tU=rn,rU=em,nU=Tq,aU=oa,iU=Fq,oU=Nc,sU=sm,lU=1,cU=2,uU=4,TA="[object Arguments]",dU="[object Array]",fU="[object Boolean]",hU="[object Date]",pU="[object Error]",CA="[object Function]",mU="[object GeneratorFunction]",gU="[object Map]",vU="[object Number]",kA="[object Object]",yU="[object RegExp]",bU="[object Set]",xU="[object String]",wU="[object Symbol]",SU="[object WeakMap]",jU="[object ArrayBuffer]",NU="[object DataView]",_U="[object Float32Array]",AU="[object Float64Array]",OU="[object Int8Array]",PU="[object Int16Array]",EU="[object Int32Array]",TU="[object Uint8Array]",CU="[object Uint8ClampedArray]",kU="[object Uint16Array]",DU="[object Uint32Array]",Ut={};Ut[TA]=Ut[dU]=Ut[jU]=Ut[NU]=Ut[fU]=Ut[hU]=Ut[_U]=Ut[AU]=Ut[OU]=Ut[PU]=Ut[EU]=Ut[gU]=Ut[vU]=Ut[kA]=Ut[yU]=Ut[bU]=Ut[xU]=Ut[wU]=Ut[TU]=Ut[CU]=Ut[kU]=Ut[DU]=!0;Ut[pU]=Ut[CA]=Ut[SU]=!1;function _h(e,t,r,n,a,i){var o,s=t&lU,l=t&cU,u=t&uU;if(r&&(o=a?r(e,n,a,i):r(e)),o!==void 0)return o;if(!aU(e))return e;var d=tU(e);if(d){if(o=Jq(e),!s)return Gq(e,o)}else{var f=Zq(e),p=f==CA||f==mU;if(rU(e))return Hq(e,s);if(f==kA||f==TA||p&&!a){if(o=l||p?{}:eU(e),!s)return l?Yq(e,Wq(o,e)):Vq(e,Uq(o,e))}else{if(!Ut[f])return a?e:{};o=Qq(e,f,s)}}i||(i=new Bq);var h=i.get(e);if(h)return h;i.set(e,o),iU(e)?e.forEach(function(b){o.add(_h(b,t,r,b,e,i))}):nU(e)&&e.forEach(function(b,x){o.set(x,_h(b,t,r,x,e,i))});var v=u?l?Xq:Kq:l?sU:oU,g=d?void 0:v(e);return zq(g||e,function(b,x){g&&(x=b,b=e[x]),qq(o,x,_h(b,t,r,x,e,i))}),o}var LU=_h;function MU(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var DA=MU;const IU=xt(DA);var $U=im,RU=yb;function FU(e,t){return t.length<2?e:$U(e,RU(t,0,-1))}var BU=FU,zU=am,qU=DA,UU=BU,WU=Kd;function HU(e,t){return t=zU(t,e),e=UU(e,t),e==null||delete e[WU(qU(t))]}var GU=HU,VU=Fi,YU=lm,KU=Ia,XU="[object Object]",ZU=Function.prototype,JU=Object.prototype,LA=ZU.toString,QU=JU.hasOwnProperty,eW=LA.call(Object);function tW(e){if(!KU(e)||VU(e)!=XU)return!1;var t=YU(e);if(t===null)return!0;var r=QU.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&LA.call(r)==eW}var MA=tW;const rW=xt(MA);var nW=MA;function aW(e){return nW(e)?void 0:e}var iW=aW,oW=Gb;function sW(e){var t=e==null?0:e.length;return t?oW(e,1):[]}var lW=sW,cW=lW,uW=yA,dW=xA;function fW(e){return dW(uW(e,void 0,cW),e+"")}var hW=fW,pW=nm,mW=LU,gW=GU,vW=am,yW=Xd,bW=iW,xW=hW,wW=PA,SW=1,jW=2,NW=4,_W=xW(function(e,t){var r={};if(e==null)return r;var n=!1;t=pW(t,function(i){return i=vW(i,e),n||(n=i.length>1),i}),yW(e,wW(e),r),n&&(r=mW(r,SW|jW|NW,bW));for(var a=t.length;a--;)gW(r,t[a]);return r}),AW=_W;const OW=xt(AW);var PW=_A,EW=EA,TW=Vb,CW=$a,kW=lm,DW=rn,LW=em,MW=Yp,IW=oa,$W=zb;function RW(e,t,r){var n=DW(e),a=n||LW(e)||$W(e);if(t=CW(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:IW(e)?r=MW(i)?EW(kW(e)):{}:r={}}return(a?PW:TW)(e,function(o,s,l){return t(r,o,s,l)}),r}var FW=RW;const BW=xt(FW);var zW={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ea,function(){return function(r,n,a){n.prototype.isBetween=function(i,o,s,l){var u=a(i),d=a(o),f=(l=l||"()")[0]==="(",p=l[1]===")";return(f?this.isAfter(u,s):!this.isBefore(u,s))&&(p?this.isBefore(d,s):!this.isAfter(d,s))||(f?this.isBefore(u,s):!this.isAfter(u,s))&&(p?this.isAfter(d,s):!this.isBefore(d,s))}}})})(zW);var qW={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ea,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(qW);var UW={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ea,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(UW);var WW={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ea,function(){return function(r,n,a){var i=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,p,h,v,g){var b=f.name?f:f.$locale(),x=o(b[p]),w=o(b[h]),j=x||w.map(function(S){return S.slice(0,v)});if(!g)return j;var _=b.weekStart;return j.map(function(S,P){return j[(P+(_||0))%7]})},l=function(){return a.Ls[a.locale()]},u=function(f,p){return f.formats[p]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,g,b){return g||b.slice(1)})}(f.formats[p.toUpperCase()])},d=function(){var f=this;return{months:function(p){return p?p.format("MMMM"):s(f,"months")},monthsShort:function(p){return p?p.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):s(f,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return u(f.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(p){return u(f,p)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return s(l(),"months")},a.monthsShort=function(){return s(l(),"monthsShort","months",3)},a.weekdays=function(f){return s(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})})(WW);var HW={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ea,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var o=a.prototype,s=o.format;i.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,p){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,v,g){var b=g&&g.toUpperCase();return v||p[g]||r[g]||p[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,w,j){return w||j.slice(1)})})}(l,u===void 0?{}:u);return s.call(this,d)}}})})(HW);var GW={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ea,function(){return function(r,n,a){var i=function(o,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter(function(d){return d}))[0];for(var u=1;u<s.length;u+=1)s[u].isValid()&&!s[u][o](l)||(l=s[u]);return l};a.max=function(){var o=[].slice.call(arguments,0);return i("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return i("isBefore",o)}}})})(GW);var VW={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ea,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,o,s){var l=o.prototype;s.utc=function(g){var b={date:g,utc:!0,args:arguments};return new o(b)},l.utc=function(g){var b=s(this.toDate(),{locale:this.$L,utc:!0});return g?b.add(this.utcOffset(),r):b},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(g,b){var x=this.$utils().u;if(x(g))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(S){S===void 0&&(S="");var P=S.match(n);if(!P)return null;var A=(""+P[0]).match(a)||["-",0,0],E=A[0],k=60*+A[1]+ +A[2];return k===0?0:E==="+"?k:-k}(g),g===null))return this;var w=Math.abs(g)<=16?60*g:g,j=this;if(b)return j.$offset=w,j.$u=g===0,j;if(g!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(j=this.local().add(w+_,r)).$offset=w,j.$x.$localOffset=_}else j=this.utc();return j};var p=l.format;l.format=function(g){var b=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,b)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var v=l.diff;l.diff=function(g,b,x){if(g&&this.$u===g.$u)return v.call(this,g,b,x);var w=this.local(),j=s(g).local();return v.call(w,j,b,x)}}})})(VW);var YW={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ea,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(YW);function Za(e){return e.children}var _n={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},cn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},_w=Object.keys(cn).map(function(e){return cn[e]});Ne.oneOfType([Ne.string,Ne.func]);Ne.any;Ne.func;Ne.oneOfType([Ne.arrayOf(Ne.oneOf(_w)),Ne.objectOf(function(e,t){var r=_w.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return Ne.elementType.apply(Ne,[e,t].concat(a))})]);Ne.oneOfType([Ne.oneOf(["overlap","no-overlap"]),Ne.func]);var Aw={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function IA(e,t){var r=zr(e,"month");return zr(r,"week",t.startOfWeek())}function $A(e,t){var r=Ih(e,"month");return Ih(r,"week",t.startOfWeek())}function KW(e,t){for(var r=IA(e,t),n=$A(e,t),a=[];hc(r,n,"day");)a.push(r),r=ka(r,1,"day");return a}function XW(e,t){var r=zr(e,t);return fc(r,e)?r:ka(r,1,t)}function ZW(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];hc(n,t,r);)a.push(n),n=ka(n,1,r);return a}function JW(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=zr(e,"day"),e=ed(e,ed(t)),e=Ml(e,Ml(t)),e=Qu(e,Qu(t)),Ju(e,Ju(t)))}function Ow(e){return ed(e)===0&&Ml(e)===0&&Qu(e)===0&&Ju(e)===0}function QW(e,t,r,n){return r==="day"&&(r="date"),Math.abs(c2[r](e,void 0,n)-c2[r](t,void 0,n))}function Zb(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+zr(e,r)/Aw[r]-+zr(t,r)/Aw[r]))}var eH=Ne.oneOfType([Ne.string,Ne.func]);function tH(e,t,r,n,a){var i=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return Gu(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function rH(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Jb(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function nH(e,t){return Zb(e,t,"minutes")+Jb(e,t)}function aH(e){var t=zr(e,"day");return Zb(t,e,"minutes")+Jb(t,e)}function iH(e,t){return vb(e,t,"day")}function oH(e,t,r){var n=fc(e,t,"minutes");return n?Wd(t,r,"minutes"):Vp(t,r,"minutes")}function A0(e,t){return QW(e,t,"day")}function sH(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,i=e.evtB,o=i.start,s=i.end,l=i.allDay,u=+zr(r,"day")-+zr(o,"day"),d=A0(r,n),f=A0(o,s);return u||f-d||!!l-!!a||+r-+o||+n-+s}function lH(e){var t=e.event,r=t.start,n=t.end,a=e.range,i=a.start,o=a.end,s=zr(r,"day"),l=hc(s,o,"day"),u=gb(s,n,"minutes"),d=u?Vp(n,i,"minutes"):Wd(n,i,"minutes");return l&&d}function cH(e,t){return fc(e,t,"day")}function uH(e,t){return Ow(e)&&Ow(t)}var dH=Pr(function e(t){var r=this;Or(this,e),Gu(typeof t.format=="function","date localizer `format(..)` must be a function"),Gu(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||eH,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return tH.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||JW,this.inRange=t.inRange||w_,this.lt=t.lt||vb,this.lte=t.lte||hc,this.gt=t.gt||Vp,this.gte=t.gte||Wd,this.eq=t.eq||fc,this.neq=t.neq||gb,this.startOf=t.startOf||zr,this.endOf=t.endOf||Ih,this.add=t.add||ka,this.range=t.range||ZW,this.diff=t.diff||Zb,this.ceil=t.ceil||XW,this.min=t.min||b_,this.max=t.max||x_,this.minutes=t.minutes||Ml,this.daySpan=t.daySpan||A0,this.firstVisibleDay=t.firstVisibleDay||IA,this.lastVisibleDay=t.lastVisibleDay||$A,this.visibleDays=t.visibleDays||KW,this.getSlotDate=t.getSlotDate||rH,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Jb,this.getTotalMin=t.getTotalMin||nH,this.getMinutesFromMidnight=t.getMinutesFromMidnight||aH,this.continuesPrior=t.continuesPrior||iH,this.continuesAfter=t.continuesAfter||oH,this.sortEvents=t.sortEvents||sH,this.inEventRange=t.inEventRange||lH,this.isSameDate=t.isSameDate||cH,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||uH,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function fH(e,t,r,n){var a=Ft(Ft({},e.formats),r);return Ft(Ft({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,s){return e.format(o,a[s]||s,t)}})}var hH=function(e){function t(){var r;Or(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return tn(t,e),Pr(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return B.createElement("div",{className:"rbc-toolbar"},B.createElement("span",{className:"rbc-btn-group"},B.createElement("button",{type:"button",onClick:this.navigate.bind(null,_n.TODAY)},a.today),B.createElement("button",{type:"button",onClick:this.navigate.bind(null,_n.PREVIOUS)},a.previous),B.createElement("button",{type:"button",onClick:this.navigate.bind(null,_n.NEXT)},a.next)),B.createElement("span",{className:"rbc-toolbar-label"},i),B.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map(function(s){return B.createElement("button",{type:"button",key:s,className:cr({"rbc-active":o===s}),onClick:a.view.bind(null,s)},n[s])})}}])}(B.Component);function Xt(e,t){e&&e.apply(null,[].concat(t))}var pH={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function mH(e){return Ft(Ft({},pH),e)}function gH(e){var t=e.ref,r=e.callback;z.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var vH=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],RA=function(e){function t(){return Or(this,t),en(this,t,arguments)}return tn(t,e),Pr(t,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,o=n.event,s=n.selected,l=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,p=n.localizer,h=n.continuesPrior,v=n.continuesAfter,g=n.accessors,b=n.getters,x=n.children,w=n.components,j=w.event,_=w.eventWrapper,S=n.slotStart,P=n.slotEnd,A=si(n,vH);delete A.resizable;var E=g.title(o),k=g.tooltip(o),M=g.end(o),T=g.start(o),C=g.allDay(o),I=l||C||p.diff(T,p.ceil(M,"day"),"day")>1,$=b.eventProp(o,T,M,s),G=B.createElement("div",{className:"rbc-event-content",title:k||void 0},j?B.createElement(j,{event:o,continuesPrior:h,continuesAfter:v,title:E,isAllDay:C,localizer:p,slotStart:S,slotEnd:P}):E);return B.createElement(_,Object.assign({},this.props,{type:"date"}),B.createElement("div",Object.assign({},A,{style:Ft(Ft({},$.style),a),className:cr("rbc-event",i,$.className,{"rbc-selected":s,"rbc-event-allday":I,"rbc-event-continues-prior":h,"rbc-event-continues-after":v}),onClick:function(Z){return u&&u(o,Z)},onDoubleClick:function(Z){return d&&d(o,Z)},onKeyDown:function(Z){return f&&f(o,Z)}}),typeof x=="function"?x(G):G))}}])}(B.Component);function cm(e,t){return!e||t==null?!1:ys(e,t)}function FA(e,t){var r=e.right-e.left,n=r/t;return n}function BA(e,t,r,n){var a=FA(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function yH(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function bH(e,t,r,n,a){var i=-1,o=-1,s=n-1,l=FA(t,n),u=BA(t,r.x,a,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,p=e.y>t.bottom,h=t.top>e.y,v=r.top<t.top&&r.bottom>t.bottom;return v&&(i=0,o=s),d&&(h?(i=0,o=u):p&&(i=u,o=s)),f&&(i=o=a?s-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?u<i?i=u:o=u:e.y<r.y?o=s:i=0),{startIdx:i,endIdx:o}}function xH(e){var t=e.target,r=e.offset,n=e.container,a=e.box,i=is(t),o=i.top,s=i.left,l=i.width,u=i.height,d=is(n),f=d.top,p=d.left,h=d.width,v=d.height,g=is(a),b=g.width,x=g.height,w=f+v,j=p+h,_=o+x,S=s+b,P=r.x,A=r.y,E=_>w?o-x-A:o+A+u,k=S>j?s+P-b+l:s+P;return{topOffset:E,leftOffset:k}}function wH(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,i=e.components,o=e.localizer,s=e.position,l=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,p=e.onSelect,h=e.onDoubleClick,v=e.onKeyPress,g=e.handleDragStart,b=e.popperRef,x=e.target,w=e.offset;gH({ref:b,callback:l}),z.useLayoutEffect(function(){var S=xH({target:x,offset:w,container:t.current,box:b.current}),P=S.topOffset,A=S.leftOffset;b.current.style.top="".concat(P,"px"),b.current.style.left="".concat(A,"px")},[w.x,w.y,x]);var j=s.width,_={minWidth:j+j/2};return B.createElement("div",{style:_,className:"rbc-overlay",ref:b},B.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(S,P){return B.createElement(RA,{key:P,type:"popup",localizer:o,event:S,getters:n,onSelect:p,accessors:r,components:i,onDoubleClick:h,onKeyPress:v,continuesPrior:o.lt(r.end(S),d,"day"),continuesAfter:o.gte(r.start(S),f,"day"),slotStart:d,slotEnd:f,selected:cm(S,a),draggable:!0,onDragStart:function(){return g(S)},onDragEnd:function(){return l()}})}))}var zA=B.forwardRef(function(e,t){return B.createElement(wH,Object.assign({},e,{popperRef:t}))});zA.propTypes={accessors:Ne.object.isRequired,getters:Ne.object.isRequired,selected:Ne.object,components:Ne.object.isRequired,localizer:Ne.object.isRequired,position:Ne.object.isRequired,show:Ne.func.isRequired,events:Ne.array.isRequired,slotStart:Ne.instanceOf(Date).isRequired,slotEnd:Ne.instanceOf(Date),onSelect:Ne.func,onDoubleClick:Ne.func,onKeyPress:Ne.func,handleDragStart:Ne.func,style:Ne.object,offset:Ne.shape({x:Ne.number,y:Ne.number})};function SH(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,i=e.accessors,o=e.localizer,s=e.components,l=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,p=e.handleKeyPressEvent,h=e.handleDragStart,v=e.onHide,g=e.overlayDisplay,b=z.useRef(null);if(!a.position)return null;var x=n;isNaN(n)||(x={x:n,y:n});var w=a.position,j=a.events,_=a.date,S=a.end;return B.createElement(kb,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:a.target},function(P){var A=P.props;return B.createElement(zA,Object.assign({},A,{containerRef:t,ref:b,target:a.target,offset:x,accessors:i,getters:l,selected:u,components:s,localizer:o,position:w,show:g,events:j,slotStart:_,slotEnd:S,onSelect:d,onDoubleClick:f,onKeyPress:p,handleDragStart:h}))})}var Qb=B.forwardRef(function(e,t){return B.createElement(SH,Object.assign({},e,{containerRef:t}))});Qb.propTypes={popupOffset:Ne.oneOfType([Ne.number,Ne.shape({x:Ne.number,y:Ne.number})]),overlay:Ne.shape({position:Ne.object,events:Ne.array,date:Ne.instanceOf(Date),end:Ne.instanceOf(Date)}),accessors:Ne.object.isRequired,localizer:Ne.object.isRequired,components:Ne.object.isRequired,getters:Ne.object.isRequired,selected:Ne.object,handleSelectEvent:Ne.func,handleDoubleClickEvent:Ne.func,handleKeyPressEvent:Ne.func,handleDragStart:Ne.func,onHide:Ne.func,overlayDisplay:Ne.func};function Kr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Tu(r,e,t,{passive:!1})}function jH(e,t,r){return!e||td(e,document.elementFromPoint(t,r))}function NH(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return iA(a,".rbc-event",e)}function _H(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return iA(a,".rbc-show-more",e)}function Uh(e,t){return!!NH(e,t)}function AH(e,t){return!!_H(e,t)}function gu(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Pw=5,OH=250,qA=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,o=i===void 0?250:i,s=r.validContainers,l=s===void 0?[]:s;Or(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Kr("touchmove",function(){},window),this._removeKeyDownListener=Kr("keydown",this._keyListener),this._removeKeyUpListener=Kr("keyup",this._keyListener),this._removeDropFromOutsideListener=Kr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Kr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Pr(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var o=a.indexOf(n);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o,s=this._listeners[r]||[];return s.forEach(function(l){o===void 0&&(o=l.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:Ew(n,bs(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,o=null,s=null,l=function(p){i=setTimeout(function(){d(),r(p)},a.longPressThreshold),o=Kr("touchmove",function(){return d()}),s=Kr("touchend",function(){return d()})},u=Kr("touchstart",l),d=function(){i&&clearTimeout(i),o&&o(),s&&s(),i=null,o=null,s=null};return n&&l(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Kr("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=Kr("mousedown",r._handleInitialEvent)}),a=Kr("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=gu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:o,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=gu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:o,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=gu(r),a=n.clientX,i=n.clientY,o=n.pageX,s=n.pageY,l=this.container(),u,d;if(!(r.which===3||r.button===2||!jH(l,a,i))){if(!this.globalMouse&&l&&!td(l,r.target)){var f=PH(0),p=f.top,h=f.left,v=f.bottom,g=f.right;if(d=bs(l),u=Ew({top:d.top-p,left:d.left-h,bottom:d.bottom+v,right:d.right+g},{top:s,left:o}),!u)return}var b=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:s,clientX:a,clientY:i});if(b!==!1)switch(r.type){case"mousedown":this._removeEndListener=Kr("mouseup",this._handleTerminatingEvent),this._onEscListener=Kr("keydown",this._handleTerminatingEvent),this._removeMoveListener=Kr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Kr("touchend",this._handleTerminatingEvent),this._removeMoveListener=Kr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||td(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=gu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<OH?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:o,clientY:s})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:i,clientX:o,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,o=gu(r),s=o.pageX,l=o.pageY,u=Math.abs(a-s),d=Math.abs(i-l),f=Math.min(s,a),p=Math.min(l,i),h=this.selecting,v=this.isClick(s,l);v&&!h&&!(u||d)||(!h&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:p,left:f,x:s,y:l,right:f+u,bottom:p+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,o=a.y,s=a.isTouch;return!s&&Math.abs(r-i)<=Pw&&Math.abs(n-o)<=Pw}}])}();function PH(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return bt(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function Ew(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=bs(e),a=n.top,i=n.left,o=n.right,s=o===void 0?i:o,l=n.bottom,u=l===void 0?a:l,d=bs(t),f=d.top,p=d.left,h=d.right,v=h===void 0?p:h,g=d.bottom,b=g===void 0?f:g;return!(u-r<f||a+r>b||s-r<p||i+r>v)}function bs(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+Tw("left"),n=t.top+Tw("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function Tw(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var EH=function(e){function t(r,n){var a;return Or(this,t),a=en(this,t,[r,n]),a.state={selecting:!1},a.containerRef=z.createRef(),a}return tn(t,e),Pr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,o=n.getters,s=n.date,l=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,p=d.startIdx,h=d.endIdx,v=i();return B.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(g,b){var x=f&&b>=p&&b<=h,w=o.dayProp(g),j=w.className,_=w.style;return B.createElement(l,{key:b,value:g,range:a},B.createElement("div",{style:_,className:cr("rbc-day-bg",j,x&&"rbc-selected-cell",u.isSameDate(g,v)&&"rbc-today",s&&u.neq(s,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new qA(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!Uh(a,l)&&!AH(a,l)){var d=bs(a),f=n.props,p=f.range,h=f.rtl;if(yH(d,l)){var v=BA(d,l.x,h,p.length);n._selectSlot({startIdx:v,endIdx:v,action:u,box:l})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(s){var l=n.props,u=l.range,d=l.rtl,f=-1,p=-1;if(n.state.selecting||(Xt(n.props.onSelectStart,[s]),n._initial={x:s.x,y:s.y}),i.isSelected(a)){var h=bs(a),v=bH(n._initial,h,s,u.length,d);f=v.startIdx,p=v.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:p})}),i.on("beforeSelect",function(s){if(n.props.selectable==="ignoreEvents")return!Uh(n.containerRef.current,s)}),i.on("click",function(s){return o(s,"click")}),i.on("doubleClick",function(s){return o(s,"doubleClick")}),i.on("select",function(s){n._selectSlot(Ft(Ft({},n.state),{},{action:"select",bounds:s})),n._initial={},n.setState({selecting:!1}),Xt(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,o=n.action,s=n.bounds,l=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:o,bounds:s,box:l,resourceId:this.props.resourceId})}}])}(B.Component),Zn={propTypes:{slotMetrics:Ne.object.isRequired,selected:Ne.object,isAllDay:Ne.bool,accessors:Ne.object.isRequired,localizer:Ne.object.isRequired,components:Ne.object.isRequired,getters:Ne.object.isRequired,onSelect:Ne.func,onDoubleClick:Ne.func,onKeyPress:Ne.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,o=t.onSelect,s=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,p=t.resizable,h=d.continuesPrior(r),v=d.continuesAfter(r);return B.createElement(RA,{event:r,getters:i,localizer:u,accessors:a,components:f,onSelect:o,onDoubleClick:s,onKeyPress:l,continuesPrior:h,continuesAfter:v,slotStart:d.first,slotEnd:d.last,selected:cm(r,n),resizable:p})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return B.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},UA=function(e){function t(){return Or(this,t),en(this,t,arguments)}return tn(t,e),Pr(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,o=a.slotMetrics.slots,s=a.className,l=1;return B.createElement("div",{className:cr(s,"rbc-row")},i.reduce(function(u,d,f){var p=d.event,h=d.left,v=d.right,g=d.span,b="_lvl_"+f,x=h-l,w=Zn.renderEvent(n.props,p);return x&&u.push(Zn.renderSpan(o,x,"".concat(b,"_gap"))),u.push(Zn.renderSpan(o,g,b,w)),l=v+1,u},[]))}}])}(B.Component);UA.defaultProps=Ft({},Zn.defaultProps);function WA(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function TH(e,t,r,n){var a=WA({dateRange:t,localizer:n}),i=a.first,o=a.last,s=n.diff(i,o,"day"),l=n.max(n.startOf(r.start(e),"day"),i),u=n.min(n.ceil(r.end(e),"day"),o),d=FF(t,function(p){return n.isSameDate(p,l)}),f=n.diff(l,u,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function O0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],o=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<i.length&&CH(a,i[n]);n++);n>=t?o.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(s,l){return s.left-l.left});return{levels:i,extra:o}}function id(e,t,r,n,a){var i={start:n.start(e),end:n.end(e)},o={start:t,end:r};return a.inEventRange({event:i,range:o})}function CH(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function kH(e,t,r){var n=jh(e),a=[],i=[];n.forEach(function(l){var u=t.start(l),d=t.end(l);r.daySpan(u,d)>1?a.push(l):i.push(l)});var o=a.sort(function(l,u){return P0(l,u,t,r)}),s=i.sort(function(l,u){return P0(l,u,t,r)});return[].concat(jh(o),jh(s))}function P0(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:i})}var E0=function(t,r){return t.left<=r&&t.right>=r},yv=function(t,r){return t.filter(function(n){return E0(n,r)}).map(function(n){return n.event})},HA=function(e){function t(){return Or(this,t),en(this,t,arguments)}return tn(t,e),Pr(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,o=O0(a).levels[0],s=1,l=1,u=[];s<=i;){var d="_lvl_"+s,f=o.filter(function(_){return E0(_,s)})[0]||{},p=f.event,h=f.left,v=f.right,g=f.span;if(!p){var b=this.getHiddenEventsForSlot(a,s);if(b.length>0){var x=s-l;x&&u.push(Zn.renderSpan(i,x,d+"_gap")),u.push(Zn.renderSpan(i,1,d,this.renderShowMore(a,s))),l=s=s+1;continue}s++;continue}var w=Math.max(0,h-l);if(this.canRenderSlotEvent(h,g)){var j=Zn.renderEvent(this.props,p);w&&u.push(Zn.renderSpan(i,w,d+"_gap")),u.push(Zn.renderSpan(i,g,d,j)),l=s=v+1}else w&&u.push(Zn.renderSpan(i,w,d+"_gap")),u.push(Zn.renderSpan(i,1,d,this.renderShowMore(a,s))),l=s=s+1}return B.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=yv(n,a),o=O0(n).levels[0],s=o.filter(function(l){return E0(l,a)}).map(function(l){return l.event});return i.filter(function(l){return!s.some(function(u){return u===l})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return ad(n,n+a).every(function(o){var s=yv(i,o).length;return s===1})}},{key:"renderShowMore",value:function(n,a){var i=this,o=this.props,s=o.localizer,l=o.slotMetrics,u=o.components,d=l.getEventsForSlot(a),f=yv(n,a),p=f.length;if(u!=null&&u.showMore){var h=u.showMore,v=l.getDateForSlot(a-1);return p?B.createElement(h,{localizer:s,slotDate:v,slot:a,count:p,events:d,remainingEvents:f}):!1}return p?B.createElement("button",{type:"button",key:"sm_"+a,className:cr("rbc-button-link","rbc-show-more"),onClick:function(b){return i.showMore(a,b)}},s.messages.showMore(p,f,d)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(B.Component);HA.defaultProps=Ft({},Zn.defaultProps);var DH=function(t){var r=t.children;return B.createElement("div",{className:"rbc-row-content-scroll-container"},r)},LH=function(t,r){return t.left<=r&&t.right>=r},MH=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function GA(){return mA(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,i=e.accessors,o=e.localizer,s=WA({dateRange:t,localizer:o}),l=s.first,u=s.last,d=r.map(function(g){return TH(g,t,i,o)}),f=O0(d,Math.max(n-1,1)),p=f.levels,h=f.extra,v=h.length>0?a-1:a;p.length<v;)p.push([]);return{first:l,last:u,levels:p,extra:h,range:t,slots:t.length,clone:function(b){var x=GA();return x(Ft(Ft({},e),b))},getDateForSlot:function(b){return t[b]},getSlotForDate:function(b){return t.find(function(x){return o.isSameDate(x,b)})},getEventsForSlot:function(b){return d.filter(function(x){return LH(x,b)}).map(function(x){return x.event})},continuesPrior:function(b){return o.continuesPrior(i.start(b),l)},continuesAfter:function(b){var x=i.start(b),w=i.end(b);return o.continuesAfter(x,w,u)}}},MH)}var od=function(e){function t(){var r;Or(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleSelectSlot=function(o){var s=r.props,l=s.range,u=s.onSelectSlot;u(l.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,s){var l=r.props,u=l.range,d=l.onShowMore,f=r.slotMetrics(r.props),p=Kk(r.containerRef.current,".rbc-row-bg")[0],h;p&&(h=p.children[o-1]);var v=f.getEventsForSlot(o);d(v,u[o-1],h,o,s)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,s){var l=r.props,u=l.renderHeader,d=l.getNow,f=l.localizer;return u({date:o,key:"header_".concat(s),className:cr("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,s=o.className,l=o.range,u=o.renderHeader,d=o.showAllEvents;return B.createElement("div",{className:s,ref:r.containerRef},B.createElement("div",{className:cr("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&B.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),B.createElement("div",{className:"rbc-row",ref:r.eventRowRef},B.createElement("div",{className:"rbc-row-segment"},B.createElement("div",{className:"rbc-event"},B.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=z.createRef(),r.headingRowRef=z.createRef(),r.eventRowRef=z.createRef(),r.slotMetrics=GA(),r}return tn(t,e),Pr(t,[{key:"getRowLimit",value:function(){var n,a=mv(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?mv(this.headingRowRef.current):0,o=mv(this.containerRef.current)-i;return Math.max(Math.floor(o/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,o=n.range,s=n.className,l=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,p=n.getters,h=n.components,v=n.getNow,g=n.renderHeader,b=n.onSelect,x=n.localizer,w=n.onSelectStart,j=n.onSelectEnd,_=n.onDoubleClick,S=n.onKeyPress,P=n.resourceId,A=n.longPressThreshold,E=n.isAllDay,k=n.resizable,M=n.showAllEvents;if(d)return this.renderDummy();var T=this.slotMetrics(this.props),C=T.levels,I=T.extra,$=M?DH:Za,G=h.weekWrapper,H={selected:l,accessors:f,getters:p,localizer:x,components:h,onSelect:b,onDoubleClick:_,onKeyPress:S,resourceId:P,slotMetrics:T,resizable:k};return B.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},B.createElement(EH,{localizer:x,date:a,getNow:v,rtl:i,range:o,selectable:u,container:this.getContainer,getters:p,onSelectStart:w,onSelectEnd:j,onSelectSlot:this.handleSelectSlot,components:h,longPressThreshold:A,resourceId:P}),B.createElement("div",{className:cr("rbc-row-content",M&&"rbc-row-content-scrollable"),role:"row"},g&&B.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),B.createElement($,null,B.createElement(G,Object.assign({isAllDay:E},H,{rtl:this.props.rtl}),C.map(function(Z,J){return B.createElement(UA,Object.assign({key:J,segments:Z},H))}),!!I.length&&B.createElement(HA,Object.assign({segments:I,onShowMore:this.handleShowMore},H))))))}}])}(B.Component);od.defaultProps={minRows:0,maxRows:1/0};var e1=function(t){var r=t.label;return B.createElement("span",{role:"columnheader","aria-sort":"none"},r)},IH=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):B.createElement("span",null,r)},$H=["date","className"],RH=function(t,r,n,a,i){return t.filter(function(o){return id(o,r,n,a,i)})},um=function(e){function t(){var r;Or(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,s){var l=r.props,u=l.events,d=l.components,f=l.selectable,p=l.getNow,h=l.selected,v=l.date,g=l.localizer,b=l.longPressThreshold,x=l.accessors,w=l.getters,j=l.showAllEvents,_=r.state,S=_.needLimitMeasure,P=_.rowLimit,A=RH(jh(u),o[0],o[o.length-1],x,g),E=kH(A,x,g);return B.createElement(od,{key:s,ref:s===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:p,date:v,range:o,events:E,maxRows:j?1/0:P,selected:h,selectable:f,components:d,accessors:x,getters:w,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:S,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:b,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:j})},r.readerDateHeading=function(o){var s=o.date,l=o.className,u=si(o,$H),d=r.props,f=d.date,p=d.getDrilldownView,h=d.localizer,v=h.neq(f,s,"month"),g=h.isSameDate(s,f),b=p(s),x=h.format(s,"dateFormat"),w=r.props.components.dateHeader||IH;return B.createElement("div",Object.assign({},u,{className:cr(l,v&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),B.createElement(w,{label:x,date:s,drilldownView:b,isOffRange:v,onDrillDown:function(_){return r.handleHeadingClick(s,b,_)}}))},r.handleSelectSlot=function(o,s){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(s)})},r.handleHeadingClick=function(o,s,l){l.preventDefault(),r.clearSelection(),Xt(r.props.onDrillDown,[o,s])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Xt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Xt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Xt(r.props.onKeyPressEvent,s)},r.handleShowMore=function(o,s,l,u,d){var f=r.props,p=f.popup,h=f.onDrillDown,v=f.onShowMore,g=f.getDrilldownView,b=f.doShowMoreDrillDown;if(r.clearSelection(),p){var x=L_(l,r.containerRef.current);r.setState({overlay:{date:s,events:o,position:x,target:d}})}else b&&Xt(h,[s,g(s)||cn.DAY]);Xt(v,[o,s,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=z.createRef(),r.slotRowRef=z.createRef(),r._bgRows=[],r._pendingSelection=[],r}return tn(t,e),Pr(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||M_(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.className,s=i.visibleDays(a,i),l=Dk(s,7);return this._weekCount=l.length,B.createElement("div",{className:cr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},B.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,o=a.components,s=n[0],l=n[n.length-1],u=o.header||e1;return i.range(s,l,"day").map(function(d,f){return B.createElement("div",{key:"header_"+f,className:"rbc-header"},B.createElement(u,{date:d,localizer:i,label:i.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,u=s.localizer,d=s.components,f=s.getters,p=s.selected,h=s.popupOffset,v=s.handleDragStart,g=function(){return i.setState({overlay:null})};return B.createElement(Qb,{overlay:o,accessors:l,localizer:u,components:d,getters:f,selected:p,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(s,l){return+s-+l});var i=new Date(a[0]),o=new Date(a[a.length-1]);o.setDate(a[a.length-1].getDate()+1),Xt(this.props.onSelectSlot,{slots:a,start:i,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,o=n.localizer;return{date:i,needLimitMeasure:o.neq(i,a.date,"month")}}}])}(B.Component);um.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};um.navigate=function(e,t,r){var n=r.localizer;switch(t){case _n.PREVIOUS:return n.add(e,-1,"month");case _n.NEXT:return n.add(e,1,"month");default:return e}};um.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var Cw=function(t){var r=t.min,n=t.max,a=t.step,i=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function t1(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,i=e.localizer,o=Cw({step:n,localizer:i}),s=1+i.getTotalMin(t,r),l=i.getMinutesFromMidnight(t),u=Math.ceil((s-1)/(n*a)),d=u*a,f=new Array(u),p=new Array(d),h=0;h<u;h++){f[h]=new Array(a);for(var v=0;v<a;v++){var g=h*a+v,b=g*n;p[g]=f[h][v]=i.getSlotDate(t,l,b)}}var x=p.length*n;p.push(i.getSlotDate(t,l,x));function w(j){var _=i.diff(t,j,"minutes")+i.getDstOffset(t,j);return Math.min(_,s)}return{groups:f,update:function(_){return Cw(_)!==o?t1(_):this},dateIsInGroup:function(_,S){var P=f[S+1];return i.inRange(_,f[S][0],P?P[0]:r,"minutes")},nextSlot:function(_){var S=p[Math.min(p.findIndex(function(P){return P===_||i.eq(P,_)})+1,p.length-1)];return i.eq(S,_)&&(S=i.add(_,n,"minutes")),S},closestSlotToPosition:function(_){var S=Math.min(p.length-1,Math.max(0,Math.floor(_*d)));return p[S]},closestSlotFromPoint:function(_,S){var P=Math.abs(S.top-S.bottom);return this.closestSlotToPosition((_.y-S.top)/P)},closestSlotFromDate:function(_){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(_,t,"minutes"))return p[0];if(i.gt(_,r,"minutes"))return p[p.length-1];var P=i.diff(t,_,"minutes");return p[(P-P%n)/n+S]},startsBeforeDay:function(_){return i.lt(_,t,"day")},startsAfterDay:function(_){return i.gt(_,r,"day")},startsBefore:function(_){return i.lt(i.merge(t,_),t,"minutes")},startsAfter:function(_){return i.gt(i.merge(r,_),r,"minutes")},getRange:function(_,S,P,A){P||(_=i.min(r,i.max(t,_))),A||(S=i.min(r,i.max(t,S)));var E=w(_),k=w(S),M=k>n*d&&!i.eq(r,S)?(E-n)/(n*d)*100:E/(n*d)*100;return{top:M,height:k/(n*d)*100-M,start:w(_),startDate:_,end:w(S),endDate:S}},getCurrentTimePosition:function(_){var S=w(_),P=S/(n*d)*100;return P}}}var FH=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;Or(this,e);var i=a.getRange(n.start(t),n.end(t)),o=i.start,s=i.startDate,l=i.end,u=i.endDate,d=i.top,f=i.height;this.start=o,this.end=l,this.startMs=+s,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Pr(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,o=n.indexOf(this)+1;return a+o*i}}])}();function BH(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function zH(e){for(var t=om(e,["startMs",function(s){return-s.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var i=t[a];if(!(n.endMs>i.startMs)){if(a>0){var o=t.splice(a,1)[0];r.push(o)}break}}}return r}function VA(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=t.map(function(d){return new FH(d,{slotMetrics:n,accessors:a})}),o=zH(i),s=[],l=function(){var f=o[u],p=s.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!p)return f.rows=[],s.push(f),1;f.container=p;for(var h=null,v=p.rows.length-1;!h&&v>=0;v--)BH(p.rows[v],f,r)&&(h=p.rows[v]);h?(h.leaves.push(f),f.row=h):(f.leaves=[],p.rows.push(f))},u=0;u<o.length;u++)l();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function YA(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=YA(e.friends[n],t,r);t=t>a?t:a}return t}function qH(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=VA({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(G,H){return G=G.style,H=H.style,G.top!==H.top?G.top>H.top?1:-1:G.height!==H.height?G.top+G.height<H.top+H.height?1:-1:0});for(var o=0;o<i.length;++o)i[o].friends=[],delete i[o].style.left,delete i[o].style.left,delete i[o].idx,delete i[o].size;for(var s=0;s<i.length-1;++s)for(var l=i[s],u=l.style.top,d=l.style.top+l.style.height,f=s+1;f<i.length;++f){var p=i[f],h=p.style.top,v=p.style.top+p.style.height;(h>=u&&v<=d||v>u&&v<=d||h>=u&&h<d)&&(l.friends.push(p),p.friends.push(l))}for(var g=0;g<i.length;++g){for(var b=i[g],x=[],w=0;w<100;++w)x.push(1);for(var j=0;j<b.friends.length;++j)b.friends[j].idx!==void 0&&(x[b.friends[j].idx]=0);b.idx=x.indexOf(1)}for(var _=0;_<i.length;++_){var S=0;if(!i[_].size){var P=[],A=YA(i[_],0,P);S=100/(A+1),i[_].size=S;for(var E=0;E<P.length;++E)P[E].size=S}}for(var k=0;k<i.length;++k){var M=i[k];M.style.left=M.idx*M.size;for(var T=0,C=0;C<M.friends.length;++C){var I=M.friends[C].idx;T=T>I?T:I}T<=M.idx&&(M.size=100-M.idx*M.size);var $=M.idx===0?0:3;M.style.width="calc(".concat(M.size,"% - ").concat($,"px)"),M.style.height="calc(".concat(M.style.height,"% - 2px)"),M.style.xOffset="calc(".concat(M.style.left,"% + ").concat($,"px)")}return i}var kw={overlap:VA,"no-overlap":qH};function UH(e){return!!(e&&e.constructor&&e.call&&e.apply)}function WH(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in kw&&(r=kw[t]),UH(r)?r.apply(this,arguments):[]}var KA=function(e){function t(){return Or(this,t),en(this,t,arguments)}return tn(t,e),Pr(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,o=n.group,s=n.getters,l=n.components,u=l===void 0?{}:l,d=u.timeSlotWrapper,f=d===void 0?Za:d,p=s?s.slotGroupProp(o):{};return B.createElement("div",Object.assign({className:"rbc-timeslot-group"},p),o.map(function(h,v){var g=s?s.slotProp(h,i):{};return B.createElement(f,{key:v,value:h,resource:i},B.createElement("div",Object.assign({},g,{className:cr("rbc-time-slot",g.className)}),a&&a(h,v)))}))}}])}(z.Component);function rh(e){return typeof e=="string"?e:e+"%"}function HH(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,i=e.rtl,o=e.selected,s=e.label,l=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,p=e.onDoubleClick,h=e.isBackgroundEvent,v=e.onKeyPress,g=e.components,b=g.event,x=g.eventWrapper,w=a.title(n),j=a.tooltip(n),_=a.end(n),S=a.start(n),P=d.eventProp(n,S,_,o),A=[B.createElement("div",{key:"1",className:"rbc-event-label"},s),B.createElement("div",{key:"2",className:"rbc-event-content"},b?B.createElement(b,{event:n,title:w}):w)],E=t.height,k=t.top,M=t.width,T=t.xOffset,C=Ft(Ft({},P.style),{},Xo({top:rh(k),height:rh(E),width:rh(M)},i?"right":"left",rh(T)));return B.createElement(x,Object.assign({type:"time"},e),B.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:p,style:C,onKeyDown:v,title:j?(typeof s=="string"?s+": ":"")+j:void 0,className:cr(h?"rbc-background-event":"rbc-event",r,P.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},A))}var GH=function(t){var r=t.children,n=t.className,a=t.style,i=t.innerRef;return B.createElement("div",{className:n,style:a,ref:i},r)},VH=B.forwardRef(function(e,t){return B.createElement(GH,Object.assign({},e,{innerRef:t}))}),YH=["dayProp"],KH=["eventContainerWrapper","timeIndicatorWrapper"],XA=function(e){function t(){var r;Or(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var s=o.events,l=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,p=u.accessors,h=u.localizer,v=u.getters,g=u.components,b=u.step,x=u.timeslots,w=u.dayLayoutAlgorithm,j=u.resizable,_=r,S=_.slotMetrics,P=h.messages,A=WH({events:s,accessors:p,slotMetrics:S,minimumStartDifference:Math.ceil(b*x/2),dayLayoutAlgorithm:w});return A.map(function(E,k){var M,T=E.event,C=E.style,I=p.end(T),$=p.start(T),G=(M=p.eventId(T))!==null&&M!==void 0?M:"evt_"+k,H="eventTimeRangeFormat",Z,J=S.startsBeforeDay($),Y=S.startsAfterDay(I);J?H="eventTimeRangeEndFormat":Y&&(H="eventTimeRangeStartFormat"),J&&Y?Z=P.allDay:Z=h.format({start:$,end:I},H);var Q=J||S.startsBefore($),oe=Y||S.startsAfter(I);return B.createElement(HH,{style:C,event:T,label:Z,key:G,getters:v,rtl:d,components:g,continuesPrior:Q,continuesAfter:oe,accessors:p,resource:r.props.resource,selected:cm(T,f),onClick:function(q){return r._select(Ft(Ft(Ft({},T),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),q)},onDoubleClick:function(q){return r._doubleClick(T,q)},isBackgroundEvent:l,onKeyPress:function(q){return r._keyPress(T,q)},resizable:j})})},r._selectable=function(){var o=r.containerRef.current,s=r.props,l=s.longPressThreshold,u=s.localizer,d=r._selector=new qA(function(){return o},{longPressThreshold:l}),f=function(g){var b=r.props.onSelecting,x=r.state||{},w=p(g),j=w.startDate,_=w.endDate;b&&(u.eq(x.startDate,j,"minutes")&&u.eq(x.endDate,_,"minutes")||b({start:j,end:_,resourceId:r.props.resource})===!1)||(r.state.start!==w.start||r.state.end!==w.end||r.state.selecting!==w.selecting)&&r.setState(w)},p=function(g){var b=r.slotMetrics.closestSlotFromPoint(g,bs(o));r.state.selecting||(r._initialSlot=b);var x=r._initialSlot;u.lte(x,b)?b=r.slotMetrics.nextSlot(b):u.gt(x,b)&&(x=r.slotMetrics.nextSlot(x));var w=r.slotMetrics.getRange(u.min(x,b),u.max(x,b));return Ft(Ft({},w),{},{selecting:!0,top:"".concat(w.top,"%"),height:"".concat(w.height,"%")})},h=function(g,b){if(!Uh(r.containerRef.current,g)){var x=p(g),w=x.startDate,j=x.endDate;r._selectSlot({startDate:w,endDate:j,action:b,box:g})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(v){if(r.props.selectable==="ignoreEvents")return!Uh(r.containerRef.current,v)}),d.on("click",function(v){return h(v,"click")}),d.on("doubleClick",function(v){return h(v,"doubleClick")}),d.on("select",function(v){r.state.selecting&&(r._selectSlot(Ft(Ft({},r.state),{},{action:"select",bounds:v})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var s=o.startDate,l=o.endDate,u=o.action,d=o.bounds,f=o.box,p=s,h=[];r.props.localizer.lte(p,l);)h.push(p),p=new Date(+p+r.props.step*60*1e3);Xt(r.props.onSelectSlot,{slots:h,start:s,end:l,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Xt(r.props.onSelectEvent,s)},r._doubleClick=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Xt(r.props.onDoubleClickEvent,s)},r._keyPress=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Xt(r.props.onKeyPressEvent,s)},r.slotMetrics=t1(r.props),r.containerRef=z.createRef(),r}return tn(t,e),Pr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,o=i.getNow,s=i.isNow,l=i.localizer,u=i.date,d=i.min,f=i.max,p=l.neq(n.getNow(),o(),"minutes");if(n.isNow!==s||p){if(this.clearTimeIndicatorInterval(),s){var h=!p&&l.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(h)}}else s&&(l.neq(n.min,d,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,o=n.getNow,s=o();if(s>=a&&s<=i){var l=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,o=n.rtl,s=n.isNow,l=n.resource,u=n.accessors,d=n.localizer,f=n.getters,p=f.dayProp,h=si(f,YH),v=n.components,g=v.eventContainerWrapper,b=v.timeIndicatorWrapper,x=si(v,KH);this.slotMetrics=this.slotMetrics.update(this.props);var w=this.slotMetrics,j=this.state,_=j.selecting,S=j.top,P=j.height,A=j.startDate,E=j.endDate,k={start:A,end:E},M=p(i,l),T=M.className,C=M.style,I={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},$=x.dayColumnWrapper||VH;return B.createElement($,{ref:this.containerRef,date:a,style:C,className:cr(T,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",_&&"rbc-slot-selecting"),slotMetrics:w,resource:l},w.groups.map(function(G,H){return B.createElement(KA,{key:H,group:G,resource:l,getters:h,components:x})}),B.createElement(g,{localizer:d,resource:l,accessors:u,getters:h,components:x,slotMetrics:w},B.createElement("div",{className:cr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),_&&B.createElement("div",{className:"rbc-slot-selection",style:{top:S,height:P}},B.createElement("span",null,d.format(k,"selectRangeFormat"))),s&&this.intervalTriggered&&B.createElement(b,I,B.createElement("div",I)))}}])}(B.Component);XA.defaultProps={dragThroughEvents:!0,timeslots:2};var ZA=function(t){var r=t.label;return B.createElement(B.Fragment,null,r)},XH=function(e){function t(){var r;Or(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleHeaderClick=function(o,s,l){l.preventDefault(),Xt(r.props.onDrillDown,[o,s])},r.renderRow=function(o){var s=r.props,l=s.events,u=s.rtl,d=s.selectable,f=s.getNow,p=s.range,h=s.getters,v=s.localizer,g=s.accessors,b=s.components,x=s.resizable,w=g.resourceId(o),j=o?l.filter(function(_){return g.resource(_)===w}):l;return B.createElement(od,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:p,events:j,resourceId:w,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:b,accessors:g,getters:h,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:x})},r}return tn(t,e),Pr(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,s=i.getDrilldownView,l=i.getNow,u=i.getters.dayProp,d=i.components.header,f=d===void 0?e1:d,p=l();return n.map(function(h,v){var g=s(h),b=o.format(h,"dayFormat"),x=u(h),w=x.className,j=x.style,_=B.createElement(f,{date:h,label:b,localizer:o});return B.createElement("div",{key:v,style:j,className:cr("rbc-header",w,o.isSameDate(h,p)&&"rbc-today")},g?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(P){return a.handleHeaderClick(h,g,P)}},_):B.createElement("span",null,_))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,o=a.rtl,s=a.resources,l=a.range,u=a.events,d=a.getNow,f=a.accessors,p=a.selectable,h=a.components,v=a.getters,g=a.scrollRef,b=a.localizer,x=a.isOverflowing,w=a.components,j=w.timeGutterHeader,_=w.resourceHeader,S=_===void 0?ZA:_,P=a.resizable,A={};x&&(A[o?"marginLeft":"marginRight"]="".concat(Cb()-1,"px"));var E=s.groupEvents(u);return B.createElement("div",{style:A,ref:g,className:cr("rbc-time-header",x&&"rbc-overflowing")},B.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},j&&B.createElement(j,null)),s.map(function(k,M){var T=ds(k,2),C=T[0],I=T[1];return B.createElement("div",{className:"rbc-time-header-content",key:C||M},I&&B.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(M)},B.createElement("div",{className:"rbc-header"},B.createElement(S,{index:M,label:f.resourceTitle(I),resource:I}))),B.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),B.createElement(od,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:E.get(C)||[],resourceId:I&&C,className:"rbc-allday-cell",selectable:p,selected:n.props.selected,components:h,accessors:f,getters:v,localizer:b,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:P}))}))}}])}(B.Component),ZH=function(e){function t(){var r;Or(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleHeaderClick=function(o,s,l){l.preventDefault(),Xt(r.props.onDrillDown,[o,s])},r}return tn(t,e),Pr(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,s=i.getDrilldownView,l=i.getNow,u=i.getters.dayProp,d=i.components,f=d.header,p=f===void 0?e1:f,h=d.resourceHeader,v=h===void 0?ZA:h,g=i.resources,b=i.accessors,x=i.events,w=i.rtl,j=i.selectable,_=i.components,S=i.getters,P=i.resizable,A=l(),E=g.groupEvents(x);return n.map(function(k,M){var T=s(k),C=o.format(k,"dayFormat"),I=u(k),$=I.className,G=I.style,H=B.createElement(p,{date:k,label:C,localizer:o});return B.createElement("div",{key:M,className:"rbc-time-header-content rbc-resource-grouping"},B.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},B.createElement("div",{style:G,className:cr("rbc-header",$,o.isSameDate(k,A)&&"rbc-today")},T?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(J){return a.handleHeaderClick(k,T,J)}},H):B.createElement("span",null,H))),B.createElement("div",{className:"rbc-row"},g.map(function(Z,J){var Y=ds(Z,2),Q=Y[0],oe=Y[1];return B.createElement("div",{key:"resource_".concat(Q,"_").concat(J),className:cr("rbc-header",$,o.isSameDate(k,A)&&"rbc-today")},B.createElement(v,{index:J,label:b.resourceTitle(oe),resource:oe}))})),B.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(Z,J){var Y=ds(Z,2),Q=Y[0],oe=Y[1],L=(E.get(Q)||[]).filter(function(q){return o.isSameDate(q.start,k)||o.isSameDate(q.end,k)});return B.createElement(od,{key:"resource_".concat(Q,"_").concat(J),isAllDay:!0,rtl:w,getNow:l,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[k],events:L,resourceId:oe&&Q,className:"rbc-allday-cell",selectable:j,selected:a.props.selected,components:_,accessors:b,getters:S,localizer:o,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:P})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,o=n.range,s=n.scrollRef,l=n.isOverflowing,u=n.components.timeGutterHeader,d={};return l&&(d[i?"marginLeft":"marginRight"]="".concat(Cb()-1,"px")),B.createElement("div",{style:d,ref:s,className:cr("rbc-time-header",l&&"rbc-overflowing")},B.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&B.createElement(u,null)),this.renderHeaderCells(o))}}])}(B.Component);function JH(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var QH=function(t){var r=t.min,n=t.max,a=t.timeslots,i=t.step,o=t.localizer,s=t.getNow,l=t.resource,u=t.components,d=t.getters,f=t.gutterRef,p=u.timeGutterWrapper,h=z.useMemo(function(){return JH({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),v=h.start,g=h.end,b=z.useState(t1({min:v,max:g,timeslots:a,step:i,localizer:o})),x=ds(b,2),w=x[0],j=x[1];z.useEffect(function(){w&&j(w.update({min:v,max:g,timeslots:a,step:i,localizer:o}))},[v==null?void 0:v.toISOString(),g==null?void 0:g.toISOString(),a,i]);var _=z.useCallback(function(S,P){if(P)return null;var A=w.dateIsInGroup(s(),P);return B.createElement("span",{className:cr("rbc-label",A&&"rbc-now")},o.format(S,"timeGutterFormat"))},[w,o,s]);return B.createElement(p,{slotMetrics:w},B.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},w.groups.map(function(S,P){return B.createElement(KA,{key:P,group:S,resource:l,components:u,renderSlot:_,getters:d})})))},eG=B.forwardRef(function(e,t){return B.createElement(QH,Object.assign({gutterRef:t},e))}),bv={};function tG(e,t){return{map:function(n){return e?e.map(function(a,i){return n([t.resourceId(a),a],i)}):[n([bv,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(i){var o=t.resource(i)||bv;if(Array.isArray(o))o.forEach(function(l){var u=a.get(l)||[];u.push(i),a.set(l,u)});else{var s=a.get(o)||[];s.push(i),a.set(o,s)}}),a):(a.set(bv,n),a)}}}var Oc=function(e){function t(r){var n;return Or(this,t),n=en(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){y2(n.rafHandle),n.rafHandle=M_(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Xt(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Xt(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Xt(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,o,s,l){var u=n.props,d=u.popup,f=u.onDrillDown,p=u.onShowMore,h=u.getDrilldownView,v=u.doShowMoreDrillDown;if(n.clearSelection(),d){var g=L_(o,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:Ft(Ft({},g),{},{width:"200px"}),target:l}})}else v&&Xt(f,[i,h(i)||cn.DAY]);Xt(p,[a,i,s])},n.handleSelectAllDaySlot=function(a,i){var o=n.props.onSelectSlot,s=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),Xt(o,{slots:a,start:s,end:l,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=mA(function(a,i){return tG(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=B.createRef(),n.contentRef=B.createRef(),n.containerRef=B.createRef(),n._scrollRatio=null,n.gutterRef=z.createRef(),n}return tn(t,e),Pr(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),y2(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,o,s,l,u,d,f,p){var h=this.props,v=h.min,g=h.max,b=(o.get(a)||[]).filter(function(w){return l.inRange(n,u.start(w),u.end(w),"day")}),x=(s.get(a)||[]).filter(function(w){return l.inRange(n,u.start(w),u.end(w),"day")});return B.createElement(XA,Object.assign({},this.props,{localizer:l,min:l.merge(n,v),max:l.merge(n,g),resource:i&&a,components:d,isNow:l.isSameDate(n,p),key:"".concat(a,"-").concat(n),date:n,events:b,backgroundEvents:x,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,o,s,l,u,d,f){var p=this;return a.map(function(h){var v=ds(h,2),g=v[0],b=v[1];return n.map(function(x){return p.renderDayColumn(x,g,b,i,o,s,l,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,a,i,o,s,l,u,d,f){var p=this;return n.map(function(h){return B.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:h},a.map(function(v){var g=ds(v,2),b=g[0],x=g[1];return B.createElement("div",{style:{flex:1},key:l.resourceId(x)},p.renderDayColumn(h,b,x,i,o,s,l,d,f,u))}))})}},{key:"renderEvents",value:function(n,a,i,o){var s=this.props,l=s.accessors,u=s.localizer,d=s.resourceGroupingLayout,f=s.components,p=s.dayLayoutAlgorithm,h=this.memoizedResources(this.props.resources,l),v=h.groupEvents(a),g=h.groupEvents(i);return d?this.renderRangeFirst(n,h,v,g,u,l,o,f,p):this.renderResourcesFirst(n,h,v,g,u,l,o,f,p)}},{key:"render",value:function(){var n,a=this.props,i=a.events,o=a.backgroundEvents,s=a.range,l=a.width,u=a.rtl,d=a.selected,f=a.getNow,p=a.resources,h=a.components,v=a.accessors,g=a.getters,b=a.localizer,x=a.min,w=a.max,j=a.showMultiDayTimes,_=a.longPressThreshold,S=a.resizable,P=a.resourceGroupingLayout;l=l||this.state.gutterWidth;var A=s[0],E=s[s.length-1];this.slots=s.length;var k=[],M=[],T=[];i.forEach(function(I){if(id(I,A,E,v,b)){var $=v.start(I),G=v.end(I);v.allDay(I)||b.startAndEndAreDateOnly($,G)||!j&&!b.isSameDate($,G)?k.push(I):M.push(I)}}),o.forEach(function(I){id(I,A,E,v,b)&&T.push(I)}),k.sort(function(I,$){return P0(I,$,v,b)});var C={range:s,events:k,width:l,rtl:u,getNow:f,localizer:b,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(p,v),selectable:this.props.selectable,accessors:v,getters:g,components:h,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:_,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:S};return B.createElement("div",{className:cr("rbc-time-view",p&&"rbc-time-view-resources"),ref:this.containerRef},p&&p.length>1&&P?B.createElement(ZH,C):B.createElement(XH,C),this.props.popup&&this.renderOverlay(),B.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},B.createElement(eG,{date:A,ref:this.gutterRef,localizer:b,min:b.merge(A,x),max:b.merge(A,w),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:h,className:"rbc-time-gutter",getters:g}),this.renderEvents(s,M,T,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,u=s.localizer,d=s.components,f=s.getters,p=s.selected,h=s.popupOffset,v=s.handleDragStart,g=function(){return i.setState({overlay:null})};return B.createElement(Qb,{overlay:o,accessors:l,localizer:u,components:d,getters:f,selected:p,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?_0(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,o=n.scrollToTime,s=n.localizer,l=s.diff(s.merge(o,a),o,"milliseconds"),u=s.diff(a,i,"milliseconds");this._scrollRatio=l/u}}])}(z.Component);Oc.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var rG=["date","localizer","min","max","scrollToTime","enableAutoScroll"],dm=function(e){function t(){return Or(this,t),en(this,t,arguments)}return tn(t,e),Pr(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,l=n.max,u=l===void 0?i.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=si(n,rG),g=t.range(a,{localizer:i});return B.createElement(Oc,Object.assign({},v,{range:g,eventOffset:10,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(B.Component);dm.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};dm.navigate=function(e,t,r){var n=r.localizer;switch(t){case _n.PREVIOUS:return n.add(e,-1,"day");case _n.NEXT:return n.add(e,1,"day");default:return e}};dm.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var nG=["date","localizer","min","max","scrollToTime","enableAutoScroll"],go=function(e){function t(){return Or(this,t),en(this,t,arguments)}return tn(t,e),Pr(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,l=n.max,u=l===void 0?i.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=si(n,nG),g=t.range(a,this.props);return B.createElement(Oc,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(B.Component);go.defaultProps=Oc.defaultProps;go.navigate=function(e,t,r){var n=r.localizer;switch(t){case _n.PREVIOUS:return n.add(e,-1,"week");case _n.NEXT:return n.add(e,1,"week");default:return e}};go.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(a,i)};go.title=function(e,t){var r=t.localizer,n=go.range(e,{localizer:r}),a=SA(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var aG=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function r1(e,t){return go.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Zd=function(e){function t(){return Or(this,t),en(this,t,arguments)}return tn(t,e),Pr(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,l=n.max,u=l===void 0?i.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=si(n,aG),g=r1(a,this.props);return B.createElement(Oc,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(B.Component);Zd.defaultProps=Oc.defaultProps;Zd.range=r1;Zd.navigate=go.navigate;Zd.title=function(e,t){var r=t.localizer,n=r1(e,{localizer:r}),a=SA(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var fm=30;function hm(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,i=e.getters,o=e.length,s=o===void 0?fm:o,l=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,p=z.useRef(null),h=z.useRef(null),v=z.useRef(null),g=z.useRef(null),b=z.useRef(null);z.useEffect(function(){j()});var x=function(E,k,M){var T=r.event,C=r.date;return k=k.filter(function(I){return id(I,l.startOf(E,"day"),l.endOf(E,"day"),t,l)}),k.map(function(I,$){var G=t.title(I),H=t.end(I),Z=t.start(I),J=i.eventProp(I,Z,H,cm(I,f)),Y=$===0&&l.format(E,"agendaDateFormat"),Q=$===0?B.createElement("td",{rowSpan:k.length,className:"rbc-agenda-date-cell"},C?B.createElement(C,{day:E,label:Y}):Y):!1;return B.createElement("tr",{key:M+"_"+$,className:J.className,style:J.style},Q,B.createElement("td",{className:"rbc-agenda-time-cell"},w(E,I)),B.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(L){return d&&d(I,L)},onDoubleClick:function(L){return u&&u(I,L)}},T?B.createElement(T,{event:I,title:G}):G))},[])},w=function(E,k){var M="",T=r.time,C=l.messages.allDay,I=t.end(k),$=t.start(k);return t.allDay(k)||(l.eq($,I)?C=l.format($,"agendaTimeFormat"):l.isSameDate($,I)?C=l.format({start:$,end:I},"agendaTimeRangeFormat"):l.isSameDate(E,$)?C=l.format($,"agendaTimeFormat"):l.isSameDate(E,I)&&(C=l.format(I,"agendaTimeFormat"))),l.gt(E,$,"day")&&(M="rbc-continues-prior"),l.lt(E,I,"day")&&(M+=" rbc-continues-after"),B.createElement("span",{className:M.trim()},T?B.createElement(T,{event:k,day:E,label:C}):C)},j=function(){if(b.current){var E=p.current,k=b.current.firstChild;if(k){var M=g.current.scrollHeight>g.current.clientHeight,T=[],C=T;T=[_0(k.children[0]),_0(k.children[1])],(C[0]!==T[0]||C[1]!==T[1])&&(h.current.style.width=T[0]+"px",v.current.style.width=T[1]+"px"),M?(xL(E,"rbc-header-overflowing"),E.style.marginRight=Cb()+"px"):wL(E,"rbc-header-overflowing")}}},_=l.messages,S=l.add(n,s,"day"),P=l.range(n,S,"day");return a=a.filter(function(A){return id(A,l.startOf(n,"day"),l.endOf(S,"day"),t,l)}),a.sort(function(A,E){return+t.start(A)-+t.start(E)}),B.createElement("div",{className:"rbc-agenda-view"},a.length!==0?B.createElement(B.Fragment,null,B.createElement("table",{ref:p,className:"rbc-agenda-table"},B.createElement("thead",null,B.createElement("tr",null,B.createElement("th",{className:"rbc-header",ref:h},_.date),B.createElement("th",{className:"rbc-header",ref:v},_.time),B.createElement("th",{className:"rbc-header"},_.event)))),B.createElement("div",{className:"rbc-agenda-content",ref:g},B.createElement("table",{className:"rbc-agenda-table"},B.createElement("tbody",{ref:b},P.map(function(A,E){return x(A,a,E)}))))):B.createElement("span",{className:"rbc-agenda-empty"},_.noEventsInRange))}hm.range=function(e,t){var r=t.length,n=r===void 0?fm:r,a=t.localizer,i=a.add(e,n,"day");return{start:e,end:i}};hm.navigate=function(e,t,r){var n=r.length,a=n===void 0?fm:n,i=r.localizer;switch(t){case _n.PREVIOUS:return i.add(e,-a,"day");case _n.NEXT:return i.add(e,a,"day");default:return e}};hm.title=function(e,t){var r=t.length,n=r===void 0?fm:r,a=t.localizer,i=a.add(e,n,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var Ah=Xo(Xo(Xo(Xo(Xo({},cn.MONTH,um),cn.WEEK,go),cn.WORK_WEEK,Zd),cn.DAY,dm),cn.AGENDA,hm),iG=["action","date","today"];function oG(e,t){var r=t.action,n=t.date,a=t.today,i=si(t,iG);switch(e=typeof e=="string"?Ah[e]:e,r){case _n.TODAY:n=a||new Date;break;case _n.DATE:break;default:Gu(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function sG(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&bt(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Ni=function(t){return function(r){return sG(r,t)}},lG=["view","date","getNow","onNavigate"],cG=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function JA(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=ds(n[r],2),i=a[0],o=a[1];o&&t.push(i)}return t}function uG(e,t){var r=t.views,n=JA(r);return n.indexOf(e)!==-1}var QA=function(e){function t(){var r;Or(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?BW(o,function(s,l){return s[l]=Ah[l]},{}):bt(o)==="object"?NA(o,function(s,l){return s===!0?Ah[l]:s}):Ah},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var s=r.props,l=s.view,u=s.drilldownView,d=s.getDrilldownView;return d?d(o,l,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,s,l){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&s.range&&d(s.range(o,{localizer:f}),l)},r.handleNavigate=function(o,s){var l=r.props,u=l.view,d=l.date,f=l.getNow,p=l.onNavigate,h=si(l,lG),v=r.getView(),g=f();d=oG(v,Ft(Ft({},h),{},{action:o,date:s||d||g,today:g})),p(d,u,o),r.handleRangeChange(d,v)},r.handleViewChange=function(o){o!==r.props.view&&uG(o,r.props)&&r.props.onView(o);var s=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),s[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Xt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Xt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Xt(r.props.onKeyPressEvent,s)},r.handleSelectSlot=function(o){Xt(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,s){var l=r.props.onDrillDown;if(l){l(o,s,r.drilldownView);return}s&&r.handleViewChange(s),r.handleNavigate(_n.DATE,o)},r.state={context:t.getContext(r.props)},r}return tn(t,e),Pr(t,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,o=n.events,s=n.backgroundEvents,l=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,p=n.date,h=n.getNow,v=n.length,g=n.showMultiDayTimes,b=n.onShowMore,x=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var w=si(n,cG);p=p||h();var j=this.getView(),_=this.state.context,S=_.accessors,P=_.components,A=_.getters,E=_.localizer,k=_.viewNames,M=P.toolbar||hH,T=j.title(p,{localizer:E,length:v});return B.createElement("div",Object.assign({},f,{className:cr(d,"rbc-calendar",w.rtl&&"rbc-rtl"),style:u}),i&&B.createElement(M,{date:p,view:a,views:k,label:T,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:E}),B.createElement(j,Object.assign({},w,{events:o,backgroundEvents:s,date:p,getNow:h,length:v,localizer:E,getters:A,components:P,accessors:S,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:b,doShowMoreDrillDown:x,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,o=n.allDayAccessor,s=n.tooltipAccessor,l=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,p=n.eventIdAccessor,h=n.eventPropGetter,v=n.backgroundEventPropGetter,g=n.slotPropGetter,b=n.slotGroupPropGetter,x=n.dayPropGetter,w=n.view,j=n.views,_=n.localizer,S=n.culture,P=n.messages,A=P===void 0?{}:P,E=n.components,k=E===void 0?{}:E,M=n.formats,T=M===void 0?{}:M,C=JA(j),I=mH(A);return{viewNames:C,localizer:fH(_,S,T,I),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return b&&b.apply(void 0,arguments)||{}},dayProp:function(){return x&&x.apply(void 0,arguments)||{}}},components:L9(k[w]||{},OW(k,C),{eventWrapper:Za,backgroundEventWrapper:Za,eventContainerWrapper:Za,dateCellWrapper:Za,weekWrapper:Za,timeSlotWrapper:Za,timeGutterWrapper:Za,timeIndicatorWrapper:Za}),accessors:{start:Ni(a),end:Ni(i),allDay:Ni(o),tooltip:Ni(s),title:Ni(l),resource:Ni(u),resourceId:Ni(d),resourceTitle:Ni(f),eventId:Ni(p)}}}}])}(B.Component);QA.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:cn.MONTH,views:[cn.MONTH,cn.WEEK,cn.DAY,cn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:cn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var dG=v_(QA,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),fG=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"P",r)," – ").concat(n.format(i,"P",r))},xv=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"p",r)," – ").concat(n.format(i,"p",r))},hG=function(t,r,n){var a=t.start;return"".concat(n.format(a,"h:mma",r)," – ")},pG=function(t,r,n){var a=t.end;return" – ".concat(n.format(a,"h:mma",r))},mG=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"MMMM dd",r)," – ").concat(n.format(i,fc(a,i,"month")?"dd":"MMMM dd",r))},gG={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:xv,eventTimeRangeFormat:xv,eventTimeRangeStartFormat:hG,eventTimeRangeEndFormat:pG,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:mG,agendaHeaderFormat:fG,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:xv},vG=function(t){var r=t.startOfWeek,n=t.getDay,a=t.format,i=t.locales;return new dH({formats:gG,firstOfWeek:function(s){return n(r(new Date,{locale:i[s]}))},format:function(s,l,u){return a(new Date(s),l,{locale:i[u]})}})};const yG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bG=(e,t,r)=>{let n;const a=yG[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function wv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const xG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},SG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jG={date:wv({formats:xG,defaultWidth:"full"}),time:wv({formats:wG,defaultWidth:"full"}),dateTime:wv({formats:SG,defaultWidth:"full"})},NG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_G=(e,t,r,n)=>NG[e];function vu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const AG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},TG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kG=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},DG={ordinalNumber:kG,era:vu({values:AG,defaultWidth:"wide"}),quarter:vu({values:OG,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vu({values:PG,defaultWidth:"wide"}),day:vu({values:EG,defaultWidth:"wide"}),dayPeriod:vu({values:TG,defaultWidth:"wide",formattingValues:CG,defaultFormattingWidth:"wide"})};function yu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?MG(s,f=>f.test(o)):LG(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function LG(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function MG(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function IG(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const $G=/^(\d+)(th|st|nd|rd)?/i,RG=/\d+/i,FG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BG={any:[/^b/i,/^(a|c)/i]},zG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qG={any:[/1/i,/2/i,/3/i,/4/i]},UG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KG={ordinalNumber:IG({matchPattern:$G,parsePattern:RG,valueCallback:e=>parseInt(e,10)}),era:yu({matchPatterns:FG,defaultMatchWidth:"wide",parsePatterns:BG,defaultParseWidth:"any"}),quarter:yu({matchPatterns:zG,defaultMatchWidth:"wide",parsePatterns:qG,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yu({matchPatterns:UG,defaultMatchWidth:"wide",parsePatterns:WG,defaultParseWidth:"any"}),day:yu({matchPatterns:HG,defaultMatchWidth:"wide",parsePatterns:GG,defaultParseWidth:"any"}),dayPeriod:yu({matchPatterns:VG,defaultMatchWidth:"any",parsePatterns:YG,defaultParseWidth:"any"})},eO={code:"en-US",formatDistance:bG,formatLong:jG,formatRelative:_G,localize:DG,match:KG,options:{weekStartsOn:0,firstWeekContainsDate:1}};let XG={};function pm(){return XG}const tO=6048e5,ZG=864e5,Dw=Symbol.for("constructDateFrom");function vo(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Dw in e?e[Dw](t):e instanceof Date?new e.constructor(t):new Date(t)}function sa(e,t){return vo(t||e,e)}function Lw(e){const t=sa(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function JG(e,...t){const r=vo.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Mw(e,t){const r=sa(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function QG(e,t,r){const[n,a]=JG(r==null?void 0:r.in,e,t),i=Mw(n),o=Mw(a),s=+i-Lw(i),l=+o-Lw(o);return Math.round((s-l)/ZG)}function eV(e,t){const r=sa(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function tV(e,t){const r=sa(e,t==null?void 0:t.in);return QG(r,eV(r))+1}function Bl(e,t){var s,l,u,d;const r=pm(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=sa(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Wh(e,t){return Bl(e,{...t,weekStartsOn:1})}function rO(e,t){const r=sa(e,t==null?void 0:t.in),n=r.getFullYear(),a=vo(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Wh(a),o=vo(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Wh(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function rV(e,t){const r=rO(e,t),n=vo(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Wh(n)}function nV(e,t){const r=sa(e,t==null?void 0:t.in),n=+Wh(r)-+rV(r);return Math.round(n/tO)+1}function nO(e,t){var d,f,p,h;const r=sa(e,t==null?void 0:t.in),n=r.getFullYear(),a=pm(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=vo((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=Bl(o,t),l=vo((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=Bl(l,t);return+r>=+s?n+1:+r>=+u?n:n-1}function aV(e,t){var s,l,u,d;const r=pm(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=nO(e,t),i=vo((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Bl(i,t)}function iV(e,t){const r=sa(e,t==null?void 0:t.in),n=+Bl(r,t)-+aV(r,t);return Math.round(n/tO)+1}function kt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ao={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return kt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):kt(r+1,2)},d(e,t){return kt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return kt(e.getHours()%12||12,t.length)},H(e,t){return kt(e.getHours(),t.length)},m(e,t){return kt(e.getMinutes(),t.length)},s(e,t){return kt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return kt(a,t.length)}},dl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Iw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ao.y(e,t)},Y:function(e,t,r,n){const a=nO(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return kt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):kt(i,t.length)},R:function(e,t){const r=rO(e);return kt(r,t.length)},u:function(e,t){const r=e.getFullYear();return kt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return kt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return kt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ao.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return kt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=iV(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):kt(a,t.length)},I:function(e,t,r){const n=nV(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):kt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ao.d(e,t)},D:function(e,t,r){const n=tV(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):kt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return kt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return kt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return kt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=dl.noon:n===0?a=dl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=dl.evening:n>=12?a=dl.afternoon:n>=4?a=dl.morning:a=dl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ao.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ao.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):kt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):kt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ao.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ao.s(e,t)},S:function(e,t){return ao.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Rw(n);case"XXXX":case"XX":return Go(n);case"XXXXX":case"XXX":default:return Go(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Rw(n);case"xxxx":case"xx":return Go(n);case"xxxxx":case"xxx":default:return Go(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$w(n,":");case"OOOO":default:return"GMT"+Go(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$w(n,":");case"zzzz":default:return"GMT"+Go(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return kt(n,t.length)},T:function(e,t,r){return kt(+e,t.length)}};function $w(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+kt(i,2)}function Rw(e,t){return e%60===0?(e>0?"-":"+")+kt(Math.abs(e)/60,2):Go(e,t)}function Go(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=kt(Math.trunc(n/60),2),i=kt(n%60,2);return r+a+t+i}const Fw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},aO=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},oV=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Fw(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Fw(n,t)).replace("{{time}}",aO(a,t))},sV={p:aO,P:oV},lV=/^D+$/,cV=/^Y+$/,uV=["D","DD","YY","YYYY"];function dV(e){return lV.test(e)}function fV(e){return cV.test(e)}function hV(e,t,r){const n=pV(e,t,r);if(console.warn(n),uV.includes(e))throw new RangeError(n)}function pV(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function mV(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gV(e){return!(!mV(e)&&typeof e!="number"||isNaN(+sa(e)))}const vV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bV=/^'([^]*?)'?$/,xV=/''/g,wV=/[a-zA-Z]/;function n1(e,t,r){var d,f,p,h,v,g,b,x;const n=pm(),a=(r==null?void 0:r.locale)??n.locale??eO,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((x=(b=n.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,s=sa(e,r==null?void 0:r.in);if(!gV(s))throw new RangeError("Invalid time value");let l=t.match(yV).map(w=>{const j=w[0];if(j==="p"||j==="P"){const _=sV[j];return _(w,a.formatLong)}return w}).join("").match(vV).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const j=w[0];if(j==="'")return{isToken:!1,value:SV(w)};if(Iw[j])return{isToken:!0,value:w};if(j.match(wV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(w=>{if(!w.isToken)return w.value;const j=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&fV(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&dV(j))&&hV(j,t,String(e));const _=Iw[j[0]];return _(s,j,a.localize,u)}).join("")}function SV(e){const t=e.match(bV);return t?t[1].replace(xV,"'"):e}function jV(e,t){return sa(e,t==null?void 0:t.in).getDay()}const NV={"en-US":eO},_V=vG({format:n1,startOfWeek:Bl,getDay:jV,locales:NV});function AV(){const[e,t]=z.useState([]);return z.useEffect(()=>{async function r(){var l,u;const{data:{user:n},error:a}=await Xe.auth.getUser();if(a||!n){console.error("User error:",a);return}const i=((l=n==null?void 0:n.user_metadata)==null?void 0:l.org_id)||((u=n==null?void 0:n.app_metadata)==null?void 0:u.org_id);if(!i){console.error("Missing org_id in user metadata.");return}const{data:o,error:s}=await Xe.from("events").select("*").eq("org_id",i);if(s)console.error("Error loading events:",s);else{const d=o.map(f=>({id:f.id,title:f.title,start:new Date(f.event_date),end:new Date(f.event_date)}));t(d)}}r()},[]),c.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Calendar"}),c.jsx(dG,{localizer:_V,events:e,startAccessor:"start",endAccessor:"end",style:{height:600}})]})}function a1({title:e,loading:t=!1,error:r=null,children:n,className:a=""}){return t?c.jsx(ub,{size:"lg"}):r?c.jsx("div",{className:"p-4 text-center text-red-600",children:r}):c.jsxs("div",{className:`p-6 ${a}`,children:[e&&c.jsx("div",{className:"mb-6",children:c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e})}),n||c.jsx(cb,{})]})}function wn({children:e,variant:t="default",className:r="",disabled:n=!1,fullWidth:a=!1,...i}){let o="inline-flex items-center justify-center px-4 py-2 rounded font-medium focus:outline-none transition",s="";switch(t){case"outline":s="border border-blue-600 text-blue-600 bg-white hover:bg-blue-50";break;case"danger":s="bg-red-600 text-white hover:bg-red-700";break;default:s="bg-blue-600 text-white hover:bg-blue-700"}let l=n?"opacity-50 cursor-not-allowed":"",u=a?"w-full":"";return c.jsx("button",{className:`${o} ${s} ${l} ${u} ${r}`,disabled:n,...i,children:e})}function Ln({title:e,description:t,children:r,className:n="",...a}){return c.jsxs("div",{className:`
        bg-white rounded-lg shadow-md overflow-hidden
        ${n}
      `,...a,children:[(e||t)&&c.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e&&c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),t&&c.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),c.jsx("div",{className:"p-6",children:r})]})}function fl({label:e,error:t,as:r="input",className:n="",...a}){const i=r==="textarea"?"textarea":"input";return c.jsxs("div",{className:"space-y-1",children:[e&&c.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),c.jsx(i,{className:`block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""} ${n}`,...a}),t&&c.jsx("p",{className:"text-sm text-red-600",children:t})]})}function Bw({label:e,error:t,options:r=[],className:n="",...a}){return c.jsxs("div",{className:"space-y-1",children:[e&&c.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),c.jsx("select",{className:`
          block w-full rounded-lg
          border-gray-300 shadow-sm
          focus:border-blue-500 focus:ring-blue-500
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
          ${n}
        `,...a,children:r.map(i=>c.jsx("option",{value:i.value,children:i.label},i.value))}),t&&c.jsx("p",{className:"text-sm text-red-600",children:t})]})}function OV(e){return e==null}var PV=OV;const mt=xt(PV);var EV=Fi,TV=rn,CV=Ia,kV="[object String]";function DV(e){return typeof e=="string"||!TV(e)&&CV(e)&&EV(e)==kV}var LV=DV;const xs=xt(LV);var iO={exports:{}},Dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=Symbol.for("react.element"),o1=Symbol.for("react.portal"),mm=Symbol.for("react.fragment"),gm=Symbol.for("react.strict_mode"),vm=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),bm=Symbol.for("react.context"),MV=Symbol.for("react.server_context"),xm=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),Nm=Symbol.for("react.lazy"),IV=Symbol.for("react.offscreen"),oO;oO=Symbol.for("react.module.reference");function la(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case i1:switch(e=e.type,e){case mm:case vm:case gm:case wm:case Sm:return e;default:switch(e=e&&e.$$typeof,e){case MV:case bm:case xm:case Nm:case jm:case ym:return e;default:return t}}case o1:return t}}}Dt.ContextConsumer=bm;Dt.ContextProvider=ym;Dt.Element=i1;Dt.ForwardRef=xm;Dt.Fragment=mm;Dt.Lazy=Nm;Dt.Memo=jm;Dt.Portal=o1;Dt.Profiler=vm;Dt.StrictMode=gm;Dt.Suspense=wm;Dt.SuspenseList=Sm;Dt.isAsyncMode=function(){return!1};Dt.isConcurrentMode=function(){return!1};Dt.isContextConsumer=function(e){return la(e)===bm};Dt.isContextProvider=function(e){return la(e)===ym};Dt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===i1};Dt.isForwardRef=function(e){return la(e)===xm};Dt.isFragment=function(e){return la(e)===mm};Dt.isLazy=function(e){return la(e)===Nm};Dt.isMemo=function(e){return la(e)===jm};Dt.isPortal=function(e){return la(e)===o1};Dt.isProfiler=function(e){return la(e)===vm};Dt.isStrictMode=function(e){return la(e)===gm};Dt.isSuspense=function(e){return la(e)===wm};Dt.isSuspenseList=function(e){return la(e)===Sm};Dt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mm||e===vm||e===gm||e===wm||e===Sm||e===IV||typeof e=="object"&&e!==null&&(e.$$typeof===Nm||e.$$typeof===jm||e.$$typeof===ym||e.$$typeof===bm||e.$$typeof===xm||e.$$typeof===oO||e.getModuleId!==void 0)};Dt.typeOf=la;iO.exports=Dt;var $V=iO.exports,RV=Fi,FV=Ia,BV="[object Number]";function zV(e){return typeof e=="number"||FV(e)&&RV(e)==BV}var sO=zV;const qV=xt(sO);var UV=sO;function WV(e){return UV(e)&&e!=+e}var HV=WV;const Pc=xt(HV);var un=function(t){return t===0?0:t>0?1:-1},Jo=function(t){return xs(t)&&t.indexOf("%")===t.length-1},Le=function(t){return qV(t)&&!Pc(t)},Ar=function(t){return Le(t)||xs(t)},GV=0,Ec=function(t){var r=++GV;return"".concat(t||"").concat(r)},dn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(t)&&!xs(t))return n;var i;if(Jo(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Pc(i)&&(i=n),a&&i>r&&(i=r),i},so=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},VV=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},xn=function(t,r){return Le(t)&&Le(r)?function(n){return t+n*(r-t)}:function(){return r}};function Hh(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):$n(n,t))===r})}var YV=function(t,r){return Le(t)&&Le(r)?t-r:xs(t)&&xs(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Tl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}var KV=["viewBox","children"],XV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zw=["points","pathLength"],Sv={svg:KV,polygon:zw,polyline:zw},s1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gh=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(z.isValidElement(t)&&(n=t.props),!gc(n))return null;var a={};return Object.keys(n).forEach(function(i){s1.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},ZV=function(t,r,n){return function(a){return t(r,n,a),null}},ws=function(t,r,n){if(!gc(t)||T0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];s1.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=ZV(o,r,n))}),a},JV=["children"],QV=["children"];function qw(e,t){if(e==null)return{};var r=eY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}var Uw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ki=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Ww=null,jv=null,l1=function e(t){if(t===Ww&&Array.isArray(jv))return jv;var r=[];return z.Children.forEach(t,function(n){mt(n)||($V.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),jv=r,Ww=t,r};function ra(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ki(a)}):n=[ki(t)],l1(e).forEach(function(a){var i=$n(a,"type.displayName")||$n(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Dn(e,t){var r=ra(e,t);return r&&r[0]}var Hw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Le(n)||n<=0||!Le(a)||a<=0)},tY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],rY=function(t){return t&&t.type&&xs(t.type)&&tY.indexOf(t.type)>=0},nY=function(t){return t&&C0(t)==="object"&&"clipDot"in t},aY=function(t,r,n,a){var i,o=(i=Sv==null?void 0:Sv[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ot(t)&&(a&&o.includes(r)||XV.includes(r))||n&&s1.includes(r)},Je=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(z.isValidElement(t)&&(a=t.props),!gc(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;aY((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},k0=function e(t,r){if(t===r)return!0;var n=z.Children.count(t);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Gw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Gw(i,o))return!1}return!0},Gw=function(t,r){if(mt(t)&&mt(r))return!0;if(!mt(t)&&!mt(r)){var n=t.props||{},a=n.children,i=qw(n,JV),o=r.props||{},s=o.children,l=qw(o,QV);return a&&s?Tl(i,l)&&k0(a,s):!a&&!s?Tl(i,l):!1}return!1},Vw=function(t,r){var n=[],a={};return l1(t).forEach(function(i,o){if(rY(i))n.push(i);else if(i){var s=ki(i.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},iY=function(t){var r=t&&t.type;return r&&Uw[r]?Uw[r]:null},oY=function(t,r){return l1(r).indexOf(t)},sY=["children","width","height","viewBox","className","style","title","desc"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(this,arguments)}function lY(e,t){if(e==null)return{};var r=cY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,u=lY(e,sY),d=a||{width:r,height:n,x:0,y:0},f=gt("recharts-surface",i);return B.createElement("svg",D0({},Je(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,s),B.createElement("desc",null,l),t)}var uY=["children","className"];function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function dY(e,t){if(e==null)return{};var r=fY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jt=B.forwardRef(function(e,t){var r=e.children,n=e.className,a=dY(e,uY),i=gt("recharts-layer",n);return B.createElement("g",M0({className:i},Je(a,!0),{ref:t}),r)}),Ca=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},hY=yb;function pY(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:hY(e,t,r)}var mY=pY,gY="\\ud800-\\udfff",vY="\\u0300-\\u036f",yY="\\ufe20-\\ufe2f",bY="\\u20d0-\\u20ff",xY=vY+yY+bY,wY="\\ufe0e\\ufe0f",SY="\\u200d",jY=RegExp("["+SY+gY+xY+wY+"]");function NY(e){return jY.test(e)}var lO=NY;function _Y(e){return e.split("")}var AY=_Y,cO="\\ud800-\\udfff",OY="\\u0300-\\u036f",PY="\\ufe20-\\ufe2f",EY="\\u20d0-\\u20ff",TY=OY+PY+EY,CY="\\ufe0e\\ufe0f",kY="["+cO+"]",I0="["+TY+"]",$0="\\ud83c[\\udffb-\\udfff]",DY="(?:"+I0+"|"+$0+")",uO="[^"+cO+"]",dO="(?:\\ud83c[\\udde6-\\uddff]){2}",fO="[\\ud800-\\udbff][\\udc00-\\udfff]",LY="\\u200d",hO=DY+"?",pO="["+CY+"]?",MY="(?:"+LY+"(?:"+[uO,dO,fO].join("|")+")"+pO+hO+")*",IY=pO+hO+MY,$Y="(?:"+[uO+I0+"?",I0,dO,fO,kY].join("|")+")",RY=RegExp($0+"(?="+$0+")|"+$Y+IY,"g");function FY(e){return e.match(RY)||[]}var BY=FY,zY=AY,qY=lO,UY=BY;function WY(e){return qY(e)?UY(e):zY(e)}var HY=WY,GY=mY,VY=lO,YY=HY,KY=fA;function XY(e){return function(t){t=KY(t);var r=VY(t)?YY(t):void 0,n=r?r[0]:t.charAt(0),a=r?GY(r,1).join(""):t.slice(1);return n[e]()+a}}var ZY=XY,JY=ZY,QY=JY("toUpperCase"),eK=QY;const _m=xt(eK);function Ht(e){return function(){return e}}const mO=Math.cos,Vh=Math.sin,Ra=Math.sqrt,Yh=Math.PI,Am=2*Yh,R0=Math.PI,F0=2*R0,Vo=1e-6,tK=F0-Vo;function gO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function rK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gO;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class nK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gO:rK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,u=a-r,d=o-t,f=s-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Vo)if(!(Math.abs(f*l-u*d)>Vo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=a-s,g=l*l+u*u,b=h*h+v*v,x=Math.sqrt(g),w=Math.sqrt(p),j=i*Math.tan((R0-Math.acos((g+p-b)/(2*x*w)))/2),_=j/w,S=j/x;Math.abs(_-1)>Vo&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*v)},${this._x1=t+S*l},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=t+s,d=r+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Vo||Math.abs(this._y1-d)>Vo)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%F0+F0),p>tK?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Vo&&this._append`A${n},${n},0,${+(p>=R0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function c1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new nK(t)}function u1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vO(e){this._context=e}vO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Om(e){return new vO(e)}function yO(e){return e[0]}function bO(e){return e[1]}function xO(e,t){var r=Ht(!0),n=null,a=Om,i=null,o=c1(s);e=typeof e=="function"?e:e===void 0?yO:Ht(e),t=typeof t=="function"?t:t===void 0?bO:Ht(t);function s(l){var u,d=(l=u1(l)).length,f,p=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,l),+t(f,u,l));if(h)return i=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ht(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ht(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ht(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function nh(e,t,r){var n=null,a=Ht(!0),i=null,o=Om,s=null,l=c1(u);e=typeof e=="function"?e:e===void 0?yO:Ht(+e),t=typeof t=="function"?t:Ht(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bO:Ht(+r);function u(f){var p,h,v,g=(f=u1(f)).length,b,x=!1,w,j=new Array(g),_=new Array(g);for(i==null&&(s=o(w=l())),p=0;p<=g;++p){if(!(p<g&&a(b=f[p],p,f))===x)if(x=!x)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=h;--v)s.point(j[v],_[v]);s.lineEnd(),s.areaEnd()}x&&(j[p]=+e(b,p,f),_[p]=+t(b,p,f),s.point(n?+n(b,p,f):j[p],r?+r(b,p,f):_[p]))}if(w)return s=null,w+""||null}function d(){return xO().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ht(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ht(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ht(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class wO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function aK(e){return new wO(e,!0)}function iK(e){return new wO(e,!1)}const d1={draw(e,t){const r=Ra(t/Yh);e.moveTo(r,0),e.arc(0,0,r,0,Am)}},oK={draw(e,t){const r=Ra(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},SO=Ra(1/3),sK=SO*2,lK={draw(e,t){const r=Ra(t/sK),n=r*SO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},cK={draw(e,t){const r=Ra(t),n=-r/2;e.rect(n,n,r,r)}},uK=.8908130915292852,jO=Vh(Yh/10)/Vh(7*Yh/10),dK=Vh(Am/10)*jO,fK=-mO(Am/10)*jO,hK={draw(e,t){const r=Ra(t*uK),n=dK*r,a=fK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Am*i/5,s=mO(o),l=Vh(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Nv=Ra(3),pK={draw(e,t){const r=-Ra(t/(Nv*3));e.moveTo(0,r*2),e.lineTo(-Nv*r,-r),e.lineTo(Nv*r,-r),e.closePath()}},Vn=-.5,Yn=Ra(3)/2,B0=1/Ra(12),mK=(B0/2+1)*3,gK={draw(e,t){const r=Ra(t/mK),n=r/2,a=r*B0,i=n,o=r*B0+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Vn*n-Yn*a,Yn*n+Vn*a),e.lineTo(Vn*i-Yn*o,Yn*i+Vn*o),e.lineTo(Vn*s-Yn*l,Yn*s+Vn*l),e.lineTo(Vn*n+Yn*a,Vn*a-Yn*n),e.lineTo(Vn*i+Yn*o,Vn*o-Yn*i),e.lineTo(Vn*s+Yn*l,Vn*l-Yn*s),e.closePath()}};function vK(e,t){let r=null,n=c1(a);e=typeof e=="function"?e:Ht(e||d1),t=typeof t=="function"?t:Ht(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ht(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ht(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Kh(){}function Xh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NO(e){this._context=e}NO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yK(e){return new NO(e)}function _O(e){this._context=e}_O.prototype={areaStart:Kh,areaEnd:Kh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bK(e){return new _O(e)}function AO(e){this._context=e}AO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xK(e){return new AO(e)}function OO(e){this._context=e}OO.prototype={areaStart:Kh,areaEnd:Kh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function wK(e){return new OO(e)}function Yw(e){return e<0?-1:1}function Kw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(Yw(i)+Yw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Xw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function _v(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Zh(e){this._context=e}Zh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_v(this,this._t0,Xw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_v(this,Xw(this,r=Kw(this,e,t)),r);break;default:_v(this,this._t0,r=Kw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PO(e){this._context=new EO(e)}(PO.prototype=Object.create(Zh.prototype)).point=function(e,t){Zh.prototype.point.call(this,t,e)};function EO(e){this._context=e}EO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function SK(e){return new Zh(e)}function jK(e){return new PO(e)}function TO(e){this._context=e}TO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Zw(e),a=Zw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function NK(e){return new TO(e)}function Pm(e,t){this._context=e,this._t=t}Pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _K(e){return new Pm(e,.5)}function AK(e){return new Pm(e,0)}function OK(e){return new Pm(e,1)}function zl(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function z0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function PK(e,t){return e[t]}function EK(e){const t=[];return t.key=e,t}function TK(){var e=Ht([]),t=z0,r=zl,n=PK;function a(i){var o=Array.from(e.apply(this,arguments),EK),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=u1(t(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ht(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ht(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?z0:typeof i=="function"?i:Ht(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??zl,a):r},a}function CK(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}zl(e,t)}}function kK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}zl(e,t)}}function DK(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,v=0;v<s;++v){var g=e[t[v]],b=g[n][1]||0,x=g[n-1][1]||0;h+=b-x}l+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,zl(e,t)}}function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}var LK=["type","size","sizeType"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){MK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MK(e,t,r){return t=IK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=$K(e,"string");return sd(t)=="symbol"?t:t+""}function $K(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RK(e,t){if(e==null)return{};var r=FK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var CO={symbolCircle:d1,symbolCross:oK,symbolDiamond:lK,symbolSquare:cK,symbolStar:hK,symbolTriangle:pK,symbolWye:gK},BK=Math.PI/180,zK=function(t){var r="symbol".concat(_m(t));return CO[r]||d1},qK=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*BK;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},UK=function(t,r){CO["symbol".concat(_m(t))]=r},f1=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=RK(t,LK),u=Qw(Qw({},l),{},{type:n,size:i,sizeType:s}),d=function(){var b=zK(n),x=vK().type(b).size(qK(i,s,n));return x()},f=u.className,p=u.cx,h=u.cy,v=Je(u,!0);return p===+p&&h===+h&&i===+i?B.createElement("path",q0({},v,{className:gt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};f1.registerSymbol=UK;function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(this,arguments)}function e5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e5(Object(r),!0).forEach(function(n){ld(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function VK(e,t,r){return t&&GK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YK(e,t,r){return t=Jh(t),KK(e,kO()?Reflect.construct(t,r||[],Jh(e).constructor):t.apply(e,r))}function KK(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XK(e)}function XK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kO=function(){return!!e})()}function Jh(e){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jh(e)}function ZK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W0(e,t)}function W0(e,t){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W0(e,t)}function ld(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=JK(e,"string");return ql(t)=="symbol"?t:t+""}function JK(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kn=32,h1=function(e){function t(){return HK(this,t),YK(this,t,arguments)}return ZK(t,e),VK(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Kn/2,o=Kn/6,s=Kn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Kn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Kn,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Kn/8,"h").concat(Kn,"v").concat(Kn*3/4,"h").concat(-Kn,"z"),className:"recharts-legend-icon"});if(B.isValidElement(n.legendIcon)){var u=WK({},n);return delete u.legendIcon,B.cloneElement(n.legendIcon,u)}return B.createElement(f1,{fill:l,cx:i,cy:i,size:Kn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Kn,height:Kn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,v){var g=h.formatter||l,b=gt(ld(ld({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=ot(h.value)?null:h.value;Ca(!ot(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?u:h.color;return B.createElement("li",U0({className:b,style:f,key:"legend-item-".concat(v)},ws(n.props,h,v)),B.createElement(L0,{width:o,height:o,viewBox:d,style:p},n.renderIcon(h)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(x,h,v):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(z.PureComponent);ld(h1,"displayName","Legend");ld(h1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function QK(e){return e!==e}var eX=QK;function tX(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var rX=tX,nX=oA,aX=eX,iX=rX;function oX(e,t,r){return t===t?iX(e,t,r):nX(e,aX,r)}var sX=oX,lX=sX;function cX(e,t){var r=e==null?0:e.length;return!!r&&lX(e,t,0)>-1}var uX=cX;function dX(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var fX=dX;function hX(){}var pX=hX,Av=rA,mX=pX,gX=Ib,vX=1/0,yX=Av&&1/gX(new Av([,-0]))[1]==vX?function(e){return new Av(e)}:mX,bX=yX,xX=H_,wX=uX,SX=fX,jX=V_,NX=bX,_X=Ib,AX=200;function OX(e,t,r){var n=-1,a=wX,i=e.length,o=!0,s=[],l=s;if(r)o=!1,a=SX;else if(i>=AX){var u=t?null:NX(e);if(u)return _X(u);o=!1,a=jX,l=new xX}else l=t?[]:s;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),s.push(d)}else a(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var PX=OX,EX=$a,TX=PX;function CX(e,t){return e&&e.length?TX(e,EX(t)):[]}var kX=CX;const t5=xt(kX);function LO(e,t,r){return t===!0?t5(e,r):ot(t)?t5(e,t):e}function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}var DX=["ref"];function r5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(r),!0).forEach(function(n){Em(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IO(n.key),n)}}function MX(e,t,r){return t&&n5(e.prototype,t),r&&n5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IX(e,t,r){return t=Qh(t),$X(e,MO()?Reflect.construct(t,r||[],Qh(e).constructor):t.apply(e,r))}function $X(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RX(e)}function RX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MO=function(){return!!e})()}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qh(e)}function FX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H0(e,t)}function H0(e,t){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H0(e,t)}function Em(e,t,r){return t=IO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IO(e){var t=BX(e,"string");return Ul(t)=="symbol"?t:t+""}function BX(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zX(e,t){if(e==null)return{};var r=qX(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UX(e){return e.value}function WX(e,t){if(B.isValidElement(e))return B.cloneElement(e,t);if(typeof e=="function")return B.createElement(e,t);t.ref;var r=zX(t,DX);return B.createElement(h1,r)}var a5=1,ss=function(e){function t(){var r;LX(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=IX(this,t,[].concat(a)),Em(r,"lastBoundingBox",{width:-1,height:-1}),r}return FX(t,e),MX(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>a5||Math.abs(a.height-this.lastBoundingBox.height)>a5)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_i({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((d||0)-v.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _i(_i({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=_i(_i({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},WX(i,_i(_i({},this.props),{},{payload:LO(d,u,UX)})))}}],[{key:"getWithHeight",value:function(n,a){var i=_i(_i({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Le(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(z.PureComponent);Em(ss,"displayName","Legend");Em(ss,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(this,arguments)}function HX(e,t){return KX(e)||YX(e,t)||VX(e,t)||GX()}function GX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VX(e,t){if(e){if(typeof e=="string")return i5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i5(e,t)}}function i5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function KX(e){if(Array.isArray(e))return e}function o5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(r),!0).forEach(function(n){XX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XX(e,t,r){return t=ZX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=JX(e,"string");return cd(t)=="symbol"?t:t+""}function JX(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QX(e){return Array.isArray(e)&&Ar(e[0])&&Ar(e[1])?e.join(" ~ "):e}var eZ=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,v=t.labelClassName,g=t.label,b=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,j=function(){if(d&&d.length){var C={padding:0,margin:0},I=(p?om(d,p):d).map(function($,G){if($.type==="none")return null;var H=Ov({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),Z=$.formatter||f||QX,J=$.value,Y=$.name,Q=J,oe=Y;if(Z&&Q!=null&&oe!=null){var L=Z(J,Y,$,G,d);if(Array.isArray(L)){var q=HX(L,2);Q=q[0],oe=q[1]}else Q=L}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:H},Ar(oe)?B.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,Ar(oe)?B.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,B.createElement("span",{className:"recharts-tooltip-item-value"},Q),B.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:C},I)}return null},_=Ov({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=Ov({margin:0},u),P=!mt(g),A=P?g:"",E=gt("recharts-default-tooltip",h),k=gt("recharts-tooltip-label",v);P&&b&&d!==void 0&&d!==null&&(A=b(g,d));var M=w?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",G0({className:E,style:_},M),B.createElement("p",{className:k,style:S},B.isValidElement(A)?A:"".concat(A)),j())};function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function ah(e,t,r){return t=tZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){var t=rZ(e,"string");return ud(t)=="symbol"?t:t+""}function rZ(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bu="recharts-tooltip-wrapper",nZ={visibility:"hidden"};function aZ(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return gt(bu,ah(ah(ah(ah({},"".concat(bu,"-right"),Le(r)&&t&&Le(t.x)&&r>=t.x),"".concat(bu,"-left"),Le(r)&&t&&Le(t.x)&&r<t.x),"".concat(bu,"-bottom"),Le(n)&&t&&Le(t.y)&&n>=t.y),"".concat(bu,"-top"),Le(n)&&t&&Le(t.y)&&n<t.y))}function s5(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&Le(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var p=d,h=l[n];return p<h?Math.max(f,l[n]):Math.max(d,l[n])}var v=f+s,g=l[n]+u;return v>g?Math.max(d,l[n]):Math.max(f,l[n])}function iZ(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oZ(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=s5({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=s5({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=iZ({translateX:d,translateY:f,useTranslate3d:s})):u=nZ,{cssProperties:u,cssClasses:aZ({translateX:d,translateY:f,coordinate:r})}}function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(r),!0).forEach(function(n){Y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RO(n.key),n)}}function cZ(e,t,r){return t&&lZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uZ(e,t,r){return t=ep(t),dZ(e,$O()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function dZ(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fZ(e)}function fZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function hZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V0(e,t)}function Y0(e,t,r){return t=RO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RO(e){var t=pZ(e,"string");return Wl(t)=="symbol"?t:t+""}function pZ(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var u5=1,mZ=function(e){function t(){var r;sZ(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=uZ(this,t,[].concat(a)),Y0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Y0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return hZ(t,e),cZ(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>u5||Math.abs(n.height-this.state.lastBoundingBox.height)>u5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,v=a.position,g=a.reverseDirection,b=a.useTranslate3d,x=a.viewBox,w=a.wrapperStyle,j=oZ({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:x}),_=j.cssClasses,S=j.cssProperties,P=c5(c5({transition:p&&i?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return B.createElement("div",{tabIndex:-1,className:_,style:P,ref:function(E){n.wrapperNode=E}},u)}}])}(z.PureComponent),gZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Es={isSsr:gZ()};function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function d5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(r),!0).forEach(function(n){p1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BO(n.key),n)}}function bZ(e,t,r){return t&&yZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xZ(e,t,r){return t=tp(t),wZ(e,FO()?Reflect.construct(t,r||[],tp(e).constructor):t.apply(e,r))}function wZ(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SZ(e)}function SZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function jZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K0(e,t)}function K0(e,t){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K0(e,t)}function p1(e,t,r){return t=BO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BO(e){var t=NZ(e,"string");return Hl(t)=="symbol"?t:t+""}function NZ(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _Z(e){return e.dataKey}function AZ(e,t){return B.isValidElement(e)?B.cloneElement(e,t):typeof e=="function"?B.createElement(e,t):B.createElement(eZ,t)}var _a=function(e){function t(){return vZ(this,t),xZ(this,t,arguments)}return jZ(t,e),bZ(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,v=a.payload,g=a.payloadUniqBy,b=a.position,x=a.reverseDirection,w=a.useTranslate3d,j=a.viewBox,_=a.wrapperStyle,S=v??[];f&&S.length&&(S=LO(v.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),g,_Z));var P=S.length>0;return B.createElement(mZ,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:i,coordinate:d,hasPayload:P,offset:h,position:b,reverseDirection:x,useTranslate3d:w,viewBox:j,wrapperStyle:_},AZ(u,f5(f5({},this.props),{},{payload:S})))}}])}(z.PureComponent);p1(_a,"displayName","Tooltip");p1(_a,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Es.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var OZ=Ma,PZ=function(){return OZ.Date.now()},EZ=PZ,TZ=oa,Pv=EZ,h5=P_,CZ="Expected a function",kZ=Math.max,DZ=Math.min;function LZ(e,t,r){var n,a,i,o,s,l,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(CZ);t=h5(t)||0,TZ(r)&&(d=!!r.leading,f="maxWait"in r,i=f?kZ(h5(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function h(P){var A=n,E=a;return n=a=void 0,u=P,o=e.apply(E,A),o}function v(P){return u=P,s=setTimeout(x,t),d?h(P):o}function g(P){var A=P-l,E=P-u,k=t-A;return f?DZ(k,i-E):k}function b(P){var A=P-l,E=P-u;return l===void 0||A>=t||A<0||f&&E>=i}function x(){var P=Pv();if(b(P))return w(P);s=setTimeout(x,g(P))}function w(P){return s=void 0,p&&n?h(P):(n=a=void 0,o)}function j(){s!==void 0&&clearTimeout(s),u=0,n=l=a=s=void 0}function _(){return s===void 0?o:w(Pv())}function S(){var P=Pv(),A=b(P);if(n=arguments,a=this,l=P,A){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(x,t),h(l)}return s===void 0&&(s=setTimeout(x,t)),o}return S.cancel=j,S.flush=_,S}var MZ=LZ,IZ=MZ,$Z=oa,RZ="Expected a function";function FZ(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(RZ);return $Z(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),IZ(e,t,{leading:n,maxWait:t,trailing:a})}var BZ=FZ;const zO=xt(BZ);function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){zZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zZ(e,t,r){return t=qZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qZ(e){var t=UZ(e,"string");return dd(t)=="symbol"?t:t+""}function UZ(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WZ(e,t){return YZ(e)||VZ(e,t)||GZ(e,t)||HZ()}function HZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GZ(e,t){if(e){if(typeof e=="string")return m5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m5(e,t)}}function m5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function YZ(e){if(Array.isArray(e))return e}var g5=z.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,h=e.children,v=e.debounce,g=v===void 0?0:v,b=e.id,x=e.className,w=e.onResize,j=e.style,_=j===void 0?{}:j,S=z.useRef(null),P=z.useRef();P.current=w,z.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=z.useState({containerWidth:a.width,containerHeight:a.height}),E=WZ(A,2),k=E[0],M=E[1],T=z.useCallback(function(I,$){M(function(G){var H=Math.round(I),Z=Math.round($);return G.containerWidth===H&&G.containerHeight===Z?G:{containerWidth:H,containerHeight:Z}})},[]);z.useEffect(function(){var I=function(Y){var Q,oe=Y[0].contentRect,L=oe.width,q=oe.height;T(L,q),(Q=P.current)===null||Q===void 0||Q.call(P,L,q)};g>0&&(I=zO(I,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(I),G=S.current.getBoundingClientRect(),H=G.width,Z=G.height;return T(H,Z),$.observe(S.current),function(){$.disconnect()}},[T,g]);var C=z.useMemo(function(){var I=k.containerWidth,$=k.containerHeight;if(I<0||$<0)return null;Ca(Jo(o)||Jo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ca(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Jo(o)?I:o,H=Jo(l)?$:l;r&&r>0&&(G?H=G/r:H&&(G=H*r),p&&H>p&&(H=p)),Ca(G>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,H,o,l,d,f,r);var Z=!Array.isArray(h)&&ki(h.type).endsWith("Chart");return B.Children.map(h,function(J){return B.isValidElement(J)?z.cloneElement(J,ih({width:G,height:H},Z?{style:ih({height:"100%",width:"100%",maxHeight:H,maxWidth:G},J.props.style)}:{})):J})},[r,h,l,p,f,d,k,o]);return B.createElement("div",{id:b?"".concat(b):void 0,className:gt("recharts-responsive-container",x),style:ih(ih({},_),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:p}),ref:S},C)}),Tm=function(t){return null};Tm.displayName="Cell";function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function v5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(r),!0).forEach(function(n){KZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KZ(e,t,r){return t=XZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XZ(e){var t=ZZ(e,"string");return fd(t)=="symbol"?t:t+""}function ZZ(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hl={widthCache:{},cacheCount:0},JZ=2e3,QZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},y5="recharts_measurement_span";function eJ(e){var t=X0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Mu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Es.isSsr)return{width:0,height:0};var n=eJ(r),a=JSON.stringify({text:t,copyStyle:n});if(hl.widthCache[a])return hl.widthCache[a];try{var i=document.getElementById(y5);i||(i=document.createElement("span"),i.setAttribute("id",y5),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=X0(X0({},QZ),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return hl.widthCache[a]=l,++hl.cacheCount>JZ&&(hl.cacheCount=0,hl.widthCache={}),l}catch{return{width:0,height:0}}},tJ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function rp(e,t){return iJ(e)||aJ(e,t)||nJ(e,t)||rJ()}function rJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(e,t){if(e){if(typeof e=="string")return b5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b5(e,t)}}function b5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function iJ(e){if(Array.isArray(e))return e}function oJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lJ(n.key),n)}}function sJ(e,t,r){return t&&x5(e.prototype,t),r&&x5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lJ(e){var t=cJ(e,"string");return hd(t)=="symbol"?t:t+""}function cJ(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var w5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fJ=Object.keys(qO),wl="NaN";function hJ(e,t){return e*qO[t]}var oh=function(){function e(t,r){oJ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!uJ.test(r)&&(this.num=NaN,this.unit=""),fJ.includes(r)&&(this.num=hJ(t,r),this.unit="px")}return sJ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=dJ.exec(r))!==null&&n!==void 0?n:[],i=rp(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function UO(e){if(e.includes(wl))return wl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=w5.exec(t))!==null&&r!==void 0?r:[],a=rp(n,4),i=a[1],o=a[2],s=a[3],l=oh.parse(i??""),u=oh.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return wl;t=t.replace(w5,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=S5.exec(t))!==null&&f!==void 0?f:[],h=rp(p,4),v=h[1],g=h[2],b=h[3],x=oh.parse(v??""),w=oh.parse(b??""),j=g==="+"?x.add(w):x.subtract(w);if(j.isNaN())return wl;t=t.replace(S5,j.toString())}return t}var j5=/\(([^()]*)\)/;function pJ(e){for(var t=e;t.includes("(");){var r=j5.exec(t),n=rp(r,2),a=n[1];t=t.replace(j5,UO(a))}return t}function mJ(e){var t=e.replace(/\s+/g,"");return t=pJ(t),t=UO(t),t}function gJ(e){try{return mJ(e)}catch{return wl}}function Ev(e){var t=gJ(e.slice(5,-1));return t===wl?"":t}var vJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yJ=["dx","dy","angle","className","breakAll"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function N5(e,t){if(e==null)return{};var r=bJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _5(e,t){return jJ(e)||SJ(e,t)||wJ(e,t)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wJ(e,t){if(e){if(typeof e=="string")return A5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A5(e,t)}}function A5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function jJ(e){if(Array.isArray(e))return e}var WO=/[ \f\n\r\t\v\u2028\u2029]+/,HO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];mt(r)||(n?i=r.toString().split(""):i=r.toString().split(WO));var o=i.map(function(l){return{word:l,width:Mu(l,a).width}}),s=n?0:Mu(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},NJ=function(t,r,n,a,i){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,d=Le(o),f=s,p=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(H,Z){var J=Z.word,Y=Z.width,Q=H[H.length-1];if(Q&&(a==null||i||Q.width+Y+n<Number(a)))Q.words.push(J),Q.width+=Y+n;else{var oe={words:[J],width:Y};H.push(oe)}return H},[])},h=p(r),v=function(G){return G.reduce(function(H,Z){return H.width>Z.width?H:Z})};if(!d)return h;for(var g="…",b=function(G){var H=f.slice(0,G),Z=HO({breakAll:u,style:l,children:H+g}).wordsWithComputedWidth,J=p(Z),Y=J.length>o||v(J).width>Number(a);return[Y,J]},x=0,w=f.length-1,j=0,_;x<=w&&j<=f.length-1;){var S=Math.floor((x+w)/2),P=S-1,A=b(P),E=_5(A,2),k=E[0],M=E[1],T=b(S),C=_5(T,1),I=C[0];if(!k&&!I&&(x=S+1),k&&I&&(w=S-1),!k&&I){_=M;break}j++}return _||h},O5=function(t){var r=mt(t)?[]:t.toString().split(WO);return[{words:r}]},_J=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Es.isSsr){var l,u,d=HO({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;l=f,u=p}else return O5(a);return NJ({breakAll:o,children:a,maxLines:s,style:i},l,u,r,n)}return O5(a)},P5="#808080",Ss=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,p=t.textAnchor,h=p===void 0?"start":p,v=t.verticalAnchor,g=v===void 0?"end":v,b=t.fill,x=b===void 0?P5:b,w=N5(t,vJ),j=z.useMemo(function(){return _J({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),_=w.dx,S=w.dy,P=w.angle,A=w.className,E=w.breakAll,k=N5(w,yJ);if(!Ar(n)||!Ar(i))return null;var M=n+(Le(_)?_:0),T=i+(Le(S)?S:0),C;switch(g){case"start":C=Ev("calc(".concat(u,")"));break;case"middle":C=Ev("calc(".concat((j.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:C=Ev("calc(".concat(j.length-1," * -").concat(s,")"));break}var I=[];if(f){var $=j[0].width,G=w.width;I.push("scale(".concat((Le(G)?G/$:1)/$,")"))}return P&&I.push("rotate(".concat(P,", ").concat(M,", ").concat(T,")")),I.length&&(k.transform=I.join(" ")),B.createElement("text",Z0({},Je(k,!0),{x:M,y:T,className:gt("recharts-text",A),textAnchor:h,fill:x.includes("url")?P5:x}),j.map(function(H,Z){var J=H.words.join(E?"":" ");return B.createElement("tspan",{x:M,dy:Z===0?C:s,key:"".concat(J,"-").concat(Z)},J)}))};function fo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function m1(e){let t,r,n;e.length!==2?(t=fo,r=(s,l)=>fo(e(s),l),n=(s,l)=>e(s)-l):(t=e===fo||e===AJ?e:OJ,r=e,n=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function OJ(){return 0}function GO(e){return e===null?NaN:+e}function*PJ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const EJ=m1(fo),Jd=EJ.right;m1(GO).center;class E5 extends Map{constructor(t,r=kJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(T5(this,t))}has(t){return super.has(T5(this,t))}set(t,r){return super.set(TJ(this,t),r)}delete(t){return super.delete(CJ(this,t))}}function T5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function TJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function CJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function DJ(e=fo){if(e===fo)return VO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function VO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LJ=Math.sqrt(50),MJ=Math.sqrt(10),IJ=Math.sqrt(2);function np(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=LJ?10:i>=MJ?5:i>=IJ?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?np(e,t,r*2):[s,l,u]}function J0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?np(t,e,r):np(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function Q0(e,t,r){return t=+t,e=+e,r=+r,np(e,t,r)[2]}function ey(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Q0(t,e,r):Q0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function C5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function k5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function YO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?VO:DJ(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/l+p)),v=Math.min(n,Math.floor(t+(l-u)*f/l+p));YO(e,t,h,v,a)}const i=e[t];let o=r,s=n;for(xu(e,r,t),a(e[n],i)>0&&xu(e,r,n);o<s;){for(xu(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?xu(e,r,s):(++s,xu(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function xu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $J(e,t,r){if(e=Float64Array.from(PJ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return k5(e);if(t>=1)return C5(e);var n,a=(n-1)*t,i=Math.floor(a),o=C5(YO(e,i).subarray(0,i+1)),s=k5(e.subarray(i+1));return o+(s-o)*(a-i)}}function RJ(e,t,r=GO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function FJ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ca(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ty=Symbol("implicit");function g1(){var e=new E5,t=[],r=[],n=ty;function a(i){let o=e.get(i);if(o===void 0){if(n!==ty)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new E5;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return g1(t,r).unknown(n)},ca.apply(a,arguments),a}function pd(){var e=g1().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,h=a<n,v=h?a:n,g=h?n:a;i=(g-v)/Math.max(1,p-l+u*2),s&&(i=Math.floor(i)),v+=(g-v-i*(p-l))*d,o=i*(1-l),s&&(v=Math.round(v),o=Math.round(o));var b=FJ(p).map(function(x){return v+i*x});return r(h?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return pd(t(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},ca.apply(f(),arguments)}function KO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KO(t())},e}function Iu(){return KO(pd.apply(null,arguments).paddingInner(1))}function v1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function XO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Qd(){}var md=.7,ap=1/md,Cl="\\s*([+-]?\\d+)\\s*",gd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BJ=/^#([0-9a-f]{3,8})$/,zJ=new RegExp(`^rgb\\(${Cl},${Cl},${Cl}\\)$`),qJ=new RegExp(`^rgb\\(${ii},${ii},${ii}\\)$`),UJ=new RegExp(`^rgba\\(${Cl},${Cl},${Cl},${gd}\\)$`),WJ=new RegExp(`^rgba\\(${ii},${ii},${ii},${gd}\\)$`),HJ=new RegExp(`^hsl\\(${gd},${ii},${ii}\\)$`),GJ=new RegExp(`^hsla\\(${gd},${ii},${ii},${gd}\\)$`),D5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};v1(Qd,vd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:L5,formatHex:L5,formatHex8:VJ,formatHsl:YJ,formatRgb:M5,toString:M5});function L5(){return this.rgb().formatHex()}function VJ(){return this.rgb().formatHex8()}function YJ(){return ZO(this).formatHsl()}function M5(){return this.rgb().formatRgb()}function vd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=BJ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?I5(t):r===3?new Sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zJ.exec(e))?new Sn(t[1],t[2],t[3],1):(t=qJ.exec(e))?new Sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=UJ.exec(e))?sh(t[1],t[2],t[3],t[4]):(t=WJ.exec(e))?sh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=HJ.exec(e))?F5(t[1],t[2]/100,t[3]/100,1):(t=GJ.exec(e))?F5(t[1],t[2]/100,t[3]/100,t[4]):D5.hasOwnProperty(e)?I5(D5[e]):e==="transparent"?new Sn(NaN,NaN,NaN,0):null}function I5(e){return new Sn(e>>16&255,e>>8&255,e&255,1)}function sh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sn(e,t,r,n)}function KJ(e){return e instanceof Qd||(e=vd(e)),e?(e=e.rgb(),new Sn(e.r,e.g,e.b,e.opacity)):new Sn}function ry(e,t,r,n){return arguments.length===1?KJ(e):new Sn(e,t,r,n??1)}function Sn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}v1(Sn,ry,XO(Qd,{brighter(e){return e=e==null?ap:Math.pow(ap,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sn(ls(this.r),ls(this.g),ls(this.b),ip(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$5,formatHex:$5,formatHex8:XJ,formatRgb:R5,toString:R5}));function $5(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function XJ(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function R5(){const e=ip(this.opacity);return`${e===1?"rgb(":"rgba("}${ls(this.r)}, ${ls(this.g)}, ${ls(this.b)}${e===1?")":`, ${e})`}`}function ip(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ls(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qo(e){return e=ls(e),(e<16?"0":"")+e.toString(16)}function F5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pa(e,t,r,n)}function ZO(e){if(e instanceof Pa)return new Pa(e.h,e.s,e.l,e.opacity);if(e instanceof Qd||(e=vd(e)),!e)return new Pa;if(e instanceof Pa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Pa(o,s,l,e.opacity)}function ZJ(e,t,r,n){return arguments.length===1?ZO(e):new Pa(e,t,r,n??1)}function Pa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}v1(Pa,ZJ,XO(Qd,{brighter(e){return e=e==null?ap:Math.pow(ap,e),new Pa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new Pa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Sn(Tv(e>=240?e-240:e+120,a,n),Tv(e,a,n),Tv(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Pa(B5(this.h),lh(this.s),lh(this.l),ip(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ip(this.opacity);return`${e===1?"hsl(":"hsla("}${B5(this.h)}, ${lh(this.s)*100}%, ${lh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function B5(e){return e=(e||0)%360,e<0?e+360:e}function lh(e){return Math.max(0,Math.min(1,e||0))}function Tv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const y1=e=>()=>e;function JJ(e,t){return function(r){return e+r*t}}function QJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function eQ(e){return(e=+e)==1?JO:function(t,r){return r-t?QJ(t,r,e):y1(isNaN(t)?r:t)}}function JO(e,t){var r=t-e;return r?JJ(e,r):y1(isNaN(e)?t:e)}const z5=function e(t){var r=eQ(t);function n(a,i){var o=r((a=ry(a)).r,(i=ry(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),u=JO(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function tQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function rQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nQ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Tc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function aQ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function op(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iQ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Tc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ny=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cv=new RegExp(ny.source,"g");function oQ(e){return function(){return e}}function sQ(e){return function(t){return e(t)+""}}function lQ(e,t){var r=ny.lastIndex=Cv.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=ny.exec(e))&&(a=Cv.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:op(n,a)})),r=Cv.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?sQ(l[0].x):oQ(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Tc(e,t){var r=typeof t,n;return t==null||r==="boolean"?y1(t):(r==="number"?op:r==="string"?(n=vd(t))?(t=n,z5):lQ:t instanceof vd?z5:t instanceof Date?aQ:rQ(t)?tQ:Array.isArray(t)?nQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iQ:op)(e,t)}function b1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cQ(e,t){t===void 0&&(t=e,e=Tc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function uQ(e){return function(){return e}}function sp(e){return+e}var q5=[0,1];function fn(e){return e}function ay(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uQ(isNaN(t)?NaN:.5)}function dQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function fQ(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ay(a,n),i=r(o,i)):(n=ay(n,a),i=r(i,o)),function(s){return i(n(s))}}function hQ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ay(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=Jd(e,s,1,n)-1;return i[l](a[l](s))}}function ef(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cm(){var e=q5,t=q5,r=Tc,n,a,i,o=fn,s,l,u;function d(){var p=Math.min(e.length,t.length);return o!==fn&&(o=dQ(e[0],e[p-1])),s=p>2?hQ:fQ,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(n),t,r)))(n(o(p)))}return f.invert=function(p){return o(a((u||(u=s(t,e.map(n),op)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,sp),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=b1,d()},f.clamp=function(p){return arguments.length?(o=p?!0:fn,d()):o!==fn},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function x1(){return Cm()(fn,fn)}function pQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Gl(e){return e=lp(Math.abs(e)),e?e[1]:NaN}function mQ(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function gQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yd(e){if(!(t=vQ.exec(e)))throw new Error("invalid format: "+e);var t;return new w1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yd.prototype=w1.prototype;function w1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}w1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yQ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var QO;function bQ(e,t){var r=lp(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(QO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+lp(e,Math.max(0,t+i-1))[0]}function U5(e,t){var r=lp(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const W5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>U5(e*100,t),r:U5,s:bQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function H5(e){return e}var G5=Array.prototype.map,V5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xQ(e){var t=e.grouping===void 0||e.thousands===void 0?H5:mQ(G5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?H5:gQ(G5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=yd(f);var p=f.fill,h=f.align,v=f.sign,g=f.symbol,b=f.zero,x=f.width,w=f.comma,j=f.precision,_=f.trim,S=f.type;S==="n"?(w=!0,S="g"):W5[S]||(j===void 0&&(j=12),_=!0,S="g"),(b||p==="0"&&h==="=")&&(b=!0,p="0",h="=");var P=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=g==="$"?n:/[%p]/.test(S)?o:"",E=W5[S],k=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function M(T){var C=P,I=A,$,G,H;if(S==="c")I=E(T)+I,T="";else{T=+T;var Z=T<0||1/T<0;if(T=isNaN(T)?l:E(Math.abs(T),j),_&&(T=yQ(T)),Z&&+T==0&&v!=="+"&&(Z=!1),C=(Z?v==="("?v:s:v==="-"||v==="("?"":v)+C,I=(S==="s"?V5[8+QO/3]:"")+I+(Z&&v==="("?")":""),k){for($=-1,G=T.length;++$<G;)if(H=T.charCodeAt($),48>H||H>57){I=(H===46?a+T.slice($+1):T.slice($))+I,T=T.slice(0,$);break}}}w&&!b&&(T=t(T,1/0));var J=C.length+T.length+I.length,Y=J<x?new Array(x-J+1).join(p):"";switch(w&&b&&(T=t(Y+T,Y.length?x-I.length:1/0),Y=""),h){case"<":T=C+T+I+Y;break;case"=":T=C+Y+T+I;break;case"^":T=Y.slice(0,J=Y.length>>1)+C+T+I+Y.slice(J);break;default:T=Y+C+T+I;break}return i(T)}return M.toString=function(){return f+""},M}function d(f,p){var h=u((f=yd(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Gl(p)/3)))*3,g=Math.pow(10,-v),b=V5[8+v/3];return function(x){return h(g*x)+b}}return{format:u,formatPrefix:d}}var ch,S1,e3;wQ({thousands:",",grouping:[3],currency:["$",""]});function wQ(e){return ch=xQ(e),S1=ch.format,e3=ch.formatPrefix,ch}function SQ(e){return Math.max(0,-Gl(Math.abs(e)))}function jQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gl(t)/3)))*3-Gl(Math.abs(e)))}function NQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gl(t)-Gl(e))+1}function t3(e,t,r,n){var a=ey(e,t,r),i;switch(n=yd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=jQ(a,o))&&(n.precision=i),e3(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=NQ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=SQ(a))&&(n.precision=i-(n.type==="%")*2);break}}return S1(n)}function wo(e){var t=e.domain;return e.ticks=function(r){var n=t();return J0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return t3(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=Q0(o,s,r),u===l)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function cp(){var e=x1();return e.copy=function(){return ef(e,cp())},ca.apply(e,arguments),wo(e)}function r3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return r3(e).unknown(t)},e=arguments.length?Array.from(e,sp):[0,1],wo(r)}function n3(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Y5(e){return Math.log(e)}function K5(e){return Math.exp(e)}function _Q(e){return-Math.log(-e)}function AQ(e){return-Math.exp(-e)}function OQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PQ(e){return e===10?OQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function EQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function X5(e){return(t,r)=>-e(-t,r)}function j1(e){const t=e(Y5,K5),r=t.domain;let n=10,a,i;function o(){return a=EQ(n),i=PQ(n),r()[0]<0?(a=X5(a),i=X5(i),e(_Q,AQ)):e(Y5,K5),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),v,g;const b=s==null?10:+s;let x=[];if(!(n%1)&&h-p<b){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(v=1;v<n;++v)if(g=p<0?v/i(-p):v*i(p),!(g<u)){if(g>d)break;x.push(g)}}else for(;p<=h;++p)for(v=n-1;v>=1;--v)if(g=p>0?v/i(-p):v*i(p),!(g<u)){if(g>d)break;x.push(g)}x.length*2<b&&(x=J0(u,d,b))}else x=J0(p,h,Math.min(h-p,b)).map(i);return f?x.reverse():x},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=yd(l)).precision==null&&(l.trim=!0),l=S1(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(n3(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function a3(){const e=j1(Cm()).domain([1,10]);return e.copy=()=>ef(e,a3()).base(e.base()),ca.apply(e,arguments),e}function Z5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function J5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function N1(e){var t=1,r=e(Z5(t),J5(t));return r.constant=function(n){return arguments.length?e(Z5(t=+n),J5(t)):t},wo(r)}function i3(){var e=N1(Cm());return e.copy=function(){return ef(e,i3()).constant(e.constant())},ca.apply(e,arguments)}function Q5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CQ(e){return e<0?-e*e:e*e}function _1(e){var t=e(fn,fn),r=1;function n(){return r===1?e(fn,fn):r===.5?e(TQ,CQ):e(Q5(r),Q5(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},wo(t)}function A1(){var e=_1(Cm());return e.copy=function(){return ef(e,A1()).exponent(e.exponent())},ca.apply(e,arguments),e}function kQ(){return A1.apply(null,arguments).exponent(.5)}function eS(e){return Math.sign(e)*e*e}function DQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function o3(){var e=x1(),t=[0,1],r=!1,n;function a(i){var o=DQ(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(eS(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,sp)).map(eS)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return o3(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ca.apply(a,arguments),wo(a)}function s3(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=RJ(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Jd(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(fo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return s3().domain(e).range(t).unknown(n)},ca.apply(i,arguments)}function l3(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Jd(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return l3().domain([e,t]).range(a).unknown(i)},ca.apply(wo(o),arguments)}function c3(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Jd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return c3().domain(e).range(t).unknown(r)},ca.apply(a,arguments)}const kv=new Date,Dv=new Date;function Er(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>Er(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(kv.setTime(+i),Dv.setTime(+o),e(kv),e(Dv),Math.floor(r(kv,Dv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const up=Er(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);up.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Er(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):up);up.range;const Pi=1e3,ta=Pi*60,Ei=ta*60,Ii=Ei*24,O1=Ii*7,tS=Ii*30,Lv=Ii*365,es=Er(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pi)},(e,t)=>(t-e)/Pi,e=>e.getUTCSeconds());es.range;const P1=Er(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getMinutes());P1.range;const E1=Er(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getUTCMinutes());E1.range;const T1=Er(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi-e.getMinutes()*ta)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getHours());T1.range;const C1=Er(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCHours());C1.range;const tf=Er(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ta)/Ii,e=>e.getDate()-1);tf.range;const km=Er(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ii,e=>e.getUTCDate()-1);km.range;const u3=Er(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ii,e=>Math.floor(e/Ii));u3.range;function Ts(e){return Er(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ta)/O1)}const Dm=Ts(0),dp=Ts(1),LQ=Ts(2),MQ=Ts(3),Vl=Ts(4),IQ=Ts(5),$Q=Ts(6);Dm.range;dp.range;LQ.range;MQ.range;Vl.range;IQ.range;$Q.range;function Cs(e){return Er(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/O1)}const Lm=Cs(0),fp=Cs(1),RQ=Cs(2),FQ=Cs(3),Yl=Cs(4),BQ=Cs(5),zQ=Cs(6);Lm.range;fp.range;RQ.range;FQ.range;Yl.range;BQ.range;zQ.range;const k1=Er(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());k1.range;const D1=Er(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());D1.range;const $i=Er(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Er(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$i.range;const Ri=Er(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Er(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ri.range;function d3(e,t,r,n,a,i){const o=[[es,1,Pi],[es,5,5*Pi],[es,15,15*Pi],[es,30,30*Pi],[i,1,ta],[i,5,5*ta],[i,15,15*ta],[i,30,30*ta],[a,1,Ei],[a,3,3*Ei],[a,6,6*Ei],[a,12,12*Ei],[n,1,Ii],[n,2,2*Ii],[r,1,O1],[t,1,tS],[t,3,3*tS],[e,1,Lv]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:l(u,d,f),v=h?h.range(u,+d+1):[];return p?v.reverse():v}function l(u,d,f){const p=Math.abs(d-u)/f,h=m1(([,,b])=>b).right(o,p);if(h===o.length)return e.every(ey(u/Lv,d/Lv,f));if(h===0)return up.every(Math.max(ey(u,d,f),1));const[v,g]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return v.every(g)}return[s,l]}const[qQ,UQ]=d3(Ri,D1,Lm,u3,C1,E1),[WQ,HQ]=d3($i,k1,Dm,tf,T1,P1);function Mv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Iv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GQ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Su(a),d=ju(a),f=Su(i),p=ju(i),h=Su(o),v=ju(o),g=Su(s),b=ju(s),x=Su(l),w=ju(l),j={a:Z,A:J,b:Y,B:Q,c:null,d:sS,e:sS,f:mee,g:_ee,G:Oee,H:fee,I:hee,j:pee,L:f3,m:gee,M:vee,p:oe,q:L,Q:uS,s:dS,S:yee,u:bee,U:xee,V:wee,w:See,W:jee,x:null,X:null,y:Nee,Y:Aee,Z:Pee,"%":cS},_={a:q,A:ee,b:ie,B:K,c:null,d:lS,e:lS,f:kee,g:qee,G:Wee,H:Eee,I:Tee,j:Cee,L:p3,m:Dee,M:Lee,p:se,q:de,Q:uS,s:dS,S:Mee,u:Iee,U:$ee,V:Ree,w:Fee,W:Bee,x:null,X:null,y:zee,Y:Uee,Z:Hee,"%":cS},S={a:M,A:T,b:C,B:I,c:$,d:iS,e:iS,f:lee,g:aS,G:nS,H:oS,I:oS,j:aee,L:see,m:nee,M:iee,p:k,q:ree,Q:uee,s:dee,S:oee,u:ZQ,U:JQ,V:QQ,w:XQ,W:eee,x:G,X:H,y:aS,Y:nS,Z:tee,"%":cee};j.x=P(r,j),j.X=P(n,j),j.c=P(t,j),_.x=P(r,_),_.X=P(n,_),_.c=P(t,_);function P(ae,xe){return function(ye){var pe=[],Pe=-1,De=0,be=ae.length,re,Ue,Fe;for(ye instanceof Date||(ye=new Date(+ye));++Pe<be;)ae.charCodeAt(Pe)===37&&(pe.push(ae.slice(De,Pe)),(Ue=rS[re=ae.charAt(++Pe)])!=null?re=ae.charAt(++Pe):Ue=re==="e"?" ":"0",(Fe=xe[re])&&(re=Fe(ye,Ue)),pe.push(re),De=Pe+1);return pe.push(ae.slice(De,Pe)),pe.join("")}}function A(ae,xe){return function(ye){var pe=wu(1900,void 0,1),Pe=E(pe,ae,ye+="",0),De,be;if(Pe!=ye.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(xe&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(De=Iv(wu(pe.y,0,1)),be=De.getUTCDay(),De=be>4||be===0?fp.ceil(De):fp(De),De=km.offset(De,(pe.V-1)*7),pe.y=De.getUTCFullYear(),pe.m=De.getUTCMonth(),pe.d=De.getUTCDate()+(pe.w+6)%7):(De=Mv(wu(pe.y,0,1)),be=De.getDay(),De=be>4||be===0?dp.ceil(De):dp(De),De=tf.offset(De,(pe.V-1)*7),pe.y=De.getFullYear(),pe.m=De.getMonth(),pe.d=De.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),be="Z"in pe?Iv(wu(pe.y,0,1)).getUTCDay():Mv(wu(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(be+5)%7:pe.w+pe.U*7-(be+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Iv(pe)):Mv(pe)}}function E(ae,xe,ye,pe){for(var Pe=0,De=xe.length,be=ye.length,re,Ue;Pe<De;){if(pe>=be)return-1;if(re=xe.charCodeAt(Pe++),re===37){if(re=xe.charAt(Pe++),Ue=S[re in rS?xe.charAt(Pe++):re],!Ue||(pe=Ue(ae,ye,pe))<0)return-1}else if(re!=ye.charCodeAt(pe++))return-1}return pe}function k(ae,xe,ye){var pe=u.exec(xe.slice(ye));return pe?(ae.p=d.get(pe[0].toLowerCase()),ye+pe[0].length):-1}function M(ae,xe,ye){var pe=h.exec(xe.slice(ye));return pe?(ae.w=v.get(pe[0].toLowerCase()),ye+pe[0].length):-1}function T(ae,xe,ye){var pe=f.exec(xe.slice(ye));return pe?(ae.w=p.get(pe[0].toLowerCase()),ye+pe[0].length):-1}function C(ae,xe,ye){var pe=x.exec(xe.slice(ye));return pe?(ae.m=w.get(pe[0].toLowerCase()),ye+pe[0].length):-1}function I(ae,xe,ye){var pe=g.exec(xe.slice(ye));return pe?(ae.m=b.get(pe[0].toLowerCase()),ye+pe[0].length):-1}function $(ae,xe,ye){return E(ae,t,xe,ye)}function G(ae,xe,ye){return E(ae,r,xe,ye)}function H(ae,xe,ye){return E(ae,n,xe,ye)}function Z(ae){return o[ae.getDay()]}function J(ae){return i[ae.getDay()]}function Y(ae){return l[ae.getMonth()]}function Q(ae){return s[ae.getMonth()]}function oe(ae){return a[+(ae.getHours()>=12)]}function L(ae){return 1+~~(ae.getMonth()/3)}function q(ae){return o[ae.getUTCDay()]}function ee(ae){return i[ae.getUTCDay()]}function ie(ae){return l[ae.getUTCMonth()]}function K(ae){return s[ae.getUTCMonth()]}function se(ae){return a[+(ae.getUTCHours()>=12)]}function de(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var xe=P(ae+="",j);return xe.toString=function(){return ae},xe},parse:function(ae){var xe=A(ae+="",!1);return xe.toString=function(){return ae},xe},utcFormat:function(ae){var xe=P(ae+="",_);return xe.toString=function(){return ae},xe},utcParse:function(ae){var xe=A(ae+="",!0);return xe.toString=function(){return ae},xe}}}var rS={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,VQ=/^%/,YQ=/[\\^$*+?|[\]().{}]/g;function At(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function KQ(e){return e.replace(YQ,"\\$&")}function Su(e){return new RegExp("^(?:"+e.map(KQ).join("|")+")","i")}function ju(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function XQ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ZQ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function JQ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function QQ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eee(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function nS(e,t,r){var n=Ir.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function aS(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tee(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ree(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nee(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function iS(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aee(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oS(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iee(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function oee(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function see(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lee(e,t,r){var n=Ir.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cee(e,t,r){var n=VQ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uee(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dee(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sS(e,t){return At(e.getDate(),t,2)}function fee(e,t){return At(e.getHours(),t,2)}function hee(e,t){return At(e.getHours()%12||12,t,2)}function pee(e,t){return At(1+tf.count($i(e),e),t,3)}function f3(e,t){return At(e.getMilliseconds(),t,3)}function mee(e,t){return f3(e,t)+"000"}function gee(e,t){return At(e.getMonth()+1,t,2)}function vee(e,t){return At(e.getMinutes(),t,2)}function yee(e,t){return At(e.getSeconds(),t,2)}function bee(e){var t=e.getDay();return t===0?7:t}function xee(e,t){return At(Dm.count($i(e)-1,e),t,2)}function h3(e){var t=e.getDay();return t>=4||t===0?Vl(e):Vl.ceil(e)}function wee(e,t){return e=h3(e),At(Vl.count($i(e),e)+($i(e).getDay()===4),t,2)}function See(e){return e.getDay()}function jee(e,t){return At(dp.count($i(e)-1,e),t,2)}function Nee(e,t){return At(e.getFullYear()%100,t,2)}function _ee(e,t){return e=h3(e),At(e.getFullYear()%100,t,2)}function Aee(e,t){return At(e.getFullYear()%1e4,t,4)}function Oee(e,t){var r=e.getDay();return e=r>=4||r===0?Vl(e):Vl.ceil(e),At(e.getFullYear()%1e4,t,4)}function Pee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function lS(e,t){return At(e.getUTCDate(),t,2)}function Eee(e,t){return At(e.getUTCHours(),t,2)}function Tee(e,t){return At(e.getUTCHours()%12||12,t,2)}function Cee(e,t){return At(1+km.count(Ri(e),e),t,3)}function p3(e,t){return At(e.getUTCMilliseconds(),t,3)}function kee(e,t){return p3(e,t)+"000"}function Dee(e,t){return At(e.getUTCMonth()+1,t,2)}function Lee(e,t){return At(e.getUTCMinutes(),t,2)}function Mee(e,t){return At(e.getUTCSeconds(),t,2)}function Iee(e){var t=e.getUTCDay();return t===0?7:t}function $ee(e,t){return At(Lm.count(Ri(e)-1,e),t,2)}function m3(e){var t=e.getUTCDay();return t>=4||t===0?Yl(e):Yl.ceil(e)}function Ree(e,t){return e=m3(e),At(Yl.count(Ri(e),e)+(Ri(e).getUTCDay()===4),t,2)}function Fee(e){return e.getUTCDay()}function Bee(e,t){return At(fp.count(Ri(e)-1,e),t,2)}function zee(e,t){return At(e.getUTCFullYear()%100,t,2)}function qee(e,t){return e=m3(e),At(e.getUTCFullYear()%100,t,2)}function Uee(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function Wee(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Yl(e):Yl.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function Hee(){return"+0000"}function cS(){return"%"}function uS(e){return+e}function dS(e){return Math.floor(+e/1e3)}var pl,g3,v3;Gee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gee(e){return pl=GQ(e),g3=pl.format,pl.parse,v3=pl.utcFormat,pl.utcParse,pl}function Vee(e){return new Date(e)}function Yee(e){return e instanceof Date?+e:+new Date(+e)}function L1(e,t,r,n,a,i,o,s,l,u){var d=x1(),f=d.invert,p=d.domain,h=u(".%L"),v=u(":%S"),g=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),j=u("%B"),_=u("%Y");function S(P){return(l(P)<P?h:s(P)<P?v:o(P)<P?g:i(P)<P?b:n(P)<P?a(P)<P?x:w:r(P)<P?j:_)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?p(Array.from(P,Yee)):p().map(Vee)},d.ticks=function(P){var A=p();return e(A[0],A[A.length-1],P??10)},d.tickFormat=function(P,A){return A==null?S:u(A)},d.nice=function(P){var A=p();return(!P||typeof P.range!="function")&&(P=t(A[0],A[A.length-1],P??10)),P?p(n3(A,P)):d},d.copy=function(){return ef(d,L1(e,t,r,n,a,i,o,s,l,u))},d}function Kee(){return ca.apply(L1(WQ,HQ,$i,k1,Dm,tf,T1,P1,es,g3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xee(){return ca.apply(L1(qQ,UQ,Ri,D1,Lm,km,C1,E1,es,v3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mm(){var e=0,t=1,r,n,a,i,o=fn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var h,v;return arguments.length?([h,v]=p,o=f(h,v),u):[o(0),o(1)]}}return u.range=d(Tc),u.rangeRound=d(b1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function So(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function y3(){var e=wo(Mm()(fn));return e.copy=function(){return So(e,y3())},Bi.apply(e,arguments)}function b3(){var e=j1(Mm()).domain([1,10]);return e.copy=function(){return So(e,b3()).base(e.base())},Bi.apply(e,arguments)}function x3(){var e=N1(Mm());return e.copy=function(){return So(e,x3()).constant(e.constant())},Bi.apply(e,arguments)}function M1(){var e=_1(Mm());return e.copy=function(){return So(e,M1()).exponent(e.exponent())},Bi.apply(e,arguments)}function Zee(){return M1.apply(null,arguments).exponent(.5)}function w3(){var e=[],t=fn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Jd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>$J(e,i/n))},r.copy=function(){return w3(t).domain(e)},Bi.apply(r,arguments)}function Im(){var e=0,t=.5,r=1,n=1,a,i,o,s,l,u=fn,d,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-i)*(n*g<n*i?s:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function v(g){return function(b){var x,w,j;return arguments.length?([x,w,j]=b,u=cQ(g,[x,w,j]),h):[u(0),u(.5),u(1)]}}return h.range=v(Tc),h.rangeRound=v(b1),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return d=g,a=g(e),i=g(t),o=g(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function S3(){var e=wo(Im()(fn));return e.copy=function(){return So(e,S3())},Bi.apply(e,arguments)}function j3(){var e=j1(Im()).domain([.1,1,10]);return e.copy=function(){return So(e,j3()).base(e.base())},Bi.apply(e,arguments)}function N3(){var e=N1(Im());return e.copy=function(){return So(e,N3()).constant(e.constant())},Bi.apply(e,arguments)}function I1(){var e=_1(Im());return e.copy=function(){return So(e,I1()).exponent(e.exponent())},Bi.apply(e,arguments)}function Jee(){return I1.apply(null,arguments).exponent(.5)}const fS=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pd,scaleDiverging:S3,scaleDivergingLog:j3,scaleDivergingPow:I1,scaleDivergingSqrt:Jee,scaleDivergingSymlog:N3,scaleIdentity:r3,scaleImplicit:ty,scaleLinear:cp,scaleLog:a3,scaleOrdinal:g1,scalePoint:Iu,scalePow:A1,scaleQuantile:s3,scaleQuantize:l3,scaleRadial:o3,scaleSequential:y3,scaleSequentialLog:b3,scaleSequentialPow:M1,scaleSequentialQuantile:w3,scaleSequentialSqrt:Zee,scaleSequentialSymlog:x3,scaleSqrt:kQ,scaleSymlog:i3,scaleThreshold:c3,scaleTime:Kee,scaleUtc:Xee,tickFormat:t3},Symbol.toStringTag,{value:"Module"}));var Qee=bc;function ete(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!Qee(o):r(o,s)))var s=o,l=i}return l}var $m=ete;function tte(e,t){return e>t}var _3=tte,rte=$m,nte=_3,ate=Ac;function ite(e){return e&&e.length?rte(e,ate,nte):void 0}var ote=ite;const co=xt(ote);function ste(e,t){return e<t}var A3=ste,lte=$m,cte=A3,ute=Ac;function dte(e){return e&&e.length?lte(e,ute,cte):void 0}var fte=dte;const Rm=xt(fte);var hte=nm,pte=$a,mte=vA,gte=rn;function vte(e,t){var r=gte(e)?hte:mte;return r(e,pte(t))}var yte=vte,bte=Gb,xte=yte;function wte(e,t){return bte(xte(e,t),1)}var Ste=wte;const jte=xt(Ste);var Cc=1e9,Nte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},R1,er=!0,ia="[DecimalError] ",cs=ia+"Invalid argument: ",$1=ia+"Exponent out of range: ",kc=Math.floor,Yo=Math.pow,_te=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,Dr=1e7,Kt=7,O3=9007199254740991,hp=kc(O3/Kt),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(e){return Di(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,r=t.constructor;return Bt(Di(t,new r(e),0,1),r.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return wr(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mn))throw Error(ia+"NaN");if(r.s<1)throw Error(ia+(r.s?"NaN":"-Infinity"));return r.eq(Mn)?new n(0):(er=!1,t=Di(bd(r,i),bd(e,i),i),er=!0,Bt(t,a))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T3(t,e):P3(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ia+"NaN");return r.s?(er=!1,t=Di(r,e,0,1).times(e),er=!0,r.minus(t)):Bt(new n(r),a)};He.naturalExponential=He.exp=function(){return E3(this)};He.naturalLogarithm=He.ln=function(){return bd(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P3(t,e):T3(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cs+e);if(t=wr(a)+1,n=a.d.length-1,r=n*Kt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};He.squareRoot=He.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ia+"NaN")}for(e=wr(s),er=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Qa(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=kc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(Di(s,i,o+2)).times(.5),Qa(i.d).slice(0,o)===(t=Qa(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Bt(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return er=!0,Bt(n,r)};He.times=He.mul=function(e){var t,r,n,a,i,o,s,l,u,d=this,f=d.constructor,p=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=p.length,u=h.length,l<u&&(i=p,p=h,h=i,o=l,l=u,u=o),i=[],o=l+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+h[n]*p[a-n-1]+t,i[a--]=s%Dr|0,t=s/Dr|0;i[a]=(i[a]+t)%Dr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,er?Bt(e,f.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(li(e,0,Cc),t===void 0?t=n.rounding:li(t,0,8),Bt(r,e+wr(r)+1,t))};He.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=js(n,!0):(li(e,0,Cc),t===void 0?t=a.rounding:li(t,0,8),n=Bt(new a(n),e+1,t),r=js(n,!0,e+1)),r};He.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?js(a):(li(e,0,Cc),t===void 0?t=i.rounding:li(t,0,8),n=Bt(new i(a),e+wr(a)+1,t),r=js(n.abs(),!1,e+wr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return Bt(new t(e),wr(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Mn);if(s=new l(s),!s.s){if(e.s<1)throw Error(ia+"Infinity");return s}if(s.eq(Mn))return s;if(n=l.precision,e.eq(Mn))return Bt(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=O3){for(a=new l(Mn),t=Math.ceil(n/Kt+4),er=!1;r%2&&(a=a.times(s),pS(a.d,t)),r=kc(r/2),r!==0;)s=s.times(s),pS(s.d,t);return er=!0,e.s<0?new l(Mn).div(a):Bt(a,n)}}else if(i<0)throw Error(ia+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,er=!1,a=e.times(bd(s,n+u)),er=!0,a=E3(a),a.s=i,a};He.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=wr(a),n=js(a,r<=i.toExpNeg||r>=i.toExpPos)):(li(e,1,Cc),t===void 0?t=i.rounding:li(t,0,8),a=Bt(new i(a),e,t),r=wr(a),n=js(a,e<=r||r<=i.toExpNeg,e)),n};He.toSignificantDigits=He.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(li(e,1,Cc),t===void 0?t=n.rounding:li(t,0,8)),Bt(new n(r),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wr(e),r=e.constructor;return js(e,t<=r.toExpNeg||t>=r.toExpPos)};function P3(e,t){var r,n,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),er?Bt(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=u.length):(n=u,a=o,s=l.length),o=Math.ceil(f/Kt),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Dr|0,l[i]%=Dr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,er?Bt(t,f):t}function li(e,t,r){if(e!==~~e||e<t||e>r)throw Error(cs+e)}function Qa(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Kt-n.length,r&&(i+=oo(r)),i+=n;o=e[t],n=o+"",r=Kt-n.length,r&&(i+=oo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Di=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%Dr|0,o=i/Dr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Dr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,u,d,f,p,h,v,g,b,x,w,j,_,S,P,A,E,k=n.constructor,M=n.s==a.s?1:-1,T=n.d,C=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(ia+"Division by zero");for(l=n.e-a.e,A=C.length,S=T.length,h=new k(M),v=h.d=[],u=0;C[u]==(T[u]||0);)++u;if(C[u]>(T[u]||0)&&--l,i==null?w=i=k.precision:o?w=i+(wr(n)-wr(a))+1:w=i,w<0)return new k(0);if(w=w/Kt+2|0,u=0,A==1)for(d=0,C=C[0],w++;(u<S||d)&&w--;u++)j=d*Dr+(T[u]||0),v[u]=j/C|0,d=j%C|0;else{for(d=Dr/(C[0]+1)|0,d>1&&(C=e(C,d),T=e(T,d),A=C.length,S=T.length),_=A,g=T.slice(0,A),b=g.length;b<A;)g[b++]=0;E=C.slice(),E.unshift(0),P=C[0],C[1]>=Dr/2&&++P;do d=0,s=t(C,g,A,b),s<0?(x=g[0],A!=b&&(x=x*Dr+(g[1]||0)),d=x/P|0,d>1?(d>=Dr&&(d=Dr-1),f=e(C,d),p=f.length,b=g.length,s=t(f,g,p,b),s==1&&(d--,r(f,A<p?E:C,p))):(d==0&&(s=d=1),f=C.slice()),p=f.length,p<b&&f.unshift(0),r(g,f,b),s==-1&&(b=g.length,s=t(C,g,A,b),s<1&&(d++,r(g,A<b?E:C,b))),b=g.length):s===0&&(d++,g=[0]),v[u++]=d,s&&g[0]?g[b++]=T[_]||0:(g=[T[_]],b=1);while((_++<S||g[0]!==void 0)&&w--)}return v[0]||v.shift(),h.e=l,Bt(h,o?i+wr(h)+1:i)}}();function E3(e,t){var r,n,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(wr(e)>16)throw Error($1+wr(e));if(!e.s)return new d(Mn);for(er=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Yo(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(Mn),d.precision=s;;){if(a=Bt(a.times(e),s),r=r.times(++l),o=i.plus(Di(a,r,s)),Qa(o.d).slice(0,s)===Qa(i.d).slice(0,s)){for(;u--;)i=Bt(i.times(i),s);return d.precision=f,t==null?(er=!0,Bt(i,f)):i}i=o}}function wr(e){for(var t=e.e*Kt,r=e.d[0];r>=10;r/=10)t++;return t}function $v(e,t,r){if(t>e.LN10.sd())throw er=!0,r&&(e.precision=r),Error(ia+"LN10 precision limit exceeded");return Bt(new e(e.LN10),t)}function oo(e){for(var t="";e--;)t+="0";return t}function bd(e,t){var r,n,a,i,o,s,l,u,d,f=1,p=10,h=e,v=h.d,g=h.constructor,b=g.precision;if(h.s<1)throw Error(ia+(h.s?"NaN":"-Infinity"));if(h.eq(Mn))return new g(0);if(t==null?(er=!1,u=b):u=t,h.eq(10))return t==null&&(er=!0),$v(g,u);if(u+=p,g.precision=u,r=Qa(v),n=r.charAt(0),i=wr(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Qa(h.d),n=r.charAt(0),f++;i=wr(h),n>1?(h=new g("0."+r),i++):h=new g(n+"."+r.slice(1))}else return l=$v(g,u+2,b).times(i+""),h=bd(new g(n+"."+r.slice(1)),u-p).plus(l),g.precision=b,t==null?(er=!0,Bt(h,b)):h;for(s=o=h=Di(h.minus(Mn),h.plus(Mn),u),d=Bt(h.times(h),u),a=3;;){if(o=Bt(o.times(d),u),l=s.plus(Di(o,new g(a),u)),Qa(l.d).slice(0,u)===Qa(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus($v(g,u+2,b).times(i+""))),s=Di(s,new g(f),u),g.precision=b,t==null?(er=!0,Bt(s,b)):s;s=l,a+=2}}function hS(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=kc(r/Kt),e.d=[],n=(r+1)%Kt,r<0&&(n+=Kt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Kt;n<a;)e.d.push(+t.slice(n,n+=Kt));t=t.slice(n),n=Kt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),er&&(e.e>hp||e.e<-hp))throw Error($1+r)}else e.s=0,e.e=0,e.d=[0];return e}function Bt(e,t,r){var n,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Kt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Kt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Kt,a=n-Kt+o}if(r!==void 0&&(i=Yo(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?u/Yo(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=wr(e),f.length=1,t=t-i-1,f[0]=Yo(10,(Kt-t%Kt)%Kt),e.e=kc(-t/Kt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Yo(10,Kt-n),f[d]=a>0?(u/Yo(10,o-a)%Yo(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Dr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Dr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(er&&(e.e>hp||e.e<-hp))throw Error($1+wr(e));return e}function T3(e,t){var r,n,a,i,o,s,l,u,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),er?Bt(t,h):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),a=Math.max(Math.ceil(h/Kt),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Dr-1;--l[i],l[a]+=Dr}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,er?Bt(t,h):t):new p(0)}function js(e,t,r){var n,a=wr(e),i=Qa(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+oo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+oo(-a-1)+i,r&&(n=r-o)>0&&(i+=oo(n))):a>=o?(i+=oo(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+oo(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=oo(n))),e.s<0?"-"+i:i}function pS(e,t){if(e.length>t)return e.length=t,!0}function C3(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(cs+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return hS(o,i.toString())}else if(typeof i!="string")throw Error(cs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,_te.test(i))hS(o,i);else throw Error(cs+i)}if(a.prototype=He,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=C3,a.config=a.set=Ate,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Ate(e){if(!e||typeof e!="object")throw Error(ia+"Object expected");var t,r,n,a=["precision",1,Cc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(kc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(cs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(cs+r+": "+n);return this}var R1=C3(Nte);Mn=new R1(1);const Mt=R1;function Ote(e){return Cte(e)||Tte(e)||Ete(e)||Pte()}function Pte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ete(e,t){if(e){if(typeof e=="string")return iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iy(e,t)}}function Tte(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Cte(e){if(Array.isArray(e))return iy(e)}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kte=function(t){return t},k3={},D3=function(t){return t===k3},mS=function(t){return function r(){return arguments.length===0||arguments.length===1&&D3(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Dte=function e(t,r){return t===1?r:mS(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==k3}).length;return o>=t?r.apply(void 0,a):e(t-o,mS(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(function(f){return D3(f)?l.shift():f});return r.apply(void 0,Ote(d).concat(l))}))})},Fm=function(t){return Dte(t.length,t)},oy=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Lte=Fm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Mte=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return kte;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},sy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},L3=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function Ite(e){var t;return e===0?t=1:t=Math.floor(new Mt(e).abs().log(10).toNumber())+1,t}function $te(e,t,r){for(var n=new Mt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Rte=Fm(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Fte=Fm(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Bte=Fm(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Bm={rangeStep:$te,getDigitCount:Ite,interpolateNumber:Rte,uninterpolateNumber:Fte,uninterpolateTruncation:Bte};function ly(e){return Ute(e)||qte(e)||M3(e)||zte()}function zte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ute(e){if(Array.isArray(e))return cy(e)}function xd(e,t){return Gte(e)||Hte(e,t)||M3(e,t)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M3(e,t){if(e){if(typeof e=="string")return cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cy(e,t)}}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hte(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Gte(e){if(Array.isArray(e))return e}function I3(e){var t=xd(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function $3(e,t,r){if(e.lte(0))return new Mt(0);var n=Bm.getDigitCount(e.toNumber()),a=new Mt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Mt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return t?l:new Mt(Math.ceil(l))}function Vte(e,t,r){var n=1,a=new Mt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Mt(10).pow(Bm.getDigitCount(e)-1),a=new Mt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Mt(Math.floor(e)))}else e===0?a=new Mt(Math.floor((t-1)/2)):r||(a=new Mt(Math.floor(e)));var o=Math.floor((t-1)/2),s=Mte(Lte(function(l){return a.add(new Mt(l-o).mul(n)).toNumber()}),oy);return s(0,t)}function R3(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var i=$3(new Mt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Mt(0):(o=new Mt(e).add(t).div(2),o=o.sub(new Mt(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Mt(t).sub(o).div(i).toNumber()),u=s+l+1;return u>r?R3(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:i,tickMin:o.sub(new Mt(s).mul(i)),tickMax:o.add(new Mt(l).mul(i))})}function Yte(e){var t=xd(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=I3([r,n]),l=xd(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(ly(oy(0,a-1).map(function(){return 1/0}))):[].concat(ly(oy(0,a-1).map(function(){return-1/0})),[d]);return r>n?sy(f):f}if(u===d)return Vte(u,a,i);var p=R3(u,d,o,i),h=p.step,v=p.tickMin,g=p.tickMax,b=Bm.rangeStep(v,g.add(new Mt(.1).mul(h)),h);return r>n?sy(b):b}function Kte(e,t){var r=xd(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=I3([n,a]),s=xd(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=$3(new Mt(u).sub(l).div(d-1),i,0),p=[].concat(ly(Bm.rangeStep(new Mt(l),new Mt(u).sub(new Mt(.99).mul(f)),f)),[u]);return n>a?sy(p):p}var Xte=L3(Yte),Zte=L3(Kte),Jte="Invariant failed";function Ns(e,t){throw new Error(Jte)}var Qte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(this,arguments)}function ere(e,t){return are(e)||nre(e,t)||rre(e,t)||tre()}function tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rre(e,t){if(e){if(typeof e=="string")return gS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gS(e,t)}}function gS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function are(e){if(Array.isArray(e))return e}function ire(e,t){if(e==null)return{};var r=ore(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ore(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z3(n.key),n)}}function cre(e,t,r){return t&&lre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ure(e,t,r){return t=mp(t),dre(e,F3()?Reflect.construct(t,r||[],mp(e).constructor):t.apply(e,r))}function dre(e,t){if(t&&(Kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fre(e)}function fre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F3=function(){return!!e})()}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(e)}function hre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uy(e,t)}function B3(e,t,r){return t=z3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z3(e){var t=pre(e,"string");return Kl(t)=="symbol"?t:t+""}function pre(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zm=function(e){function t(){return sre(this,t),ure(this,t,arguments)}return hre(t,e),cre(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=ire(n,Qte),h=Je(p,!1);this.props.direction==="x"&&d.type!=="number"&&Ns();var v=l.map(function(g){var b=u(g,s),x=b.x,w=b.y,j=b.value,_=b.errorVal;if(!_)return null;var S=[],P,A;if(Array.isArray(_)){var E=ere(_,2);P=E[0],A=E[1]}else P=A=_;if(i==="vertical"){var k=d.scale,M=w+a,T=M+o,C=M-o,I=k(j-P),$=k(j+A);S.push({x1:$,y1:T,x2:$,y2:C}),S.push({x1:I,y1:M,x2:$,y2:M}),S.push({x1:I,y1:T,x2:I,y2:C})}else if(i==="horizontal"){var G=f.scale,H=x+a,Z=H-o,J=H+o,Y=G(j-P),Q=G(j+A);S.push({x1:Z,y1:Q,x2:J,y2:Q}),S.push({x1:H,y1:Y,x2:H,y2:Q}),S.push({x1:Z,y1:Y,x2:J,y2:Y})}return B.createElement(jt,pp({className:"recharts-errorBar",key:"bar-".concat(S.map(function(oe){return"".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))},h),S.map(function(oe){return B.createElement("line",pp({},oe,{key:"line-".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))}))});return B.createElement(jt,{className:"recharts-errorBars"},v)}}])}(B.Component);B3(zm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});B3(zm,"displayName","ErrorBar");function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mre(e,t,r){return t=gre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gre(e){var t=vre(e,"string");return wd(t)=="symbol"?t:t+""}function vre(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q3=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Dn(r,ss);if(!o)return null;var s=ss.defaultProps,l=s!==void 0?Bo(Bo({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return d.concat(v.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?Bo(Bo({},p),f.props):{},v=h.dataKey,g=h.name,b=h.legendType,x=h.hide;return{inactive:x,dataKey:v,type:l.iconType||b||"square",color:F1(f),value:g||v,payload:h}}),Bo(Bo(Bo({},l),ss.getWithHeight(o,a)),{},{payload:u,item:o})};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function yS(e){return wre(e)||xre(e)||bre(e)||yre()}function yre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bre(e,t){if(e){if(typeof e=="string")return dy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dy(e,t)}}function xre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wre(e){if(Array.isArray(e))return dy(e)}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){kl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kl(e,t,r){return t=Sre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sre(e){var t=jre(e,"string");return Sd(t)=="symbol"?t:t+""}function jre(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _r(e,t,r){return mt(e)||mt(t)?r:Ar(t)?$n(e,t,r):ot(t)?t(e):r}function $u(e,t,r,n){var a=jte(e,function(s){return _r(s,t)});if(r==="number"){var i=a.filter(function(s){return Le(s)||parseFloat(s)});return i.length?[Rm(i),co(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!mt(s)}):a;return o.map(function(s){return Ar(s)||s instanceof Date?s:""})}var Nre=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,p=u>=s-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(un(f-d)!==un(p-f)){var v=[];if(un(p-f)===un(l[1]-l[0])){h=p;var g=f+l[1]-l[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{h=d;var b=p+l[1]-l[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>x[0]&&t<=x[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var w=Math.min(d,p),j=Math.max(d,p);if(t>(w+f)/2&&t<=(j+f)/2){o=a[u].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},F1=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},_re=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,u=s.length;l<u;l++)for(var d=i[s[l]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var v=d[f[p]],g=v.items,b=v.cateAxisId,x=g.filter(function(A){return ki(A.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,j=w!==void 0?lr(lr({},w),x[0].props):x[0].props,_=j.barSize,S=j[b];o[S]||(o[S]=[]);var P=mt(_)?r:_;o[S].push({item:x[0],stackList:x.slice(1),barSize:mt(P)?void 0:dn(P,n,0)})}}return o},Are=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=dn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=a/l,v=o.reduce(function(_,S){return _+S.barSize||0},0);v+=(l-1)*u,v>=a&&(v-=(l-1)*u,u=0),v>=a&&h>0&&(p=!0,h*=.9,v=l*h);var g=(a-v)/2>>0,b={offset:g-u,size:0};d=o.reduce(function(_,S){var P={item:S.item,position:{offset:b.offset+b.size+u,size:p?h:S.barSize}},A=[].concat(yS(_),[P]);return b=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){A.push({item:E,position:b})}),A},f)}else{var x=dn(n,a,0,!0);a-2*x-(l-1)*u<=0&&(u=0);var w=(a-2*x-(l-1)*u)/l;w>1&&(w>>=0);var j=s===+s?Math.min(w,s):w;d=o.reduce(function(_,S,P){var A=[].concat(yS(_),[{item:S.item,position:{offset:x+(w+u)*P+(w-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},f)}return d},Ore=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=q3({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&h!=="center"&&Le(t[h]))return lr(lr({},t),{},kl({},h,t[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&v!=="middle"&&Le(t[v]))return lr(lr({},t),{},kl({},v,t[v]+(p||0)))}return t},Pre=function(t,r,n){return mt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},U3=function(t,r,n,a,i){var o=r.props.children,s=ra(o,zm).filter(function(u){return Pre(a,i,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=_r(d,n);if(mt(f))return u;var p=Array.isArray(f)?[Rm(f),co(f)]:[f,f],h=l.reduce(function(v,g){var b=_r(d,g,0),x=p[0]-Math.abs(Array.isArray(b)?b[0]:b),w=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(x,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},Ere=function(t,r,n,a,i){var o=r.map(function(s){return U3(t,s,n,i,a)}).filter(function(s){return!mt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},W3=function(t,r,n,a,i){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&U3(t,l,u,a)||$u(t,u,n,i)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},H3=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},G3=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||s.push(r),o||s.push(n),s},Ti=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?un(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Pc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},Rv=new WeakMap,uh=function(t,r){if(typeof r!="function")return t;Rv.has(t)||Rv.set(t,new WeakMap);var n=Rv.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},V3=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:pd(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:cp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Iu(),realScaleType:"point"}:i==="category"?{scale:pd(),realScaleType:"band"}:{scale:cp(),realScaleType:"linear"};if(xs(a)){var l="scale".concat(_m(a));return{scale:(fS[l]||Iu)(),realScaleType:fS[l]?l:"point"}}return ot(a)?{scale:a}:{scale:Iu(),realScaleType:"point"}},xS=1e-4,Y3=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-xS,o=Math.max(a[0],a[1])+xS,s=t(r[0]),l=t(r[n-1]);(s<i||s>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},Tre=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Cre=function(t,r){if(!r||r.length!==2||!Le(r[0])||!Le(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Le(t[0])||t[0]<n)&&(i[0]=n),(!Le(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},kre=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=Pc(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},Dre=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=Pc(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Lre={sign:kre,expand:CK,none:zl,silhouette:kK,wiggle:DK,positive:Dre},Mre=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=Lre[n],o=TK().keys(a).value(function(s,l){return+_r(s,l,0)}).order(z0).offset(i);return o(t)},Ire=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?lr(lr({},p.type.defaultProps),p.props):p.props,g=v.stackId,b=v.hide;if(b)return f;var x=v[n],w=f[x]||{hasStack:!1,stackGroups:{}};if(Ar(g)){var j=w.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(p),w.hasStack=!0,w.stackGroups[g]=j}else w.stackGroups[Ec("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return lr(lr({},f),{},kl({},x,w))},l),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,b){var x=h.stackGroups[b];return lr(lr({},g),{},kl({},b,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:Mre(t,x.items,i)}))},v)}return lr(lr({},f),{},kl({},p,h))},d)},K3=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Xte(u,i,s);return t.domain([Rm(d),co(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),p=Zte(f,i,s);return{niceTicks:p}}return null};function wS(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!mt(a[t.dataKey])){var s=Hh(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=_r(a,mt(o)?t.dataKey:o);return mt(l)?null:t.scale(l)}var SS=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=_r(o,r.dataKey,r.domain[s]);return mt(l)?null:r.scale(l)-i/2+a},$re=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Rre=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ar(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},Fre=function(t){return t.reduce(function(r,n){return[Rm(n.concat([r[0]]).filter(Le)),co(n.concat([r[1]]).filter(Le))]},[1/0,-1/0])},X3=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(u,d){var f=Fre(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},jS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fy=function(t,r,n){if(ot(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Le(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(jS.test(t[0])){var i=+jS.exec(t[0])[1];a[0]=r[0]-i}else ot(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Le(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(NS.test(t[1])){var o=+NS.exec(t[1])[1];a[1]=r[1]+o}else ot(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},gp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=om(r,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},_S=function(t,r,n){return!t||!t.length||ys(t,$n(n,"type.defaultProps.domain"))?r:t},Z3=function(t,r){var n=t.type.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return lr(lr({},Je(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:F1(t),value:_r(r,a),type:l,payload:r,chartType:u,hide:d})};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){J3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J3(e,t,r){return t=Bre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bre(e){var t=zre(e,"string");return jd(t)=="symbol"?t:t+""}function zre(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qre(e,t){return Gre(e)||Hre(e,t)||Wre(e,t)||Ure()}function Ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wre(e,t){if(e){if(typeof e=="string")return OS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OS(e,t)}}function OS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Gre(e){if(Array.isArray(e))return e}var vp=Math.PI/180,Vre=function(t){return t*180/Math.PI},Gt=function(t,r,n,a){return{x:t+Math.cos(-vp*a)*n,y:r+Math.sin(-vp*a)*n}},Q3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Yre=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.startAngle,u=t.endAngle,d=dn(t.cx,o,o/2),f=dn(t.cy,s,s/2),p=Q3(o,s,n),h=dn(t.innerRadius,p,0),v=dn(t.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(b,x){var w=r[x],j=w.domain,_=w.reversed,S;if(mt(w.range))a==="angleAxis"?S=[l,u]:a==="radiusAxis"&&(S=[h,v]),_&&(S=[S[1],S[0]]);else{S=w.range;var P=S,A=qre(P,2);l=A[0],u=A[1]}var E=V3(w,i),k=E.realScaleType,M=E.scale;M.domain(j).range(S),Y3(M);var T=K3(M,Oi(Oi({},w),{},{realScaleType:k})),C=Oi(Oi(Oi({},w),T),{},{range:S,radius:v,realScaleType:k,scale:M,cx:d,cy:f,innerRadius:h,outerRadius:v,startAngle:l,endAngle:u});return Oi(Oi({},b),{},J3({},x,C))},{})},Kre=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Xre=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=Kre({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,u=Math.acos(l);return a>o&&(u=2*Math.PI-u),{radius:s,angle:Vre(u),angleInRadian:u}},Zre=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Jre=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},PS=function(t,r){var n=t.x,a=t.y,i=Xre({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=Zre(r),f=d.startAngle,p=d.endAngle,h=s,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?Oi(Oi({},r),{},{radius:o,angle:Jre(h,r)}):null},e4=function(t){return!z.isValidElement(t)&&!ot(t)&&typeof t!="boolean"?t.className:""};function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}var Qre=["offset"];function ene(e){return ane(e)||nne(e)||rne(e)||tne()}function tne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rne(e,t){if(e){if(typeof e=="string")return hy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hy(e,t)}}function nne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ane(e){if(Array.isArray(e))return hy(e)}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ine(e,t){if(e==null)return{};var r=one(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function one(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sne(e,t,r){return t=lne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=cne(e,"string");return Nd(t)=="symbol"?t:t+""}function cne(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}var une=function(t){var r=t.value,n=t.formatter,a=mt(t.children)?r:t.children;return ot(n)?n(a):a},dne=function(t,r){var n=un(r-t),a=Math.min(Math.abs(r-t),360);return n*a},fne=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,v=l.endAngle,g=l.clockWise,b=(f+p)/2,x=dne(h,v),w=x>=0?1:-1,j,_;a==="insideStart"?(j=h+w*o,_=g):a==="insideEnd"?(j=v-w*o,_=!g):a==="end"&&(j=v+w*o,_=g),_=x<=0?_:!_;var S=Gt(u,d,b,j),P=Gt(u,d,b,j+(_?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),E=mt(t.id)?Ec("recharts-radial-line-"):t.id;return B.createElement("text",_d({},n,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",s)}),B.createElement("defs",null,B.createElement("path",{id:E,d:A})),B.createElement("textPath",{xlinkHref:"#".concat(E)},r))},hne=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=Gt(o,s,u+n,p),v=h.x,g=h.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,x=Gt(o,s,b,p),w=x.x,j=x.y;return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},pne=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,b=g*a,x=g>0?"end":"start",w=g>0?"start":"end";if(i==="top"){var j={x:s+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:h};return Nr(Nr({},j),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:s+u/2,y:l+d+p,textAnchor:"middle",verticalAnchor:v};return Nr(Nr({},_),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var S={x:s-b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Nr(Nr({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var P={x:s+u+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return Nr(Nr({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return i==="insideLeft"?Nr({x:s+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},A):i==="insideRight"?Nr({x:s+u-b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):i==="insideTop"?Nr({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:v},A):i==="insideBottom"?Nr({x:s+u/2,y:l+d-p,textAnchor:"middle",verticalAnchor:h},A):i==="insideTopLeft"?Nr({x:s+b,y:l+p,textAnchor:w,verticalAnchor:v},A):i==="insideTopRight"?Nr({x:s+u-b,y:l+p,textAnchor:x,verticalAnchor:v},A):i==="insideBottomLeft"?Nr({x:s+b,y:l+d-p,textAnchor:w,verticalAnchor:h},A):i==="insideBottomRight"?Nr({x:s+u-b,y:l+d-p,textAnchor:x,verticalAnchor:h},A):gc(i)&&(Le(i.x)||Jo(i.x))&&(Le(i.y)||Jo(i.y))?Nr({x:s+dn(i.x,u),y:l+dn(i.y,d),textAnchor:"end",verticalAnchor:"end"},A):Nr({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},mne=function(t){return"cx"in t&&Le(t.cx)};function Mr(e){var t=e.offset,r=t===void 0?5:t,n=ine(e,Qre),a=Nr({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||mt(s)&&mt(l)&&!z.isValidElement(u)&&!ot(u))return null;if(z.isValidElement(u))return z.cloneElement(u,a);var h;if(ot(u)){if(h=z.createElement(u,a),z.isValidElement(h))return h}else h=une(a);var v=mne(i),g=Je(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return fne(a,h,g);var b=v?hne(a):pne(a);return B.createElement(Ss,_d({className:gt("recharts-label",f)},g,b,{breakAll:p}),h)}Mr.displayName="Label";var t4=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,p=t.y,h=t.top,v=t.left,g=t.width,b=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(Le(g)&&Le(b)){if(Le(f)&&Le(p))return{x:f,y:p,width:g,height:b};if(Le(h)&&Le(v))return{x:h,y:v,width:g,height:b}}return Le(f)&&Le(p)?{x:f,y:p,width:0,height:0}:Le(r)&&Le(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:x}:t.viewBox?t.viewBox:{}},gne=function(t,r){return t?t===!0?B.createElement(Mr,{key:"label-implicit",viewBox:r}):Ar(t)?B.createElement(Mr,{key:"label-implicit",viewBox:r,value:t}):z.isValidElement(t)?t.type===Mr?z.cloneElement(t,{key:"label-implicit",viewBox:r}):B.createElement(Mr,{key:"label-implicit",content:t,viewBox:r}):ot(t)?B.createElement(Mr,{key:"label-implicit",content:t,viewBox:r}):gc(t)?B.createElement(Mr,_d({viewBox:r},t,{key:"label-implicit"})):null:null},vne=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=t4(t),o=ra(a,Mr).map(function(l,u){return z.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=gne(t.label,r||i);return[s].concat(ene(o))};Mr.parseViewBox=t4;Mr.renderCallByParent=vne;function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}var yne=["valueAccessor"],bne=["data","dataKey","clockWise","id","textBreakAll"];function xne(e){return Nne(e)||jne(e)||Sne(e)||wne()}function wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function jne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nne(e){if(Array.isArray(e))return py(e)}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(this,arguments)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){_ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ne(e,t,r){return t=Ane(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ane(e){var t=One(e,"string");return Ad(t)=="symbol"?t:t+""}function One(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kS(e,t){if(e==null)return{};var r=Pne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ene=function(t){return Array.isArray(t.value)?IU(t.value):t.value};function Li(e){var t=e.valueAccessor,r=t===void 0?Ene:t,n=kS(e,yne),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=kS(n,bne);return!a||!a.length?null:B.createElement(jt,{className:"recharts-label-list"},a.map(function(d,f){var p=mt(i)?r(d,f):_r(d&&d.payload,i),h=mt(s)?{}:{id:"".concat(s,"-").concat(f)};return B.createElement(Mr,yp({},Je(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:Mr.parseViewBox(mt(o)?d:CS(CS({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Li.displayName="LabelList";function Tne(e,t){return e?e===!0?B.createElement(Li,{key:"labelList-implicit",data:t}):B.isValidElement(e)||ot(e)?B.createElement(Li,{key:"labelList-implicit",data:t,content:e}):gc(e)?B.createElement(Li,yp({data:t},e,{key:"labelList-implicit"})):null:null}function Cne(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ra(n,Li).map(function(o,s){return z.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=Tne(e.label,t);return[i].concat(xne(a))}Li.renderCallByParent=Cne;function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(this,arguments)}function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){kne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kne(e,t,r){return t=Dne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dne(e){var t=Lne(e,"string");return Od(t)=="symbol"?t:t+""}function Lne(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mne=function(t,r){var n=un(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},dh=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/vp,p=u?i:i+o*f,h=Gt(r,n,d,p),v=Gt(r,n,a,p),g=u?i-o*f:i,b=Gt(r,n,d*Math.cos(f*vp),g);return{center:h,circleTangency:v,lineTangency:b,theta:f}},r4=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=Mne(o,s),u=o+l,d=Gt(r,n,i,o),f=Gt(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Gt(r,n,a,o),v=Gt(r,n,a,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Ine=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=un(d-u),p=dh({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),h=p.circleTangency,v=p.lineTangency,g=p.theta,b=dh({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),x=b.circleTangency,w=b.lineTangency,j=b.theta,_=l?Math.abs(u-d):Math.abs(u-d)-g-j;if(_<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):r4({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var P=dh({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=P.circleTangency,E=P.lineTangency,k=P.theta,M=dh({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=M.circleTangency,C=M.lineTangency,I=M.theta,$=l?Math.abs(u-d):Math.abs(u-d)-k-I;if($<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},$ne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n4=function(t){var r=LS(LS({},$ne),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(o<i||d===f)return null;var h=gt("recharts-sector",p),v=o-i,g=dn(s,v,0,!0),b;return g>0&&Math.abs(d-f)<360?b=Ine({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):b=r4({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),B.createElement("path",my({},Je(r,!0),{className:h,d:b,role:"img"}))};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){Rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rne(e,t,r){return t=Fne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fne(e){var t=Bne(e,"string");return Pd(t)=="symbol"?t:t+""}function Bne(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $S={curveBasisClosed:bK,curveBasisOpen:xK,curveBasis:yK,curveBumpX:aK,curveBumpY:iK,curveLinearClosed:wK,curveLinear:Om,curveMonotoneX:SK,curveMonotoneY:jK,curveNatural:NK,curveStep:_K,curveStepAfter:OK,curveStepBefore:AK},fh=function(t){return t.x===+t.x&&t.y===+t.y},Nu=function(t){return t.x},_u=function(t){return t.y},zne=function(t,r){if(ot(t))return t;var n="curve".concat(_m(t));return(n==="curveMonotone"||n==="curveBump")&&r?$S["".concat(n).concat(r==="vertical"?"Y":"X")]:$S[n]||Om},qne=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=zne(n,s),f=u?i.filter(function(g){return fh(g)}):i,p;if(Array.isArray(o)){var h=u?o.filter(function(g){return fh(g)}):o,v=f.map(function(g,b){return IS(IS({},g),{},{base:h[b]})});return s==="vertical"?p=nh().y(_u).x1(Nu).x0(function(g){return g.base.x}):p=nh().x(Nu).y1(_u).y0(function(g){return g.base.y}),p.defined(fh).curve(d),p(v)}return s==="vertical"&&Le(o)?p=nh().y(_u).x1(Nu).x0(o):Le(o)?p=nh().x(Nu).y1(_u).y0(o):p=xO().x(Nu).y(_u),p.defined(fh).curve(d),p(f)},Dl=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?qne(t):a;return B.createElement("path",gy({},Je(t,!1),Gh(t),{className:gt("recharts-curve",r),d:o,ref:i}))},Une=Object.getOwnPropertyNames,Wne=Object.getOwnPropertySymbols,Hne=Object.prototype.hasOwnProperty;function RS(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function hh(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function FS(e){return Une(e).concat(Wne(e))}var Gne=Object.hasOwn||function(e,t){return Hne.call(e,t)};function ks(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Vne="__v",Yne="__o",Kne="_owner",BS=Object.getOwnPropertyDescriptor,zS=Object.keys;function Xne(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Zne(e,t){return ks(e.getTime(),t.getTime())}function Jne(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Qne(e,t){return e===t}function qS(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var p=o.value,h=s.value;if(r.equals(p[0],h[0],l,f,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var eae=ks;function tae(e,t,r){var n=zS(e),a=n.length;if(zS(t).length!==a)return!1;for(;a-- >0;)if(!a4(e,t,r,n[a]))return!1;return!0}function Au(e,t,r){var n=FS(e),a=n.length;if(FS(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!a4(e,t,r,i)||(o=BS(e,i),s=BS(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function rae(e,t){return ks(e.valueOf(),t.valueOf())}function nae(e,t){return e.source===t.source&&e.flags===t.flags}function US(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function aae(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function iae(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function a4(e,t,r,n){return(n===Kne||n===Yne||n===Vne)&&(e.$$typeof||t.$$typeof)?!0:Gne(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var oae="[object Arguments]",sae="[object Boolean]",lae="[object Date]",cae="[object Error]",uae="[object Map]",dae="[object Number]",fae="[object Object]",hae="[object RegExp]",pae="[object Set]",mae="[object String]",gae="[object URL]",vae=Array.isArray,WS=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,HS=Object.assign,yae=Object.prototype.toString.call.bind(Object.prototype.toString);function bae(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(v,g,b){if(v===g)return!0;if(v==null||g==null)return!1;var x=typeof v;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(v,g,b):x==="function"?a(v,g,b):!1;var w=v.constructor;if(w!==g.constructor)return!1;if(w===Object)return s(v,g,b);if(vae(v))return t(v,g,b);if(WS!=null&&WS(v))return f(v,g,b);if(w===Date)return r(v,g,b);if(w===RegExp)return u(v,g,b);if(w===Map)return i(v,g,b);if(w===Set)return d(v,g,b);var j=yae(v);return j===lae?r(v,g,b):j===hae?u(v,g,b):j===uae?i(v,g,b):j===pae?d(v,g,b):j===fae?typeof v.then!="function"&&typeof g.then!="function"&&s(v,g,b):j===gae?p(v,g,b):j===cae?n(v,g,b):j===oae?s(v,g,b):j===sae||j===dae||j===mae?l(v,g,b):!1}}function xae(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Au:Xne,areDatesEqual:Zne,areErrorsEqual:Jne,areFunctionsEqual:Qne,areMapsEqual:n?RS(qS,Au):qS,areNumbersEqual:eae,areObjectsEqual:n?Au:tae,arePrimitiveWrappersEqual:rae,areRegExpsEqual:nae,areSetsEqual:n?RS(US,Au):US,areTypedArraysEqual:n?Au:aae,areUrlsEqual:iae};if(r&&(a=HS({},a,r(a))),t){var i=hh(a.areArraysEqual),o=hh(a.areMapsEqual),s=hh(a.areObjectsEqual),l=hh(a.areSetsEqual);a=HS({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function wae(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function Sae(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,p=f===void 0?t?new WeakMap:void 0:f,h=d.meta;return r(l,u,{cache:p,equals:a,meta:h,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,o)}}var jae=jo();jo({strict:!0});jo({circular:!0});jo({circular:!0,strict:!0});jo({createInternalComparator:function(){return ks}});jo({strict:!0,createInternalComparator:function(){return ks}});jo({circular:!0,createInternalComparator:function(){return ks}});jo({circular:!0,createInternalComparator:function(){return ks},strict:!0});function jo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=xae(e),l=bae(s),u=n?n(l):wae(l);return Sae({circular:r,comparator:l,createState:a,equals:u,strict:o})}function Nae(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function GS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Nae(a)};requestAnimationFrame(n)}function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function _ae(e){return Eae(e)||Pae(e)||Oae(e)||Aae()}function Aae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oae(e,t){if(e){if(typeof e=="string")return VS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(e,t)}}function VS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eae(e){if(Array.isArray(e))return e}function Tae(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=_ae(o),l=s[0],u=s.slice(1);if(typeof l=="number"){GS(a.bind(null,u),l);return}a(l),GS(a.bind(null,u));return}vy(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){i4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i4(e,t,r){return t=Cae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cae(e){var t=kae(e,"string");return Ed(t)==="symbol"?t:String(t)}function kae(e,t){if(Ed(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dae=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Lae=function(t){return t},Mae=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ru=function(t,r){return Object.keys(r).reduce(function(n,a){return KS(KS({},n),{},i4({},a,t(a,r[a])))},{})},XS=function(t,r,n){return t.map(function(a){return"".concat(Mae(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Iae(e,t){return Fae(e)||Rae(e,t)||o4(e,t)||$ae()}function $ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Fae(e){if(Array.isArray(e))return e}function Bae(e){return Uae(e)||qae(e)||o4(e)||zae()}function zae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o4(e,t){if(e){if(typeof e=="string")return yy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yy(e,t)}}function qae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uae(e){if(Array.isArray(e))return yy(e)}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bp=1e-4,s4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},l4=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},ZS=function(t,r){return function(n){var a=s4(t,r);return l4(a,n)}},Wae=function(t,r){return function(n){var a=s4(t,r),i=[].concat(Bae(a.map(function(o,s){return o*s}).slice(1)),[0]);return l4(i,n)}},JS=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=Iae(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=ZS(a,o),p=ZS(i,s),h=Wae(a,o),v=function(x){return x>1?1:x<0?0:x},g=function(x){for(var w=x>1?1:x,j=w,_=0;_<8;++_){var S=f(j)-w,P=h(j);if(Math.abs(S-w)<bp||P<bp)return p(j);j=v(j-S/P)}return p(j)};return g.isStepper=!1,g},Hae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(d,f,p){var h=-(d-f)*n,v=p*i,g=p+(h-v)*s/1e3,b=p*s/1e3+d;return Math.abs(b-f)<bp&&Math.abs(g)<bp?[f,0]:[b,g]};return l.isStepper=!0,l.dt=s,l},Gae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JS(a);case"spring":return Hae();default:if(a.split("(")[0]==="cubic-bezier")return JS(a)}return typeof a=="function"?a:null};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function QS(e){return Kae(e)||Yae(e)||c4(e)||Vae()}function Vae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kae(e){if(Array.isArray(e))return xy(e)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){by(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function by(e,t,r){return t=Xae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xae(e){var t=Zae(e,"string");return Td(t)==="symbol"?t:String(t)}function Zae(e,t){if(Td(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jae(e,t){return tie(e)||eie(e,t)||c4(e,t)||Qae()}function Qae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c4(e,t){if(e){if(typeof e=="string")return xy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xy(e,t)}}function xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function tie(e){if(Array.isArray(e))return e}var xp=function(t,r,n){return t+(r-t)*n},wy=function(t){var r=t.from,n=t.to;return r!==n},rie=function e(t,r,n){var a=Ru(function(i,o){if(wy(o)){var s=t(o.from,o.to,o.velocity),l=Jae(s,2),u=l[0],d=l[1];return Br(Br({},o),{},{from:u,velocity:d})}return o},r);return n<1?Ru(function(i,o){return wy(o)?Br(Br({},o),{},{velocity:xp(o.velocity,a[i].velocity,n),from:xp(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const nie=function(e,t,r,n,a){var i=Dae(e,t),o=i.reduce(function(b,x){return Br(Br({},b),{},by({},x,[e[x],t[x]]))},{}),s=i.reduce(function(b,x){return Br(Br({},b),{},by({},x,{from:e[x],velocity:0,to:t[x]}))},{}),l=-1,u,d,f=function(){return null},p=function(){return Ru(function(x,w){return w.from},s)},h=function(){return!Object.values(s).filter(wy).length},v=function(x){u||(u=x);var w=x-u,j=w/r.dt;s=rie(r,s,j),a(Br(Br(Br({},e),t),p())),u=x,h()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var w=(x-d)/n,j=Ru(function(S,P){return xp.apply(void 0,QS(P).concat([r(w)]))},o);if(a(Br(Br(Br({},e),t),j)),w<1)l=requestAnimationFrame(f);else{var _=Ru(function(S,P){return xp.apply(void 0,QS(P).concat([r(1)]))},o);a(Br(Br(Br({},e),t),_))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}var aie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iie(e,t){if(e==null)return{};var r=oie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oie(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Fv(e){return uie(e)||cie(e)||lie(e)||sie()}function sie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lie(e,t){if(e){if(typeof e=="string")return Sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sy(e,t)}}function cie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uie(e){if(Array.isArray(e))return Sy(e)}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){Cu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cu(e,t,r){return t=u4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function die(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u4(n.key),n)}}function hie(e,t,r){return t&&fie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u4(e){var t=pie(e,"string");return Xl(t)==="symbol"?t:String(t)}function pie(e,t){if(Xl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jy(e,t)}function jy(e,t){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jy(e,t)}function gie(e){var t=vie();return function(){var n=wp(e),a;if(t){var i=wp(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Ny(this,a)}}function Ny(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _y(e)}function _y(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(e)}var ci=function(e){mie(r,e);var t=gie(r);function r(n,a){var i;die(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,p=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(_y(i)),i.changeStyle=i.changeStyle.bind(_y(i)),!s||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),Ny(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},Ny(i);i.state={style:l?Cu({},l,u):u}}else i.state={style:{}};return i}return hie(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(s){if(!o){var h={style:l?Cu({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(h);return}if(!(jae(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:a.to;if(this.state&&p){var b={style:l?Cu({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(b)}this.runAnimation(ja(ja({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=nie(o,s,Gae(u),l,this.changeStyle),v=function(){i.stopJSAnimation=h()};this.manager.start([p,d,v,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(g,b,x){if(x===0)return g;var w=b.duration,j=b.easing,_=j===void 0?"ease":j,S=b.style,P=b.properties,A=b.onAnimationEnd,E=x>0?o[x-1]:b,k=P||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(Fv(g),[i.runJSAnimation.bind(i,{from:E.style,to:S,duration:w,easing:_}),w]);var M=XS(k,w,_),T=ja(ja(ja({},E.style),S),{},{transition:M});return[].concat(Fv(g),[T,w,A]).filter(Lae)};return this.manager.start([l].concat(Fv(o.reduce(h,[d,Math.max(p,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Tae());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var g=s?Cu({},s,l):l,b=XS(Object.keys(g),o,u);v.start([d,i,ja(ja({},g),{},{transition:b}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=iie(a,aie),u=z.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(h){var v=h.props,g=v.style,b=g===void 0?{}:g,x=v.className,w=z.cloneElement(h,ja(ja({},l),{},{style:ja(ja({},b),d),className:x}));return w};return u===1?f(z.Children.only(i)):B.createElement("div",null,z.Children.map(i,function(p){return f(p)}))}}]),r}(z.PureComponent);ci.displayName="Animate";ci.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ci.propTypes={from:Ne.oneOfType([Ne.object,Ne.string]),to:Ne.oneOfType([Ne.object,Ne.string]),attributeName:Ne.string,duration:Ne.number,begin:Ne.number,easing:Ne.oneOfType([Ne.string,Ne.func]),steps:Ne.arrayOf(Ne.shape({duration:Ne.number.isRequired,style:Ne.object.isRequired,easing:Ne.oneOfType([Ne.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ne.func]),properties:Ne.arrayOf("string"),onAnimationEnd:Ne.func})),children:Ne.oneOfType([Ne.node,Ne.func]),isActive:Ne.bool,canBegin:Ne.bool,onAnimationEnd:Ne.func,shouldReAnimate:Ne.bool,onAnimationStart:Ne.func,onAnimationReStart:Ne.func};function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sp.apply(this,arguments)}function yie(e,t){return Sie(e)||wie(e,t)||xie(e,t)||bie()}function bie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xie(e,t){if(e){if(typeof e=="string")return rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rj(e,t)}}function rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Sie(e){if(Array.isArray(e))return e}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jie(e,t,r){return t=Nie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nie(e){var t=_ie(e,"string");return Cd(t)=="symbol"?t:t+""}function _ie(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ij=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>o?o:i[p];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(r,`
            L `).concat(t+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*v,`
            L `).concat(t+n,",").concat(r+a-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(r+a,`
            L `).concat(t+l*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Aie=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+l),p=Math.max(o,o+l);return n>=u&&n<=d&&a>=f&&a<=p}return!1},Oie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B1=function(t){var r=aj(aj({},Oie),t),n=z.useRef(),a=z.useState(-1),i=yie(a,2),o=i[0],s=i[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,v=r.animationEasing,g=r.animationDuration,b=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=gt("recharts-rectangle",h);return w?B.createElement(ci,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:v,isActive:w},function(_){var S=_.width,P=_.height,A=_.x,E=_.y;return B.createElement(ci,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:x,easing:v},B.createElement("path",Sp({},Je(r,!0),{className:j,d:ij(A,E,S,P,p),ref:n})))}):B.createElement("path",Sp({},Je(r,!0),{className:j,d:ij(l,u,d,f,p)}))},Pie=["points","className","baseLinePoints","connectNulls"];function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sl.apply(this,arguments)}function Eie(e,t){if(e==null)return{};var r=Tie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oj(e){return Lie(e)||Die(e)||kie(e)||Cie()}function Cie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(e,t){if(e){if(typeof e=="string")return Ay(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ay(e,t)}}function Die(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lie(e){if(Array.isArray(e))return Ay(e)}function Ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sj=function(t){return t&&t.x===+t.x&&t.y===+t.y},Mie=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){sj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),sj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Fu=function(t,r){var n=Mie(t);r&&(n=[n.reduce(function(i,o){return[].concat(oj(i),oj(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Iie=function(t,r,n){var a=Fu(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Fu(r.reverse(),n).slice(1))},$ie=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Eie(t,Pie);if(!r||!r.length)return null;var s=gt("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",u=Iie(r,a,i);return B.createElement("g",{className:s},B.createElement("path",Sl({},Je(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?B.createElement("path",Sl({},Je(o,!0),{fill:"none",d:Fu(r,i)})):null,l?B.createElement("path",Sl({},Je(o,!0),{fill:"none",d:Fu(a,i)})):null)}var d=Fu(r,i);return B.createElement("path",Sl({},Je(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(this,arguments)}var qm=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=gt("recharts-dot",i);return r===+r&&n===+n&&a===+a?B.createElement("circle",Oy({},Je(t,!1),Gh(t),{className:o,cx:r,cy:n,r:a})):null};function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}var Rie=["x","y","top","left","width","height","className"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(this,arguments)}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){Bie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bie(e,t,r){return t=zie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=qie(e,"string");return kd(t)=="symbol"?t:t+""}function qie(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uie(e,t){if(e==null)return{};var r=Wie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hie=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Gie=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,p=t.height,h=p===void 0?0:p,v=t.className,g=Uie(t,Rie),b=Fie({x:n,y:i,top:s,left:u,width:f,height:h},g);return!Le(n)||!Le(i)||!Le(f)||!Le(h)||!Le(s)||!Le(u)?null:B.createElement("path",Py({},Je(b,!0),{className:gt("recharts-cross",v),d:Hie(n,i,f,h,s,u)}))},Vie=$m,Yie=_3,Kie=$a;function Xie(e,t){return e&&e.length?Vie(e,Kie(t),Yie):void 0}var Zie=Xie;const Jie=xt(Zie);var Qie=$m,eoe=$a,toe=A3;function roe(e,t){return e&&e.length?Qie(e,eoe(t),toe):void 0}var noe=roe;const aoe=xt(noe);var ioe=["cx","cy","angle","ticks","axisLine"],ooe=["ticks","tick","angle","tickFormatter","stroke"];function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(this,arguments)}function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(r),!0).forEach(function(n){Um(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uj(e,t){if(e==null)return{};var r=soe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function soe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function loe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f4(n.key),n)}}function coe(e,t,r){return t&&dj(e.prototype,t),r&&dj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uoe(e,t,r){return t=jp(t),doe(e,d4()?Reflect.construct(t,r||[],jp(e).constructor):t.apply(e,r))}function doe(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return foe(e)}function foe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d4=function(){return!!e})()}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jp(e)}function hoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ey(e,t)}function Ey(e,t){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ey(e,t)}function Um(e,t,r){return t=f4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f4(e){var t=poe(e,"string");return Zl(t)=="symbol"?t:t+""}function poe(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wm=function(e){function t(){return loe(this,t),uoe(this,t,arguments)}return hoe(t,e),coe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return Gt(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=Jie(s,function(d){return d.coordinate||0}),u=aoe(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=uj(n,ioe),d=s.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=Gt(a,i,d[0],o),p=Gt(a,i,d[1],o),h=zo(zo(zo({},Je(u,!1)),{},{fill:"none"},Je(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return B.createElement("line",Bu({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,u=a.stroke,d=uj(a,ooe),f=this.getTickTextAnchor(),p=Je(d,!1),h=Je(o,!1),v=i.map(function(g,b){var x=n.getTickValueCoord(g),w=zo(zo(zo(zo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:b},x),{},{payload:g});return B.createElement(jt,Bu({className:gt("recharts-polar-radius-axis-tick",e4(o)),key:"tick-".concat(g.coordinate)},ws(n.props,g,b)),t.renderTickItem(o,w,l?l(g.value,b):g.value))});return B.createElement(jt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:B.createElement(jt,{className:gt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Mr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):ot(n)?o=n(a):o=B.createElement(Ss,Bu({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(z.PureComponent);Um(Wm,"displayName","PolarRadiusAxis");Um(Wm,"axisType","radiusAxis");Um(Wm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){Hm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function moe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p4(n.key),n)}}function goe(e,t,r){return t&&hj(e.prototype,t),r&&hj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function voe(e,t,r){return t=Np(t),yoe(e,h4()?Reflect.construct(t,r||[],Np(e).constructor):t.apply(e,r))}function yoe(e,t){if(t&&(Jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return boe(e)}function boe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!e})()}function Np(e){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Np(e)}function xoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}function Ty(e,t){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ty(e,t)}function Hm(e,t,r){return t=p4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p4(e){var t=woe(e,"string");return Jl(t)=="symbol"?t:t+""}function woe(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Soe=Math.PI/180,pj=1e-5,Gm=function(e){function t(){return moe(this,t),voe(this,t,arguments)}return xoe(t,e),goe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=Gt(i,o,s,n.coordinate),p=Gt(i,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Soe),o;return i>pj?o=a==="outer"?"start":"end":i<-pj?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=qo(qo({},Je(this.props,!1)),{},{fill:"none"},Je(s,!1));if(l==="circle")return B.createElement(qm,Zo({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(p){return Gt(a,i,o,p.coordinate)});return B.createElement($ie,Zo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,u=a.stroke,d=Je(this.props,!1),f=Je(o,!1),p=qo(qo({},d),{},{fill:"none"},Je(s,!1)),h=i.map(function(v,g){var b=n.getTickLineCoord(v),x=n.getTickTextAnchor(v),w=qo(qo(qo({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:v,x:b.x2,y:b.y2});return B.createElement(jt,Zo({className:gt("recharts-polar-angle-axis-tick",e4(o)),key:"tick-".concat(v.coordinate)},ws(n.props,v,g)),s&&B.createElement("line",Zo({className:"recharts-polar-angle-axis-tick-line"},p,b)),o&&t.renderTickItem(o,w,l?l(v.value,g):v.value))});return B.createElement(jt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:B.createElement(jt,{className:gt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):ot(n)?o=n(a):o=B.createElement(Ss,Zo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(z.PureComponent);Hm(Gm,"displayName","PolarAngleAxis");Hm(Gm,"axisType","angleAxis");Hm(Gm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var joe=Fi,Noe=Ia,_oe="[object Boolean]";function Aoe(e){return e===!0||e===!1||Noe(e)&&joe(e)==_oe}var Ooe=Aoe;const Poe=xt(Ooe);function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(this,arguments)}function Eoe(e,t){return Doe(e)||koe(e,t)||Coe(e,t)||Toe()}function Toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Coe(e,t){if(e){if(typeof e=="string")return mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mj(e,t)}}function mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function koe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Doe(e){if(Array.isArray(e))return e}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){Loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Loe(e,t,r){return t=Moe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Moe(e){var t=Ioe(e,"string");return Dd(t)=="symbol"?t:t+""}function Ioe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yj=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},$oe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Roe=function(t){var r=vj(vj({},$oe),t),n=z.useRef(),a=z.useState(-1),i=Eoe(a,2),o=i[0],s=i[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,v=r.animationEasing,g=r.animationDuration,b=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var w=gt("recharts-trapezoid",h);return x?B.createElement(ci,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:l,y:u},duration:g,animationEasing:v,isActive:x},function(j){var _=j.upperWidth,S=j.lowerWidth,P=j.height,A=j.x,E=j.y;return B.createElement(ci,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:v},B.createElement("path",_p({},Je(r,!0),{className:w,d:yj(A,E,_,S,P),ref:n})))}):B.createElement("g",null,B.createElement("path",_p({},Je(r,!0),{className:w,d:yj(l,u,d,f,p)})))},Foe=["option","shapeType","propTransformer","activeClassName","isActive"];function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function Boe(e,t){if(e==null)return{};var r=zoe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){qoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qoe(e,t,r){return t=Uoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uoe(e){var t=Woe(e,"string");return Ld(t)=="symbol"?t:t+""}function Woe(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hoe(e,t){return Ap(Ap({},t),e)}function Goe(e,t){return e==="symbols"}function xj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return B.createElement(B1,r);case"trapezoid":return B.createElement(Roe,r);case"sector":return B.createElement(n4,r);case"symbols":if(Goe(t))return B.createElement(f1,r);break;default:return null}}function Voe(e){return z.isValidElement(e)?e.props:e}function m4(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Hoe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=Boe(e,Foe),u;if(z.isValidElement(t))u=z.cloneElement(t,Ap(Ap({},l),Voe(t)));else if(ot(t))u=t(l);else if(rW(t)&&!Poe(t)){var d=a(t,l);u=B.createElement(xj,{shapeType:r,elementProps:d})}else{var f=l;u=B.createElement(xj,{shapeType:r,elementProps:f})}return s?B.createElement(jt,{className:o},u):u}function Vm(e,t){return t!=null&&"trapezoids"in e.props}function Ym(e,t){return t!=null&&"sectors"in e.props}function Md(e,t){return t!=null&&"points"in e.props}function Yoe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Koe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Xoe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Zoe(e,t){var r;return Vm(e,t)?r=Yoe:Ym(e,t)?r=Koe:Md(e,t)&&(r=Xoe),r}function Joe(e,t){var r;return Vm(e,t)?r="trapezoids":Ym(e,t)?r="sectors":Md(e,t)&&(r="points"),r}function Qoe(e,t){if(Vm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ym(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Md(e,t)?t.payload:{}}function ese(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Joe(r,t),i=Qoe(r,t),o=n.filter(function(l,u){var d=ys(i,l),f=r.props[a].filter(function(v){var g=Zoe(r,t);return g(v,t)}),p=r.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),s=n.indexOf(o[o.length-1]);return s}var Oh;function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){Qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v4(n.key),n)}}function rse(e,t,r){return t&&Sj(e.prototype,t),r&&Sj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nse(e,t,r){return t=Op(t),ase(e,g4()?Reflect.construct(t,r||[],Op(e).constructor):t.apply(e,r))}function ase(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ise(e)}function ise(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!e})()}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(e)}function ose(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cy(e,t)}function Qn(e,t,r){return t=v4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v4(e){var t=sse(e,"string");return Ql(t)=="symbol"?t:t+""}function sse(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zi=function(e){function t(r){var n;return tse(this,t),n=nse(this,t,[r]),Qn(n,"pieRef",null),Qn(n,"sectorRefs",[]),Qn(n,"id",Ec("recharts-pie-")),Qn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ot(a)&&a()}),Qn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ot(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return ose(t,e),rse(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,u=i.valueKey,d=Je(this.props,!1),f=Je(o,!1),p=Je(s,!1),h=o&&o.offsetRadius||20,v=n.map(function(g,b){var x=(g.startAngle+g.endAngle)/2,w=Gt(g.cx,g.cy,g.outerRadius+h,x),j=Wt(Wt(Wt(Wt({},d),g),{},{stroke:"none"},f),{},{index:b,textAnchor:t.getTextAnchor(w.x,g.cx)},w),_=Wt(Wt(Wt(Wt({},d),g),{},{fill:"none",stroke:g.fill},p),{},{index:b,points:[Gt(g.cx,g.cy,g.outerRadius,x),w]}),S=l;return mt(l)&&mt(u)?S="value":mt(l)&&(S=u),B.createElement(jt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},s&&t.renderLabelLineItem(s,_,"line"),t.renderLabelItem(o,j,_r(g,S)))});return B.createElement(jt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),p=l&&a.hasActiveIndex()?l:null,h=f?o:p,v=Wt(Wt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return B.createElement(jt,jl({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},ws(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),B.createElement(m4,jl({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return B.createElement(ci,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,b=[],x=i&&i[0],w=x.startAngle;return i.forEach(function(j,_){var S=p&&p[_],P=_>0?$n(j,"paddingAngle",0):0;if(S){var A=xn(S.endAngle-S.startAngle,j.endAngle-j.startAngle),E=Wt(Wt({},j),{},{startAngle:w+P,endAngle:w+A(g)+P});b.push(E),w=E.endAngle}else{var k=j.endAngle,M=j.startAngle,T=xn(0,k-M),C=T(g),I=Wt(Wt({},j),{},{startAngle:w+P,endAngle:w+C+P});b.push(I),w=I.endAngle}}),B.createElement(jt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!ys(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,p=a.outerRadius,h=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Le(u)||!Le(d)||!Le(f)||!Le(p))return null;var g=gt("recharts-pie",s);return B.createElement(jt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),l&&this.renderLabels(o),Mr.renderCallByParent(this.props,null,!1),(!h||v)&&Li.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(B.isValidElement(n))return B.cloneElement(n,a);if(ot(n))return n(a);var o=gt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return B.createElement(Dl,jl({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(B.isValidElement(n))return B.cloneElement(n,a);var o=i;if(ot(n)&&(o=n(a),B.isValidElement(o)))return o;var s=gt("recharts-pie-label-text",typeof n!="boolean"&&!ot(n)?n.className:"");return B.createElement(Ss,jl({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(z.PureComponent);Oh=zi;Qn(zi,"displayName","Pie");Qn(zi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Es.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qn(zi,"parseDeltaAngle",function(e,t){var r=un(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Qn(zi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Je(e,!1),a=ra(r,Tm);return t&&t.length?t.map(function(i,o){return Wt(Wt(Wt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Wt(Wt({},n),i.props)}):[]});Qn(zi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Q3(a,i),s=n+dn(e.cx,a,a/2),l=r+dn(e.cy,i,i/2),u=dn(e.innerRadius,o,0),d=dn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});Qn(zi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Wt(Wt({},t.type.defaultProps),t.props):t.props,a=Oh.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),v=Oh.parseCoordinateOfPie(n,r),g=Oh.parseDeltaAngle(o,s),b=Math.abs(g),x=u;mt(u)&&mt(f)?(Ca(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):mt(u)&&(Ca(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var w=a.filter(function(E){return _r(E,x,0)!==0}).length,j=(b>=360?w:w-1)*l,_=b-w*h-j,S=a.reduce(function(E,k){var M=_r(k,x,0);return E+(Le(M)?M:0)},0),P;if(S>0){var A;P=a.map(function(E,k){var M=_r(E,x,0),T=_r(E,d,k),C=(Le(M)?M:0)/S,I;k?I=A.endAngle+un(g)*l*(M!==0?1:0):I=o;var $=I+un(g)*((M!==0?h:0)+C*_),G=(I+$)/2,H=(v.innerRadius+v.outerRadius)/2,Z=[{name:T,value:M,payload:E,dataKey:x,type:p}],J=Gt(v.cx,v.cy,H,G);return A=Wt(Wt(Wt({percent:C,cornerRadius:i,name:T,tooltipPayload:Z,midAngle:G,middleRadius:H,tooltipPosition:J},E),v),{},{value:_r(E,x),startAngle:I,endAngle:$,payload:E,paddingAngle:un(g)*l}),A})}return Wt(Wt({},v),{},{sectors:P,data:a})});function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){y4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y4(e,t,r){return t=lse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lse(e){var t=cse(e,"string");return Id(t)=="symbol"?t:t+""}function cse(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var use=["Webkit","Moz","O","ms"],dse=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=use.reduce(function(i,o){return Nj(Nj({},i),{},y4({},o+n,r))},{});return a[t]=r,a};function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pp.apply(this,arguments)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){kn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x4(n.key),n)}}function hse(e,t,r){return t&&Aj(e.prototype,t),r&&Aj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pse(e,t,r){return t=Ep(t),mse(e,b4()?Reflect.construct(t,r||[],Ep(e).constructor):t.apply(e,r))}function mse(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gse(e)}function gse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b4=function(){return!!e})()}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function vse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ky(e,t)}function kn(e,t,r){return t=x4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x4(e){var t=yse(e,"string");return ec(t)=="symbol"?t:t+""}function yse(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bse=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Iu().domain(ad(0,l)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},Oj=function(t){return t.changedTouches&&!!t.changedTouches.length},tc=function(e){function t(r){var n;return fse(this,t),n=pse(this,t,[r]),kn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),kn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),kn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),kn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),kn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),kn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),kn(n,"handleSlideDragStart",function(a){var i=Oj(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return vse(t,e),hse(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),h=t.getIndexInRange(o,f),v=t.getIndexInRange(o,p);return{startIndex:h-h%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=_r(i[n],s,n);return ot(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,v=l.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-s,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-s));var b=this.getIndex({startX:o+g,endX:s+g});(b.startIndex!==p||b.endIndex!==h)&&v&&v(b),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Oj(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[o],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,v=d.onChange,g=d.gap,b=d.data,x={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,f+p-h-u):w<0&&(w=Math.max(w,f-u)),x[o]=u+w;var j=this.getIndex(x),_=j.startIndex,S=j.endIndex,P=function(){var E=b.length-1;return o==="startX"&&(s>l?_%g===0:S%g===0)||s<l&&S===E||o==="endX"&&(s>l?S%g===0:_%g===0)||s>l&&S===E};this.setState(kn(kn({},o,u+w),"brushMoveStartX",n.pageX),function(){v&&P()&&v(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=s.length)){var h=s[p];a==="startX"&&h>=u||a==="endX"&&h<=l||this.setState(kn({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return B.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=z.Children.only(u);return f?B.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,v=l.data,g=l.startIndex,b=l.endIndex,x=Math.max(n,this.props.x),w=Bv(Bv({},Je(this.props,!1)),{},{x,y:u,width:d,height:f}),j=h||"Min value: ".concat((i=v[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[b])===null||o===void 0?void 0:o.name);return B.createElement(jt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,v={pointerEvents:"none",fill:u};return B.createElement(jt,{className:"recharts-brush-texts"},B.createElement(Ss,Pp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+s/2},v),this.getTextOfTick(a)),B.createElement(Ss,Pp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:o+s/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,v=p.endX,g=p.isTextActive,b=p.isSlideMoving,x=p.isTravellerMoving,w=p.isTravellerFocused;if(!a||!a.length||!Le(s)||!Le(l)||!Le(u)||!Le(d)||u<=0||d<=0)return null;var j=gt("recharts-brush",i),_=B.Children.count(o)===1,S=dse("userSelect","none");return B.createElement(jt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(g||b||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(i+s/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),B.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return B.isValidElement(n)?i=B.cloneElement(n,a):ot(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Bv({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?bse({data:i,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(z.PureComponent);kn(tc,"displayName","Brush");kn(tc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xse=Yb;function wse(e,t){var r;return xse(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var Sse=wse,jse=G_,Nse=$a,_se=Sse,Ase=rn,Ose=yc;function Pse(e,t,r){var n=Ase(e)?jse:_se;return r&&Ose(e,t,r)&&(t=void 0),n(e,Nse(t))}var Ese=Pse;const Tse=xt(Ese);var oi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r};function Cse(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var kse=Cse,Dse=Yb;function Lse(e,t){var r=!0;return Dse(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Mse=Lse,Ise=kse,$se=Mse,Rse=$a,Fse=rn,Bse=yc;function zse(e,t,r){var n=Fse(e)?Ise:$se;return r&&Bse(e,t,r)&&(t=void 0),n(e,Rse(t))}var qse=zse;const w4=xt(qse);var Use=["x","y"];function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){Wse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wse(e,t,r){return t=Hse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hse(e){var t=Gse(e,"string");return $d(t)=="symbol"?t:t+""}function Gse(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vse(e,t){if(e==null)return{};var r=Yse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kse(e,t){var r=e.x,n=e.y,a=Vse(e,Use),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),p=parseInt(f,10);return Ou(Ou(Ou(Ou(Ou({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function Ej(e){return B.createElement(m4,Dy({shapeType:"rectangle",propTransformer:Kse,activeClassName:"recharts-active-bar"},e))}var Xse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||Ns(),r)}},Zse=["value","background"],S4;function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Jse(e,t){if(e==null)return{};var r=Qse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(this,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ele(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N4(n.key),n)}}function tle(e,t,r){return t&&Cj(e.prototype,t),r&&Cj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rle(e,t,r){return t=Cp(t),nle(e,j4()?Reflect.construct(t,r||[],Cp(e).constructor):t.apply(e,r))}function nle(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ale(e)}function ale(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!e})()}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(e)}function ile(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}function Ly(e,t){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ly(e,t)}function uo(e,t,r){return t=N4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N4(e){var t=ole(e,"string");return rc(t)=="symbol"?t:t+""}function ole(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rf=function(e){function t(){var r;ele(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rle(this,t,[].concat(a)),uo(r,"state",{isAnimationFinished:!1}),uo(r,"id",Ec("recharts-bar-")),uo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),uo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ile(t,e),tle(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,u=i.activeBar,d=Je(this.props,!1);return n&&n.map(function(f,p){var h=p===l,v=h?u:o,g=xr(xr(xr({},d),f),{},{isActive:h,option:v,index:p,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return B.createElement(jt,Tp({className:"recharts-bar-rectangle"},ws(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),B.createElement(Ej,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return B.createElement(ci,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,g=i.map(function(b,x){var w=p&&p[x];if(w){var j=xn(w.x,b.x),_=xn(w.y,b.y),S=xn(w.width,b.width),P=xn(w.height,b.height);return xr(xr({},b),{},{x:j(v),y:_(v),width:S(v),height:P(v)})}if(o==="horizontal"){var A=xn(0,b.height),E=A(v);return xr(xr({},b),{},{y:b.y+b.height-E,height:E})}var k=xn(0,b.width),M=k(v);return xr(xr({},b),{},{width:M})});return B.createElement(jt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!ys(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=Je(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=Jse(u,Zse);if(!f)return null;var h=xr(xr(xr(xr(xr({},p),{},{fill:"#eee"},f),l),ws(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return B.createElement(Ej,Tp({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=ra(d,zm);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,h=function(b,x){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:_r(b,x)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return B.createElement(jt,v,f.map(function(g){return B.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,v=n.background,g=n.id;if(a||!i||!i.length)return null;var b=this.state.isAnimationFinished,x=gt("recharts-bar",o),w=s&&s.allowDataOverflow,j=l&&l.allowDataOverflow,_=w||j,S=mt(g)?this.id:g;return B.createElement(jt,{className:x},w||j?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(S)},B.createElement("rect",{x:w?u:u-f/2,y:j?d:d-p/2,width:w?f:f*2,height:j?p:p*2}))):null,B.createElement(jt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!h||b)&&Li.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(z.PureComponent);S4=rf;uo(rf,"displayName","Bar");uo(rf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Es.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});uo(rf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=Tre(n,r);if(!h)return null;var v=t.layout,g=r.type.defaultProps,b=g!==void 0?xr(xr({},g),r.props):r.props,x=b.dataKey,w=b.children,j=b.minPointSize,_=v==="horizontal"?o:i,S=u?_.scale.domain():null,P=$re({numericAxis:_}),A=ra(w,Tm),E=f.map(function(k,M){var T,C,I,$,G,H;u?T=Cre(u[d+M],S):(T=_r(k,x),Array.isArray(T)||(T=[P,T]));var Z=Xse(j,S4.defaultProps.minPointSize)(T[1],M);if(v==="horizontal"){var J,Y=[o.scale(T[0]),o.scale(T[1])],Q=Y[0],oe=Y[1];C=SS({axis:i,ticks:s,bandSize:a,offset:h.offset,entry:k,index:M}),I=(J=oe??Q)!==null&&J!==void 0?J:void 0,$=h.size;var L=Q-oe;if(G=Number.isNaN(L)?0:L,H={x:C,y:o.y,width:$,height:o.height},Math.abs(Z)>0&&Math.abs(G)<Math.abs(Z)){var q=un(G||Z)*(Math.abs(Z)-Math.abs(G));I-=q,G+=q}}else{var ee=[i.scale(T[0]),i.scale(T[1])],ie=ee[0],K=ee[1];if(C=ie,I=SS({axis:o,ticks:l,bandSize:a,offset:h.offset,entry:k,index:M}),$=K-ie,G=h.size,H={x:i.x,y:I,width:i.width,height:G},Math.abs(Z)>0&&Math.abs($)<Math.abs(Z)){var se=un($||Z)*(Math.abs(Z)-Math.abs($));$+=se}}return xr(xr(xr({},k),{},{x:C,y:I,width:$,height:G,value:u?T:T[1],payload:k,background:H},A&&A[M]&&A[M].props),{},{tooltipPayload:[Z3(r,k)],tooltipPosition:{x:C+$/2,y:I+G/2}})});return xr({data:E,layout:v},p)});function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function sle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_4(n.key),n)}}function lle(e,t,r){return t&&kj(e.prototype,t),r&&kj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){Km(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Km(e,t,r){return t=_4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _4(e){var t=cle(e,"string");return Rd(t)=="symbol"?t:t+""}function cle(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ule=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!Dn(u,rf);return d.reduce(function(h,v){var g=r[v],b=g.orientation,x=g.domain,w=g.padding,j=w===void 0?{}:w,_=g.mirror,S=g.reversed,P="".concat(b).concat(_?"Mirror":""),A,E,k,M,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var C=x[1]-x[0],I=1/0,$=g.categoricalDomain.sort(YV);if($.forEach(function(ee,ie){ie>0&&(I=Math.min((ee||0)-($[ie-1]||0),I))}),Number.isFinite(I)){var G=I/C,H=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(A=G*H/2),g.padding==="no-gap"){var Z=dn(t.barCategoryGap,G*H),J=G*H/2;A=J-Z-(J-Z)/H*Z}}}a==="xAxis"?E=[n.left+(j.left||0)+(A||0),n.left+n.width-(j.right||0)-(A||0)]:a==="yAxis"?E=l==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(A||0),n.top+n.height-(j.bottom||0)-(A||0)]:E=g.range,S&&(E=[E[1],E[0]]);var Y=V3(g,i,p),Q=Y.scale,oe=Y.realScaleType;Q.domain(x).range(E),Y3(Q);var L=K3(Q,Aa(Aa({},g),{},{realScaleType:oe}));a==="xAxis"?(T=b==="top"&&!_||b==="bottom"&&_,k=n.left,M=f[P]-T*g.height):a==="yAxis"&&(T=b==="left"&&!_||b==="right"&&_,k=f[P]-T*g.width,M=n.top);var q=Aa(Aa(Aa({},g),L),{},{realScaleType:oe,x:k,y:M,scale:Q,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return q.bandSize=gp(q,L),!g.hide&&a==="xAxis"?f[P]+=(T?-1:1)*q.height:g.hide||(f[P]+=(T?-1:1)*q.width),Aa(Aa({},h),{},Km({},v,q))},{})},A4=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},dle=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return A4({x:r,y:n},{x:a,y:i})},O4=function(){function e(t){sle(this,e),this.scale=t}return lle(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Km(O4,"EPS",1e-4);var z1=function(t){var r=Object.keys(t).reduce(function(n,a){return Aa(Aa({},n),{},Km({},a,O4.create(t[a])))},{});return Aa(Aa({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return NA(a,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return w4(a,function(i,o){return r[o].isInRange(i)})}})};function fle(e){return(e%180+180)%180}var hle=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=fle(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},ple=$a,mle=vc,gle=Nc;function vle(e){return function(t,r,n){var a=Object(t);if(!mle(t)){var i=ple(r);t=gle(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var yle=vle,ble=yle,xle=pA,wle=ble(xle),Sle=wle;const jle=xt(Sle);var Nle=gR(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),q1=z.createContext(void 0),U1=z.createContext(void 0),P4=z.createContext(void 0),E4=z.createContext({}),T4=z.createContext(void 0),C4=z.createContext(0),k4=z.createContext(0),Lj=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,d=Nle(i);return B.createElement(q1.Provider,{value:n},B.createElement(U1.Provider,{value:a},B.createElement(E4.Provider,{value:i},B.createElement(P4.Provider,{value:d},B.createElement(T4.Provider,{value:o},B.createElement(C4.Provider,{value:u},B.createElement(k4.Provider,{value:l},s)))))))},_le=function(){return z.useContext(T4)},D4=function(t){var r=z.useContext(q1);r==null&&Ns();var n=r[t];return n==null&&Ns(),n},Ale=function(){var t=z.useContext(q1);return so(t)},Ole=function(){var t=z.useContext(U1),r=jle(t,function(n){return w4(n.domain,Number.isFinite)});return r||so(t)},L4=function(t){var r=z.useContext(U1);r==null&&Ns();var n=r[t];return n==null&&Ns(),n},Ple=function(){var t=z.useContext(P4);return t},Ele=function(){return z.useContext(E4)},W1=function(){return z.useContext(k4)},H1=function(){return z.useContext(C4)};function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function Tle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I4(n.key),n)}}function kle(e,t,r){return t&&Cle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dle(e,t,r){return t=kp(t),Lle(e,M4()?Reflect.construct(t,r||[],kp(e).constructor):t.apply(e,r))}function Lle(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mle(e)}function Mle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!e})()}function kp(e){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(e)}function Ile(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},My(e,t)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){G1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G1(e,t,r){return t=I4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I4(e){var t=$le(e,"string");return nc(t)=="symbol"?t:t+""}function $le(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rle(e,t){return qle(e)||zle(e,t)||Ble(e,t)||Fle()}function Fle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ble(e,t){if(e){if(typeof e=="string")return $j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $j(e,t)}}function $j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function qle(e){if(Array.isArray(e))return e}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(this,arguments)}var Ule=function(t,r){var n;return B.isValidElement(t)?n=B.cloneElement(t,r):ot(t)?n=t(r):n=B.createElement("line",Iy({},r,{className:"recharts-reference-line-line"})),n},Wle=function(t,r,n,a,i,o,s,l,u){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var v=u.y,g=t.y.apply(v,{position:o});if(oi(u,"discard")&&!t.y.isInRange(g))return null;var b=[{x:d+p,y:g},{x:d,y:g}];return l==="left"?b.reverse():b}if(r){var x=u.x,w=t.x.apply(x,{position:o});if(oi(u,"discard")&&!t.x.isInRange(w))return null;var j=[{x:w,y:f+h},{x:w,y:f}];return s==="top"?j.reverse():j}if(a){var _=u.segment,S=_.map(function(P){return t.apply(P,{position:o})});return oi(u,"discard")&&Tse(S,function(P){return!t.isInRange(P)})?null:S}return null};function Hle(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=_le(),d=D4(a),f=L4(i),p=Ple();if(!u||!p)return null;Ca(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=z1({x:d.scale,y:f.scale}),v=Ar(t),g=Ar(r),b=n&&n.length===2,x=Wle(h,v,g,b,p,e.position,d.orientation,f.orientation,e);if(!x)return null;var w=Rle(x,2),j=w[0],_=j.x,S=j.y,P=w[1],A=P.x,E=P.y,k=oi(e,"hidden")?"url(#".concat(u,")"):void 0,M=Ij(Ij({clipPath:k},Je(e,!0)),{},{x1:_,y1:S,x2:A,y2:E});return B.createElement(jt,{className:gt("recharts-reference-line",s)},Ule(o,M),Mr.renderCallByParent(e,dle({x1:_,y1:S,x2:A,y2:E})))}var V1=function(e){function t(){return Tle(this,t),Dle(this,t,arguments)}return Ile(t,e),kle(t,[{key:"render",value:function(){return B.createElement(Hle,this.props)}}])}(B.Component);G1(V1,"displayName","ReferenceLine");G1(V1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(this,arguments)}function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){Xm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R4(n.key),n)}}function Yle(e,t,r){return t&&Vle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kle(e,t,r){return t=Dp(t),Xle(e,$4()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function Xle(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zle(e)}function Zle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function Jle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ry(e,t)}function Xm(e,t,r){return t=R4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R4(e){var t=Qle(e,"string");return ac(t)=="symbol"?t:t+""}function Qle(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ece=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=z1({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return oi(t,"discard")&&!o.isInRange(s)?null:s},Zm=function(e){function t(){return Gle(this,t),Kle(this,t,arguments)}return Jle(t,e),Yle(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=Ar(a),d=Ar(i);if(Ca(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=ece(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,g=v.shape,b=v.className,x=oi(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=Fj(Fj({clipPath:x},Je(this.props,!0)),{},{cx:p,cy:h});return B.createElement(jt,{className:gt("recharts-reference-dot",b)},t.renderDot(g,w),Mr.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])}(B.Component);Xm(Zm,"displayName","ReferenceDot");Xm(Zm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Xm(Zm,"renderDot",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):ot(e)?r=e(t):r=B.createElement(qm,$y({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){Jm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B4(n.key),n)}}function nce(e,t,r){return t&&rce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ace(e,t,r){return t=Lp(t),ice(e,F4()?Reflect.construct(t,r||[],Lp(e).constructor):t.apply(e,r))}function ice(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oce(e)}function oce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F4=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}function sce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&By(e,t)}function By(e,t){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},By(e,t)}function Jm(e,t,r){return t=B4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4(e){var t=lce(e,"string");return ic(t)=="symbol"?t:t+""}function lce(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cce=function(t,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=z1({x:d.scale,y:f.scale}),h={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return oi(i,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:A4(h,v)},Qm=function(e){function t(){return tce(this,t),ace(this,t,arguments)}return sce(t,e),nce(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Ca(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ar(a),p=Ar(i),h=Ar(o),v=Ar(s),g=this.props.shape;if(!f&&!p&&!h&&!v&&!g)return null;var b=cce(f,p,h,v,this.props);if(!b&&!g)return null;var x=oi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(jt,{className:gt("recharts-reference-area",l)},t.renderRect(g,zj(zj({clipPath:x},Je(this.props,!0)),b)),Mr.renderCallByParent(this.props,b))}}])}(B.Component);Jm(Qm,"displayName","ReferenceArea");Jm(Qm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jm(Qm,"renderRect",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):ot(e)?r=e(t):r=B.createElement(B1,Fy({},t,{className:"recharts-reference-area-rect"})),r});function z4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function uce(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return hle(n,r)}function dce(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Mp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function fce(e,t){return z4(e,t+1)}function hce(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,l=0,u=1,d=o,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:z4(n,u)};var g=l,b,x=function(){return b===void 0&&(b=r(v,g)),b},w=v.coordinate,j=l===0||Mp(e,w,x,d,s);j||(l=0,d=o,u+=1),j&&(d=w+e*(x()/2+a),l+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){pce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pce(e,t,r){return t=mce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mce(e){var t=gce(e,"string");return Fd(t)=="symbol"?t:t+""}function gce(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vce(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,u=function(p){var h=i[p],v,g=function(){return v===void 0&&(v=r(h,p)),v};if(p===o-1){var b=e*(h.coordinate+e*g()/2-l);i[p]=h=Xr(Xr({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else i[p]=h=Xr(Xr({},h),{},{tickCoord:h.coordinate});var x=Mp(e,h.tickCoord,g,s,l);x&&(l=h.tickCoord-e*(g()/2+a),i[p]=Xr(Xr({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function yce(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,u=t.end;if(i){var d=n[s-1],f=r(d,s-1),p=e*(d.coordinate+e*f/2-u);o[s-1]=d=Xr(Xr({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var h=Mp(e,d.tickCoord,function(){return f},l,u);h&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Xr(Xr({},d),{},{isShow:!0}))}for(var v=i?s-1:s,g=function(w){var j=o[w],_,S=function(){return _===void 0&&(_=r(j,w)),_};if(w===0){var P=e*(j.coordinate-e*S()/2-l);o[w]=j=Xr(Xr({},j),{},{tickCoord:P<0?j.coordinate-P*e:j.coordinate})}else o[w]=j=Xr(Xr({},j),{},{tickCoord:j.coordinate});var A=Mp(e,j.tickCoord,S,l,u);A&&(l=j.tickCoord+e*(S()/2+a),o[w]=Xr(Xr({},j),{},{isShow:!0}))},b=0;b<v;b++)g(b);return o}function Y1(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Le(l)||Es.isSsr)return fce(a,typeof l=="number"&&Le(l)?l:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",v=d&&h==="width"?Mu(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(j,_){var S=ot(u)?u(j.value,_):j.value;return h==="width"?uce(Mu(S,{fontSize:t,letterSpacing:r}),v,f):Mu(S,{fontSize:t,letterSpacing:r})[h]},b=a.length>=2?un(a[1].coordinate-a[0].coordinate):1,x=dce(i,b,h);return l==="equidistantPreserveStart"?hce(b,x,g,a,o):(l==="preserveStart"||l==="preserveStartEnd"?p=yce(b,x,g,a,o,l==="preserveStartEnd"):p=vce(b,x,g,a,o),p.filter(function(w){return w.isShow}))}var bce=["viewBox"],xce=["viewBox"],wce=["ticks"];function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){K1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zv(e,t){if(e==null)return{};var r=Sce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U4(n.key),n)}}function Nce(e,t,r){return t&&Wj(e.prototype,t),r&&Wj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ce(e,t,r){return t=Ip(t),Ace(e,q4()?Reflect.construct(t,r||[],Ip(e).constructor):t.apply(e,r))}function Ace(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oce(e)}function Oce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q4=function(){return!!e})()}function Ip(e){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(e)}function Pce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zy(e,t)}function K1(e,t,r){return t=U4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U4(e){var t=Ece(e,"string");return oc(t)=="symbol"?t:t+""}function Ece(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dc=function(e){function t(r){var n;return jce(this,t),n=_ce(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Pce(t,e),Nce(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=zv(n,bce),s=this.props,l=s.viewBox,u=zv(s,xce);return!Tl(i,l)||!Tl(o,u)||!Tl(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,v,g,b,x,w,j=f?-1:1,_=n.tickSize||d,S=Le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=v=n.coordinate,b=o+ +!f*l,g=b-j*_,w=g-j*p,x=S;break;case"left":g=b=n.coordinate,v=i+ +!f*s,h=v-j*_,x=h-j*p,w=S;break;case"right":g=b=n.coordinate,v=i+ +f*s,h=v+j*_,x=h+j*p,w=S;break;default:h=v=n.coordinate,b=o+ +f*l,g=b+j*_,w=g+j*p,x=S;break}return{line:{x1:h,y1:g,x2:v,y2:b},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=sn(sn(sn({},Je(this.props,!1)),Je(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);f=sn(sn({},f),{},{x1:a,y1:i+p*s,x2:a+o,y2:i+p*s})}else{var h=+(l==="left"&&!u||l==="right"&&u);f=sn(sn({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+s})}return B.createElement("line",Nl({},f,{className:gt("recharts-cartesian-axis-line",$n(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,p=s.unit,h=Y1(sn(sn({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=Je(this.props,!1),x=Je(d,!1),w=sn(sn({},b),{},{fill:"none"},Je(l,!1)),j=h.map(function(_,S){var P=o.getTickLineCoord(_),A=P.line,E=P.tick,k=sn(sn(sn(sn({textAnchor:v,verticalAnchor:g},b),{},{stroke:"none",fill:u},x),E),{},{index:S,payload:_,visibleTicksCount:h.length,tickFormatter:f});return B.createElement(jt,Nl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ws(o.props,_,S)),l&&B.createElement("line",Nl({},w,A,{className:gt("recharts-cartesian-axis-tick-line",$n(l,"className"))})),d&&t.renderTickItem(d,k,"".concat(ot(f)?f(_.value,S):_.value).concat(p||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=zv(f,wce),v=p;return ot(l)&&(v=p&&p.length>0?l(this.props):l(h)),o<=0||s<=0||!v||!v.length?null:B.createElement(jt,{className:gt("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Mr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):ot(n)?o=n(a):o=B.createElement(Ss,Nl({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(z.Component);K1(Dc,"displayName","CartesianAxis");K1(Dc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Tce=["x1","y1","x2","y2","key"],Cce=["offset"];function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){kce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kce(e,t,r){return t=Dce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dce(e){var t=Lce(e,"string");return _s(t)=="symbol"?t:t+""}function Lce(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function Gj(e,t){if(e==null)return{};var r=Mce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ice=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return B.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function W4(e,t){var r;if(B.isValidElement(e))r=B.cloneElement(e,t);else if(ot(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=Gj(t,Tce),u=Je(l,!1);u.offset;var d=Gj(u,Cce);r=B.createElement("line",ts({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function $ce(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=Jr(Jr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return W4(a,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Rce(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=Jr(Jr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return W4(a,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Fce(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var v=!d[h+1],g=v?a+o-p:d[h+1]-p;if(g<=0)return null;var b=h%t.length;return B.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:g,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Bce(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var v=!d[h+1],g=v?i+s-p:d[h+1]-p;if(g<=0)return null;var b=h%n.length;return B.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:g,height:l,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var zce=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return G3(Y1(Jr(Jr(Jr({},Dc.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},qce=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return G3(Y1(Jr(Jr(Jr({},Dc.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},ml={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function H4(e){var t,r,n,a,i,o,s=W1(),l=H1(),u=Ele(),d=Jr(Jr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ml.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ml.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ml.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ml.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ml.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ml.verticalFill,x:Le(e.x)?e.x:u.left,y:Le(e.y)?e.y:u.top,width:Le(e.width)?e.width:u.width,height:Le(e.height)?e.height:u.height}),f=d.x,p=d.y,h=d.width,v=d.height,g=d.syncWithTicks,b=d.horizontalValues,x=d.verticalValues,w=Ale(),j=Ole();if(!Le(h)||h<=0||!Le(v)||v<=0||!Le(f)||f!==+f||!Le(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||zce,S=d.horizontalCoordinatesGenerator||qce,P=d.horizontalPoints,A=d.verticalPoints;if((!P||!P.length)&&ot(S)){var E=b&&b.length,k=S({yAxis:j?Jr(Jr({},j),{},{ticks:E?b:j.ticks}):void 0,width:s,height:l,offset:u},E?!0:g);Ca(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_s(k),"]")),Array.isArray(k)&&(P=k)}if((!A||!A.length)&&ot(_)){var M=x&&x.length,T=_({xAxis:w?Jr(Jr({},w),{},{ticks:M?x:w.ticks}):void 0,width:s,height:l,offset:u},M?!0:g);Ca(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_s(T),"]")),Array.isArray(T)&&(A=T)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(Ice,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),B.createElement($ce,ts({},d,{offset:u,horizontalPoints:P,xAxis:w,yAxis:j})),B.createElement(Rce,ts({},d,{offset:u,verticalPoints:A,xAxis:w,yAxis:j})),B.createElement(Fce,ts({},d,{horizontalPoints:P})),B.createElement(Bce,ts({},d,{verticalPoints:A})))}H4.displayName="CartesianGrid";var Uce=["layout","type","stroke","connectNulls","isRange","ref"],Wce=["key"],G4;function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function V4(e,t){if(e==null)return{};var r=Hce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(this,arguments)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){ei(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K4(n.key),n)}}function Vce(e,t,r){return t&&Yj(e.prototype,t),r&&Yj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yce(e,t,r){return t=$p(t),Kce(e,Y4()?Reflect.construct(t,r||[],$p(e).constructor):t.apply(e,r))}function Kce(e,t){if(t&&(sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xce(e)}function Xce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function Zce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qy(e,t)}function ei(e,t,r){return t=K4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4(e){var t=Jce(e,"string");return sc(t)=="symbol"?t:t+""}function Jce(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var No=function(e){function t(){var r;Gce(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Yce(this,t,[].concat(a)),ei(r,"state",{isAnimationFinished:!0}),ei(r,"id",Ec("recharts-area-")),ei(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ot(o)&&o()}),ei(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ot(o)&&o()}),r}return Zce(t,e),Vce(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,p=Je(this.props,!1),h=Je(u,!0),v=d.map(function(b,x){var w=io(io(io({key:"dot-".concat(x),r:3},p),h),{},{index:x,cx:b.x,cy:b.y,dataKey:f,value:b.value,payload:b.payload,points:d});return t.renderDotItem(u,w)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return B.createElement(jt,rs({className:"recharts-area-dots"},g),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=co(o.map(function(p){return p.y||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(co(i.map(function(p){return p.y||0})),f)),Le(f)?B.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=co(o.map(function(p){return p.x||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(co(i.map(function(p){return p.x||0})),f)),Le(f)?B.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var s=this.props,l=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,p=s.isRange;s.ref;var h=V4(s,Uce);return B.createElement(jt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},B.createElement(Dl,rs({},Je(h,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&B.createElement(Dl,rs({},Je(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&p&&B.createElement(Dl,rs({},Je(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,p=o.animationEasing,h=o.animationId,v=this.state,g=v.prevPoints,b=v.prevBaseLine;return B.createElement(ci,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var w=x.t;if(g){var j=g.length/s.length,_=s.map(function(E,k){var M=Math.floor(k*j);if(g[M]){var T=g[M],C=xn(T.x,E.x),I=xn(T.y,E.y);return io(io({},E),{},{x:C(w),y:I(w)})}return E}),S;if(Le(l)&&typeof l=="number"){var P=xn(b,l);S=P(w)}else if(mt(l)||Pc(l)){var A=xn(b,0);S=A(w)}else S=l.map(function(E,k){var M=Math.floor(k*j);if(b[M]){var T=b[M],C=xn(T.x,E.x),I=xn(T.y,E.y);return io(io({},E),{},{x:C(w),y:I(w)})}return E});return i.renderAreaStatically(_,S,n,a)}return B.createElement(jt,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(w))),B.createElement(jt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,s=i.baseLine,l=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,p=u.totalLength;return l&&o&&o.length&&(!d&&p>0||!ys(d,o)||!ys(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,u=a.top,d=a.left,f=a.xAxis,p=a.yAxis,h=a.width,v=a.height,g=a.isAnimationActive,b=a.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,w=s.length===1,j=gt("recharts-area",l),_=f&&f.allowDataOverflow,S=p&&p.allowDataOverflow,P=_||S,A=mt(b)?this.id:b,E=(n=Je(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=E.r,M=k===void 0?3:k,T=E.strokeWidth,C=T===void 0?2:T,I=nY(o)?o:{},$=I.clipDot,G=$===void 0?!0:$,H=M*2+C;return B.createElement(jt,{className:j},_||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(A)},B.createElement("rect",{x:_?d:d-h/2,y:S?u:u-v/2,width:_?h:h*2,height:S?v:v*2})),!G&&B.createElement("clipPath",{id:"clipPath-dots-".concat(A)},B.createElement("rect",{x:d-H/2,y:u-H/2,width:h+H,height:v+H}))):null,w?null:this.renderArea(P,A),(o||w)&&this.renderDots(P,G,A),(!g||x)&&Li.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(z.PureComponent);G4=No;ei(No,"displayName","Area");ei(No,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Es.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ei(No,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=o??i;if(Le(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});ei(No,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=t.layout,v=u&&u.length,g=G4.getBaseValue(t,r,n,a),b=h==="horizontal",x=!1,w=f.map(function(_,S){var P;v?P=u[d+S]:(P=_r(_,l),Array.isArray(P)?x=!0:P=[g,P]);var A=P[1]==null||v&&_r(_,l)==null;return b?{x:wS({axis:n,ticks:i,bandSize:s,entry:_,index:S}),y:A?null:a.scale(P[1]),value:P,payload:_}:{x:A?null:n.scale(P[1]),y:wS({axis:a,ticks:o,bandSize:s,entry:_,index:S}),value:P,payload:_}}),j;return v||x?j=w.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return b?{x:_.x,y:S!=null&&_.y!=null?a.scale(S):null}:{x:S!=null?n.scale(S):null,y:_.y}}):j=b?a.scale(g):n.scale(g),io({points:w,baseLine:j,layout:h,isRange:x},p)});ei(No,"renderDotItem",function(e,t){var r;if(B.isValidElement(e))r=B.cloneElement(e,t);else if(ot(e))r=e(t);else{var n=gt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=V4(t,Wce);r=B.createElement(qm,rs({},i,{key:a,className:n}))}return r});function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function Qce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J4(n.key),n)}}function tue(e,t,r){return t&&eue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rue(e,t,r){return t=Rp(t),nue(e,X4()?Reflect.construct(t,r||[],Rp(e).constructor):t.apply(e,r))}function nue(e,t){if(t&&(lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aue(e)}function aue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function iue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uy(e,t)}function Uy(e,t){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uy(e,t)}function Z4(e,t,r){return t=J4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J4(e){var t=oue(e,"string");return lc(t)=="symbol"?t:t+""}function oue(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}function sue(e){var t=e.xAxisId,r=W1(),n=H1(),a=D4(t);return a==null?null:B.createElement(Dc,Wy({},a,{className:gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ti(o,!0)}}))}var eg=function(e){function t(){return Qce(this,t),rue(this,t,arguments)}return iue(t,e),tue(t,[{key:"render",value:function(){return B.createElement(sue,this.props)}}])}(B.Component);Z4(eg,"displayName","XAxis");Z4(eg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function lue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tP(n.key),n)}}function uue(e,t,r){return t&&cue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function due(e,t,r){return t=Fp(t),fue(e,Q4()?Reflect.construct(t,r||[],Fp(e).constructor):t.apply(e,r))}function fue(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hue(e)}function hue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q4=function(){return!!e})()}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(e)}function pue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hy(e,t)}function Hy(e,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hy(e,t)}function eP(e,t,r){return t=tP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tP(e){var t=mue(e,"string");return cc(t)=="symbol"?t:t+""}function mue(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(this,arguments)}var gue=function(t){var r=t.yAxisId,n=W1(),a=H1(),i=L4(r);return i==null?null:B.createElement(Dc,Gy({},i,{className:gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Ti(s,!0)}}))},tg=function(e){function t(){return lue(this,t),due(this,t,arguments)}return pue(t,e),uue(t,[{key:"render",value:function(){return B.createElement(gue,this.props)}}])}(B.Component);eP(tg,"displayName","YAxis");eP(tg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Kj(e){return xue(e)||bue(e)||yue(e)||vue()}function vue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yue(e,t){if(e){if(typeof e=="string")return Vy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vy(e,t)}}function bue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xue(e){if(Array.isArray(e))return Vy(e)}function Vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yy=function(t,r,n,a,i){var o=ra(t,V1),s=ra(t,Zm),l=[].concat(Kj(o),Kj(s)),u=ra(t,Qm),d="".concat(a,"Id"),f=a[0],p=r;if(l.length&&(p=l.reduce(function(g,b){if(b.props[d]===n&&oi(b.props,"extendDomain")&&Le(b.props[f])){var x=b.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},p)),u.length){var h="".concat(f,"1"),v="".concat(f,"2");p=u.reduce(function(g,b){if(b.props[d]===n&&oi(b.props,"extendDomain")&&Le(b.props[h])&&Le(b.props[v])){var x=b.props[h],w=b.props[v];return[Math.min(g[0],x,w),Math.max(g[1],x,w)]}return g},p)}return i&&i.length&&(p=i.reduce(function(g,b){return Le(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},p)),p},rP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||l,p),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,p,h,v){var g=r?r+u:u;if(!this._events[g])return!1;var b=this._events[g],x=arguments.length,w,j;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,p),!0;case 5:return b.fn.call(b.context,d,f,p,h),!0;case 6:return b.fn.call(b.context,d,f,p,h,v),!0}for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];b.fn.apply(b.context,w)}else{var _=b.length,S;for(j=0;j<_;j++)switch(b[j].once&&this.removeListener(u,b[j].fn,void 0,!0),x){case 1:b[j].fn.call(b[j].context);break;case 2:b[j].fn.call(b[j].context,d);break;case 3:b[j].fn.call(b[j].context,d,f);break;case 4:b[j].fn.call(b[j].context,d,f,p);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];b[j].fn.apply(b[j].context,w)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var g=0,b=[],x=v.length;g<x;g++)(v[g].fn!==d||p&&!v[g].once||f&&v[g].context!==f)&&b.push(v[g]);b.length?this._events[h]=b.length===1?b[0]:b:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(rP);var wue=rP.exports;const Sue=xt(wue);var qv=new Sue,Uv="recharts.syncMouseEvents";function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function jue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nP(n.key),n)}}function _ue(e,t,r){return t&&Nue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wv(e,t,r){return t=nP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nP(e){var t=Aue(e,"string");return Bd(t)=="symbol"?t:t+""}function Aue(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oue=function(){function e(){jue(this,e),Wv(this,"activeIndex",0),Wv(this,"coordinateList",[]),Wv(this,"layout","horizontal")}return _ue(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,p=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function Pue(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Le(n)&&Le(a))return!0}return!1}function Eue(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function aP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Gt(t,r,n,a),s=Gt(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Tue(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,p=Gt(s,l,u,f),h=Gt(s,l,d,f);n=p.x,a=p.y,i=h.x,o=h.y}else return aP(t);return[{x:n,y:a},{x:i,y:o}]}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){Cue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cue(e,t,r){return t=kue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kue(e){var t=Due(e,"string");return zd(t)=="symbol"?t:t+""}function Due(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lue(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var v,g=Dl;if(p==="ScatterChart")v=o,g=Gie;else if(p==="BarChart")v=Eue(f,o,l,d),g=B1;else if(f==="radial"){var b=aP(o),x=b.cx,w=b.cy,j=b.radius,_=b.startAngle,S=b.endAngle;v={cx:x,cy:w,startAngle:_,endAngle:S,innerRadius:j,outerRadius:j},g=n4}else v={points:Tue(f,o,l)},g=Dl;var P=ph(ph(ph(ph({stroke:"#ccc",pointerEvents:"none"},l),v),Je(h,!1)),{},{payload:s,payloadIndex:u,className:gt("recharts-tooltip-cursor",h.className)});return z.isValidElement(h)?z.cloneElement(h,P):z.createElement(g,P)}var Mue=["item"],Iue=["children","className","width","height","style","compact","title","desc"];function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(this,arguments)}function Zj(e,t){return Fue(e)||Rue(e,t)||oP(e,t)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Fue(e){if(Array.isArray(e))return e}function Jj(e,t){if(e==null)return{};var r=Bue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function que(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sP(n.key),n)}}function Uue(e,t,r){return t&&que(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wue(e,t,r){return t=Bp(t),Hue(e,iP()?Reflect.construct(t,r||[],Bp(e).constructor):t.apply(e,r))}function Hue(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gue(e)}function Gue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iP=function(){return!!e})()}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(e)}function Vue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ky(e,t)}function Ky(e,t){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ky(e,t)}function dc(e){return Xue(e)||Kue(e)||oP(e)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oP(e,t){if(e){if(typeof e=="string")return Xy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xy(e,t)}}function Kue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xue(e){if(Array.isArray(e))return Xy(e)}function Xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){nt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nt(e,t,r){return t=sP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sP(e){var t=Zue(e,"string");return uc(t)=="symbol"?t:t+""}function Zue(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jue={xAxis:["bottom","top"],yAxis:["left","right"]},Que={width:"100%",height:"100%"},lP={x:0,y:0};function mh(e){return e}var ede=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},tde=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return je(je(je({},a),Gt(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,u=a.angle;return je(je(je({},a),Gt(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return lP},rg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(dc(s),dc(u)):s},[]);return o.length>0?o:t&&t.length&&Le(a)&&Le(i)?t.slice(a,i+1):[]};function cP(e){return e==="number"?[0,"auto"]:void 0}var Zy=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=rg(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?s:f;p=Hh(h,o.dataKey,a)}else p=f&&f[n]||s[n];return p?[].concat(dc(l),[Z3(u,p)]):l},[])},eN=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=ede(i,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=Nre(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,p=Zy(t,r,d,f),h=tde(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},rde=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=t.stackOffset,h=H3(d,i);return n.reduce(function(v,g){var b,x=g.type.defaultProps!==void 0?je(je({},g.type.defaultProps),g.props):g.props,w=x.type,j=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,P=x.scale,A=x.ticks,E=x.includeHidden,k=x[o];if(v[k])return v;var M=rg(t.data,{graphicalItems:a.filter(function(L){var q,ee=o in L.props?L.props[o]:(q=L.type.defaultProps)===null||q===void 0?void 0:q[o];return ee===k}),dataStartIndex:l,dataEndIndex:u}),T=M.length,C,I,$;Pue(x.domain,_,w)&&(C=fy(x.domain,null,_),h&&(w==="number"||P!=="auto")&&($=$u(M,j,"category")));var G=cP(w);if(!C||C.length===0){var H,Z=(H=x.domain)!==null&&H!==void 0?H:G;if(j){if(C=$u(M,j,w),w==="category"&&h){var J=VV(C);S&&J?(I=C,C=ad(0,T)):S||(C=_S(Z,C,g).reduce(function(L,q){return L.indexOf(q)>=0?L:[].concat(dc(L),[q])},[]))}else if(w==="category")S?C=C.filter(function(L){return L!==""&&!mt(L)}):C=_S(Z,C,g).reduce(function(L,q){return L.indexOf(q)>=0||q===""||mt(q)?L:[].concat(dc(L),[q])},[]);else if(w==="number"){var Y=Ere(M,a.filter(function(L){var q,ee,ie=o in L.props?L.props[o]:(q=L.type.defaultProps)===null||q===void 0?void 0:q[o],K="hide"in L.props?L.props.hide:(ee=L.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ie===k&&(E||!K)}),j,i,d);Y&&(C=Y)}h&&(w==="number"||P!=="auto")&&($=$u(M,j,"category"))}else h?C=ad(0,T):s&&s[k]&&s[k].hasStack&&w==="number"?C=p==="expand"?[0,1]:X3(s[k].stackGroups,l,u):C=W3(M,a.filter(function(L){var q=o in L.props?L.props[o]:L.type.defaultProps[o],ee="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return q===k&&(E||!ee)}),w,d,!0);if(w==="number")C=Yy(f,C,k,i,A),Z&&(C=fy(Z,C,_));else if(w==="category"&&Z){var Q=Z,oe=C.every(function(L){return Q.indexOf(L)>=0});oe&&(C=Q)}}return je(je({},v),{},nt({},k,je(je({},x),{},{axisType:i,domain:C,categoricalDomain:$,duplicateDomain:I,originalDomain:(b=x.domain)!==null&&b!==void 0?b:G,isCategorical:h,layout:d})))},{})},nde=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=rg(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),h=p.length,v=H3(d,i),g=-1;return n.reduce(function(b,x){var w=x.type.defaultProps!==void 0?je(je({},x.type.defaultProps),x.props):x.props,j=w[o],_=cP("number");if(!b[j]){g++;var S;return v?S=ad(0,h):s&&s[j]&&s[j].hasStack?(S=X3(s[j].stackGroups,l,u),S=Yy(f,S,j,i)):(S=fy(_,W3(p,n.filter(function(P){var A,E,k=o in P.props?P.props[o]:(A=P.type.defaultProps)===null||A===void 0?void 0:A[o],M="hide"in P.props?P.props.hide:(E=P.type.defaultProps)===null||E===void 0?void 0:E.hide;return k===j&&!M}),"number",d),a.defaultProps.allowDataOverflow),S=Yy(f,S,j,i)),je(je({},b),{},nt({},j,je(je({axisType:i},a.defaultProps),{},{hide:!0,orientation:$n(Jue,"".concat(i,".").concat(g%2),null),domain:S,originalDomain:_,isCategorical:v,layout:d})))}return b},{})},ade=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),p=ra(d,i),h={};return p&&p.length?h=rde(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(h=nde(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),h},ide=function(t){var r=so(t),n=Ti(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:om(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:gp(r,n)}},tN=function(t){var r=t.children,n=t.defaultShowTooltip,a=Dn(r,tc),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ode=function(t){return!t||!t.length?!1:t.some(function(r){var n=ki(r&&r.type);return n&&n.indexOf("Bar")>=0})},rN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sde=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=Dn(f,tc),v=Dn(f,ss),g=Object.keys(l).reduce(function(S,P){var A=l[P],E=A.orientation;return!A.mirror&&!A.hide?je(je({},S),{},nt({},E,S[E]+A.width)):S},{left:p.left||0,right:p.right||0}),b=Object.keys(o).reduce(function(S,P){var A=o[P],E=A.orientation;return!A.mirror&&!A.hide?je(je({},S),{},nt({},E,$n(S,"".concat(E))+A.height)):S},{top:p.top||0,bottom:p.bottom||0}),x=je(je({},b),g),w=x.bottom;h&&(x.bottom+=h.props.height||tc.defaultProps.height),v&&r&&(x=Ore(x,a,n,r));var j=u-x.left-x.right,_=d-x.top-x.bottom;return je(je({brushBottom:w},x),{},{width:Math.max(j,0),height:Math.max(_,0)})},lde=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},uP=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,p=function(x,w){var j=w.graphicalItems,_=w.stackGroups,S=w.offset,P=w.updateId,A=w.dataStartIndex,E=w.dataEndIndex,k=x.barSize,M=x.layout,T=x.barGap,C=x.barCategoryGap,I=x.maxBarSize,$=rN(M),G=$.numericAxisName,H=$.cateAxisName,Z=ode(j),J=[];return j.forEach(function(Y,Q){var oe=rg(x.data,{graphicalItems:[Y],dataStartIndex:A,dataEndIndex:E}),L=Y.type.defaultProps!==void 0?je(je({},Y.type.defaultProps),Y.props):Y.props,q=L.dataKey,ee=L.maxBarSize,ie=L["".concat(G,"Id")],K=L["".concat(H,"Id")],se={},de=l.reduce(function(Me,Ie){var Ge=w["".concat(Ie.axisType,"Map")],Ze=L["".concat(Ie.axisType,"Id")];Ge&&Ge[Ze]||Ie.axisType==="zAxis"||Ns();var et=Ge[Ze];return je(je({},Me),{},nt(nt({},Ie.axisType,et),"".concat(Ie.axisType,"Ticks"),Ti(et)))},se),ae=de[H],xe=de["".concat(H,"Ticks")],ye=_&&_[ie]&&_[ie].hasStack&&Rre(Y,_[ie].stackGroups),pe=ki(Y.type).indexOf("Bar")>=0,Pe=gp(ae,xe),De=[],be=Z&&_re({barSize:k,stackGroups:_,totalSize:lde(de,H)});if(pe){var re,Ue,Fe=mt(ee)?I:ee,Ae=(re=(Ue=gp(ae,xe,!0))!==null&&Ue!==void 0?Ue:Fe)!==null&&re!==void 0?re:0;De=Are({barGap:T,barCategoryGap:C,bandSize:Ae!==Pe?Ae:Pe,sizeList:be[K],maxBarSize:Fe}),Ae!==Pe&&(De=De.map(function(Me){return je(je({},Me),{},{position:je(je({},Me.position),{},{offset:Me.position.offset-Ae/2})})}))}var ke=Y&&Y.type&&Y.type.getComposedData;ke&&J.push({props:je(je({},ke(je(je({},de),{},{displayedData:oe,props:x,dataKey:q,item:Y,bandSize:Pe,barPosition:De,offset:S,stackedData:ye,layout:M,dataStartIndex:A,dataEndIndex:E}))),{},nt(nt(nt({key:Y.key||"item-".concat(Q)},G,de[G]),H,de[H]),"animationId",P)),childIndex:oY(Y,x.children),item:Y})}),J},h=function(x,w){var j=x.props,_=x.dataStartIndex,S=x.dataEndIndex,P=x.updateId;if(!Hw({props:j}))return null;var A=j.children,E=j.layout,k=j.stackOffset,M=j.data,T=j.reverseStackOrder,C=rN(E),I=C.numericAxisName,$=C.cateAxisName,G=ra(A,n),H=Ire(M,G,"".concat(I,"Id"),"".concat($,"Id"),k,T),Z=l.reduce(function(L,q){var ee="".concat(q.axisType,"Map");return je(je({},L),{},nt({},ee,ade(j,je(je({},q),{},{graphicalItems:G,stackGroups:q.axisType===I&&H,dataStartIndex:_,dataEndIndex:S}))))},{}),J=sde(je(je({},Z),{},{props:j,graphicalItems:G}),w==null?void 0:w.legendBBox);Object.keys(Z).forEach(function(L){Z[L]=d(j,Z[L],J,L.replace("Map",""),r)});var Y=Z["".concat($,"Map")],Q=ide(Y),oe=p(j,je(je({},Z),{},{dataStartIndex:_,dataEndIndex:S,updateId:P,graphicalItems:G,stackGroups:H,offset:J}));return je(je({formattedGraphicalItems:oe,graphicalItems:G,offset:J,stackGroups:H},Q),Z)},v=function(b){function x(w){var j,_,S;return zue(this,x),S=Wue(this,x,[w]),nt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nt(S,"accessibilityManager",new Oue),nt(S,"handleLegendBBoxUpdate",function(P){if(P){var A=S.state,E=A.dataStartIndex,k=A.dataEndIndex,M=A.updateId;S.setState(je({legendBBox:P},h({props:S.props,dataStartIndex:E,dataEndIndex:k,updateId:M},je(je({},S.state),{},{legendBBox:P}))))}}),nt(S,"handleReceiveSyncEvent",function(P,A,E){if(S.props.syncId===P){if(E===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),nt(S,"handleBrushChange",function(P){var A=P.startIndex,E=P.endIndex;if(A!==S.state.dataStartIndex||E!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return je({dataStartIndex:A,dataEndIndex:E},h({props:S.props,dataStartIndex:A,dataEndIndex:E,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),nt(S,"handleMouseEnter",function(P){var A=S.getMouseInfo(P);if(A){var E=je(je({},A),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var k=S.props.onMouseEnter;ot(k)&&k(E,P)}}),nt(S,"triggeredAfterMouseMove",function(P){var A=S.getMouseInfo(P),E=A?je(je({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var k=S.props.onMouseMove;ot(k)&&k(E,P)}),nt(S,"handleItemMouseEnter",function(P){S.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),nt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),nt(S,"handleMouseMove",function(P){P.persist(),S.throttleTriggeredAfterMouseMove(P)}),nt(S,"handleMouseLeave",function(P){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var E=S.props.onMouseLeave;ot(E)&&E(A,P)}),nt(S,"handleOuterEvent",function(P){var A=iY(P),E=$n(S.props,"".concat(A));if(A&&ot(E)){var k,M;/.*touch.*/i.test(A)?M=S.getMouseInfo(P.changedTouches[0]):M=S.getMouseInfo(P),E((k=M)!==null&&k!==void 0?k:{},P)}}),nt(S,"handleClick",function(P){var A=S.getMouseInfo(P);if(A){var E=je(je({},A),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var k=S.props.onClick;ot(k)&&k(E,P)}}),nt(S,"handleMouseDown",function(P){var A=S.props.onMouseDown;if(ot(A)){var E=S.getMouseInfo(P);A(E,P)}}),nt(S,"handleMouseUp",function(P){var A=S.props.onMouseUp;if(ot(A)){var E=S.getMouseInfo(P);A(E,P)}}),nt(S,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),nt(S,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseDown(P.changedTouches[0])}),nt(S,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseUp(P.changedTouches[0])}),nt(S,"handleDoubleClick",function(P){var A=S.props.onDoubleClick;if(ot(A)){var E=S.getMouseInfo(P);A(E,P)}}),nt(S,"handleContextMenu",function(P){var A=S.props.onContextMenu;if(ot(A)){var E=S.getMouseInfo(P);A(E,P)}}),nt(S,"triggerSyncEvent",function(P){S.props.syncId!==void 0&&qv.emit(Uv,S.props.syncId,P,S.eventEmitterSymbol)}),nt(S,"applySyncEvent",function(P){var A=S.props,E=A.layout,k=A.syncMethod,M=S.state.updateId,T=P.dataStartIndex,C=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)S.setState(je({dataStartIndex:T,dataEndIndex:C},h({props:S.props,dataStartIndex:T,dataEndIndex:C,updateId:M},S.state)));else if(P.activeTooltipIndex!==void 0){var I=P.chartX,$=P.chartY,G=P.activeTooltipIndex,H=S.state,Z=H.offset,J=H.tooltipTicks;if(!Z)return;if(typeof k=="function")G=k(J,P);else if(k==="value"){G=-1;for(var Y=0;Y<J.length;Y++)if(J[Y].value===P.activeLabel){G=Y;break}}var Q=je(je({},Z),{},{x:Z.left,y:Z.top}),oe=Math.min(I,Q.x+Q.width),L=Math.min($,Q.y+Q.height),q=J[G]&&J[G].value,ee=Zy(S.state,S.props.data,G),ie=J[G]?{x:E==="horizontal"?J[G].coordinate:oe,y:E==="horizontal"?L:J[G].coordinate}:lP;S.setState(je(je({},P),{},{activeLabel:q,activeCoordinate:ie,activePayload:ee,activeTooltipIndex:G}))}else S.setState(P)}),nt(S,"renderCursor",function(P){var A,E=S.state,k=E.isTooltipActive,M=E.activeCoordinate,T=E.activePayload,C=E.offset,I=E.activeTooltipIndex,$=E.tooltipAxisBandSize,G=S.getTooltipEventType(),H=(A=P.props.active)!==null&&A!==void 0?A:k,Z=S.props.layout,J=P.key||"_recharts-cursor";return B.createElement(Lue,{key:J,activeCoordinate:M,activePayload:T,activeTooltipIndex:I,chartName:r,element:P,isActive:H,layout:Z,offset:C,tooltipAxisBandSize:$,tooltipEventType:G})}),nt(S,"renderPolarAxis",function(P,A,E){var k=$n(P,"type.axisType"),M=$n(S.state,"".concat(k,"Map")),T=P.type.defaultProps,C=T!==void 0?je(je({},T),P.props):P.props,I=M&&M[C["".concat(k,"Id")]];return z.cloneElement(P,je(je({},I),{},{className:gt(k,I.className),key:P.key||"".concat(A,"-").concat(E),ticks:Ti(I,!0)}))}),nt(S,"renderPolarGrid",function(P){var A=P.props,E=A.radialLines,k=A.polarAngles,M=A.polarRadius,T=S.state,C=T.radiusAxisMap,I=T.angleAxisMap,$=so(C),G=so(I),H=G.cx,Z=G.cy,J=G.innerRadius,Y=G.outerRadius;return z.cloneElement(P,{polarAngles:Array.isArray(k)?k:Ti(G,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(M)?M:Ti($,!0).map(function(Q){return Q.coordinate}),cx:H,cy:Z,innerRadius:J,outerRadius:Y,key:P.key||"polar-grid",radialLines:E})}),nt(S,"renderLegend",function(){var P=S.state.formattedGraphicalItems,A=S.props,E=A.children,k=A.width,M=A.height,T=S.props.margin||{},C=k-(T.left||0)-(T.right||0),I=q3({children:E,formattedGraphicalItems:P,legendWidth:C,legendContent:u});if(!I)return null;var $=I.item,G=Jj(I,Mue);return z.cloneElement($,je(je({},G),{},{chartWidth:k,chartHeight:M,margin:T,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),nt(S,"renderTooltip",function(){var P,A=S.props,E=A.children,k=A.accessibilityLayer,M=Dn(E,_a);if(!M)return null;var T=S.state,C=T.isTooltipActive,I=T.activeCoordinate,$=T.activePayload,G=T.activeLabel,H=T.offset,Z=(P=M.props.active)!==null&&P!==void 0?P:C;return z.cloneElement(M,{viewBox:je(je({},H),{},{x:H.left,y:H.top}),active:Z,label:G,payload:Z?$:[],coordinate:I,accessibilityLayer:k})}),nt(S,"renderBrush",function(P){var A=S.props,E=A.margin,k=A.data,M=S.state,T=M.offset,C=M.dataStartIndex,I=M.dataEndIndex,$=M.updateId;return z.cloneElement(P,{key:P.key||"_recharts-brush",onChange:uh(S.handleBrushChange,P.props.onChange),data:k,x:Le(P.props.x)?P.props.x:T.left,y:Le(P.props.y)?P.props.y:T.top+T.height+T.brushBottom-(E.bottom||0),width:Le(P.props.width)?P.props.width:T.width,startIndex:C,endIndex:I,updateId:"brush-".concat($)})}),nt(S,"renderReferenceElement",function(P,A,E){if(!P)return null;var k=S,M=k.clipPathId,T=S.state,C=T.xAxisMap,I=T.yAxisMap,$=T.offset,G=P.type.defaultProps||{},H=P.props,Z=H.xAxisId,J=Z===void 0?G.xAxisId:Z,Y=H.yAxisId,Q=Y===void 0?G.yAxisId:Y;return z.cloneElement(P,{key:P.key||"".concat(A,"-").concat(E),xAxis:C[J],yAxis:I[Q],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:M})}),nt(S,"renderActivePoints",function(P){var A=P.item,E=P.activePoint,k=P.basePoint,M=P.childIndex,T=P.isRange,C=[],I=A.props.key,$=A.item.type.defaultProps!==void 0?je(je({},A.item.type.defaultProps),A.item.props):A.item.props,G=$.activeDot,H=$.dataKey,Z=je(je({index:M,dataKey:H,cx:E.x,cy:E.y,r:4,fill:F1(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Je(G,!1)),Gh(G));return C.push(x.renderActiveDot(G,Z,"".concat(I,"-activePoint-").concat(M))),k?C.push(x.renderActiveDot(G,je(je({},Z),{},{cx:k.x,cy:k.y}),"".concat(I,"-basePoint-").concat(M))):T&&C.push(null),C}),nt(S,"renderGraphicChild",function(P,A,E){var k=S.filterFormatItem(P,A,E);if(!k)return null;var M=S.getTooltipEventType(),T=S.state,C=T.isTooltipActive,I=T.tooltipAxis,$=T.activeTooltipIndex,G=T.activeLabel,H=S.props.children,Z=Dn(H,_a),J=k.props,Y=J.points,Q=J.isRange,oe=J.baseLine,L=k.item.type.defaultProps!==void 0?je(je({},k.item.type.defaultProps),k.item.props):k.item.props,q=L.activeDot,ee=L.hide,ie=L.activeBar,K=L.activeShape,se=!!(!ee&&C&&Z&&(q||ie||K)),de={};M!=="axis"&&Z&&Z.props.trigger==="click"?de={onClick:uh(S.handleItemMouseEnter,P.props.onClick)}:M!=="axis"&&(de={onMouseLeave:uh(S.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:uh(S.handleItemMouseEnter,P.props.onMouseEnter)});var ae=z.cloneElement(P,je(je({},k.props),de));function xe(Ie){return typeof I.dataKey=="function"?I.dataKey(Ie.payload):null}if(se)if($>=0){var ye,pe;if(I.dataKey&&!I.allowDuplicatedCategory){var Pe=typeof I.dataKey=="function"?xe:"payload.".concat(I.dataKey.toString());ye=Hh(Y,Pe,G),pe=Q&&oe&&Hh(oe,Pe,G)}else ye=Y==null?void 0:Y[$],pe=Q&&oe&&oe[$];if(K||ie){var De=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[z.cloneElement(P,je(je(je({},k.props),de),{},{activeIndex:De})),null,null]}if(!mt(ye))return[ae].concat(dc(S.renderActivePoints({item:k,activePoint:ye,basePoint:pe,childIndex:$,isRange:Q})))}else{var be,re=(be=S.getItemByXY(S.state.activeCoordinate))!==null&&be!==void 0?be:{graphicalItem:ae},Ue=re.graphicalItem,Fe=Ue.item,Ae=Fe===void 0?P:Fe,ke=Ue.childIndex,Me=je(je(je({},k.props),de),{},{activeIndex:ke});return[z.cloneElement(Ae,Me),null,null]}return Q?[ae,null,null]:[ae,null]}),nt(S,"renderCustomized",function(P,A,E){return z.cloneElement(P,je(je({key:"recharts-customized-".concat(E)},S.props),S.state))}),nt(S,"renderMap",{CartesianGrid:{handler:mh,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:mh},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:mh},YAxis:{handler:mh},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((j=w.id)!==null&&j!==void 0?j:Ec("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=zO(S.triggeredAfterMouseMove,(_=w.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return Vue(x,b),Uue(x,[{key:"componentDidMount",value:function(){var j,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,_=j.children,S=j.data,P=j.height,A=j.layout,E=Dn(_,_a);if(E){var k=E.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,T=Zy(this.state,S,k,M),C=this.state.tooltipTicks[k].coordinate,I=(this.state.offset.top+P)/2,$=A==="horizontal",G=$?{x:C,y:I}:{y:C,x:I},H=this.state.formattedGraphicalItems.find(function(J){var Y=J.item;return Y.type.name==="Scatter"});H&&(G=je(je({},G),H.props.points[k].tooltipPosition),T=H.props.points[k].tooltipPayload);var Z={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:M,activePayload:T,activeCoordinate:G};this.setState(Z),this.renderCursor(E),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var S,P;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(j){k0([Dn(j.children,_a)],[Dn(this.props.children,_a)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Dn(this.props.children,_a);if(j&&typeof j.props.shared=="boolean"){var _=j.props.shared?"axis":"item";return s.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),P=tJ(S),A={chartX:Math.round(j.pageX-P.left),chartY:Math.round(j.pageY-P.top)},E=S.width/_.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,E);if(!k)return null;var M=this.state,T=M.xAxisMap,C=M.yAxisMap,I=this.getTooltipEventType(),$=eN(this.state,this.props.data,this.props.layout,k);if(I!=="axis"&&T&&C){var G=so(T).scale,H=so(C).scale,Z=G&&G.invert?G.invert(A.chartX):null,J=H&&H.invert?H.invert(A.chartY):null;return je(je({},A),{},{xValue:Z,yValue:J},$)}return $?je(je({},A),$):null}},{key:"inRange",value:function(j,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,A=j/S,E=_/S;if(P==="horizontal"||P==="vertical"){var k=this.state.offset,M=A>=k.left&&A<=k.left+k.width&&E>=k.top&&E<=k.top+k.height;return M?{x:A,y:E}:null}var T=this.state,C=T.angleAxisMap,I=T.radiusAxisMap;if(C&&I){var $=so(C);return PS({x:A,y:E},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,_=this.getTooltipEventType(),S=Dn(j,_a),P={};S&&_==="axis"&&(S.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Gh(this.props,this.handleOuterEvent);return je(je({},A),P)}},{key:"addListener",value:function(){qv.on(Uv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qv.removeListener(Uv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,_,S){for(var P=this.state.formattedGraphicalItems,A=0,E=P.length;A<E;A++){var k=P[A];if(k.item===j||k.props.key===j.key||_===ki(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,_=this.state.offset,S=_.left,P=_.top,A=_.height,E=_.width;return B.createElement("defs",null,B.createElement("clipPath",{id:j},B.createElement("rect",{x:S,y:P,height:A,width:E})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(_,S){var P=Zj(S,2),A=P[0],E=P[1];return je(je({},_),{},nt({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(_,S){var P=Zj(S,2),A=P[0],E=P[1];return je(je({},_),{},nt({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(j){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(j){var _=this.state,S=_.formattedGraphicalItems,P=_.activeItem;if(S&&S.length)for(var A=0,E=S.length;A<E;A++){var k=S[A],M=k.props,T=k.item,C=T.type.defaultProps!==void 0?je(je({},T.type.defaultProps),T.props):T.props,I=ki(T.type);if(I==="Bar"){var $=(M.data||[]).find(function(J){return Aie(j,J)});if($)return{graphicalItem:k,payload:$}}else if(I==="RadialBar"){var G=(M.data||[]).find(function(J){return PS(j,J)});if(G)return{graphicalItem:k,payload:G}}else if(Vm(k,P)||Ym(k,P)||Md(k,P)){var H=ese({graphicalItem:k,activeTooltipItem:P,itemData:C.data}),Z=C.activeIndex===void 0?H:C.activeIndex;return{graphicalItem:je(je({},k),{},{childIndex:Z}),payload:Md(k,P)?C.data[H]:k.props.data[H]}}}return null}},{key:"render",value:function(){var j=this;if(!Hw(this))return null;var _=this.props,S=_.children,P=_.className,A=_.width,E=_.height,k=_.style,M=_.compact,T=_.title,C=_.desc,I=Jj(_,Iue),$=Je(I,!1);if(M)return B.createElement(Lj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(L0,_l({},$,{width:A,height:E,title:T,desc:C}),this.renderClipPath(),Vw(S,this.renderMap)));if(this.props.accessibilityLayer){var G,H;$.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,$.role=(H=this.props.role)!==null&&H!==void 0?H:"application",$.onKeyDown=function(J){j.accessibilityManager.keyboardEvent(J)},$.onFocus=function(){j.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return B.createElement(Lj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",_l({className:gt("recharts-wrapper",P),style:je({position:"relative",cursor:"default",width:A,height:E},k)},Z,{ref:function(Y){j.container=Y}}),B.createElement(L0,_l({},$,{width:A,height:E,title:T,desc:C,style:Que}),this.renderClipPath(),Vw(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);nt(v,"displayName",r),nt(v,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),nt(v,"getDerivedStateFromProps",function(b,x){var w=b.dataKey,j=b.data,_=b.children,S=b.width,P=b.height,A=b.layout,E=b.stackOffset,k=b.margin,M=x.dataStartIndex,T=x.dataEndIndex;if(x.updateId===void 0){var C=tN(b);return je(je(je({},C),{},{updateId:0},h(je(je({props:b},C),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:j,prevWidth:S,prevHeight:P,prevLayout:A,prevStackOffset:E,prevMargin:k,prevChildren:_})}if(w!==x.prevDataKey||j!==x.prevData||S!==x.prevWidth||P!==x.prevHeight||A!==x.prevLayout||E!==x.prevStackOffset||!Tl(k,x.prevMargin)){var I=tN(b),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},G=je(je({},eN(x,j,A)),{},{updateId:x.updateId+1}),H=je(je(je({},I),$),G);return je(je(je({},H),h(je({props:b},H),x)),{},{prevDataKey:w,prevData:j,prevWidth:S,prevHeight:P,prevLayout:A,prevStackOffset:E,prevMargin:k,prevChildren:_})}if(!k0(_,x.prevChildren)){var Z,J,Y,Q,oe=Dn(_,tc),L=oe&&(Z=(J=oe.props)===null||J===void 0?void 0:J.startIndex)!==null&&Z!==void 0?Z:M,q=oe&&(Y=(Q=oe.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&Y!==void 0?Y:T,ee=L!==M||q!==T,ie=!mt(j),K=ie&&!ee?x.updateId:x.updateId+1;return je(je({updateId:K},h(je(je({props:b},x),{},{updateId:K,dataStartIndex:L,dataEndIndex:q}),x)),{},{prevChildren:_,dataStartIndex:L,dataEndIndex:q})}return null}),nt(v,"renderActiveDot",function(b,x,w){var j;return z.isValidElement(b)?j=z.cloneElement(b,x):ot(b)?j=b(x):j=B.createElement(qm,x),B.createElement(jt,{className:"recharts-active-dot",key:w},j)});var g=z.forwardRef(function(x,w){return B.createElement(v,_l({},x,{ref:w}))});return g.displayName=v.displayName,g},cde=uP({chartName:"PieChart",GraphicalChild:zi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Gm},{axisType:"radiusAxis",AxisComp:Wm}],formatAxisMap:Yre,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ude=uP({chartName:"AreaChart",GraphicalChild:No,axisComponents:[{axisType:"xAxis",AxisComp:eg},{axisType:"yAxis",AxisComp:tg}],formatAxisMap:ule});const nN=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];function dP(){const{id:e}=qd(),{profile:t,loading:r}=yo(),n=t==null?void 0:t.org_id,[a,i]=z.useState(!0),[o,s]=z.useState(null),[l,u]=z.useState("overview"),[d,f]=z.useState("6m"),[p,h]=z.useState({total_donations:0,total_donors:0,average_donation:0,progress:0,top_donor:null,monetary_donations:0,time_donations:0,supply_donations:0,donor_retention_rate:0,recurring_donors:0,campaign_efficiency:0,volunteer_hours:0,supply_value:0,monthly_trends:[],donor_demographics:[],campaign_performance:[],volunteer_metrics:[],supply_categories:[],donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]}),[v,g]=z.useState({type:"monetary",amount:"",description:"",date:n1(new Date,"yyyy-MM-dd"),donor_name:"",donor_email:"",donor_phone:"",is_recurring:!1,frequency:"monthly",category:"",payment_method:"credit_card"});z.useEffect(()=>{if(!r){if(!e&&!n){s("No fundraiser or organization context found."),i(!1);return}x()}},[e,d,n,r]);const b=j=>({...p,...j,monthly_trends:Array.isArray(j==null?void 0:j.monthly_trends)?j.monthly_trends:[],donor_demographics:Array.isArray(j==null?void 0:j.donor_demographics)?j.donor_demographics:[],campaign_performance:Array.isArray(j==null?void 0:j.campaign_performance)?j.campaign_performance:[],volunteer_metrics:Array.isArray(j==null?void 0:j.volunteer_metrics)?j.volunteer_metrics:[],supply_categories:Array.isArray(j==null?void 0:j.supply_categories)?j.supply_categories:[],donors:Array.isArray(j==null?void 0:j.donors)?j.donors:[],top_donors:Array.isArray(j==null?void 0:j.top_donors)?j.top_donors:[],recurring_donor_list:Array.isArray(j==null?void 0:j.recurring_donor_list)?j.recurring_donor_list:[],donor_retention:Array.isArray(j==null?void 0:j.donor_retention)?j.donor_retention:[]}),x=async()=>{var j,_,S,P,A,E,k,M,T,C,I,$,G;try{i(!0);const[H,Z,J,Y]=await Promise.all([Ea.getAnalyticsOverview({dateRange:d}),Ea.getAnalyticsTrends({dateRange:d}),Ea.getAnalyticsDonorRetention({dateRange:d}),Ea.getAnalyticsCampaigns({dateRange:d})]);console.log("Analytics API responses:",{overview:H,trends:Z,retention:J,campaigns:Y});const Q={total_donations:((_=(j=H==null?void 0:H.data)==null?void 0:j.data)==null?void 0:_.total_donations)||0,total_donors:((P=(S=H==null?void 0:H.data)==null?void 0:S.data)==null?void 0:P.total_donors)||0,volunteer_hours:((E=(A=H==null?void 0:H.data)==null?void 0:A.data)==null?void 0:E.total_volunteer_hours)||0,supply_value:((M=(k=H==null?void 0:H.data)==null?void 0:k.data)==null?void 0:M.total_supply_value)||0,active_campaigns:((C=(T=H==null?void 0:H.data)==null?void 0:T.data)==null?void 0:C.active_campaigns)||0,monthly_trends:((I=Z==null?void 0:Z.data)==null?void 0:I.data)||[],donor_retention:(($=J==null?void 0:J.data)==null?void 0:$.data)||[],campaign_performance:((G=Y==null?void 0:Y.data)==null?void 0:G.data)||[]};h(b(Q)),s(null)}catch(H){const Z="Failed to fetch fundraiser analytics";s(Z),Ta(H,Z),console.error("Analytics fetch error:",H)}finally{i(!1)}},w=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j);return o?c.jsx("div",{className:"text-red-500 text-center mt-8",children:o}):a?c.jsx("div",{className:"text-center py-12",children:"Loading analytics..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Ln,{children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:c.jsx(CN,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donations"}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:w(p.total_donations)})]})]})}),c.jsx(Ln,{children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:c.jsx(qu,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donors"}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.total_donors})]})]})}),c.jsx(Ln,{children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:c.jsx(kN,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Volunteer Hours"}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.volunteer_hours})]})]})}),c.jsx(Ln,{children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:c.jsx(AE,{className:"h-6 w-6 text-yellow-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Supply Value"}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:w(p.supply_value)})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Ln,{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Trends"}),c.jsx("div",{className:"h-80",children:c.jsx(g5,{width:"100%",height:"100%",children:c.jsxs(ude,{data:p.monthly_trends,children:[c.jsx(H4,{strokeDasharray:"3 3"}),c.jsx(eg,{dataKey:"date"}),c.jsx(tg,{}),c.jsx(_a,{formatter:j=>w(j)}),c.jsx(No,{type:"monotone",dataKey:"amount",stroke:"#2563eb",fill:"#93c5fd"})]})})})]}),c.jsxs(Ln,{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Types"}),c.jsx("div",{className:"h-80",children:c.jsx(g5,{width:"100%",height:"100%",children:c.jsxs(cde,{children:[c.jsx(zi,{data:p.supply_categories,dataKey:"value",nameKey:"category",cx:"50%",cy:"50%",outerRadius:80,fill:"#2563eb",label:!0,children:p.supply_categories.map((j,_)=>c.jsx(Tm,{fill:nN[_%nN.length]},`cell-${_}`))}),c.jsx(_a,{}),c.jsx(ss,{})]})})})]})]})]})}function dde(){const{id:e}=qd(),[t,r]=z.useState(!0),[n,a]=z.useState(null),[i,o]=z.useState(null),[s,l]=z.useState(!1);z.useEffect(()=>{if(!e){a("No fundraiser selected. Please select a fundraiser to share."),r(!1);return}u()},[e]);const u=async()=>{if(e)try{r(!0);const{data:p,error:h}=await Ea.getFundraiser(e);if(h)throw new Error(h);o(p),a(null)}catch(p){const h="Failed to fetch fundraiser details";a(h),Ta(p,h)}finally{r(!1)}},d=async p=>{const h=`${window.location.origin}/fundraisers/${e}`,v=`Support ${i.title} - ${i.description}`;try{switch(p){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(h)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(v)}&url=${encodeURIComponent(h)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(h)}`,"_blank");break;default:break}us("Shared successfully")}catch(g){Ta(g,"Failed to share")}},f=async()=>{const p=`${window.location.origin}/fundraisers/${e}`;try{await navigator.clipboard.writeText(p),l(!0),us("Link copied to clipboard"),setTimeout(()=>l(!1),2e3)}catch(h){Ta(h,"Failed to copy link")}};return n?c.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):i?c.jsx(a1,{title:"Share Fundraiser",loading:t,error:n,children:c.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:c.jsx(Ln,{title:i.title,description:i.description,children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[c.jsxs(wn,{onClick:()=>d("facebook"),className:"flex items-center space-x-2",children:[c.jsx(OE,{className:"h-5 w-5"}),c.jsx("span",{children:"Share on Facebook"})]}),c.jsxs(wn,{onClick:()=>d("twitter"),className:"flex items-center space-x-2",children:[c.jsx(PE,{className:"h-5 w-5"}),c.jsx("span",{children:"Share on Twitter"})]}),c.jsxs(wn,{onClick:()=>d("linkedin"),className:"flex items-center space-x-2",children:[c.jsx(EE,{className:"h-5 w-5"}),c.jsx("span",{children:"Share on LinkedIn"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600 truncate",children:`${window.location.origin}/fundraisers/${e}`}),c.jsx(wn,{onClick:f,variant:"outline",className:"flex items-center space-x-2",children:s?c.jsxs(c.Fragment,{children:[c.jsx(TE,{className:"h-5 w-5 text-green-500"}),c.jsx("span",{children:"Copied!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(DN,{className:"h-5 w-5"}),c.jsx("span",{children:"Copy"})]})})]})]})})})}):null}function fde(){const e=hn(),[t,r]=z.useState(!0),[n,a]=z.useState(null),[i,o]=z.useState({donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]});z.useEffect(()=>{s()},[]);const s=async()=>{var d;try{r(!0);const f=await Ea.getAnalyticsDonorRetention();console.log("Donor retention response:",f);const p=(d=f==null?void 0:f.data)==null?void 0:d.data;let h=[];Array.isArray(p)?h=p:p&&typeof p=="object"&&(h=p.donors||p.retention||[]),Array.isArray(h)||(h=[]),console.log("Processed donor data:",h),o({donors:h,top_donors:h.slice(0,10),recurring_donor_list:h.filter(v=>v.months_active>1),donor_retention:h}),a(null)}catch(f){a("Failed to fetch donor analytics"),console.error("Donor analytics fetch error:",f)}finally{r(!1)}},l=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),u=d=>n1(new Date(d),"MMM d, yyyy");return n?c.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):t?c.jsx("div",{className:"text-center py-12",children:"Loading donors..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Donor Analytics"}),c.jsx(wn,{variant:"outline",onClick:()=>e("/fundraisers/record-donation"),children:"Add Donation"})]}),c.jsxs(Ln,{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor List"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Recurring"})]})}),c.jsx("tbody",{children:i.donors&&i.donors.length>0?i.donors.map((d,f)=>c.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||"N/A"}),c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:l((d==null?void 0:d.total_donated)||0)}),c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:((d==null?void 0:d.months_active)||0)>1?"Yes":"No"})]},f)):c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donors found."})})})]})})]}),c.jsxs(Ln,{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Donors"}),c.jsx("ul",{className:"divide-y divide-gray-200",children:i.top_donors&&i.top_donors.length>0?i.top_donors.map((d,f)=>c.jsxs("li",{className:"py-2 flex justify-between",children:[c.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),c.jsx("span",{className:"font-semibold",children:l((d==null?void 0:d.total_donated)||0)})]},f)):c.jsx("li",{className:"text-center py-4 text-gray-500",children:"No top donors found."})})]}),c.jsxs(Ln,{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recurring Donors"}),c.jsx("ul",{className:"divide-y divide-gray-200",children:i.recurring_donor_list&&i.recurring_donor_list.length>0?i.recurring_donor_list.map((d,f)=>c.jsxs("li",{className:"py-2 flex justify-between",children:[c.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),c.jsx("span",{className:"font-semibold",children:l((d==null?void 0:d.total_donated)||0)})]},f)):c.jsx("li",{className:"text-center py-4 text-gray-500",children:"No recurring donors found."})})]}),c.jsxs(Ln,{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor Retention"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Donor"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Months Active"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"First Donation"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"})]})}),c.jsx("tbody",{children:i.donor_retention&&i.donor_retention.length>0?i.donor_retention.map((d,f)=>c.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.months_active)||0}),c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.first_donation?u(d.first_donation):"N/A"}),c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:l((d==null?void 0:d.total_donated)||0)})]},f)):c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donor retention data found."})})})]})})]})]})}const aN=[{value:"monetary",label:"Monetary Donations"},{value:"volunteer",label:"Volunteer Hours"},{value:"supplies",label:"Supply Donations"},{value:"top_donors",label:"Top Donors"},{value:"recurring",label:"Recurring Donors"},{value:"retention",label:"Donor Retention"},{value:"campaign",label:"Campaign Performance"},{value:"year_over_year",label:"Year-over-Year Comparison"}];function hde(){var h;const[e,t]=z.useState("monetary"),[r,n]=z.useState("6m"),[a,i]=z.useState(!1),[o,s]=z.useState([]),[l,u]=z.useState(null),d=()=>{i(!0),setTimeout(()=>{s([{name:"John Smith",value:1500,date:"2024-01-15"},{name:"Sarah Johnson",value:2500,date:"2024-03-01"},{name:"Mike Brown",value:500,date:"2024-02-01"}]),i(!1),u(null)},1e3)},f=()=>{alert("PDF export coming soon!")},p=()=>{alert("XLSX export coming soon!")};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[c.jsx("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e,onChange:v=>t(v.target.value),children:aN.map(v=>c.jsx("option",{value:v.value,children:v.label},v.value))}),c.jsxs("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:v=>n(v.target.value),children:[c.jsx("option",{value:"6m",children:"Last 6 Months"}),c.jsx("option",{value:"1y",children:"Last Year"}),c.jsx("option",{value:"all",children:"All Time"})]}),c.jsx(wn,{variant:"outline",onClick:d,disabled:a,children:"Generate Report"})]}),c.jsxs(Ln,{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[(h=aN.find(v=>v.value===e))==null?void 0:h.label," Report"]}),c.jsxs("div",{className:"space-x-2",children:[c.jsx(wn,{variant:"outline",onClick:f,children:"Export as PDF"}),c.jsx(wn,{variant:"outline",onClick:p,children:"Export as XLSX"})]})]}),l&&c.jsx("div",{className:"text-red-500 mb-4",children:l}),a?c.jsx("div",{className:"text-center py-12",children:"Generating report..."}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),c.jsx("tbody",{children:o.length>0?o.map((v,g)=>c.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.name}),c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.value}),c.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.date})]},g)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"text-center py-4 text-gray-500",children:"No data to display."})})})]})})]})]})}function fP({fundraiserId:e,onCancel:t,onSave:r,embedded:n=!1}){const a=hn(),{id:i}=qd(),o=e||i,[s,l]=z.useState(!0),[u,d]=z.useState(null),[f,p]=z.useState({title:"",description:"",goal_amount:"",category_id:"",start_date:"",end_date:"",status:"draft",visibility:"organization"}),h=[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],v=[{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"organization",label:"Organization Only"}];z.useEffect(()=>{o?g():l(!1)},[o]);const g=async()=>{var j;if(o)try{l(!0);const _=await Ea.getFundraiser(o);console.log("Raw API response:",_);const S=((j=_.data)==null?void 0:j.data)||_.data||_;if(console.log("Extracted fundraiser data:",S),console.log("Fundraiser data keys:",S?Object.keys(S):"no data"),_.error)throw new Error(_.error);if(!S)throw new Error("No fundraiser found with this ID.");const P={title:S.title||"",description:S.description||"",goal_amount:S.goal_amount||S.goal||"",category_id:S.category_id||S.category||"",start_date:S.start_date?S.start_date.split("T")[0]:"",end_date:S.end_date?S.end_date.split("T")[0]:"",status:S.status||"draft",visibility:S.visibility||"organization"};console.log("Individual field values:"),console.log("fundraiserData.title:",S.title),console.log("fundraiserData.goal:",S.goal),console.log("fundraiserData.start_date:",S.start_date),console.log("Transformed data for form:",P),p(P),d(null)}catch(_){const S="Failed to fetch fundraiser details";d(_.message||S),Ta(_,S)}finally{l(!1)}},b=async j=>{j.preventDefault();try{l(!0);const _={title:f.title,description:f.description,goal_amount:f.goal_amount,start_date:f.start_date,end_date:f.end_date,status:f.status,visibility:f.visibility,category:f.category_id};if(o){const{error:S}=await Ea.updateFundraiser(o,_);if(S)throw new Error(S);us("Fundraiser updated successfully"),n&&r?r():a("/fundraisers")}else{const{error:S}=await Ea.createFundraiser(_);if(S)throw new Error(S);us("Fundraiser created successfully"),n&&r?r():a("/fundraisers")}}catch(_){Ta(_,o?"Failed to update fundraiser":"Failed to create fundraiser")}finally{l(!1)}},x=j=>{const{name:_,value:S}=j.target;p(P=>({...P,[_]:S}))};if(s)return c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("span",{className:"text-blue-600 text-lg",children:"Loading fundraiser details..."})});if(u)return c.jsx("div",{className:"text-red-500 text-center mt-8",children:u});if(!o&&(window.location.pathname.includes("edit")||n))return c.jsx("div",{className:"text-red-500 text-center mt-8",children:"No fundraiser selected. Please select a fundraiser to edit."});const w=c.jsxs("form",{onSubmit:b,className:"max-w-2xl mx-auto space-y-6",children:[c.jsx(fl,{label:"Title",id:"title",name:"title",value:f.title,onChange:x,required:!0}),c.jsx(fl,{label:"Description",id:"description",name:"description",value:f.description,onChange:x,required:!0,as:"textarea",rows:4}),c.jsx(fl,{label:"Goal Amount",id:"goal_amount",name:"goal_amount",type:"number",value:f.goal_amount,onChange:x,required:!0,min:"0",step:"0.01"}),c.jsx(fl,{label:"Category",id:"category_id",name:"category_id",value:f.category_id,onChange:x}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(fl,{label:"Start Date",id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:x,required:!0}),c.jsx(fl,{label:"End Date",id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:x,required:!0})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(Bw,{label:"Status",id:"status",name:"status",value:f.status,onChange:x,required:!0,options:h}),c.jsx(Bw,{label:"Visibility",id:"visibility",name:"visibility",value:f.visibility,onChange:x,required:!0,options:v})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(wn,{type:"button",variant:"outline",onClick:n&&t?t:()=>a("/fundraisers"),children:"Cancel"}),c.jsxs(wn,{type:"submit",isLoading:s,children:[o?"Update":"Create"," Fundraiser"]})]})]});return n?w:c.jsx(a1,{title:o?"Edit Fundraiser":"Create Fundraiser",loading:s,error:u,children:w})}function pde(){const e=hn(),[t,r]=z.useState(!0),[n,a]=z.useState(null),[i,o]=z.useState([]),[s,l]=z.useState(""),[u,d]=z.useState("all"),[f,p]=z.useState(null),[h,v]=z.useState("fundraisers"),[g,b]=z.useState(null);z.useEffect(()=>{x();const k=sessionStorage.getItem("editFundraiserId");k&&(b(k),sessionStorage.removeItem("editFundraiserId"))},[]);const x=async()=>{try{r(!0);const{data:k,error:M}=await Ea.getFundraisers();if(M)throw new Error(M);o((k==null?void 0:k.data)||[]),a(null)}catch(k){const M="Failed to fetch fundraisers";a(M),Ta(k,M)}finally{r(!1)}},w=async k=>{if(window.confirm("Are you sure you want to delete this fundraiser?"))try{r(!0);const{error:M}=await Ea.deleteFundraiser(k);if(M)throw new Error(M);us("Fundraiser deleted successfully"),x()}catch(M){Ta(M,"Failed to delete fundraiser")}finally{r(!1)}},j=k=>new Date(k).toLocaleDateString(),_=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(k),S=k=>{b(k)},P=()=>{b(null)},A=()=>{b(null),x()},E=i.filter(k=>{const M=k.title.toLowerCase().includes(s.toLowerCase())||k.description.toLowerCase().includes(s.toLowerCase()),T=u==="all"||k.status===u;return M&&T});return c.jsxs(a1,{title:"Fundraiser Manager",loading:t,error:n,children:[c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[c.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="fundraisers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("fundraisers"),children:"Active Fundraisers"}),c.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="analytics"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("analytics"),children:"Analytics"}),c.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="donors"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("donors"),children:"Donors"}),c.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("reports"),children:"Reports"}),c.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="share"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("share"),children:"Share"})]})}),h==="fundraisers"&&!g&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Fundraisers"}),c.jsx(wn,{variant:"outline",onClick:()=>e("/fundraisers/create"),children:"Create New Fundraiser"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(k=>c.jsx(Ln,{title:k.title,description:k.description,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Goal:"}),c.jsx("span",{className:"font-medium",children:_(k.goal_amount)})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Status:"}),c.jsx("span",{className:`font-medium ${k.status==="active"?"text-green-600":k.status==="completed"?"text-blue-600":"text-gray-600"}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Dates:"}),c.jsxs("span",{className:"font-medium",children:[j(k.start_date)," - ",j(k.end_date)]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(wn,{variant:"outline",onClick:()=>S(k.id),children:"Edit"}),c.jsx(wn,{variant:"danger",onClick:()=>w(k.id),children:"Delete"})]})]})},k.id))}),E.length===0&&!t&&c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-500",children:"No fundraisers found"})})]}),h==="fundraisers"&&g&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Fundraiser"}),c.jsx(wn,{variant:"outline",onClick:P,children:"← Back to Fundraisers"})]}),c.jsx(fP,{fundraiserId:g,onCancel:P,onSave:A,embedded:!0})]}),h==="analytics"&&c.jsx("div",{className:"mt-8",children:c.jsx(dP,{})}),h==="donors"&&c.jsx("div",{className:"mt-8",children:c.jsx(fde,{})}),h==="reports"&&c.jsx("div",{className:"mt-8",children:c.jsx(hde,{})}),h==="share"&&c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{htmlFor:"fundraiser-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Fundraiser to Share"}),c.jsxs("select",{id:"fundraiser-select",className:"block w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-base",value:f?f.id:"",onChange:k=>{const M=i.find(T=>T.id===k.target.value);p(M||null)},children:[c.jsx("option",{value:"",children:"-- Select a Fundraiser --"}),i.map(k=>c.jsx("option",{value:k.id,children:k.title},k.id))]})]}),h==="share"&&c.jsx(dde,{fundraiserId:f?f.id:null})]})}function mde(){const{id:e}=qd(),t=hn();return z.useEffect(()=>{e?(sessionStorage.setItem("editFundraiserId",e),t("/fundraisers",{replace:!0})):t("/fundraisers",{replace:!0})},[e,t]),c.jsx("div",{className:"flex justify-center items-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Redirecting to fundraiser editor..."})]})})}function gde(){const[e,t]=z.useState([]),[r,n]=z.useState("");z.useEffect(()=>{async function s(){const{data:{session:l}}=await Xe.auth.getSession();if(!(l!=null&&l.access_token)){n("Authentication required.");return}try{const u=await fetch("/api/budgets",{headers:{Authorization:`Bearer ${l.access_token}`}}),d=await u.json();u.ok?t(d):n(d.error||"Failed to load transactions.")}catch(u){console.error("Budget fetch error:",u),n("Error connecting to the server.")}}s()},[]);const a=e.filter(s=>s.type==="income").reduce((s,l)=>s+parseFloat(l.amount||0),0),i=e.filter(s=>s.type==="expense").reduce((s,l)=>s+parseFloat(l.amount||0),0),o=a-i;return c.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"PTO Budget Overview"}),c.jsx(Ci,{to:"/budget/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Add Entry"})]}),c.jsxs("div",{className:"mb-6 p-4 border rounded bg-gray-100",children:[c.jsxs("p",{className:"text-lg font-semibold",children:["Current Balance: $",o.toFixed(2)]}),c.jsxs("p",{className:"text-sm text-green-700",children:["Total Income: $",a.toFixed(2)]}),c.jsxs("p",{className:"text-sm text-red-700",children:["Total Expenses: $",i.toFixed(2)]})]}),r&&c.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&c.jsx("p",{children:"No budget entries found."}),c.jsx("ul",{className:"space-y-4",children:e.map(s=>c.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold",children:s.label}),c.jsxs("span",{className:s.type==="income"?"text-green-600":"text-red-600",children:[s.type==="income"?"+":"-","$",parseFloat(s.amount).toFixed(2)]})]}),c.jsx("p",{className:"text-sm text-gray-500",children:s.category||"Uncategorized"}),s.related_event_id&&c.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Event ID: ",s.related_event_id]})]},s.id))})]})}const vde=()=>{const e=hn(),[t,r]=z.useState("overview"),[n,a]=z.useState("manual"),[i,o]=z.useState("current"),s={totalBudget:45e3,totalSpent:28500,totalRemaining:16500,projectedIncome:52e3,categories:[{id:1,name:"Events & Programs",budgeted:15e3,spent:8500,remaining:6500,percentage:57,trend:"up",createdBy:"stella",subcategories:[{name:"Fall Festival",budgeted:5e3,spent:3200},{name:"Science Night",budgeted:3e3,spent:1800},{name:"Book Fair",budgeted:4e3,spent:2500},{name:"Art Show",budgeted:3e3,spent:1e3}]},{id:2,name:"Educational Support",budgeted:12e3,spent:7200,remaining:4800,percentage:60,trend:"stable",createdBy:"manual",subcategories:[{name:"Classroom Supplies",budgeted:6e3,spent:4200},{name:"Technology",budgeted:4e3,spent:2e3},{name:"Library Books",budgeted:2e3,spent:1e3}]},{id:3,name:"Communications",budgeted:3e3,spent:1800,remaining:1200,percentage:60,trend:"down",createdBy:"stella",subcategories:[{name:"Website & Digital",budgeted:1500,spent:800},{name:"Print Materials",budgeted:1e3,spent:700},{name:"Social Media",budgeted:500,spent:300}]},{id:4,name:"Administrative",budgeted:5e3,spent:3200,remaining:1800,percentage:64,trend:"up",createdBy:"manual",subcategories:[{name:"Insurance",budgeted:2e3,spent:2e3},{name:"Banking & Fees",budgeted:1e3,spent:600},{name:"Office Supplies",budgeted:2e3,spent:600}]}],recentTransactions:[{id:1,date:"2024-10-15",description:"Fall Festival Decorations",category:"Events & Programs",amount:-450,type:"expense",createdBy:"stella"},{id:2,date:"2024-10-14",description:"Book Fair Revenue",category:"Events & Programs",amount:2800,type:"income",createdBy:"manual"},{id:3,date:"2024-10-12",description:"Classroom Technology",category:"Educational Support",amount:-1200,type:"expense",createdBy:"manual"}]},l=()=>{e("/budget/create")},u=()=>{e("/communications/ai?context=budget&mode=assisted")},d=()=>{e("/ai-workflow-orchestrator?context=budget&mode=automated")},f=S=>{e(`/budget/create?category=${S}&mode=view`)},p=S=>{e(`/budget/create?category=${S}&mode=edit`)},h=S=>{e(`/budget/create?category=${S}&mode=optimize`)},v=()=>{e("/budget/create?mode=reallocation")},g=()=>c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(CN,{className:"w-6 h-6 text-blue-600"}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Budget"})]})}),c.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",s.totalBudget.toLocaleString()]}),c.jsx("div",{className:"text-sm text-gray-600",children:"For current fiscal year"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(CE,{className:"w-6 h-6 text-red-600"}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Spent"})]})}),c.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:["$",s.totalSpent.toLocaleString()]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round(s.totalSpent/s.totalBudget*100),"% of budget used"]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(kE,{className:"w-6 h-6 text-green-600"}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Remaining"})]})}),c.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",s.totalRemaining.toLocaleString()]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Available for spending"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(DE,{className:"w-6 h-6 text-purple-600"}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Projected Income"})]})}),c.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",s.projectedIncome.toLocaleString()]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Expected total revenue"})]})]}),b=()=>c.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Zr,{className:"w-6 h-6 text-purple-600"}),c.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Budget Insights"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"bg-white rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Budget Health"}),c.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Excellent"}),c.jsx("div",{className:"text-xs text-purple-700",children:"On track for surplus"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Biggest Opportunity"}),c.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Fall Festival"}),c.jsx("div",{className:"text-xs text-purple-700",children:"Could generate $2K more"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Cost Savings"}),c.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"$1,200 Found"}),c.jsx("div",{className:"text-xs text-purple-700",children:"In administrative costs"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"💡 Stella's Recommendation"}),c.jsx("div",{className:"text-sm text-purple-800",children:'"Your Events & Programs category is performing well! Consider reallocating $1,000 from Administrative to Educational Support to maximize impact on students. I can create a reallocation plan for you."'}),c.jsx("button",{onClick:v,className:"mt-3 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"Let Stella Create Reallocation Plan"})]})]}),x=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Budget Categories"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Entry"}),c.jsx("button",{className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Ask Stella"})]})]}),c.jsx("div",{className:"space-y-6",children:s.categories.map(S=>{const P=S.spent/S.budgeted*100,A=P>100;return c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:S.name}),S.createdBy==="stella"&&c.jsx(Zr,{className:"w-4 h-4 text-purple-500",title:"Optimized by Stella"}),c.jsxs("div",{className:`flex items-center space-x-1 text-sm ${S.trend==="up"?"text-green-600":S.trend==="down"?"text-red-600":"text-gray-600"}`,children:[S.trend==="up"&&c.jsx(Cx,{className:"w-4 h-4"}),S.trend==="down"&&c.jsx(kx,{className:"w-4 h-4"}),c.jsx("span",{className:"capitalize",children:S.trend})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",S.spent.toLocaleString()," / $",S.budgeted.toLocaleString()]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["$",S.remaining.toLocaleString()," remaining"]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[c.jsx("span",{className:"text-gray-600",children:"Progress"}),c.jsxs("span",{className:`font-medium ${A?"text-red-600":"text-gray-900"}`,children:[Math.round(P),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${A?"bg-red-500":"bg-blue-600"}`,style:{width:`${Math.min(P,100)}%`}})})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:S.subcategories.map((E,k)=>c.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),c.jsxs("div",{className:"text-xs text-gray-600",children:["$",E.spent.toLocaleString()," / $",E.budgeted.toLocaleString()]})]},k))}),c.jsxs("div",{className:"flex space-x-2 mt-4",children:[c.jsxs("button",{onClick:()=>f(S.id),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[c.jsx(Uu,{className:"w-4 h-4 mr-2"}),"View Details"]}),c.jsxs("button",{onClick:()=>p(S.id),className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[c.jsx(Th,{className:"w-4 h-4 mr-2"}),"Edit"]}),S.createdBy==="manual"&&c.jsxs("button",{onClick:()=>h(S.id),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[c.jsx(Zr,{className:"w-4 h-4 mr-2"}),"Ask Stella to Optimize"]})]})]},S.id)})})]}),w=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(LE,{className:"w-6 h-6 text-indigo-600"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Monthly Reconciliation"})]}),c.jsxs("button",{onClick:()=>e("/budget/reconciliation"),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[c.jsx(ME,{className:"w-4 h-4 mr-2"}),"View All Reconciliations"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"border-2 border-indigo-200 rounded-lg p-6 hover:border-indigo-400 transition-colors bg-indigo-50",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(IE,{className:"w-8 h-8 text-indigo-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-indigo-900",children:"Start New Reconciliation"}),c.jsx("p",{className:"text-sm text-indigo-700",children:"Upload bank statement and reconcile transactions"})]})]}),c.jsxs("ul",{className:"text-sm text-indigo-700 space-y-2 mb-4",children:[c.jsx("li",{children:"• OCR bank statement processing"}),c.jsx("li",{children:"• Smart transaction matching"}),c.jsx("li",{children:"• Automated discrepancy detection"}),c.jsx("li",{children:"• Generate reconciliation reports"})]}),c.jsx("button",{onClick:()=>e("/budget/reconciliation/new"),className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Reconciliation"})]}),c.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Reconciliations"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-green-900",children:"October 2024"}),c.jsx("div",{className:"text-sm text-green-700",children:"Completed • 98% match rate"})]}),c.jsx(LN,{className:"w-5 h-5 text-green-600"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-yellow-900",children:"November 2024"}),c.jsx("div",{className:"text-sm text-yellow-700",children:"In Progress • 3 discrepancies"})]}),c.jsx($E,{className:"w-5 h-5 text-yellow-600"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"December 2024"}),c.jsx("div",{className:"text-sm text-gray-700",children:"Pending • Not started"})]}),c.jsx(ns,{className:"w-5 h-5 text-gray-600"})]})]}),c.jsx("button",{onClick:()=>e("/budget/reconciliation"),className:"w-full mt-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"View Reconciliation History"})]})]}),c.jsxs("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(Zr,{className:"w-5 h-5 text-indigo-600"}),c.jsx("span",{className:"font-medium text-indigo-900",children:"Reconciliation Insights"})]}),c.jsx("div",{className:"text-sm text-indigo-800",children:"Your reconciliation accuracy has improved by 15% this quarter. Consider setting up automated monthly reconciliations to maintain financial accuracy and save time."})]})]}),j=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Budget Item"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(RE,{className:"w-8 h-8 text-gray-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:"Manual Entry"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Full control over details"})]})]}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[c.jsx("li",{children:"• Custom categories"}),c.jsx("li",{children:"• Detailed line items"}),c.jsx("li",{children:"• Manual calculations"})]}),c.jsx("button",{onClick:l,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),c.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Zr,{className:"w-8 h-8 text-blue-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-blue-900",children:"Stella Assisted"}),c.jsx("p",{className:"text-sm text-blue-700",children:"Smart suggestions & validation"})]})]}),c.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[c.jsx("li",{children:"• Budget recommendations"}),c.jsx("li",{children:"• Historical comparisons"}),c.jsx("li",{children:"• Optimization suggestions"})]}),c.jsx("button",{onClick:u,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Stella's Help"})]}),c.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Zr,{className:"w-8 h-8 text-purple-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-purple-900",children:"Stella Auto-Generate"}),c.jsx("p",{className:"text-sm text-purple-700",children:"Complete budget creation"})]})]}),c.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[c.jsx("li",{children:"• AI-powered allocations"}),c.jsx("li",{children:"• Predictive modeling"}),c.jsx("li",{children:"• Optimization algorithms"})]}),c.jsx("button",{onClick:d,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Let Stella Generate"})]})]})]}),_=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Transactions"}),c.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(FE,{className:"w-4 h-4 mr-2"}),"Export"]})]}),c.jsx("div",{className:"space-y-4",children:s.recentTransactions.map(S=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${S.type==="income"?"bg-green-100":"bg-red-100"}`,children:S.type==="income"?c.jsx(Cx,{className:"w-5 h-5 text-green-600"}):c.jsx(kx,{className:"w-5 h-5 text-red-600"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:S.description}),S.createdBy==="stella"&&c.jsx(Zr,{className:"w-4 h-4 text-purple-500",title:"Processed by Stella"})]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[S.category," • ",new Date(S.date).toLocaleDateString()]})]})]}),c.jsxs("div",{className:`text-lg font-semibold ${S.type==="income"?"text-green-600":"text-red-600"}`,children:[S.type==="income"?"+":"","$",Math.abs(S.amount).toLocaleString()]})]},S.id))})]});return c.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Manage your PTO finances with Stella's intelligent insights"})]}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("select",{value:i,onChange:S=>o(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"current",children:"Current Year"}),c.jsx("option",{value:"previous",children:"Previous Year"}),c.jsx("option",{value:"quarter",children:"This Quarter"})]})})]}),c.jsx(g,{}),c.jsx(b,{}),c.jsx(w,{}),c.jsx(j,{}),c.jsx(x,{}),c.jsx(_,{})]})})};function yde(){const[e,t]=z.useState({label:"",amount:"",category:"",type:"expense",related_event_id:""}),[r,n]=z.useState(""),[a,i]=z.useState(""),o=l=>{const{name:u,value:d}=l.target;t(f=>({...f,[u]:d}))},s=async l=>{l.preventDefault(),i(""),n("");const{data:{session:u}}=await Xe.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Budget entry added successfully!"),t({label:"",amount:"",category:"",type:"expense",related_event_id:""})):i(f.error||"Submission failed.")}catch(d){console.error("Budget entry error:",d),i("Server error. Please try again.")}};return c.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Budget Entry"}),c.jsxs("form",{onSubmit:s,className:"space-y-4",children:[c.jsx("input",{name:"label",value:e.label,onChange:o,placeholder:"Label",className:"w-full border p-2",required:!0}),c.jsx("input",{type:"number",name:"amount",value:e.amount,onChange:o,placeholder:"Amount",className:"w-full border p-2",required:!0}),c.jsx("input",{name:"category",value:e.category,onChange:o,placeholder:"Category (e.g., supplies, venue)",className:"w-full border p-2"}),c.jsxs("select",{name:"type",value:e.type,onChange:o,className:"w-full border p-2",children:[c.jsx("option",{value:"expense",children:"Expense"}),c.jsx("option",{value:"income",children:"Income"})]}),c.jsx("input",{name:"related_event_id",value:e.related_event_id,onChange:o,placeholder:"Related Event ID (optional)",className:"w-full border p-2"}),c.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Save Entry"}),r&&c.jsx("p",{className:"text-green-600",children:r}),a&&c.jsx("p",{className:"text-red-600",children:a})]})]})}const bde=()=>c.jsxs("div",{children:[c.jsx("h1",{children:"Reconciliation Dashboard"}),c.jsx("p",{children:"This is a placeholder for the Reconciliation Dashboard."})]});function xde({title:e,titleId:t,...r},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?z.createElement("title",{id:t},e):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const wde=z.forwardRef(xde);function Sde({title:e,titleId:t,...r},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?z.createElement("title",{id:t},e):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const iN=z.forwardRef(Sde);function jde({title:e,titleId:t,...r},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?z.createElement("title",{id:t},e):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Jy=z.forwardRef(jde);function Nde({title:e,titleId:t,...r},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?z.createElement("title",{id:t},e):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const _de=z.forwardRef(Nde);function Ade({title:e,titleId:t,...r},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?z.createElement("title",{id:t},e):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Ode=z.forwardRef(Ade);function Pde({title:e,titleId:t,...r},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?z.createElement("title",{id:t},e):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Ede=z.forwardRef(Pde);function Tde({title:e,titleId:t,...r},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?z.createElement("title",{id:t},e):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Cde=z.forwardRef(Tde);function kde({title:e,titleId:t,...r},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?z.createElement("title",{id:t},e):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Dde=z.forwardRef(kde);function Lde({title:e,titleId:t,...r},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?z.createElement("title",{id:t},e):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const Mde=z.forwardRef(Lde);function Ide({title:e,titleId:t,...r},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?z.createElement("title",{id:t},e):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const hP=z.forwardRef(Ide),Ph={startReconciliation:async e=>{var t,r,n,a,i,o,s,l,u,d;console.log("🔍 [FRONTEND DEBUG] startReconciliation called with data:",e);try{console.log("🔍 [FRONTEND DEBUG] Making API call to /budget/reconciliation/start");const f=await ln.post("/budget/reconciliation/start",e);console.log("🔍 [FRONTEND DEBUG] API response received:",{status:f.status,statusText:f.statusText,data:f.data});const p={success:f.data.success,data:f.data.data,error:((r=(t=f.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null};return console.log("🔍 [FRONTEND DEBUG] Processed result:",p),p}catch(f){console.error("❌ [FRONTEND DEBUG] Error starting reconciliation:",f),console.error("❌ [FRONTEND DEBUG] Error response:",f.response),console.error("❌ [FRONTEND DEBUG] Error response data:",(n=f.response)==null?void 0:n.data),console.error("❌ [FRONTEND DEBUG] Error response status:",(a=f.response)==null?void 0:a.status);const p=((l=(s=(o=(i=f.response)==null?void 0:i.data)==null?void 0:o.errors)==null?void 0:s[0])==null?void 0:l.message)||((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.error)||f.message;return console.error("❌ [FRONTEND DEBUG] Final error message:",p),{success:!1,error:p}}},getReconciliations:async()=>{var e,t,r,n,a,i;try{const o=await ln.get("/budget/reconciliation");return{success:o.data.success,data:o.data.data,error:((t=(e=o.data.errors)==null?void 0:e[0])==null?void 0:t.message)||null}}catch(o){return console.error("Error fetching reconciliations:",o),{success:!1,error:((i=(a=(n=(r=o.response)==null?void 0:r.data)==null?void 0:n.errors)==null?void 0:a[0])==null?void 0:i.message)||o.message}}},uploadStatement:async(e,t)=>{var r,n,a,i,o,s;try{const l=await ln.post(`/budget/reconciliation/${e}/upload`,t);return{success:l.data.success,data:l.data.data,error:((n=(r=l.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(l){return console.error("Error uploading statement:",l),{success:!1,error:((s=(o=(i=(a=l.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:s.message)||l.message}}},getTransactions:async e=>{var t,r,n,a,i,o;try{const s=await ln.get(`/budget/reconciliation/${e}/transactions`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error fetching transactions:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}},matchTransaction:async(e,t)=>{var r,n,a,i,o,s;try{const l=await ln.post(`/budget/reconciliation/${e}/match`,{bank_transaction_id:t.bankTransactionId,expense_id:t.expenseId});return{success:l.data.success,data:l.data.data,error:((n=(r=l.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(l){return console.error("Error matching transaction:",l),{success:!1,error:((s=(o=(i=(a=l.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:s.message)||l.message}}},completeReconciliation:async e=>{var t,r,n,a,i,o;try{const s=await ln.post(`/budget/reconciliation/${e}/complete`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error completing reconciliation:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}},generateReport:async e=>{var t,r,n,a,i,o;try{const s=await ln.get(`/budget/reconciliation/${e}/report`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error generating report:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}}};var $de={exports:{}};(function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(Y,Q,oe){Y[Q]=oe.value},o,s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function f(Y,Q,oe){return Object.defineProperty(Y,Q,{value:oe,enumerable:!0,configurable:!0,writable:!0}),Y[Q]}try{f({},"")}catch{f=function(Q,oe,L){return Q[oe]=L}}function p(Y,Q,oe,L){var q=Q&&Q.prototype instanceof j?Q:j,ee=Object.create(q.prototype),ie=new H(L||[]);return i(ee,"_invoke",{value:C(Y,oe,ie)}),ee}r.wrap=p;function h(Y,Q,oe){try{return{type:"normal",arg:Y.call(Q,oe)}}catch(L){return{type:"throw",arg:L}}}var v="suspendedStart",g="suspendedYield",b="executing",x="completed",w={};function j(){}function _(){}function S(){}var P={};f(P,l,function(){return this});var A=Object.getPrototypeOf,E=A&&A(A(Z([])));E&&E!==n&&a.call(E,l)&&(P=E);var k=S.prototype=j.prototype=Object.create(P);_.prototype=S,i(k,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:_,configurable:!0}),_.displayName=f(S,d,"GeneratorFunction");function M(Y){["next","throw","return"].forEach(function(Q){f(Y,Q,function(oe){return this._invoke(Q,oe)})})}r.isGeneratorFunction=function(Y){var Q=typeof Y=="function"&&Y.constructor;return Q?Q===_||(Q.displayName||Q.name)==="GeneratorFunction":!1},r.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,S):(Y.__proto__=S,f(Y,d,"GeneratorFunction")),Y.prototype=Object.create(k),Y},r.awrap=function(Y){return{__await:Y}};function T(Y,Q){function oe(ee,ie,K,se){var de=h(Y[ee],Y,ie);if(de.type==="throw")se(de.arg);else{var ae=de.arg,xe=ae.value;return xe&&typeof xe=="object"&&a.call(xe,"__await")?Q.resolve(xe.__await).then(function(ye){oe("next",ye,K,se)},function(ye){oe("throw",ye,K,se)}):Q.resolve(xe).then(function(ye){ae.value=ye,K(ae)},function(ye){return oe("throw",ye,K,se)})}}var L;function q(ee,ie){function K(){return new Q(function(se,de){oe(ee,ie,se,de)})}return L=L?L.then(K,K):K()}i(this,"_invoke",{value:q})}M(T.prototype),f(T.prototype,u,function(){return this}),r.AsyncIterator=T,r.async=function(Y,Q,oe,L,q){q===void 0&&(q=Promise);var ee=new T(p(Y,Q,oe,L),q);return r.isGeneratorFunction(Q)?ee:ee.next().then(function(ie){return ie.done?ie.value:ee.next()})};function C(Y,Q,oe){var L=v;return function(ee,ie){if(L===b)throw new Error("Generator is already running");if(L===x){if(ee==="throw")throw ie;return J()}for(oe.method=ee,oe.arg=ie;;){var K=oe.delegate;if(K){var se=I(K,oe);if(se){if(se===w)continue;return se}}if(oe.method==="next")oe.sent=oe._sent=oe.arg;else if(oe.method==="throw"){if(L===v)throw L=x,oe.arg;oe.dispatchException(oe.arg)}else oe.method==="return"&&oe.abrupt("return",oe.arg);L=b;var de=h(Y,Q,oe);if(de.type==="normal"){if(L=oe.done?x:g,de.arg===w)continue;return{value:de.arg,done:oe.done}}else de.type==="throw"&&(L=x,oe.method="throw",oe.arg=de.arg)}}}function I(Y,Q){var oe=Q.method,L=Y.iterator[oe];if(L===o)return Q.delegate=null,oe==="throw"&&Y.iterator.return&&(Q.method="return",Q.arg=o,I(Y,Q),Q.method==="throw")||oe!=="return"&&(Q.method="throw",Q.arg=new TypeError("The iterator does not provide a '"+oe+"' method")),w;var q=h(L,Y.iterator,Q.arg);if(q.type==="throw")return Q.method="throw",Q.arg=q.arg,Q.delegate=null,w;var ee=q.arg;if(!ee)return Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,w;if(ee.done)Q[Y.resultName]=ee.value,Q.next=Y.nextLoc,Q.method!=="return"&&(Q.method="next",Q.arg=o);else return ee;return Q.delegate=null,w}M(k),f(k,d,"Generator"),f(k,l,function(){return this}),f(k,"toString",function(){return"[object Generator]"});function $(Y){var Q={tryLoc:Y[0]};1 in Y&&(Q.catchLoc=Y[1]),2 in Y&&(Q.finallyLoc=Y[2],Q.afterLoc=Y[3]),this.tryEntries.push(Q)}function G(Y){var Q=Y.completion||{};Q.type="normal",delete Q.arg,Y.completion=Q}function H(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach($,this),this.reset(!0)}r.keys=function(Y){var Q=Object(Y),oe=[];for(var L in Q)oe.push(L);return oe.reverse(),function q(){for(;oe.length;){var ee=oe.pop();if(ee in Q)return q.value=ee,q.done=!1,q}return q.done=!0,q}};function Z(Y){if(Y){var Q=Y[l];if(Q)return Q.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var oe=-1,L=function q(){for(;++oe<Y.length;)if(a.call(Y,oe))return q.value=Y[oe],q.done=!1,q;return q.value=o,q.done=!0,q};return L.next=L}}return{next:J}}r.values=Z;function J(){return{value:o,done:!0}}return H.prototype={constructor:H,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(G),!Y)for(var Q in this)Q.charAt(0)==="t"&&a.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=o)},stop:function(){this.done=!0;var Y=this.tryEntries[0],Q=Y.completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var Q=this;function oe(se,de){return ee.type="throw",ee.arg=Y,Q.next=se,de&&(Q.method="next",Q.arg=o),!!de}for(var L=this.tryEntries.length-1;L>=0;--L){var q=this.tryEntries[L],ee=q.completion;if(q.tryLoc==="root")return oe("end");if(q.tryLoc<=this.prev){var ie=a.call(q,"catchLoc"),K=a.call(q,"finallyLoc");if(ie&&K){if(this.prev<q.catchLoc)return oe(q.catchLoc,!0);if(this.prev<q.finallyLoc)return oe(q.finallyLoc)}else if(ie){if(this.prev<q.catchLoc)return oe(q.catchLoc,!0)}else if(K){if(this.prev<q.finallyLoc)return oe(q.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,Q){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var L=this.tryEntries[oe];if(L.tryLoc<=this.prev&&a.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var q=L;break}}q&&(Y==="break"||Y==="continue")&&q.tryLoc<=Q&&Q<=q.finallyLoc&&(q=null);var ee=q?q.completion:{};return ee.type=Y,ee.arg=Q,q?(this.method="next",this.next=q.finallyLoc,w):this.complete(ee)},complete:function(Y,Q){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&Q&&(this.next=Q),w},finish:function(Y){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var oe=this.tryEntries[Q];if(oe.finallyLoc===Y)return this.complete(oe.completion,oe.afterLoc),G(oe),w}},catch:function(Y){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var oe=this.tryEntries[Q];if(oe.tryLoc===Y){var L=oe.completion;if(L.type==="throw"){var q=L.arg;G(oe)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(Y,Q,oe){return this.delegate={iterator:Z(Y),resultName:Q,nextLoc:oe},this.method==="next"&&(this.arg=o),w}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})($de);var X1=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const Rde=X1;let oN=0;var pP=({id:e,action:t,payload:r={}})=>{let n=e;return typeof n>"u"&&(n=Rde("Job",oN),oN+=1),{id:n,action:t,payload:r}},Lc={};let Z1=!1;Lc.logging=Z1;Lc.setLogging=e=>{Z1=e};Lc.log=(...e)=>Z1?console.log.apply(void 0,e):null;const Fde=pP,{log:gh}=Lc,Bde=X1;let sN=0;var zde=()=>{const e=Bde("Scheduler",sN),t={},r={};let n=[];sN+=1;const a=()=>n.length,i=()=>Object.keys(t).length,o=()=>{if(n.length!==0){const f=Object.keys(t);for(let p=0;p<f.length;p+=1)if(typeof r[f[p]]>"u"){n[0](t[f[p]]);break}}},s=(f,p)=>new Promise((h,v)=>{const g=Fde({action:f,payload:p});n.push(async b=>{n.shift(),r[b.id]=g;try{h(await b[f].apply(void 0,[...p,g.id]))}catch(x){v(x)}finally{delete r[b.id],o()}}),gh(`[${e}]: Add ${g.id} to JobQueue`),gh(`[${e}]: JobQueue length=${n.length}`),o()});return{addWorker:f=>(t[f.id]=f,gh(`[${e}]: Add ${f.id}`),gh(`[${e}]: Number of workers=${i()}`),o(),f.id),addJob:async(f,...p)=>{if(i()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return s(f,p)},terminate:async()=>{Object.keys(t).forEach(async f=>{await t[f].terminate()}),n=[]},getQueueLen:a,getNumWorkers:i}};function qde(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ude=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof qde=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const Wde=Ude("type")==="browser",Hde=Wde?e=>new URL(e,window.location.href).href:e=>e;var Gde=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=Hde(t[r]))}),t},mP={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Vde="6.0.1",Yde={version:Vde};var Kde={workerBlobURL:!0,logger:()=>{}};const Xde=Yde.version,Zde=Kde;var Jde={...Zde,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Xde}/dist/worker.min.js`},Qde=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r},efe=e=>{e.terminate()},tfe=(e,t)=>{e.onmessage=({data:r})=>{t(r)}},rfe=async(e,t)=>{e.postMessage(t)};const Hv=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:a}}})=>{r(Error(`File could not be read! Code=${a}`))},n.readAsArrayBuffer(e)}),Qy=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await Qy(e.src)),e.tagName==="VIDEO"&&(t=await Qy(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async n=>{t=await Hv(n),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();t=await Hv(r)}else(e instanceof File||e instanceof Blob)&&(t=await Hv(e));return new Uint8Array(t)};var nfe=Qy;const afe=Jde,ife=Qde,ofe=efe,sfe=tfe,lfe=rfe,cfe=nfe;var ufe={defaultOptions:afe,spawnWorker:ife,terminateWorker:ofe,onMessage:sfe,send:lfe,loadImage:cfe};const dfe=Gde,Ka=pP,{log:lN}=Lc,ffe=X1,Uo=mP,{defaultOptions:hfe,spawnWorker:pfe,terminateWorker:mfe,onMessage:gfe,loadImage:cN,send:vfe}=ufe;let uN=0;var gP=async(e="eng",t=Uo.LSTM_ONLY,r={},n={})=>{const a=ffe("Worker",uN),{logger:i,errorHandler:o,...s}=dfe({...hfe,...r}),l={},u=typeof e=="string"?e.split("+"):e;let d=t,f=n;const p=[Uo.DEFAULT,Uo.LSTM_ONLY].includes(t)&&!s.legacyCore;let h,v;const g=new Promise((Z,J)=>{v=Z,h=J}),b=Z=>{h(Z.message)};let x=pfe(s);x.onerror=b,uN+=1;const w=({id:Z,action:J,payload:Y})=>new Promise((Q,oe)=>{lN(`[${a}]: Start ${Z}, action=${J}`);const L=`${J}-${Z}`;l[L]={resolve:Q,reject:oe},vfe(x,{workerId:a,jobId:Z,action:J,payload:Y})}),j=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),_=Z=>w(Ka({id:Z,action:"load",payload:{options:{lstmOnly:p,corePath:s.corePath,logging:s.logging}}})),S=(Z,J,Y)=>w(Ka({id:Y,action:"FS",payload:{method:"writeFile",args:[Z,J]}})),P=(Z,J)=>w(Ka({id:J,action:"FS",payload:{method:"readFile",args:[Z,{encoding:"utf8"}]}})),A=(Z,J)=>w(Ka({id:J,action:"FS",payload:{method:"unlink",args:[Z]}})),E=(Z,J,Y)=>w(Ka({id:Y,action:"FS",payload:{method:Z,args:J}})),k=(Z,J)=>w(Ka({id:J,action:"loadLanguage",payload:{langs:Z,options:{langPath:s.langPath,dataPath:s.dataPath,cachePath:s.cachePath,cacheMethod:s.cacheMethod,gzip:s.gzip,lstmOnly:[Uo.DEFAULT,Uo.LSTM_ONLY].includes(d)&&!s.legacyLang}}})),M=(Z,J,Y,Q)=>w(Ka({id:Q,action:"initialize",payload:{langs:Z,oem:J,config:Y}})),T=(Z="eng",J,Y,Q)=>{if(p&&[Uo.TESSERACT_ONLY,Uo.TESSERACT_LSTM_COMBINED].includes(J))throw Error("Legacy model requested but code missing.");const oe=J||d;d=oe;const L=Y||f;f=L;const ee=(typeof Z=="string"?Z.split("+"):Z).filter(ie=>!u.includes(ie));return u.push(...ee),ee.length>0?k(ee,Q).then(()=>M(Z,oe,L,Q)):M(Z,oe,L,Q)},C=(Z={},J)=>w(Ka({id:J,action:"setParameters",payload:{params:Z}})),I=async(Z,J={},Y={text:!0},Q)=>w(Ka({id:Q,action:"recognize",payload:{image:await cN(Z),options:J,output:Y}})),$=async(Z,J)=>{if(p)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return w(Ka({id:J,action:"detect",payload:{image:await cN(Z)}}))},G=async()=>(x!==null&&(mfe(x),x=null),Promise.resolve());gfe(x,({workerId:Z,jobId:J,status:Y,action:Q,data:oe})=>{const L=`${Q}-${J}`;if(Y==="resolve")lN(`[${Z}]: Complete ${J}`),l[L].resolve({jobId:J,data:oe}),delete l[L];else if(Y==="reject")if(l[L].reject(oe),delete l[L],Q==="load"&&h(oe),o)o(oe);else throw Error(oe);else Y==="progress"&&i({...oe,userJobId:J})});const H={id:a,worker:x,load:j,writeText:S,readText:P,removeFile:A,FS:E,reinitialize:T,setParameters:C,recognize:I,detect:$,terminate:G};return _().then(()=>k(e)).then(()=>M(e,t,n)).then(()=>v(H)).catch(()=>{}),g};const vP=gP,yfe=async(e,t,r)=>{const n=await vP(t,1,r);return n.recognize(e).finally(async()=>{await n.terminate()})},bfe=async(e,t)=>{const r=await vP("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})};var xfe={recognize:yfe,detect:bfe},wfe={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Sfe={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const jfe=zde,Nfe=gP,_fe=xfe,Afe=wfe,Ofe=mP,Pfe=Sfe,{setLogging:Efe}=Lc;var Tfe={languages:Afe,OEM:Ofe,PSM:Pfe,createScheduler:jfe,createWorker:Nfe,setLogging:Efe,..._fe};const Cfe=xt(Tfe);class kfe{constructor(){this.worker=null,this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{this.worker=await Cfe.createWorker("eng"),this.isInitialized=!0,console.log("OCR Worker initialized successfully")}catch(t){throw console.error("Failed to initialize OCR worker:",t),new Error("OCR initialization failed")}}async processImage(t,r=null){this.isInitialized||await this.initialize();try{const n=await this.worker.recognize(t,{logger:r?a=>{a.status==="recognizing text"&&r(Math.round(a.progress*100))}:void 0});return{success:!0,text:n.data.text,confidence:n.data.confidence,words:n.data.words,lines:n.data.lines}}catch(n){return console.error("OCR processing failed:",n),{success:!1,error:n.message}}}async processBankStatement(t,r=null){const n=await this.processImage(t,r);if(!n.success)return n;const a=this.parseTransactions(n.text);return{success:!0,rawText:n.text,confidence:n.confidence,transactions:a,metadata:{totalTransactions:a.length,processingDate:new Date().toISOString()}}}parseTransactions(t){const r=[],n=t.split(`
`).filter(i=>i.trim().length>0),a={date:/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/,amount:/[\$\-]?(\d{1,3}(?:,\d{3})*\.?\d{0,2})/,debitCredit:/(DEBIT|CREDIT|DR|CR|WITHDRAWAL|DEPOSIT)/i};for(let i=0;i<n.length;i++){const o=n[i].trim();if(this.isHeaderLine(o)||o.length<10)continue;const s=o.match(a.date),l=o.match(new RegExp(a.amount.source,"g"));if(s&&l){const u=l.map(d=>{const f=d.replace(/[\$,]/g,"");return parseFloat(f)}).filter(d=>!isNaN(d)&&d>0);if(u.length>0){const d=Math.max(...u);let f=o.replace(a.date,"").replace(new RegExp(a.amount.source,"g"),"").replace(a.debitCredit,"").trim().replace(/\s+/g," ");f=this.cleanDescription(f),f.length>3&&r.push({id:`ocr_${Date.now()}_${i}`,date:this.parseDate(s[1]),description:f,amount:d,type:this.determineTransactionType(o),rawLine:o,confidence:this.calculateLineConfidence(o)})}}}return r.sort((i,o)=>new Date(o.date)-new Date(i.date))}isHeaderLine(t){const r=["STATEMENT","ACCOUNT","BALANCE","DATE","DESCRIPTION","AMOUNT","TRANSACTION","BEGINNING","ENDING","TOTAL","PAGE","BANK","CREDIT UNION"],n=t.toUpperCase();return r.some(a=>n.includes(a))&&!t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)}cleanDescription(t){return t.replace(/\b(POS|ATM|ACH|CHK|DEP|WD|TFR|FEE)\b/gi,"").replace(/\b\d{4,}\b/g,"").replace(/[#*]+/g,"").replace(/\s+/g," ").trim()}parseDate(t){const r=[/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/,/(\d{1,2})-(\d{1,2})-(\d{2,4})/];for(const n of r){const a=t.match(n);if(a){let[,i,o,s]=a;return s.length===2&&(s=parseInt(s)>50?`19${s}`:`20${s}`),`${s}-${i.padStart(2,"0")}-${o.padStart(2,"0")}`}}return t}determineTransactionType(t){const r=t.toUpperCase();return r.includes("DEBIT")||r.includes("WITHDRAWAL")||r.includes("DR")||r.includes("WD")?"debit":r.includes("CREDIT")||r.includes("DEPOSIT")||r.includes("CR")||r.includes("DEP")?"credit":"debit"}calculateLineConfidence(t){let r=.5;return t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)&&(r+=.2),t.match(/\$?\d+\.\d{2}/)&&(r+=.2),t.length>20&&t.length<100&&(r+=.1),Math.min(r,1)}async terminate(){this.worker&&(await this.worker.terminate(),this.worker=null,this.isInitialized=!1)}validateTransactions(t){return t.filter(r=>r.date&&r.description&&r.description.length>2&&r.amount&&r.amount>0&&!isNaN(r.amount))}suggestCorrections(t){return t.map(r=>{const n=[];return r.description.includes("0")&&r.description.includes("O")&&n.push("Check if O should be 0 or vice versa"),r.description.includes("1")&&r.description.includes("l")&&n.push("Check if l should be 1 or vice versa"),r.amount>1e4&&n.push("Verify large amount - possible OCR error"),{...r,suggestions:n}})}}const Gv=new kfe,Dfe=({onUpload:e})=>{const[t,r]=z.useState(null),[n,a]=z.useState(!1),[i,o]=z.useState(0),[s,l]=z.useState(null),[u,d]=z.useState(!1),[f,p]=z.useState(!1),h=S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?p(!0):S.type==="dragleave"&&p(!1)},v=S=>{S.preventDefault(),S.stopPropagation(),p(!1),S.dataTransfer.files&&S.dataTransfer.files[0]&&b(S.dataTransfer.files[0])},g=S=>{S.target.files&&S.target.files[0]&&b(S.target.files[0])},b=S=>{if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(S.type)){alert("Please upload a valid image (JPG, PNG) or PDF file.");return}if(S.size>10*1024*1024){alert("File size must be less than 10MB.");return}r(S),l(null),o(0)},x=async()=>{if(t){a(!0),o(0);try{if(t.type==="application/pdf"){alert("PDF processing will be implemented in the next update. Please use an image file for now."),a(!1);return}const S=await Gv.processBankStatement(t,P=>{o(P)});if(S.success){const P=Gv.validateTransactions(S.transactions),A=Gv.suggestCorrections(P);l({...S,transactions:A})}else alert(`OCR processing failed: ${S.error}`)}catch(S){console.error("OCR processing error:",S),alert("Failed to process the bank statement. Please try again.")}finally{a(!1),o(0)}}},w=()=>{s&&s.transactions.length>0&&e({file:t,ocrResult:s,transactions:s.transactions})},j=(S,P,A)=>{const E=[...s.transactions];E[S]={...E[S],[P]:P==="amount"?parseFloat(A)||0:A},l({...s,transactions:E})},_=S=>{const P=s.transactions.filter((A,E)=>E!==S);l({...s,transactions:P})};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload Bank Statement"}),c.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"border-gray-300"} ${n?"opacity-50 pointer-events-none":""}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:v,children:[c.jsx(wde,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:n?"Processing...":"Upload your bank statement"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Drag and drop or click to select. Supports JPG, PNG, and PDF files up to 10MB."}),c.jsxs("div",{className:"mt-6",children:[c.jsx("input",{type:"file",id:"file-upload",className:"sr-only",onChange:g,accept:".pdf,.png,.jpg,.jpeg",disabled:n}),c.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Select a file"})]}),t&&c.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("strong",{children:"Selected:"})," ",t.name," (",(t.size/1024/1024).toFixed(2)," MB)"]})}),n&&c.jsxs("div",{className:"mt-4",children:[c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Processing: ",i,"%"]})]})]}),t&&!s&&!n&&c.jsx("div",{className:"text-center",children:c.jsxs("button",{onClick:x,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(Dde,{className:"h-5 w-5 mr-2"}),"Extract Transactions with OCR"]})}),s&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Jy,{className:"h-5 w-5 text-green-400 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-green-800",children:"OCR Processing Complete"})]}),c.jsxs("p",{className:"mt-1 text-sm text-green-700",children:["Extracted ",s.transactions.length," transactions with ",Math.round(s.confidence),"% confidence."]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Review Extracted Transactions"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Please review and edit the transactions below before proceeding."})]}),c.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:s.transactions.map((S,P)=>c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:S.date,onChange:A=>j(P,"date",A.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("input",{type:"text",value:S.description,onChange:A=>j(P,"description",A.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),c.jsxs("div",{className:"flex items-end space-x-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),c.jsx("input",{type:"number",step:"0.01",value:S.amount,onChange:A=>j(P,"amount",A.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),c.jsx("button",{onClick:()=>_(P),className:"px-2 py-1 text-red-600 hover:text-red-800 text-sm",title:"Remove transaction",children:"✕"})]})]}),S.suggestions&&S.suggestions.length>0&&c.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Cde,{className:"h-4 w-4 text-yellow-400 mr-1 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-yellow-800",children:"Suggestions:"}),c.jsx("ul",{className:"text-xs text-yellow-700 list-disc list-inside",children:S.suggestions.map((A,E)=>c.jsx("li",{children:A},E))})]})]})}),c.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[c.jsxs("span",{children:["Confidence: ",Math.round(S.confidence*100),"%"]}),c.jsx("div",{className:"ml-2 flex-1 bg-gray-200 rounded-full h-1",children:c.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${S.confidence*100}%`}})})]})]},S.id))}),c.jsx("div",{className:"px-4 py-3 border-t border-gray-200 text-center",children:c.jsxs("button",{onClick:w,disabled:s.transactions.length===0,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[c.jsx(Jy,{className:"h-5 w-5 mr-2"}),"Confirm ",s.transactions.length," Transactions"]})})]})]})]})};class Lfe{constructor(){this.config={autoMatchThreshold:.85,suggestMatchThreshold:.6,weights:{amount:.4,description:.3,date:.2,vendor:.1},amountTolerance:.01,dateWindow:7,fuzzyThreshold:.6}}findMatches(t,r){const n=[];for(const a of t){const i=this.findSuggestionsForTransaction(a,r);n.push({bankTransaction:a,suggestions:i,bestMatch:i.length>0?i[0]:null,autoMatch:i.length>0&&i[0].confidence>=this.config.autoMatchThreshold,isMatched:!1})}return n}findSuggestionsForTransaction(t,r){const n=[];for(const a of r){const i=this.calculateMatchScore(t,a);i.totalScore>=this.config.suggestMatchThreshold&&n.push({expense:a,confidence:i.totalScore,matchReasons:i.reasons,scoreBreakdown:i.breakdown})}return n.sort((a,i)=>i.confidence-a.confidence)}calculateMatchScore(t,r){const n={amount:this.calculateAmountScore(t.amount,r.amount),description:this.calculateDescriptionScore(t.description,r.description||r.vendor),date:this.calculateDateScore(t.date,r.expense_date||r.date),vendor:this.calculateVendorScore(t.description,r.vendor)},a=Object.keys(n).reduce((o,s)=>o+n[s]*this.config.weights[s],0),i=this.generateMatchReasons(n,t,r);return{totalScore:Math.min(a,1),breakdown:n,reasons:i}}calculateAmountScore(t,r){const n=Math.abs(t-r);if(n<=this.config.amountTolerance)return 1;const a=n/Math.max(t,r);return a<=.01?.95:a<=.05?.85:a<=.1?.7:a<=.2?.5:0}calculateDescriptionScore(t,r){if(!t||!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r),i=this.calculateStringSimilarity(n,a),o=this.calculateWordMatchBoost(n,a);return Math.min(i+o,1)}calculateDateScore(t,r){if(!t||!r)return 0;const n=new Date(t),a=new Date(r),i=Math.abs((n-a)/(1e3*60*60*24));return i===0?1:i<=1?.9:i<=3?.8:i<=7?.6:i<=14?.4:i<=30?.2:0}calculateVendorScore(t,r){if(!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r);if(n.includes(a))return 1;const i=a.split(" ").filter(s=>s.length>2);return i.filter(s=>n.includes(s)).length/i.length}normalizeDescription(t){return t.toLowerCase().replace(/[^\w\s]/g," ").replace(/\b(pos|atm|ach|chk|dep|wd|tfr|fee)\b/g,"").replace(/\b\d+\b/g,"").replace(/\s+/g," ").trim()}calculateStringSimilarity(t,r){const n=[],a=t.length,i=r.length;for(let l=0;l<=a;l++)n[l]=[l];for(let l=0;l<=i;l++)n[0][l]=l;for(let l=1;l<=a;l++)for(let u=1;u<=i;u++){const d=t[l-1]===r[u-1]?0:1;n[l][u]=Math.min(n[l-1][u]+1,n[l][u-1]+1,n[l-1][u-1]+d)}const o=n[a][i],s=Math.max(a,i);return s===0?1:1-o/s}calculateWordMatchBoost(t,r){const n=t.split(" ").filter(s=>s.length>2),a=r.split(" ").filter(s=>s.length>2);return n.length===0||a.length===0?0:n.filter(s=>a.includes(s)).length/Math.max(n.length,a.length)*.2}generateMatchReasons(t,r,n){const a=[];return t.amount>=.95?a.push("Exact amount match"):t.amount>=.8?a.push("Very close amount"):t.amount>=.6&&a.push("Similar amount"),t.description>=.8?a.push("Strong description match"):t.description>=.6&&a.push("Similar description"),t.date>=.9?a.push("Same/next day"):t.date>=.6&&a.push("Within a week"),t.vendor>=.8&&a.push("Vendor name match"),a.length===0&&a.push("Potential match"),a}performAutoMatching(t){const r=[];for(const n of t)n.autoMatch&&n.bestMatch&&(n.isMatched=!0,n.matchedExpense=n.bestMatch.expense,r.push(n));return r}updateConfig(t){this.config={...this.config,...t}}getMatchingStats(t){return{total:t.length,withSuggestions:t.filter(r=>r.suggestions.length>0).length,autoMatched:t.filter(r=>r.autoMatch).length,highConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.8).length,mediumConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.6&&r.bestMatch.confidence<.8).length,lowConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence<.6).length,noMatches:t.filter(r=>r.suggestions.length===0).length}}}const dN=new Lfe,Mfe=({reconciliationId:e,bankTransactions:t=[],systemExpenses:r=[]})=>{const[n,a]=z.useState([]),[i,o]=z.useState(null),[s,l]=z.useState(null),[u,d]=z.useState(!1),[f,p]=z.useState(!0),[h,v]=z.useState({total:0,matched:0,autoMatched:0,unmatched:0});z.useEffect(()=>{t.length>0&&r.length>0&&g()},[t,r]);const g=()=>{d(!0);try{const _=dN.findMatches(t,r);a(_);const S={total:t.length,matched:_.filter(P=>P.bestMatch).length,autoMatched:_.filter(P=>P.autoMatch).length,unmatched:_.filter(P=>!P.bestMatch).length};if(v(S),f){const P=dN.performAutoMatching(_);console.log(`Auto-matched ${P.length} transactions`)}}catch(_){console.error("Matching failed:",_)}finally{d(!1)}},b=async(_,S)=>{try{if((await Ph.matchTransaction(e,{bankTransactionId:_.id,expenseId:S.id})).success){const A=n.map(E=>E.bankTransaction.id===_.id?{...E,isMatched:!0,matchedExpense:S}:E);a(A),o(null),l(null)}}catch(P){console.error("Failed to match transaction:",P),alert("Failed to match transaction. Please try again.")}},x=async _=>{_.bestMatch&&await b(_.bankTransaction,_.bestMatch.expense)},w=_=>_>=.8?"text-green-600 bg-green-100":_>=.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",j=_=>_>=.8?"High":_>=.6?"Medium":"Low";return u?c.jsxs("div",{className:"flex items-center justify-center p-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),c.jsx("span",{className:"ml-2",children:"Analyzing transactions..."})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Smart Transaction Matching"}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:f,onChange:_=>p(_.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Auto-match high confidence"})]}),c.jsx("button",{onClick:g,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Re-analyze"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.total}),c.jsx("div",{className:"text-sm text-blue-800",children:"Total Transactions"})]}),c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.matched}),c.jsx("div",{className:"text-sm text-green-800",children:"Potential Matches"})]}),c.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:h.autoMatched}),c.jsx("div",{className:"text-sm text-purple-800",children:"Auto-Matched"})]}),c.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.unmatched}),c.jsx("div",{className:"text-sm text-red-800",children:"Unmatched"})]})]}),c.jsx("div",{className:"space-y-4",children:n.map((_,S)=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"font-medium text-gray-900",children:_.bankTransaction.description}),c.jsxs("div",{className:"font-bold text-lg",children:["$",_.bankTransaction.amount.toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]})}),_.isMatched&&c.jsxs("div",{className:"flex items-center text-green-600",children:[c.jsx(Jy,{className:"h-5 w-5 mr-1"}),c.jsx("span",{className:"text-sm font-medium",children:"Matched"})]})]}),_.suggestions.length>0&&!_.isMatched&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[c.jsx(Mde,{className:"h-4 w-4 mr-1"}),c.jsx("span",{children:"Suggested matches:"})]}),_.suggestions.slice(0,3).map((P,A)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border hover:bg-gray-100 cursor-pointer",onClick:()=>x({..._,bestMatch:P}),children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"font-medium",children:P.expense.vendor||P.expense.description}),c.jsxs("div",{className:"font-bold",children:["$",P.expense.amount.toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-500",children:P.expense.date})]}),c.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:P.matchReasons.map((E,k)=>c.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:E},k))})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${w(P.confidence)}`,children:[j(P.confidence)," (",Math.round(P.confidence*100),"%)"]}),c.jsx("button",{className:"p-1 text-green-600 hover:text-green-800",children:c.jsx(iN,{className:"h-4 w-4"})})]})]},P.expense.id)),_.suggestions.length>3&&c.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["+",_.suggestions.length-3," more potential matches"]})]}),_.suggestions.length===0&&!_.isMatched&&c.jsxs("div",{className:"flex items-center justify-center p-4 bg-red-50 rounded border border-red-200",children:[c.jsx(hP,{className:"h-5 w-5 text-red-500 mr-2"}),c.jsx("span",{className:"text-red-700",children:"No potential matches found"}),c.jsx("button",{className:"ml-4 px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Create New Expense"})]})]},_.bankTransaction.id))}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Manual Matching"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched Bank Transactions"}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.filter(_=>!_.isMatched).map(_=>c.jsxs("div",{onClick:()=>o(_.bankTransaction),className:`p-3 rounded border cursor-pointer ${(i==null?void 0:i.id)===_.bankTransaction.id?"bg-blue-100 border-blue-400":"bg-white hover:bg-gray-50"}`,children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-medium",children:_.bankTransaction.description}),c.jsxs("span",{className:"font-bold",children:["$",_.bankTransaction.amount.toFixed(2)]})]}),c.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]},_.bankTransaction.id))})]}),c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched System Expenses"}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(_=>!_.is_matched).map(_=>c.jsxs("div",{onClick:()=>l(_),className:`p-3 rounded border cursor-pointer ${(s==null?void 0:s.id)===_.id?"bg-green-100 border-green-400":"bg-white hover:bg-gray-50"}`,children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-medium",children:_.vendor||_.description}),c.jsxs("span",{className:"font-bold",children:["$",_.amount.toFixed(2)]})]}),c.jsx("div",{className:"text-sm text-gray-500",children:_.date})]},_.id))})]})]}),i&&s&&c.jsx("div",{className:"mt-4 text-center",children:c.jsxs("button",{onClick:()=>b(i,s),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[c.jsx(iN,{className:"h-5 w-5 mr-2"}),"Match Selected Transactions"]})})]})]})},yP=()=>c.jsxs("div",{children:[c.jsx("h1",{children:"Reconciliation Report"}),c.jsx("p",{children:"This is a placeholder for the Reconciliation Report."})]}),Ife=({onComplete:e,onCancel:t})=>{const[r,n]=z.useState(1),[a,i]=z.useState({id:null,month:new Date().getMonth()+1,year:new Date().getFullYear(),bankStatement:null,bankTransactions:[],systemExpenses:[]}),[o,s]=z.useState(!1),l=[{id:1,name:"Period Selection",description:"Select reconciliation period"},{id:2,name:"Upload Statement",description:"Upload bank statement"},{id:3,name:"Match Transactions",description:"Review and match transactions"},{id:4,name:"Finalize Report",description:"Complete reconciliation"}],u=(v,g)=>{i(b=>({...b,[v]:g}))},d=async v=>{s(!0);try{const g=await Ph.uploadStatement(a.id,{transactions:v.transactions});if(g.success){const b=await Ph.getTransactions(a.id);b.success&&(i(x=>({...x,bankStatement:v.file,bankTransactions:b.data.bankTransactions,systemExpenses:b.data.systemExpenses})),n(r+1))}else alert("Failed to upload transactions: "+g.error)}catch(g){console.error("Failed to upload statement:",g),alert("Failed to upload statement. Please try again.")}finally{s(!1)}},f=async()=>{if(console.log("🔍 [FRONTEND DEBUG] nextStep called, currentStep:",r),r===1){console.log("🔍 [FRONTEND DEBUG] Starting reconciliation process"),console.log("🔍 [FRONTEND DEBUG] Reconciliation data:",{month:a.month,year:a.year}),s(!0);try{console.log("🔍 [FRONTEND DEBUG] Calling reconciliationAPI.startReconciliation");const v=await Ph.startReconciliation({month:a.month,year:a.year});console.log("🔍 [FRONTEND DEBUG] startReconciliation response:",v),v.success?(console.log("✅ [FRONTEND DEBUG] Reconciliation started successfully, ID:",v.data.id),i(g=>({...g,id:v.data.id})),n(r+1)):(console.error("❌ [FRONTEND DEBUG] Failed to start reconciliation:",v.error),alert("Failed to start reconciliation: "+v.error))}catch(v){console.error("❌ [FRONTEND DEBUG] Exception in nextStep:",v),alert("Failed to start reconciliation. Please try again.")}finally{console.log("🔍 [FRONTEND DEBUG] Setting loading to false"),s(!1)}}else r<l.length&&(console.log("🔍 [FRONTEND DEBUG] Moving to next step:",r+1),n(r+1))},p=()=>{r>1&&n(r-1)},h=()=>{switch(r){case 1:return c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Reconciliation Period"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),c.jsx("select",{value:a.month,onChange:v=>u("month",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:Array.from({length:12},(v,g)=>c.jsx("option",{value:g+1,children:new Date(0,g).toLocaleString("default",{month:"long"})},g+1))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),c.jsx("input",{type:"number",value:a.year,onChange:v=>u("year",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]});case 2:return c.jsx(Dfe,{onUpload:d});case 3:return c.jsx(Mfe,{reconciliationId:a.id,bankTransactions:a.bankTransactions,systemExpenses:a.systemExpenses});case 4:return c.jsx(yP,{reconciliation:a});default:return c.jsxs("div",{children:["Step ",r]})}};return c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Monthly Reconciliation"}),c.jsx("button",{onClick:t,className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500 hover:border-gray-400",children:c.jsx(hP,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"mb-8",children:c.jsx("div",{className:"flex items-center justify-between",children:l.map((v,g)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${r>=v.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:r>v.id?c.jsx(_de,{className:"h-5 w-5"}):c.jsx("span",{className:"text-sm font-medium",children:v.id})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("div",{className:`text-sm font-medium ${r>=v.id?"text-blue-600":"text-gray-500"}`,children:v.name}),c.jsx("div",{className:"text-xs text-gray-500",children:v.description})]}),g<l.length-1&&c.jsx("div",{className:`flex-1 h-0.5 mx-4 ${r>v.id?"bg-blue-600":"bg-gray-300"}`})]},v.id))})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:h()}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("button",{onClick:p,disabled:r===1,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Ode,{className:"h-4 w-4 mr-2"}),"Previous"]}),r<l.length?c.jsxs("button",{onClick:f,disabled:o||r===2&&!a.bankStatement,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?"Starting...":"Next",c.jsx(Ede,{className:"h-4 w-4 ml-2"})]}):c.jsx("button",{onClick:()=>e(a),className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:"Complete Reconciliation"})]})]})},$fe=[{id:1,subject:"Back-to-School Picnic",type:"event",status:"draft",updated_at:"2025-06-01"},{id:2,subject:"Fundraiser Reminder",type:"fundraiser",status:"draft",updated_at:"2025-06-02"}],Rfe={draft:"bg-gray-200 text-gray-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};function Ffe(){const[e,t]=z.useState("drafts"),r=n=>n.length===0?c.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No communications found."}):c.jsx("ul",{className:"space-y-3 mt-4",children:n.map(a=>c.jsxs("li",{className:"p-4 bg-white border rounded shadow flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:a.subject}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ",a.type," • Last updated: ",a.updated_at]})]}),c.jsx("span",{className:`text-xs px-2 py-1 rounded ${Rfe[a.status]}`,children:a.status})]},a.id))});return c.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Communications"}),c.jsx(Ci,{to:"/communications/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ New"})]}),c.jsxs(Si.Tabs,{value:e,onChange:n=>t(n),children:[c.jsxs(Si.TabsHeader,{children:[c.jsx(Si.Tab,{value:"drafts",children:"Drafts"}),c.jsx(Si.Tab,{value:"scheduled",children:"Scheduled"}),c.jsx(Si.Tab,{value:"sent",children:"Sent"})]}),c.jsxs(Si.TabsBody,{children:[c.jsx(Si.TabPanel,{value:"drafts",children:r($fe)}),c.jsx(Si.TabPanel,{value:"scheduled",children:r([])}),c.jsx(Si.TabPanel,{value:"sent",children:r([])})]})]})]})}const Bfe=()=>{const e=hn(),[t,r]=z.useState("grid"),[n,a]=z.useState("manual"),[i,o]=z.useState(""),[s,l]=z.useState("all"),u=[{id:1,title:"Fall Festival Announcement",type:"email",status:"sent",audience:"All Families",sentDate:"2024-10-01",openRate:78,clickRate:12,createdBy:"stella",description:"Exciting announcement about our upcoming Fall Festival"},{id:2,title:"Volunteer Recruitment Drive",type:"social",status:"scheduled",audience:"Facebook & Instagram",scheduledDate:"2024-10-05",engagement:0,createdBy:"manual",description:"Call for volunteers for upcoming events"},{id:3,title:"Book Fair Reminder",type:"sms",status:"draft",audience:"Parent Contacts",deliveryRate:0,createdBy:"stella",description:"Reminder about the upcoming book fair"},{id:4,title:"Monthly Newsletter",type:"newsletter",status:"in_progress",audience:"All Subscribers",progress:65,createdBy:"manual",description:"October newsletter with updates and events"}],d=C=>{e(`/communications/email?mode=${C}`)},f=C=>{e(`/communications/social?mode=${C}`)},p=C=>{e(`/communications/sms?mode=${C}`)},h=C=>{e(`/communications/create?type=newsletter&mode=${C}`)},v=C=>{e(`/communications/create?view=${C}`)},g=C=>{e(`/communications/create?edit=${C}`)},b=C=>{console.log("Sending communication:",C)},x=()=>{e("/communications/ai")},w=()=>{e("/communications/create?tab=analytics")},j=()=>{e("/communications/create?tab=schedule")},_=()=>{e("/communications/create?tab=audiences")},S=()=>{e("/communications/create")},P=C=>{const I={draft:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};return I[C]||I.draft},A=C=>({email:Eu,sms:Lx,social:Dx,newsletter:ns})[C]||Eu,E=({communication:C})=>{const I=A(C.type);return c.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(I,{className:"w-5 h-5 text-blue-600"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.title}),C.createdBy==="stella"&&c.jsx(Zr,{className:"w-4 h-4 text-purple-500",title:"Created by Stella"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.description}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(qu,{className:"w-4 h-4"}),c.jsx("span",{children:C.audience})]}),C.sentDate&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(ns,{className:"w-4 h-4"}),c.jsx("span",{children:new Date(C.sentDate).toLocaleDateString()})]})]})]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P(C.status)}`,children:C.status.replace("_"," ").charAt(0).toUpperCase()+C.status.replace("_"," ").slice(1)})]}),C.status==="sent"&&c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[c.jsx("div",{className:"text-sm text-green-600",children:"Open Rate"}),c.jsxs("div",{className:"text-lg font-semibold text-green-700",children:[C.openRate,"%"]})]}),c.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[c.jsx("div",{className:"text-sm text-blue-600",children:"Click Rate"}),c.jsxs("div",{className:"text-lg font-semibold text-blue-700",children:[C.clickRate,"%"]})]})]}),C.status==="in_progress"&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[c.jsx("span",{className:"text-gray-600",children:"Progress"}),c.jsxs("span",{className:"font-medium text-gray-900",children:[C.progress,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${C.progress}%`}})})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:()=>v(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Uu,{className:"w-4 h-4 mr-2"}),"View"]}),c.jsxs("button",{onClick:()=>g(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Th,{className:"w-4 h-4 mr-2"}),"Edit"]}),C.status==="draft"&&c.jsxs("button",{onClick:()=>b(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[c.jsx(zE,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})})},k=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Communication"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Eu,{className:"w-8 h-8 text-blue-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Campaign"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Reach all families"})]})]}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsx("button",{onClick:()=>d("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),c.jsx("button",{onClick:()=>d("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),c.jsx("button",{onClick:()=>d("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),c.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-green-300 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Dx,{className:"w-8 h-8 text-green-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Social Media"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Facebook & Instagram"})]})]}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsx("button",{onClick:()=>f("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),c.jsx("button",{onClick:()=>f("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),c.jsx("button",{onClick:()=>f("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),c.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-yellow-300 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Lx,{className:"w-8 h-8 text-yellow-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS Campaign"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Direct text messages"})]})]}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsx("button",{onClick:()=>p("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),c.jsx("button",{onClick:()=>p("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),c.jsx("button",{onClick:()=>p("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),c.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-purple-300 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(ns,{className:"w-8 h-8 text-purple-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Newsletter"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Monthly updates"})]})]}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsx("button",{onClick:()=>h("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),c.jsx("button",{onClick:()=>h("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),c.jsx("button",{onClick:()=>h("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]})]})]}),M=()=>c.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Zr,{className:"w-6 h-6 text-purple-600"}),c.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Communication Insights"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-white rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Best Send Time"}),c.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Tuesday 10 AM"}),c.jsx("div",{className:"text-xs text-purple-700",children:"Based on your audience engagement"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Top Performing Subject"}),c.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Event Announcements"}),c.jsx("div",{className:"text-xs text-purple-700",children:"85% average open rate"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Stella's Suggestion"}),c.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Add Volunteer Call"}),c.jsx("div",{className:"text-xs text-purple-700",children:"Include in next newsletter"})]})]}),c.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[c.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"💡 Stella's Tip of the Day"}),c.jsx("div",{className:"text-sm text-purple-800",children:'"Your Fall Festival emails get 23% higher engagement when sent on weekday mornings. Want me to schedule your next announcement for optimal timing?"'})]})]}),T=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("button",{onClick:x,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[c.jsx(Zr,{className:"w-6 h-6 text-purple-600 mb-2"}),c.jsx("span",{className:"text-sm font-medium",children:"Ask Stella"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Get content ideas"})]}),c.jsxs("button",{onClick:w,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors",children:[c.jsx(BE,{className:"w-6 h-6 text-green-600 mb-2"}),c.jsx("span",{className:"text-sm font-medium",children:"Analytics"}),c.jsx("span",{className:"text-xs text-gray-500",children:"View performance"})]}),c.jsxs("button",{onClick:j,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-yellow-300 hover:bg-yellow-50 transition-colors",children:[c.jsx(kN,{className:"w-6 h-6 text-yellow-600 mb-2"}),c.jsx("span",{className:"text-sm font-medium",children:"Schedule"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Plan campaigns"})]}),c.jsxs("button",{onClick:_,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[c.jsx(qu,{className:"w-6 h-6 text-blue-600 mb-2"}),c.jsx("span",{className:"text-sm font-medium",children:"Audiences"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Manage lists"})]})]})]});return c.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communications Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Manage all your PTO communications with Stella's help or manual control"})]}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx("button",{onClick:()=>r(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?c.jsx(EN,{className:"w-5 h-5"}):c.jsx(TN,{className:"w-5 h-5"})})})]}),c.jsx(M,{}),c.jsx(T,{}),c.jsx(k,{}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(lb,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search communications...",value:i,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("select",{value:s,onChange:C=>l(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Types"}),c.jsx("option",{value:"email",children:"Email"}),c.jsx("option",{value:"sms",children:"SMS"}),c.jsx("option",{value:"social",children:"Social Media"}),c.jsx("option",{value:"newsletter",children:"Newsletter"})]})]})}),c.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(C=>c.jsx(E,{communication:C},C.id))}),u.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Eu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No communications found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first communication"}),c.jsx("button",{onClick:S,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Communication"})]})]})})};function zfe(){const[e,t]=z.useState({subject:"",body:"",send_as:"email"}),[r,n]=z.useState(""),[a,i]=z.useState(""),o=l=>{const{name:u,value:d}=l.target;t(f=>({...f,[u]:d}))},s=async l=>{l.preventDefault(),i(""),n("");const{data:{session:u}}=await Xe.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Message created successfully!"),t({subject:"",body:"",send_as:"email"})):i(f.error||"Failed to send message.")}catch(d){console.error("Submit error:",d),i("Server error. Please try again.")}};return c.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Message"}),c.jsxs("form",{onSubmit:s,className:"space-y-4",children:[c.jsx("input",{name:"subject",value:e.subject,onChange:o,placeholder:"Subject",className:"w-full border p-2",required:!0}),c.jsx("textarea",{name:"body",value:e.body,onChange:o,placeholder:"Message Body",className:"w-full border p-2",required:!0}),c.jsxs("select",{name:"send_as",value:e.send_as,onChange:o,className:"w-full border p-2",children:[c.jsx("option",{value:"email",children:"Email"}),c.jsx("option",{value:"sms",children:"SMS"}),c.jsx("option",{value:"in_app",children:"In-App"})]}),c.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Send Message"}),r&&c.jsx("p",{className:"text-green-600",children:r}),a&&c.jsx("p",{className:"text-red-600",children:a})]})]})}var eb={};Object.defineProperty(eb,"__esModule",{value:!0});var Pu,Ai=z,Vv=(Pu=Ai)&&typeof Pu=="object"&&"default"in Pu?Pu.default:Pu;function tb(){return(tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var bP=[],xP=!1,fN=function(){if(xP)for(var e;e=bP.shift();)e()},rb=typeof window>"u"?{__unlayer_lastEditorId:0}:window;rb.__unlayer_lastEditorId=rb.__unlayer_lastEditorId||0;var hN=Vv.forwardRef(function(e,t){var r,n,a,i,o,s,l,u,d,f=e.onLoad,p=e.onReady,h=e.scriptUrl,v=e.minHeight,g=v===void 0?500:v,b=e.style,x=b===void 0?{}:b,w=Ai.useState(null),j=w[0],_=w[1],S=Ai.useState(!1),P=S[0],A=S[1],E=Ai.useMemo(function(){return e.editorId||"editor-"+ ++rb.__unlayer_lastEditorId},[e.editorId]),k=tb({},e.options||{},{appearance:(r=e.appearance)!=null?r:(n=e.options)==null?void 0:n.appearance,displayMode:(e==null?void 0:e.displayMode)||((a=e.options)==null?void 0:a.displayMode)||"email",locale:(i=e.locale)!=null?i:(o=e.options)==null?void 0:o.locale,projectId:(s=e.projectId)!=null?s:(l=e.options)==null?void 0:l.projectId,tools:(u=e.tools)!=null?u:(d=e.options)==null?void 0:d.tools,id:E,source:{name:"react-email-editor",version:"1.7.11"}});Ai.useImperativeHandle(t,function(){return{editor:j}},[j]),Ai.useEffect(function(){return function(){j==null||j.destroy()}},[]),Ai.useEffect(function(){A(!1),function(T,C){if(C===void 0&&(C="https://editor.unlayer.com/embed.js?2"),bP.push(function(){return A(!0)}),function($){var G=document.querySelectorAll("script"),H=!1;return G.forEach(function(Z){Z.src.includes($)&&(H=!0)}),H}(C))fN();else{var I=document.createElement("script");I.setAttribute("src",C),I.onload=function(){xP=!0,fN()},document.head.appendChild(I)}}(0,h)},[h]),Ai.useEffect(function(){P&&(j==null||j.destroy(),_(unlayer.createEditor(k)))},[JSON.stringify(k),P]);var M=Object.keys(e).filter(function(T){return/^on/.test(T)});return Ai.useEffect(function(){j&&(f==null||f(j),M.forEach(function(T){/^on/.test(T)&&T!=="onLoad"&&T!=="onReady"&&typeof e[T]=="function"&&j.addEventListener(T,e[T])}),p&&j.addEventListener("editor:ready",function(){p(j)}))},[j,Object.keys(M).join(",")]),Vv.createElement("div",{style:{flex:1,display:"flex",minHeight:g}},Vv.createElement("div",{id:E,style:tb({},x,{flex:1})}))});eb.EmailEditor=hN,eb.default=hN;function qfe(){return c.jsx("div",{className:"p-4",children:c.jsx("h1",{className:"text-xl font-bold",children:"SMS Composer (Coming Soon)"})})}function Ufe(){return c.jsx("div",{className:"p-4",children:c.jsx("h1",{className:"text-xl font-bold",children:"Social Post Composer (Coming Soon)"})})}const Wfe=()=>c.jsxs("div",{className:"p-6",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Content Assistant"}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsx("p",{className:"text-gray-600",children:"The AI Content Assistant helps you create and optimize content for your communications. This feature is coming soon!"})})]}),Hfe="https://api.ptoconnect.com";function Gfe(){const[e,t]=z.useState([]),[r,n]=z.useState("");z.useEffect(()=>{async function i(){const{data:{session:o}}=await Xe.auth.getSession(),s=o==null?void 0:o.access_token;if(!s)return n("Not authenticated.");try{const l=await Oa.get(`${Hfe}/api/documents`,{headers:{Authorization:`Bearer ${s}`}});t(l.data)}catch(l){n("Failed to load documents."),console.error(l)}}i()},[]);const a=i=>{const{data:o}=Xe.storage.from("documents").getPublicUrl(i);return o==null?void 0:o.publicUrl};return c.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"PTO Documents"}),c.jsx(Ci,{to:"/documents/upload",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Upload Document"})]}),r&&c.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&c.jsx("p",{children:"No documents found."}),c.jsx("ul",{className:"space-y-4",children:e.map(i=>c.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[c.jsx("h2",{className:"text-lg font-semibold",children:i.title}),c.jsx("a",{href:a(i.file_path),target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline text-sm",children:"View / Download"})]},i.id))})]})}const Vfe="https://api.ptoconnect.com";function Yfe(){const[e,t]=z.useState(""),[r,n]=z.useState(null),[a,i]=z.useState(""),[o,s]=z.useState(""),l=async u=>{if(u.preventDefault(),!r||!e)return s("Title and file are required.");const{data:{session:d}}=await Xe.auth.getSession(),f=d==null?void 0:d.access_token;if(!f)return s("User not authenticated.");const p=new FormData;p.append("title",e),p.append("file",r);try{await Oa.post(`${Vfe}/api/documents`,p,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}}),i("Document uploaded successfully."),t(""),n(null)}catch(h){s("Upload failed. Check console."),console.error(h)}};return c.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Upload Document"}),c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsx("input",{type:"text",placeholder:"Document Title",value:e,onChange:u=>t(u.target.value),className:"w-full border p-2",required:!0}),c.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg",onChange:u=>n(u.target.files[0]),className:"w-full border p-2",required:!0}),c.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Upload"}),a&&c.jsx("p",{className:"text-green-600",children:a}),o&&c.jsx("p",{className:"text-red-600",children:o})]})]})}const Kfe="https://api.ptoconnect.com";function Xfe(){const[e,t]=z.useState([]),[r,n]=z.useState("");return z.useEffect(()=>{async function a(){const{data:{session:i}}=await Xe.auth.getSession(),o=i==null?void 0:i.access_token;if(!o){n("Not authenticated.");return}try{const s=await Oa.get(`${Kfe}/api/shared-library`,{headers:{Authorization:`Bearer ${o}`}});t(s.data)}catch(s){console.error(s),n("Failed to load shared library items.")}}a()},[]),c.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared PTO Library"}),r&&c.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&c.jsx("p",{children:"No shared events or fundraisers yet."}),c.jsx("ul",{className:"space-y-4",children:e.map(a=>{var i;return c.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[c.jsx("h2",{className:"text-xl font-semibold",children:a.title}),c.jsx("p",{className:"text-sm text-gray-500",children:a.description}),c.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Type: ",((i=a.type)==null?void 0:i.toUpperCase())||"N/A"," • Shared by another PTO"]})]},a.id)})})]})}function Zfe(){const[e,t]=z.useState({type:"",season:"",audience:"",theme:"",goal:""}),[r,n]=z.useState([]),[a,i]=z.useState(!1),[o,s]=z.useState(null),l=d=>{const{name:f,value:p}=d.target;t(h=>({...h,[f]:p}))},u=async()=>{i(!0),s(null),n([]);const{data:{session:d},error:f}=await Xe.auth.getSession();if(f||!(d!=null&&d.access_token)){s("Authentication required."),i(!1);return}try{const h=await(await fetch("/api/ai/generate-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.access_token}`},body:JSON.stringify(e)})).json();if(h.result){const v=h.result.split(/\n?\d+\.\s/).filter(Boolean).map(g=>g.trim().replace(/^\*\*/,"").replace(/\*\*$/,""));n(v)}else s("No ideas returned.")}catch(p){console.error(p),s("Error contacting the backend")}finally{i(!1)}};return c.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Event Idea Generator"}),c.jsxs("div",{className:"grid gap-4 mb-4",children:[c.jsx("input",{name:"type",value:e.type,onChange:l,placeholder:"Event Type (e.g. Family Night)",className:"w-full border p-2 rounded"}),c.jsx("input",{name:"season",value:e.season,onChange:l,placeholder:"Season or Month (e.g. Spring, October)",className:"w-full border p-2 rounded"}),c.jsx("input",{name:"audience",value:e.audience,onChange:l,placeholder:"Audience (e.g. students, families)",className:"w-full border p-2 rounded"}),c.jsx("input",{name:"theme",value:e.theme,onChange:l,placeholder:"Theme (e.g. carnival, STEM)",className:"w-full border p-2 rounded"}),c.jsx("input",{name:"goal",value:e.goal,onChange:l,placeholder:"Goal (e.g. raise funds, build community)",className:"w-full border p-2 rounded"})]}),c.jsx("button",{onClick:u,disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded",children:a?"Generating...":"Generate Ideas"}),o&&c.jsx("p",{className:"text-red-500 mt-4",children:o}),r.length>0&&c.jsx("ul",{className:"mt-6 space-y-2",children:r.map((d,f)=>c.jsx("li",{className:"border p-3 rounded bg-gray-50",children:d},f))})]})}const Jfe=()=>c.jsxs("div",{children:[c.jsx("h1",{children:"Event Workflow Orchestrator"}),c.jsx("p",{children:"This is a placeholder for the Event Workflow Orchestrator component."})]}),Qfe=()=>c.jsx(Jfe,{}),wP=z.createContext({dragDropManager:void 0});function Xn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var pN=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),mN=function(){return Math.random().toString(36).substring(7).split("").join(".")},gN={INIT:"@@redux/INIT"+mN(),REPLACE:"@@redux/REPLACE"+mN()};function ehe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function SP(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Xn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Xn(1));return r(SP)(e,t)}if(typeof e!="function")throw new Error(Xn(2));var a=e,i=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function d(){if(l)throw new Error(Xn(3));return i}function f(g){if(typeof g!="function")throw new Error(Xn(4));if(l)throw new Error(Xn(5));var b=!0;return u(),s.push(g),function(){if(b){if(l)throw new Error(Xn(6));b=!1,u();var w=s.indexOf(g);s.splice(w,1),o=null}}}function p(g){if(!ehe(g))throw new Error(Xn(7));if(typeof g.type>"u")throw new Error(Xn(8));if(l)throw new Error(Xn(9));try{l=!0,i=a(i,g)}finally{l=!1}for(var b=o=s,x=0;x<b.length;x++){var w=b[x];w()}return g}function h(g){if(typeof g!="function")throw new Error(Xn(10));a=g,p({type:gN.REPLACE})}function v(){var g,b=f;return g={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(Xn(11));function j(){w.next&&w.next(d())}j();var _=b(j);return{unsubscribe:_}}},g[pN]=function(){return this},g}return p({type:gN.INIT}),n={dispatch:p,subscribe:f,getState:d,replaceReducer:h},n[pN]=v,n}function pt(e,t,...r){if(the()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;n=new Error(t.replace(/%s/g,function(){return r[a++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function the(){return typeof process<"u"&&!0}function rhe(e,t,r){return t.split(".").reduce((n,a)=>n&&n[a]?n[a]:r||null,e)}function nhe(e,t){return e.filter(r=>r!==t)}function jP(e){return typeof e=="object"}function ahe(e,t){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};e.forEach(n),t.forEach(n);const a=[];return r.forEach((i,o)=>{i===1&&a.push(o)}),a}function ihe(e,t){return e.filter(r=>t.indexOf(r)>-1)}const J1="dnd-core/INIT_COORDS",ng="dnd-core/BEGIN_DRAG",Q1="dnd-core/PUBLISH_DRAG_SOURCE",ag="dnd-core/HOVER",ig="dnd-core/DROP",og="dnd-core/END_DRAG";function vN(e,t){return{type:J1,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const ohe={type:J1,payload:{clientOffset:null,sourceClientOffset:null}};function she(e){return function(r=[],n={publishSource:!0}){const{publishSource:a=!0,clientOffset:i,getSourceClientOffset:o}=n,s=e.getMonitor(),l=e.getRegistry();e.dispatch(vN(i)),lhe(r,s,l);const u=dhe(r,s);if(u==null){e.dispatch(ohe);return}let d=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");che(o),d=o(u)}e.dispatch(vN(i,d));const p=l.getSource(u).beginDrag(s,u);if(p==null)return;uhe(p),l.pinSource(u);const h=l.getSourceType(u);return{type:ng,payload:{itemType:h,item:p,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!a}}}}function lhe(e,t,r){pt(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){pt(r.getSource(n),"Expected sourceIds to be registered.")})}function che(e){pt(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function uhe(e){pt(jP(e),"Item must be an object.")}function dhe(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function fhe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){fhe(e,a,r[a])})}return e}function phe(e){return function(r={}){const n=e.getMonitor(),a=e.getRegistry();mhe(n),yhe(n).forEach((o,s)=>{const l=ghe(o,s,a,n),u={type:ig,payload:{dropResult:hhe({},r,l)}};e.dispatch(u)})}}function mhe(e){pt(e.isDragging(),"Cannot call drop while not dragging."),pt(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function ghe(e,t,r,n){const a=r.getTarget(e);let i=a?a.drop(n,e):void 0;return vhe(i),typeof i>"u"&&(i=t===0?{}:n.getDropResult()),i}function vhe(e){pt(typeof e>"u"||jP(e),"Drop result must either be an object or undefined.")}function yhe(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function bhe(e){return function(){const r=e.getMonitor(),n=e.getRegistry();xhe(r);const a=r.getSourceId();return a!=null&&(n.getSource(a,!0).endDrag(r,a),n.unpinSource()),{type:og}}}function xhe(e){pt(e.isDragging(),"Cannot call endDrag while not dragging.")}function nb(e,t){return t===null?e===null:Array.isArray(e)?e.some(r=>r===t):e===t}function whe(e){return function(r,{clientOffset:n}={}){She(r);const a=r.slice(0),i=e.getMonitor(),o=e.getRegistry(),s=i.getItemType();return Nhe(a,o,s),jhe(a,i,o),_he(a,i,o),{type:ag,payload:{targetIds:a,clientOffset:n||null}}}}function She(e){pt(Array.isArray(e),"Expected targetIds to be an array.")}function jhe(e,t,r){pt(t.isDragging(),"Cannot call hover while not dragging."),pt(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const a=e[n];pt(e.lastIndexOf(a)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(a);pt(i,"Expected targetIds to be registered.")}}function Nhe(e,t,r){for(let n=e.length-1;n>=0;n--){const a=e[n],i=t.getTargetType(a);nb(i,r)||e.splice(n,1)}}function _he(e,t,r){e.forEach(function(n){r.getTarget(n).hover(t,n)})}function Ahe(e){return function(){if(e.getMonitor().isDragging())return{type:Q1}}}function Ohe(e){return{beginDrag:she(e),publishDragSource:Ahe(e),hover:whe(e),drop:phe(e),endDrag:bhe(e)}}class Phe{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:r}=this.store;function n(i){return(...o)=>{const s=i.apply(t,o);typeof s<"u"&&r(s)}}const a=Ohe(this);return Object.keys(a).reduce((i,o)=>{const s=a[o];return i[o]=n(s),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}}function Ehe(e,t){return{x:e.x+t.x,y:e.y+t.y}}function NP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function The(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return!t||!r||!n?null:NP(Ehe(t,n),r)}function Che(e){const{clientOffset:t,initialClientOffset:r}=e;return!t||!r?null:NP(t,r)}const zu=[],ex=[];zu.__IS_NONE__=!0;ex.__IS_ALL__=!0;function khe(e,t){return e===zu?!1:e===ex||typeof t>"u"?!0:ihe(t,e).length>0}class Dhe{subscribeToStateChange(t,r={}){const{handlerIds:n}=r;pt(typeof t=="function","listener must be a function."),pt(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),s=o.stateId;try{s===a||s===a+1&&!khe(o.dirtyHandlerIds,n)||t()}finally{a=s}};return this.store.subscribe(i)}subscribeToOffsetChange(t){pt(typeof t=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const a=this.store.getState().dragOffset;a!==r&&(r=a,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;const r=this.registry.getSource(t);return pt(r,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:r.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const r=this.registry.getTarget(t);if(pt(r,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(t),a=this.getItemType();return nb(n,a)&&r.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const r=this.registry.getSource(t,!0);if(pt(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(t),a=this.getItemType();return n!==a?!1:r.isDragging(this,t)}isOverTarget(t,r={shallow:!1}){if(!t)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const a=this.registry.getTargetType(t),i=this.getItemType();if(i&&!nb(a,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const s=o.indexOf(t);return n?s===o.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return The(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Che(this.store.getState().dragOffset)}constructor(t,r){this.store=t,this.registry=r}}const yN=typeof global<"u"?global:self,_P=yN.MutationObserver||yN.WebKitMutationObserver;function AP(e){return function(){const r=setTimeout(a,0),n=setInterval(a,50);function a(){clearTimeout(r),clearInterval(n),e()}}}function Lhe(e){let t=1;const r=new _P(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}const Mhe=typeof _P=="function"?Lhe:AP;class Ihe{enqueueTask(t){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,a=t.length-this.index;n<a;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Mhe(this.flush),this.requestErrorThrow=AP(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class $he{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}}class Rhe{create(t){const r=this.freeTasks,n=r.length?r.pop():new $he(this.onError,a=>r[r.length]=a);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}const OP=new Ihe,Fhe=new Rhe(OP.registerPendingError);function Bhe(e){OP.enqueueTask(Fhe.create(e))}const tx="dnd-core/ADD_SOURCE",rx="dnd-core/ADD_TARGET",nx="dnd-core/REMOVE_SOURCE",sg="dnd-core/REMOVE_TARGET";function zhe(e){return{type:tx,payload:{sourceId:e}}}function qhe(e){return{type:rx,payload:{targetId:e}}}function Uhe(e){return{type:nx,payload:{sourceId:e}}}function Whe(e){return{type:sg,payload:{targetId:e}}}function Hhe(e){pt(typeof e.canDrag=="function","Expected canDrag to be a function."),pt(typeof e.beginDrag=="function","Expected beginDrag to be a function."),pt(typeof e.endDrag=="function","Expected endDrag to be a function.")}function Ghe(e){pt(typeof e.canDrop=="function","Expected canDrop to be a function."),pt(typeof e.hover=="function","Expected hover to be a function."),pt(typeof e.drop=="function","Expected beginDrag to be a function.")}function ab(e,t){if(t&&Array.isArray(e)){e.forEach(r=>ab(r,!1));return}pt(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Jn;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Jn||(Jn={}));let Vhe=0;function Yhe(){return Vhe++}function Khe(e){const t=Yhe().toString();switch(e){case Jn.SOURCE:return`S${t}`;case Jn.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function bN(e){switch(e[0]){case"S":return Jn.SOURCE;case"T":return Jn.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function xN(e,t){const r=e.entries();let n=!1;do{const{done:a,value:[,i]}=r.next();if(i===t)return!0;n=!!a}while(!n);return!1}class Xhe{addSource(t,r){ab(t),Hhe(r);const n=this.addHandler(Jn.SOURCE,t,r);return this.store.dispatch(zhe(n)),n}addTarget(t,r){ab(t,!0),Ghe(r);const n=this.addHandler(Jn.TARGET,t,r);return this.store.dispatch(qhe(n)),n}containsHandler(t){return xN(this.dragSources,t)||xN(this.dropTargets,t)}getSource(t,r=!1){return pt(this.isSourceId(t),"Expected a valid source ID."),r&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return pt(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return pt(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return pt(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return bN(t)===Jn.SOURCE}isTargetId(t){return bN(t)===Jn.TARGET}removeSource(t){pt(this.getSource(t),"Expected an existing source."),this.store.dispatch(Uhe(t)),Bhe(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){pt(this.getTarget(t),"Expected an existing target."),this.store.dispatch(Whe(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const r=this.getSource(t);pt(r,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=r}unpinSource(){pt(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,r,n){const a=Khe(t);return this.types.set(a,r),t===Jn.SOURCE?this.dragSources.set(a,n):t===Jn.TARGET&&this.dropTargets.set(a,n),a}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const Zhe=(e,t)=>e===t;function Jhe(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function Qhe(e,t,r=Zhe){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function epe(e=zu,t){switch(t.type){case ag:break;case tx:case rx:case sg:case nx:return zu;case ng:case Q1:case og:case ig:default:return ex}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,a=ahe(r,n);if(!(a.length>0||!Qhe(r,n)))return zu;const o=n[n.length-1],s=r[r.length-1];return o!==s&&(o&&a.push(o),s&&a.push(s)),a}function tpe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){tpe(e,a,r[a])})}return e}const wN={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function npe(e=wN,t){const{payload:r}=t;switch(t.type){case J1:case ng:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case ag:return Jhe(e.clientOffset,r.clientOffset)?e:rpe({},e,{clientOffset:r.clientOffset});case og:case ig:return wN;default:return e}}function ape(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){ape(e,a,r[a])})}return e}const ipe={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ope(e=ipe,t){const{payload:r}=t;switch(t.type){case ng:return gl({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Q1:return gl({},e,{isSourcePublic:!0});case ag:return gl({},e,{targetIds:r.targetIds});case sg:return e.targetIds.indexOf(r.targetId)===-1?e:gl({},e,{targetIds:nhe(e.targetIds,r.targetId)});case ig:return gl({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case og:return gl({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function spe(e=0,t){switch(t.type){case tx:case rx:return e+1;case nx:case sg:return e-1;default:return e}}function lpe(e=0){return e+1}function cpe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function upe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){cpe(e,a,r[a])})}return e}function dpe(e={},t){return{dirtyHandlerIds:epe(e.dirtyHandlerIds,{type:t.type,payload:upe({},t.payload,{prevTargetIds:rhe(e,"dragOperation.targetIds",[])})}),dragOffset:npe(e.dragOffset,t),refCount:spe(e.refCount,t),dragOperation:ope(e.dragOperation,t),stateId:lpe(e.stateId)}}function fpe(e,t=void 0,r={},n=!1){const a=hpe(n),i=new Dhe(a,new Xhe(a)),o=new Phe(a,i),s=e(o,t,r);return o.receiveBackend(s),o}function hpe(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return SP(dpe,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function ppe(e,t){if(e==null)return{};var r=mpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mpe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}let SN=0;const Eh=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var gpe=z.memo(function(t){var{children:r}=t,n=ppe(t,["children"]);const[a,i]=vpe(n);return z.useEffect(()=>{if(i){const o=PP();return++SN,()=>{--SN===0&&(o[Eh]=null)}}},[]),c.jsx(wP.Provider,{value:a,children:r})});function vpe(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=ype(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}function ype(e,t=PP(),r,n){const a=t;return a[Eh]||(a[Eh]={dragDropManager:fpe(e,t,r,n)}),a[Eh]}function PP(){return typeof global<"u"?global:window}var bpe=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var o=i[a];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r};const xpe=xt(bpe),As=typeof window<"u"?z.useLayoutEffect:z.useEffect;function wpe(e,t,r){const[n,a]=z.useState(()=>t(e)),i=z.useCallback(()=>{const o=t(e);xpe(n,o)||(a(o),r&&r())},[n,e,r]);return As(i),[n,i]}function Spe(e,t,r){const[n,a]=wpe(e,t,r);return As(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(a,{handlerIds:[o]})},[e,a]),n}function EP(e,t,r){return Spe(t,e||(()=>({})),()=>r.reconnect())}function TP(e,t){const r=[...t||[]];return t==null&&typeof e!="function"&&r.push(e),z.useMemo(()=>typeof e=="function"?e():e,r)}function jpe(e){return z.useMemo(()=>e.hooks.dragSource(),[e])}function Npe(e){return z.useMemo(()=>e.hooks.dragPreview(),[e])}let Yv=!1,Kv=!1;class _pe{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){pt(!Yv,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Yv=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Yv=!1}}isDragging(){if(!this.sourceId)return!1;pt(!Kv,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Kv=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Kv=!1}}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,r){return this.internalMonitor.isOverTarget(t,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let Xv=!1;class Ape{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}canDrop(){if(!this.targetId)return!1;pt(!Xv,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Xv=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Xv=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function Ope(e,t,r){const n=r.getRegistry(),a=n.addTarget(e,t);return[a,()=>n.removeTarget(a)]}function Ppe(e,t,r){const n=r.getRegistry(),a=n.addSource(e,t);return[a,()=>n.removeSource(a)]}function ib(e,t,r,n){let a;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<i.length;l++){const u=i[l];if(!s(u))return!1;const d=e[u],f=t[u];if(a=void 0,a===!1||a===void 0&&d!==f)return!1}return!0}function ob(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Epe(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function Tpe(e){return(t=null,r=null)=>{if(!z.isValidElement(t)){const i=t;return e(i,r),i}const n=t;return Epe(n),Cpe(n,r?i=>e(i,r):e)}}function CP(e){const t={};return Object.keys(e).forEach(r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const a=Tpe(n);t[r]=()=>a}}),t}function jN(e,t){typeof e=="function"?e(t):e.current=t}function Cpe(e,t){const r=e.ref;return pt(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?z.cloneElement(e,{ref:n=>{jN(r,n),jN(t,n)}}):z.cloneElement(e,{ref:t})}class kpe{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?t?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),r):(this.lastConnectedDragSource=t,r):r}reconnectDragPreview(t=!1){const r=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!ib(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!ib(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=CP({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,ob(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,ob(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class Dpe{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!ib(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=CP({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,ob(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function Mc(){const{dragDropManager:e}=z.useContext(wP);return pt(e!=null,"Expected drag drop context"),e}function Lpe(e,t){const r=Mc(),n=z.useMemo(()=>new kpe(r.getBackend()),[r]);return As(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),As(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}function Mpe(){const e=Mc();return z.useMemo(()=>new _pe(e),[e])}class Ipe{beginDrag(){const t=this.spec,r=this.monitor;let n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(r):n={},n??null}canDrag(){const t=this.spec,r=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(r):!0}isDragging(t,r){const n=this.spec,a=this.monitor,{isDragging:i}=n;return i?i(a):r===t.getSourceId()}endDrag(){const t=this.spec,r=this.monitor,n=this.connector,{end:a}=t;a&&a(r.getItem(),r),n.reconnect()}constructor(t,r,n){this.spec=t,this.monitor=r,this.connector=n}}function $pe(e,t,r){const n=z.useMemo(()=>new Ipe(e,t,r),[t,r]);return z.useEffect(()=>{n.spec=e},[e]),n}function Rpe(e){return z.useMemo(()=>{const t=e.type;return pt(t!=null,"spec.type must be defined"),t},[e])}function Fpe(e,t,r){const n=Mc(),a=$pe(e,t,r),i=Rpe(e);As(function(){if(i!=null){const[s,l]=Ppe(i,a,n);return t.receiveHandlerId(s),r.receiveHandlerId(s),l}},[n,t,r,a,i])}function Bpe(e,t){const r=TP(e,t);pt(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Mpe(),a=Lpe(r.options,r.previewOptions);return Fpe(r,n,a),[EP(r.collect,n,a),jpe(a),Npe(a)]}function zpe(e){return z.useMemo(()=>e.hooks.dropTarget(),[e])}function qpe(e){const t=Mc(),r=z.useMemo(()=>new Dpe(t.getBackend()),[t]);return As(()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget()),[e]),r}function Upe(){const e=Mc();return z.useMemo(()=>new Ape(e),[e])}function Wpe(e){const{accept:t}=e;return z.useMemo(()=>(pt(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class Hpe{canDrop(){const t=this.spec,r=this.monitor;return t.canDrop?t.canDrop(r.getItem(),r):!0}hover(){const t=this.spec,r=this.monitor;t.hover&&t.hover(r.getItem(),r)}drop(){const t=this.spec,r=this.monitor;if(t.drop)return t.drop(r.getItem(),r)}constructor(t,r){this.spec=t,this.monitor=r}}function Gpe(e,t){const r=z.useMemo(()=>new Hpe(e,t),[t]);return z.useEffect(()=>{r.spec=e},[e]),r}function Vpe(e,t,r){const n=Mc(),a=Gpe(e,t),i=Wpe(e);As(function(){const[s,l]=Ope(i,a,n);return t.receiveHandlerId(s),r.receiveHandlerId(s),l},[n,t,a,r,i.map(o=>o.toString()).join("|")])}function Ype(e,t){const r=TP(e,t),n=Upe(),a=qpe(r.options);return Vpe(r,n,a),[EP(r.collect,n,a),zpe(a)]}function kP(e){let t=null;return()=>(t==null&&(t=e()),t)}function Kpe(e,t){return e.filter(r=>r!==t)}function Xpe(e,t){const r=new Set,n=i=>r.add(i);e.forEach(n),t.forEach(n);const a=[];return r.forEach(i=>a.push(i)),a}class Zpe{enter(t){const r=this.entered.length,n=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(t));return this.entered=Xpe(this.entered.filter(n),[t]),r===0&&this.entered.length>0}leave(t){const r=this.entered.length;return this.entered=Kpe(this.entered.filter(this.isNodeInDocument),t),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class Jpe{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const a=this.config.exposeProperties[n];a!=null&&(r[n]={value:a(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,r){return r===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const DP="__NATIVE_FILE__",LP="__NATIVE_URL__",MP="__NATIVE_TEXT__",IP="__NATIVE_HTML__",NN=Object.freeze(Object.defineProperty({__proto__:null,FILE:DP,HTML:IP,TEXT:MP,URL:LP},Symbol.toStringTag,{value:"Module"}));function Zv(e,t,r){const n=t.reduce((a,i)=>a||e.getData(i),"");return n??r}const sb={[DP]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[IP]:{exposeProperties:{html:(e,t)=>Zv(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[LP]:{exposeProperties:{urls:(e,t)=>Zv(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[MP]:{exposeProperties:{text:(e,t)=>Zv(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Qpe(e,t){const r=sb[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new Jpe(r);return n.loadDataTransfer(t),n}function Jv(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(sb).filter(r=>{const n=sb[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(a=>t.indexOf(a)>-1):!1})[0]||null}const eme=kP(()=>/firefox/i.test(navigator.userAgent)),$P=kP(()=>!!window.safari);class _N{interpolate(t){const{xs:r,ys:n,c1s:a,c2s:i,c3s:o}=this;let s=r.length-1;if(t===r[s])return n[s];let l=0,u=o.length-1,d;for(;l<=u;){d=Math.floor(.5*(l+u));const h=r[d];if(h<t)l=d+1;else if(h>t)u=d-1;else return n[d]}s=Math.max(0,u);const f=t-r[s],p=f*f;return n[s]+a[s]*f+i[s]*p+o[s]*f*p}constructor(t,r){const{length:n}=t,a=[];for(let h=0;h<n;h++)a.push(h);a.sort((h,v)=>t[h]<t[v]?-1:1);const i=[],o=[];let s,l;for(let h=0;h<n-1;h++)s=t[h+1]-t[h],l=r[h+1]-r[h],i.push(s),o.push(l/s);const u=[o[0]];for(let h=0;h<i.length-1;h++){const v=o[h],g=o[h+1];if(v*g<=0)u.push(0);else{s=i[h];const b=i[h+1],x=s+b;u.push(3*x/((x+b)/v+(x+s)/g))}}u.push(o[o.length-1]);const d=[],f=[];let p;for(let h=0;h<u.length-1;h++){p=o[h];const v=u[h],g=1/i[h],b=v+u[h+1]-p-p;d.push((p-v-b)*g),f.push(b*g*g)}this.xs=t,this.ys=r,this.c1s=u,this.c2s=d,this.c3s=f}}const tme=1;function RP(e){const t=e.nodeType===tme?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function vh(e){return{x:e.clientX,y:e.clientY}}function rme(e){var t;return e.nodeName==="IMG"&&(eme()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function nme(e,t,r,n){let a=e?t.width:r,i=e?t.height:n;return $P()&&e&&(i/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:i}}function ame(e,t,r,n,a){const i=rme(t),s=RP(i?e:t),l={x:r.x-s.x,y:r.y-s.y},{offsetWidth:u,offsetHeight:d}=e,{anchorX:f,anchorY:p}=n,{dragPreviewWidth:h,dragPreviewHeight:v}=nme(i,t,u,d),g=()=>{let P=new _N([0,.5,1],[l.y,l.y/d*v,l.y+v-d]).interpolate(p);return $P()&&i&&(P+=(window.devicePixelRatio-1)*v),P},b=()=>new _N([0,.5,1],[l.x,l.x/u*h,l.x+h-u]).interpolate(f),{offsetX:x,offsetY:w}=a,j=x===0||x,_=w===0||w;return{x:j?x:b(),y:_?w:g()}}class ime{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,r){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}}function ome(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){ome(e,a,r[a])})}return e}class sme{profile(){var t,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,r,n){this.sourceNodes.set(t,r),this.sourceNodeOptions.set(t,n);const a=o=>this.handleDragStart(o,t),i=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",a),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),r.removeEventListener("dragstart",a),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(t,r){const n=o=>this.handleDragEnter(o,t),a=o=>this.handleDragOver(o,t),i=o=>this.handleDrop(o,t);return r.addEventListener("dragenter",n),r.addEventListener("dragover",a),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",a),r.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(t);return AN({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(t);return AN({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(NN).some(r=>NN[r]===t)}beginDragNativeItem(t,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Qpe(t,r),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,r){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(t,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(t,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(t,r){this.dropTargetIds.unshift(r)}constructor(t,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const i=this.sourceNodes.get(a);return i&&RP(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=vh(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:s}=a,l=Jv(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){const d=this.monitor.getSourceId(),f=this.sourceNodes.get(d),p=this.sourcePreviewNodes.get(d)||f;if(p){const{anchorX:h,anchorY:v,offsetX:g,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),j=ame(f,p,o,{anchorX:h,anchorY:v},{offsetX:g,offsetY:b});s.setDragImage(p,j.x,j.y)}}try{s==null||s.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(s&&!s.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:s}=a,l=Jv(s);l&&this.beginDragNativeItem(l,s)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,i.length>0&&this.actions.hover(i,{clientOffset:vh(a)}),i.some(s=>this.monitor.canDropOnTarget(s))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=vh(a),this.scheduleHover(i),(i||[]).some(s=>this.monitor.canDropOnTarget(s))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;a.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}else Jv(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:vh(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const i=a.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(a.preventDefault(),i.dragDrop()))},this.options=new ime(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Zpe(this.isNodeInDocument)}}const lme=function(t,r,n){return new sme(t,r,n)},ON={EMAIL:"email",SMS:"sms",FLYER:"flyer",SOCIAL:"social",ANNOUNCEMENT:"announcement"},PN=()=>{var I,$,G,H,Z,J,Y,Q,oe,L,q,ee,ie;const[e,t]=z.useState([]),[r,n]=z.useState(null),[a,i]=z.useState(100),[o,s]=z.useState("templates"),[l,u]=z.useState(!1),[d,f]=z.useState(ON.EMAIL),[p,h]=z.useState(""),[v,g]=z.useState("all"),b=z.useRef(null);z.useEffect(()=>{console.log("AdvancedDesignStudio mounted successfully")},[]),z.useEffect(()=>{const K=se=>{l&&!se.target.closest(".stella-popup-container")&&u(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[l]);const x=[{id:"welcome-newsletter",name:"Welcome Back Newsletter",category:"Newsletter",thumbnail:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZGJlYWZlIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iIzFlNDBhZiIgcng9IjQiLz4KPHRleHQgeD0iMTUwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPldlbGNvbWUgQmFjayE8L3RleHQ+CjxyZWN0IHg9IjIwIiB5PSI4MCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSIxMDAiIGZpbGw9IndoaXRlIiBzdHJva2U9IiNlNWU3ZWIiIHJ4PSI0Ii8+Cjx0ZXh0IHg9IjMwIiB5PSIxMDAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzM3NDE1MSI+V2UgYXJlIGV4Y2l0ZWQgdG8gc3RhcnQgYW5vdGhlcjwvdGV4dD4KPHRleHQgeD0iMzAiIHk9IjExNSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjMzc0MTUxIj5hbWF6aW5nIHNjaG9vbCB5ZWFyIHRvZ2V0aGVyITwvdGV4dD4KPC9zdmc+",description:"Professional welcome back newsletter",elements:[{type:"header",content:"Welcome Back to School!",style:{fontSize:"36px",fontWeight:"bold",color:"#1e40af",textAlign:"center",padding:"30px",backgroundColor:"#dbeafe",borderRadius:"8px",width:"100%",marginBottom:"20px"}},{type:"text",content:"We are excited to start another amazing school year together! This year brings new opportunities, exciting events, and wonderful memories to be made.",style:{fontSize:"18px",color:"#374151",textAlign:"center",padding:"20px",lineHeight:"1.6",width:"100%"}}]},{id:"fall-festival",name:"Fall Festival Invitation",category:"Events",thumbnail:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZmVmM2M3Ii8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2Q5NzcwNiIgcng9IjQiLz4KPHRleHQgeD0iMTUwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkZhbGwgRmVzdGl2YWwgMjAyNDwvdGV4dD4KPGNpcmNsZSBjeD0iNzAiIGN5PSIxMjAiIHI9IjE1IiBmaWxsPSIjZjU5ZTBiIi8+CjxjaXJjbGUgY3g9IjIzMCIgY3k9IjEyMCIgcj0iMTUiIGZpbGw9IiNlZjQ0NDQiLz4KPHRleHQgeD0iMTUwIiB5PSIxMzAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzM3NDE1MSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Sm9pbiB1cyBmb3IgZm9vZCwgZnVuLCBhbmQgY29tbXVuaXR5ITwvdGV4dD4KPC9zdmc+",description:"Festive fall event invitation",elements:[{type:"header",content:"Fall Festival 2024",style:{fontSize:"42px",fontWeight:"bold",color:"#d97706",textAlign:"center",padding:"25px",backgroundColor:"#fef3c7",borderRadius:"8px",width:"100%",marginBottom:"20px"}},{type:"text",content:"Join us for food, fun, and community spirit! Games, prizes, delicious treats, and memories for the whole family.",style:{fontSize:"20px",color:"#374151",textAlign:"center",padding:"20px",lineHeight:"1.5",width:"100%"}}]},{id:"event-announcement",name:"Event Announcement",category:"Events",thumbnail:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZmVlMmUyIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2RjMjYyNiIgcng9IjQiLz4KPHRleHQgeD0iMTUwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPlNwZWNpYWwgRXZlbnQ8L3RleHQ+Cjxwb2x5Z29uIHBvaW50cz0iMTUwLDgwIDEzNSwxMTAgMTY1LDExMCIgZmlsbD0iI2RjMjYyNiIvPgo8dGV4dCB4PSIxNTAiIHk9IjE0MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjMzc0MTUxIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5Kb2luIHVzIGZvciBhbiB1bmZvcmdldHRhYmxlIGV4cGVyaWVuY2UhPC90ZXh0Pgo8L3N2Zz4=",description:"Eye-catching event announcement",elements:[{type:"header",content:"Important Announcement",style:{fontSize:"38px",fontWeight:"bold",color:"#dc2626",textAlign:"center",padding:"25px",backgroundColor:"#fee2e2",borderRadius:"8px",width:"100%",marginBottom:"20px"}},{type:"text",content:"Join us for an unforgettable experience! Mark your calendars for this special event.",style:{fontSize:"18px",color:"#374151",textAlign:"center",padding:"20px",lineHeight:"1.6",width:"100%"}}]}],w=[{type:"text",icon:Xg,label:"Text",defaultContent:"Add your text here",defaultStyle:{fontSize:"16px",color:"#374151",lineHeight:"1.6",padding:"10px",width:"100%"}},{type:"header",icon:Xg,label:"Header",defaultContent:"Your Header Here",defaultStyle:{fontSize:"32px",fontWeight:"bold",color:"#1f2937",textAlign:"center",padding:"20px",width:"100%"}},{type:"image",icon:Mx,label:"Image",defaultSrc:"https://picsum.photos/400/250?random=99",defaultStyle:{width:"100%",borderRadius:"8px"}},{type:"button",icon:Zg,label:"Button",defaultContent:"Click Here",defaultStyle:{backgroundColor:"#3b82f6",color:"white",padding:"15px 30px",borderRadius:"8px",fontSize:"16px",fontWeight:"600",textAlign:"center",border:"none",cursor:"pointer"}},{type:"divider",icon:qE,label:"Divider",defaultContent:"",defaultStyle:{height:"2px",backgroundColor:"#e5e7eb",width:"100%",margin:"20px 0"}}],j=K=>{try{console.log("Using template:",K.name);const se=K.elements.map((de,ae)=>({...de,id:`element_${Date.now()}_${ae}`,x:20,y:20+ae*80}));t(se),n(null),console.log("Template applied successfully",se)}catch(se){console.error("Template error:",se)}},_=({element:K})=>{const[{isDragging:se},de]=Bpe(()=>({type:"element",item:{elementType:K.type,defaultContent:K.defaultContent||"",defaultSrc:K.defaultSrc||"",defaultStyle:K.defaultStyle||{}},collect:xe=>({isDragging:xe.isDragging()})}),[K]),ae=K.icon;return c.jsx("div",{ref:de,className:`p-3 border border-gray-200 rounded-lg cursor-move hover:bg-gray-50 transition-colors ${se?"opacity-50 bg-blue-100":""}`,children:c.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[c.jsx(ae,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"text-sm text-gray-700",children:K.label}),se&&c.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Dragging..."})]})})},S=()=>{const[{isOver:K,canDrop:se},de]=Ype(()=>({accept:"element",drop:(ae,xe)=>{var ye,pe;try{console.log("🎯 DROP EVENT TRIGGERED!",ae);const Pe=xe.getClientOffset(),De=(ye=b.current)==null?void 0:ye.getBoundingClientRect();if(console.log("📍 Drop details:",{offset:Pe,canvasRect:De,hasCanvasRef:!!b.current,itemType:ae.elementType}),!Pe||!De){console.log("❌ Missing offset or canvas rect");return}const be={id:`element_${Date.now()}_${Math.random()}`,type:ae.elementType,content:ae.defaultContent||"New Content",src:ae.defaultSrc||"",x:Math.max(10,Pe.x-De.left-50),y:Math.max(10,Pe.y-De.top-20),style:{...ae.defaultStyle,position:((pe=ae.defaultStyle)==null?void 0:pe.width)==="100%"?"static":"absolute"}};console.log("✅ Creating element:",be),t(re=>{const Ue=[...re,be];return console.log("🎨 Canvas updated, total elements:",Ue.length),Ue}),n(be)}catch(Pe){console.error("❌ Drop error:",Pe)}},collect:ae=>({isOver:ae.isOver(),canDrop:ae.canDrop()})}),[]);return c.jsxs("div",{ref:ae=>{de(ae),b.current=ae},className:`relative bg-white border-2 border-dashed border-gray-300 rounded-lg min-h-[600px] transition-colors ${K?"border-blue-500 bg-blue-50":""} ${se?"border-green-400":""}`,style:{transform:`scale(${a/100})`,transformOrigin:"top left",width:"100%",maxWidth:"800px",margin:"0 auto"},children:[K&&c.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-2 py-1 rounded text-xs z-50",children:"🎯 DROP ZONE ACTIVE"}),se&&c.jsx("div",{className:"absolute top-2 right-2 bg-green-600 text-white px-2 py-1 rounded text-xs z-50",children:"✅ CAN DROP"}),e.map(ae=>c.jsx(P,{element:ae,isSelected:(r==null?void 0:r.id)===ae.id,onSelect:()=>n(ae),onUpdate:xe=>{t(ye=>ye.map(pe=>pe.id===ae.id?xe:pe)),n(xe)}},ae.id)),e.length===0&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Mx,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"Drag elements here to start designing"}),c.jsx("p",{className:"text-sm",children:"Choose from templates or build from scratch"}),c.jsxs("div",{className:"mt-4 text-xs bg-gray-100 p-2 rounded",children:["Canvas: ",e.length," elements | Can Drop: ",se?"Yes":"No"]})]})})]})},P=({element:K,isSelected:se,onSelect:de,onUpdate:ae})=>{var Ue,Fe;const[xe,ye]=z.useState(!1),pe=()=>{(K.type==="text"||K.type==="header"||K.type==="button")&&ye(!0)},Pe=Ae=>{ae({...K,content:Ae}),ye(!1)},De=()=>{var ke,Me,Ie,Ge,Ze,et,lt,vt,wt,tt;const Ae={...K.style,cursor:"pointer",outline:se?"2px solid #3b82f6":"none",outlineOffset:"2px",display:"block",boxSizing:"border-box"};switch(K.type){case"text":return xe?c.jsx("textarea",{value:K.content,onChange:Ye=>Pe(Ye.target.value),onBlur:()=>ye(!1),className:"w-full bg-transparent border-none outline-none resize-none",style:{...Ae,minHeight:"100px"},autoFocus:!0}):c.jsx("div",{style:Ae,children:K.content.split(`
`).map((Ye,Be)=>c.jsx("div",{children:Ye},Be))});case"header":return xe?c.jsx("input",{type:"text",value:K.content,onChange:Ye=>Pe(Ye.target.value),onBlur:()=>ye(!1),onKeyPress:Ye=>Ye.key==="Enter"&&ye(!1),className:"w-full bg-transparent border-none outline-none",style:{...Ae,fontSize:"inherit",fontWeight:"inherit"},autoFocus:!0}):c.jsx("h1",{style:Ae,children:K.content});case"image":return c.jsx("img",{src:K.src,alt:"Design element",style:{...Ae,maxWidth:((ke=K.style)==null?void 0:ke.width)||"100%",height:"auto",objectFit:"cover"},onError:Ye=>{Ye.target.src="https://via.placeholder.com/400x200/f3f4f6/6b7280?text=Image+Placeholder"}});case"button":return c.jsx("button",{style:{...Ae,backgroundColor:((Me=K.style)==null?void 0:Me.backgroundColor)||"#3b82f6",color:((Ie=K.style)==null?void 0:Ie.color)||"white",padding:((Ge=K.style)==null?void 0:Ge.padding)||"15px 30px",borderRadius:((Ze=K.style)==null?void 0:Ze.borderRadius)||"8px",border:"none",fontSize:((et=K.style)==null?void 0:et.fontSize)||"16px",fontWeight:((lt=K.style)==null?void 0:lt.fontWeight)||"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:Ye=>{Ye.target.style.opacity="0.9",Ye.target.style.transform="translateY(-1px)"},onMouseOut:Ye=>{Ye.target.style.opacity="1",Ye.target.style.transform="translateY(0)"},children:xe?c.jsx("input",{type:"text",value:K.content,onChange:Ye=>Pe(Ye.target.value),onBlur:()=>ye(!1),className:"bg-transparent border-none outline-none text-white",autoFocus:!0}):K.content});case"divider":return c.jsx("hr",{style:{...Ae,border:"none",height:((vt=K.style)==null?void 0:vt.height)||"2px",backgroundColor:((wt=K.style)==null?void 0:wt.backgroundColor)||"#e5e7eb",width:"100%",margin:((tt=K.style)==null?void 0:tt.margin)||"20px 0"}});default:return c.jsxs("div",{style:Ae,children:["Unknown element: ",K.type]})}},be=((Ue=K.style)==null?void 0:Ue.width)==="100%"?"calc(100% - 40px)":"auto",re=((Fe=K.style)==null?void 0:Fe.width)==="100%";return c.jsxs("div",{className:"absolute",style:{left:re?20:K.x,top:K.y,width:be,minWidth:re?"auto":"50px",minHeight:"30px",zIndex:se?10:1},onClick:de,onDoubleClick:pe,children:[De(),se&&c.jsxs("div",{className:"absolute -top-6 -left-1 text-xs bg-blue-600 text-white px-2 py-1 rounded flex items-center space-x-2 z-20",children:[c.jsx("span",{children:K.type}),c.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),t(ke=>ke.filter(Me=>Me.id!==K.id)),n(null)},className:"text-white hover:text-red-200 text-xs",title:"Delete element",children:"×"})]})]})},A=K=>{const se={email:{label:"📧 Email",icon:Eu},sms:{label:"📱 SMS",icon:VE},flyer:{label:"📄 Flyer",icon:Zg},social:{label:"📱 Social Post",icon:GE},announcement:{label:"📢 Announcement",icon:Xg}};return se[K]||se.email},E=()=>{let K=x;return v!=="all"&&(K=K.filter(se=>se.category.toLowerCase()===v.toLowerCase())),p&&(K=K.filter(se=>se.name.toLowerCase().includes(p.toLowerCase())||se.description.toLowerCase().includes(p.toLowerCase()))),K},k=[{id:"all",name:"All Templates",count:x.length},{id:"newsletter",name:"Newsletter",count:1},{id:"events",name:"Events",count:2}],M=K=>{if(!r)return;const se={...r,style:{...r.style,...K}};t(de=>de.map(ae=>ae.id===r.id?se:ae)),n(se)},[T,C]=z.useState(!1);return z.useEffect(()=>{const K=se=>{console.error("AdvancedDesignStudio error:",se),C(!0)};return window.addEventListener("error",K),()=>window.removeEventListener("error",K)},[]),T?c.jsx("div",{className:"h-screen bg-gray-100 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Communication Designer Error"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"There was an issue loading the design studio."}),c.jsx("button",{onClick:()=>{C(!1),window.location.reload()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Reload Page"})]})}):c.jsx(gpe,{backend:lme,children:c.jsxs("div",{className:"h-screen bg-gray-100 flex",children:[c.jsxs("div",{className:"fixed bottom-4 right-4 bg-black text-green-400 p-2 rounded text-xs z-50",children:["Elements: ",e.length," | Mode: ",d]}),c.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[c.jsxs("div",{className:"flex border-b border-gray-200",children:[c.jsx("button",{onClick:()=>s("templates"),className:`flex-1 py-3 px-4 text-sm font-medium ${o==="templates"?"bg-blue-50 text-blue-700 border-b-2 border-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Templates"}),c.jsx("button",{onClick:()=>s("elements"),className:`flex-1 py-3 px-4 text-sm font-medium ${o==="elements"?"bg-blue-50 text-blue-700 border-b-2 border-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Elements"}),c.jsx("button",{onClick:()=>s("brand"),className:`flex-1 py-3 px-4 text-sm font-medium ${o==="brand"?"bg-blue-50 text-blue-700 border-b-2 border-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Brand"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o==="templates"&&c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(lb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search templates...",value:p,onChange:K=>h(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(K=>c.jsxs("button",{onClick:()=>g(K.id),className:`px-3 py-1 text-xs rounded-full border transition-colors ${v===K.id?"bg-blue-100 border-blue-300 text-blue-800":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[K.name," (",K.count,")"]},K.id))}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Professional Templates"}),c.jsx("div",{className:"grid grid-cols-1 gap-3",children:E().map(K=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 cursor-pointer hover:border-blue-300 hover:bg-blue-50 transition-colors group",onClick:()=>j(K),children:[c.jsxs("div",{className:"aspect-video bg-gray-100 rounded mb-3 flex items-center justify-center relative overflow-hidden",children:[c.jsx("img",{src:K.thumbnail,alt:K.name,className:"w-full h-full object-cover",onError:se=>{se.target.src="https://via.placeholder.com/300x200/f3f4f6/6b7280?text=Template"}}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:c.jsx("button",{className:"bg-white text-gray-800 px-3 py-1 rounded-full text-xs font-medium opacity-0 group-hover:opacity-100 transition-all",children:"Use Template"})})]}),c.jsx("h4",{className:"font-medium text-sm text-gray-900",children:K.name}),c.jsx("p",{className:"text-xs text-gray-500 mb-2",children:K.description}),c.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:K.category})]},K.id))})]})]}),o==="elements"&&c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Drag Elements"}),c.jsxs("div",{className:"text-xs bg-yellow-100 p-2 rounded mb-4",children:["🐛 Debug: React DnD Elements (",w.length," available)"]}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:w.map(K=>{try{return c.jsx(_,{element:K},K.type)}catch(se){return console.error("Error rendering drag element:",K.type,se),c.jsx("div",{className:"p-3 border border-red-200 rounded-lg bg-red-50",children:c.jsx("div",{className:"flex flex-col items-center space-y-2",children:c.jsxs("span",{className:"text-sm text-red-600",children:["Error: ",K.label]})})},K.type)}})})]}),o==="brand"&&c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Brand Assets"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-sm mb-2",children:"Colors"}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:["#1f2937","#374151","#6b7280","#d97706","#059669","#dc2626","#7c3aed"].map(K=>c.jsx("div",{className:"w-8 h-8 rounded cursor-pointer border border-gray-200 hover:scale-110 transition-transform",style:{backgroundColor:K},onClick:()=>r&&M({color:K}),title:K},K))})]})]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"bg-white border-b border-gray-200",children:[c.jsxs("div",{className:"px-6 py-3 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Communication Designer"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Create professional communications for your PTO"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-1",children:[c.jsx("button",{onClick:()=>i(Math.max(50,a-25)),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:c.jsx(UE,{className:"w-4 h-4"})}),c.jsxs("span",{className:"text-sm font-medium min-w-[3rem] text-center",children:[a,"%"]}),c.jsx("button",{onClick:()=>i(Math.min(200,a+25)),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:c.jsx(WE,{className:"w-4 h-4"})})]}),c.jsxs("button",{className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",onClick:()=>console.log("Save draft"),children:[c.jsx(HE,{className:"w-4 h-4 mr-2"}),"Save Draft"]}),c.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>console.log("Preview",d),children:[c.jsx(Uu,{className:"w-4 h-4 mr-2"}),"Preview"]}),c.jsxs("div",{className:"relative stella-popup-container",children:[c.jsxs("button",{className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",onClick:()=>u(!l),children:[c.jsx(Zr,{className:"w-4 h-4 mr-2"}),"Stella"]}),l&&c.jsx("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx(Zr,{className:"w-5 h-5 text-purple-600"}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Stella's Content Assistant"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Hi! I'm Stella. I can help create content for your designs."}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{className:"w-full py-2 px-3 text-left bg-gray-50 hover:bg-gray-100 rounded-lg text-sm transition-colors",children:"Let Stella Write Email Subject"}),c.jsx("button",{className:"w-full py-2 px-3 text-left bg-gray-50 hover:bg-gray-100 rounded-lg text-sm transition-colors",children:"Let Stella Write Email Content"}),c.jsx("button",{className:"w-full py-2 px-3 text-left bg-gray-50 hover:bg-gray-100 rounded-lg text-sm transition-colors",children:"Let Stella Create Social Post"})]}),c.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 right-2 p-1 hover:bg-gray-100 rounded",children:c.jsx("span",{className:"text-gray-400",children:"×"})})]})})]})]})]}),c.jsx("div",{className:"px-6",children:c.jsx("div",{className:"flex border-b border-gray-200",children:Object.values(ON).map(K=>{const se=A(K);return c.jsx("button",{onClick:()=>f(K),className:`flex-1 py-4 px-4 border-b-2 font-medium text-sm transition-colors text-center ${d===K?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:se.label},K)})})})]}),c.jsx("div",{className:"flex-1 p-6 overflow-auto",children:c.jsx("div",{className:"flex justify-center",children:c.jsx(S,{})})})]}),c.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 flex flex-col",children:[c.jsx("div",{className:"border-b border-gray-200 px-4 py-3",children:c.jsx("h2",{className:"font-semibold text-gray-900",children:"Properties"})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Content"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Text Content"}),c.jsx("textarea",{value:r.content||"",onChange:K=>{const se={...r,content:K.target.value};t(de=>de.map(ae=>ae.id===r.id?se:ae)),n(se)},className:"w-full p-3 border border-gray-300 rounded-lg text-sm",rows:"4",placeholder:"Enter your text here..."})]}),r.type==="image"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),c.jsx("input",{type:"url",value:r.src||"",onChange:K=>{const se={...r,src:K.target.value};t(de=>de.map(ae=>ae.id===r.id?se:ae)),n(se)},className:"w-full p-2 border border-gray-300 rounded-lg text-sm",placeholder:"https://example.com/image.jpg"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Typography"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Font Size: ",parseInt((I=r.style)==null?void 0:I.fontSize)||16,"px"]}),c.jsx("input",{type:"range",min:"8",max:"72",value:parseInt(($=r.style)==null?void 0:$.fontSize)||16,onChange:K=>M({fontSize:`${K.target.value}px`}),className:"w-full"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Weight"}),c.jsxs("select",{value:((G=r.style)==null?void 0:G.fontWeight)||"normal",onChange:K=>M({fontWeight:K.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg text-sm",children:[c.jsx("option",{value:"300",children:"Light"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"600",children:"Semi Bold"}),c.jsx("option",{value:"bold",children:"Bold"}),c.jsx("option",{value:"800",children:"Extra Bold"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Text Alignment"}),c.jsx("div",{className:"flex space-x-1",children:["left","center","right","justify"].map(K=>{var se;return c.jsx("button",{onClick:()=>M({textAlign:K}),className:`flex-1 p-2 text-xs border rounded ${((se=r.style)==null?void 0:se.textAlign)===K?"bg-blue-100 border-blue-300 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:K.charAt(0).toUpperCase()+K.slice(1)},K)})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Line Height: ",parseFloat((H=r.style)==null?void 0:H.lineHeight)||1.4]}),c.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:parseFloat((Z=r.style)==null?void 0:Z.lineHeight)||1.4,onChange:K=>M({lineHeight:K.target.value}),className:"w-full"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Colors"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Text Color"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"color",value:((J=r.style)==null?void 0:J.color)||"#374151",onChange:K=>M({color:K.target.value}),className:"w-12 h-10 rounded border border-gray-300"}),c.jsx("input",{type:"text",value:((Y=r.style)==null?void 0:Y.color)||"#374151",onChange:K=>M({color:K.target.value}),className:"flex-1 p-2 border border-gray-300 rounded-lg text-sm font-mono",placeholder:"#374151"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"color",value:((Q=r.style)==null?void 0:Q.backgroundColor)||"transparent",onChange:K=>M({backgroundColor:K.target.value}),className:"w-12 h-10 rounded border border-gray-300"}),c.jsx("input",{type:"text",value:((oe=r.style)==null?void 0:oe.backgroundColor)||"transparent",onChange:K=>M({backgroundColor:K.target.value}),className:"flex-1 p-2 border border-gray-300 rounded-lg text-sm font-mono",placeholder:"transparent"})]}),c.jsx("button",{onClick:()=>M({backgroundColor:"transparent"}),className:"mt-1 text-xs text-gray-500 hover:text-gray-700",children:"Remove background"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Layout"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width"}),c.jsxs("select",{value:((L=r.style)==null?void 0:L.width)||"auto",onChange:K=>M({width:K.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg text-sm",children:[c.jsx("option",{value:"auto",children:"Auto"}),c.jsx("option",{value:"100%",children:"Full Width"}),c.jsx("option",{value:"75%",children:"75%"}),c.jsx("option",{value:"50%",children:"50%"}),c.jsx("option",{value:"25%",children:"25%"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Padding"}),c.jsx("input",{type:"text",value:((q=r.style)==null?void 0:q.padding)||"10px",onChange:K=>M({padding:K.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg text-sm",placeholder:"10px 20px"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Margin"}),c.jsx("input",{type:"text",value:((ee=r.style)==null?void 0:ee.margin)||"0px",onChange:K=>M({margin:K.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg text-sm",placeholder:"10px 0px"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Border Radius"}),c.jsx("input",{type:"text",value:((ie=r.style)==null?void 0:ie.borderRadius)||"0px",onChange:K=>M({borderRadius:K.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg text-sm",placeholder:"8px"})]})]})]}),c.jsx("div",{className:"pt-4 border-t border-gray-200",children:c.jsx("button",{onClick:()=>{t(K=>K.filter(se=>se.id!==r.id)),n(null)},className:"w-full py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Delete Element"})})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:c.jsx(Zg,{className:"w-8 h-8 text-gray-400"})}),c.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"No element selected"}),c.jsx("p",{className:"text-gray-400 text-xs",children:"Click on an element to edit its properties"})]})})]})]})})};function cme(){const[e,t]=z.useState([]),[r,n]=z.useState("");return z.useEffect(()=>{async function a(){const{data:{session:i}}=await Xe.auth.getSession();if(!(i!=null&&i.access_token)){n("Authentication required.");return}try{const o=await fetch("/api/teacher-requests",{headers:{Authorization:`Bearer ${i.access_token}`}}),s=await o.json();o.ok?t(s):n(s.error||"Failed to load teacher requests.")}catch(o){console.error("Fetch error:",o),n("Error connecting to server.")}}a()},[]),c.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Teacher Requests"}),c.jsx(Ci,{to:"/teacher-requests/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ New Request"})]}),r&&c.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&c.jsx("p",{children:"No teacher requests found."}),c.jsx("ul",{className:"space-y-4",children:e.map(a=>c.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[c.jsx("h2",{className:"text-xl font-semibold",children:a.title}),c.jsxs("p",{className:"text-sm text-gray-500",children:["By ",a.teacher_name," (",a.grade_or_subject,")"]}),c.jsx("p",{className:"mt-2",children:a.description}),a.amount_requested&&c.jsxs("p",{className:"mt-2 text-blue-800 font-semibold",children:["Requested: $",parseFloat(a.amount_requested).toFixed(2)]})]},a.id))})]})}function ume(){const[e,t]=z.useState({title:"",description:"",amount_requested:"",teacher_name:"",grade_or_subject:""}),[r,n]=z.useState(""),[a,i]=z.useState(""),o=l=>{const{name:u,value:d}=l.target;t(f=>({...f,[u]:d}))},s=async l=>{l.preventDefault();const{data:{session:u}}=await Xe.auth.getSession();if(!(u!=null&&u.access_token)){i("You must be logged in to submit a request.");return}try{const d=await fetch("/api/teacher-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Request submitted successfully!"),i(""),t({})):(i(f.error||"Failed to submit request"),n(""))}catch(d){console.error("Submit error:",d),i("Network error or server unavailable")}};return c.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Submit Teacher Request"}),c.jsxs("form",{onSubmit:s,className:"space-y-4",children:[c.jsx("input",{name:"title",value:e.title||"",onChange:o,placeholder:"Title",className:"w-full border p-2",required:!0}),c.jsx("textarea",{name:"description",value:e.description||"",onChange:o,placeholder:"Description",className:"w-full border p-2"}),c.jsx("input",{type:"number",name:"amount_requested",value:e.amount_requested||"",onChange:o,placeholder:"Amount Requested",className:"w-full border p-2"}),c.jsx("input",{name:"teacher_name",value:e.teacher_name||"",onChange:o,placeholder:"Teacher Name",className:"w-full border p-2"}),c.jsx("input",{name:"grade_or_subject",value:e.grade_or_subject||"",onChange:o,placeholder:"Grade or Subject",className:"w-full border p-2"}),c.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Submit"}),r&&c.jsx("p",{className:"text-green-600",children:r}),a&&c.jsx("p",{className:"text-red-600",children:a})]})]})}function dme(){const[e,t]=z.useState(!1),[r,n]=z.useState(""),[a,i]=z.useState("monthly"),o=async()=>{var s;t(!0),n("");try{const u=(s=(await Xe.auth.getSession()).data.session)==null?void 0:s.access_token;if(!u){n("User session not found."),t(!1);return}const d=await fetch("https://api.ptoconnect.com/api/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({plan:a})});if(!d.ok){const p=await d.text();throw console.error("Stripe error response:",p),new Error("Stripe request failed.")}const f=await d.json();f!=null&&f.url?window.location.href=f.url:n("Checkout session failed to start.")}catch(l){console.error("Checkout error:",l),n("An error occurred during checkout.")}finally{t(!1)}};return c.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Start Your PTO Connect Subscription"}),c.jsx("p",{className:"mb-4",children:"Subscribe now to unlock all features for your PTO group."}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block font-medium mb-1",children:"Choose a plan:"}),c.jsxs("select",{className:"border p-2 rounded w-full",value:a,onChange:s=>i(s.target.value),children:[c.jsx("option",{value:"monthly",children:"Monthly - $29/month"}),c.jsx("option",{value:"annual",children:"Annual - $299/year"})]})]}),c.jsx("button",{onClick:o,disabled:e,className:"bg-blue-600 text-white px-4 py-2 rounded",children:e?"Redirecting…":"Subscribe Now"}),r&&c.jsx("p",{className:"text-red-600 mt-4",children:r})]})}function fme(){return c.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-green-600 mb-4",children:"Subscription Successful!"}),c.jsx("p",{className:"text-gray-700",children:"Thank you for subscribing to PTO Connect. Your account is now active."})]})}function hme(){return c.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Checkout Canceled"}),c.jsx("p",{className:"text-gray-700",children:"You canceled the checkout process. No charges were made."})]})}function pme(){const[e,t]=z.useState(""),[r,n]=z.useState(""),[a,i]=z.useState(""),[o,s]=z.useState(""),l=hn(),u=()=>{if(s(""),!e||!r){s("PTO Name and School Name are required.");return}const d={ptoName:e,schoolName:r,districtName:a};sessionStorage.setItem("pendingPto",JSON.stringify(d)),l("/onboarding/pricing")};return c.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Your PTO"}),c.jsx("p",{className:"text-gray-700 mb-6",children:"Let's start by getting your organization set up. Enter your PTO's info below."}),c.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"PTO Name",value:e,onChange:d=>t(d.target.value)}),c.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"School Name",value:r,onChange:d=>n(d.target.value)}),c.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"District Name (optional)",value:a,onChange:d=>i(d.target.value)}),c.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Continue to Plan Selection"}),o&&c.jsx("p",{className:"text-red-600 mt-4",children:o})]})}function mme(){const[e,t]=z.useState(null),[r,n]=z.useState([]),[a,i]=z.useState("");hn(),z.useEffect(()=>{const s=sessionStorage.getItem("pendingPto");s?t(JSON.parse(s)):i("Missing PTO info. Please start again."),fetch("/api/stripe/get-prices").then(l=>l.json()).then(n).catch(()=>i("Could not load pricing. Please try again."))},[]);const o=async(s,l)=>{try{const d=await(await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:s,ptoMetadata:e,plan:l==="annual_plan"?"annual":"monthly"})})).json();d.url?window.location.href=d.url:i("Unable to start checkout session.")}catch{i("Stripe checkout error.")}};return c.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Choose Your Plan"}),a&&c.jsx("p",{className:"text-red-600 mb-4",children:a}),c.jsx("div",{className:"space-y-4",children:r.map(s=>c.jsxs("button",{onClick:()=>o(s.id,s.lookup_key),className:"w-full py-3 rounded bg-blue-600 text-white hover:bg-blue-700",children:[s.nickname||s.lookup_key," – $",s.amount,"/",s.interval]},s.id))})]})}function gme(){const[e]=XE(),t=hn(),[r,n]=z.useState({adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[a,i]=z.useState(null),[o,s]=z.useState(!1),[l,u]=z.useState("");z.useEffect(()=>{const p=e.get("session_id"),h=sessionStorage.getItem("pendingPto");if(!h){u("Missing PTO information. Please start the signup process again.");return}i(JSON.parse(h)),p&&sessionStorage.setItem("stripeSessionId",p)},[e]);const d=p=>{n({...r,[p.target.name]:p.target.value})},f=async p=>{if(p.preventDefault(),u(""),s(!0),!r.adminName||!r.adminEmail||!r.adminPassword){u("All fields are required."),s(!1);return}if(r.adminPassword!==r.confirmPassword){u("Passwords do not match."),s(!1);return}if(r.adminPassword.length<6){u("Password must be at least 6 characters."),s(!1);return}try{const h=sessionStorage.getItem("stripeSessionId"),v=await ln.post("/signup/complete",{ptoName:a.ptoName,schoolName:a.schoolName,adminName:r.adminName,adminEmail:r.adminEmail,adminPassword:r.adminPassword,stripeSessionId:h});v.success?(sessionStorage.removeItem("pendingPto"),sessionStorage.removeItem("stripeSessionId"),t("/onboarding/next-steps",{state:{organization:v.organization}})):u(v.error||"Failed to create account.")}catch(h){console.error("Signup error:",h),u("Failed to create account. Please try again.")}finally{s(!1)}};return a?c.jsxs("div",{className:"max-w-md mx-auto p-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Complete Your Setup"}),c.jsxs("p",{className:"text-gray-600",children:["Creating ",c.jsx("strong",{children:a.ptoName})," at ",a.schoolName]})]}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),c.jsx("input",{type:"text",name:"adminName",value:r.adminName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),c.jsx("input",{type:"email",name:"adminEmail",value:r.adminEmail,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsx("input",{type:"password",name:"adminPassword",value:r.adminPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),c.jsx("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),l&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),c.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating Account...":"Complete Setup"})]}),c.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:c.jsx("p",{children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]}):c.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"Missing PTO information. Please start the signup process again."}),c.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Over"})]})}function vme(){const e=hn(),[t,r]=z.useState({ptoName:"",schoolName:"",adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[n,a]=z.useState(!1),[i,o]=z.useState(""),[s,l]=z.useState(null),u=f=>{r({...t,[f.target.name]:f.target.value})},d=async f=>{var p;if(f.preventDefault(),o(""),a(!0),!t.ptoName||!t.schoolName||!t.adminName||!t.adminEmail||!t.adminPassword){o("All fields are required."),a(!1);return}if(t.adminPassword!==t.confirmPassword){o("Passwords do not match."),a(!1);return}if(t.adminPassword.length<6){o("Password must be at least 6 characters."),a(!1);return}try{const h=await ln.post("/signup/complete",{ptoName:t.ptoName,schoolName:t.schoolName,adminName:t.adminName,adminEmail:t.adminEmail,adminPassword:t.adminPassword});h.data&&h.data.success?(l(h.data.organization),o("")):o(((p=h.data)==null?void 0:p.error)||"Failed to create account.")}catch(h){console.error("Signup error:",h),o("Failed to create account. Please try again.")}finally{a(!1)}};return s?c.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Success! 🎉"}),c.jsxs("p",{className:"text-green-700 mb-4",children:["Your organization ",c.jsx("strong",{children:s.name})," has been created successfully!"]}),c.jsxs("div",{className:"bg-white border border-green-300 rounded p-4 mb-4",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your signup code:"}),c.jsx("p",{className:"text-lg font-mono font-bold text-green-800",children:s.signup_code})]}),c.jsx("p",{className:"text-sm text-green-600",children:"Share this code with other members to join your organization."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Go to Login"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Create Another Organization"})]})]}):c.jsxs("div",{className:"max-w-md mx-auto p-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Your PTO Organization"}),c.jsx("p",{className:"text-gray-600",children:"Set up your PTO and create your admin account"})]}),c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PTO Name"}),c.jsx("input",{type:"text",name:"ptoName",value:t.ptoName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary PTO",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Name"}),c.jsx("input",{type:"text",name:"schoolName",value:t.schoolName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary School",required:!0})]}),c.jsx("hr",{className:"my-4"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),c.jsx("input",{type:"text",name:"adminName",value:t.adminName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),c.jsx("input",{type:"email",name:"adminEmail",value:t.adminEmail,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsx("input",{type:"password",name:"adminPassword",value:t.adminPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),c.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),i&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),c.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating Organization...":"Create Organization"})]}),c.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[c.jsx("p",{children:"This will create a trial organization (14 days)"}),c.jsxs("p",{className:"mt-2",children:["Already have an account? ",c.jsx("a",{href:"/login",className:"text-blue-600 hover:underline",children:"Login here"})]})]})]})}function yme(){var o;const e=MN(),t=hn(),[r,n]=z.useState(!1),a=(o=e.state)==null?void 0:o.organization,i=()=>{a!=null&&a.signup_code&&(navigator.clipboard.writeText(a.signup_code),n(!0),setTimeout(()=>n(!1),2e3))};return a?c.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(LN,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to PTO Connect!"}),c.jsxs("p",{className:"text-lg text-gray-600",children:["Your organization ",c.jsx("strong",{children:a.name})," has been successfully created."]})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Your Organization Details"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-blue-800",children:"Organization Name:"}),c.jsx("span",{className:"ml-2 text-blue-700",children:a.name})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-blue-800",children:"Organization ID:"}),c.jsx("span",{className:"ml-2 text-blue-700 font-mono text-sm",children:a.slug})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium text-blue-800",children:"Signup Code:"}),c.jsx("span",{className:"ml-2 text-blue-700 font-mono text-lg font-bold",children:a.signup_code}),c.jsx("button",{onClick:i,className:"ml-2 p-1 text-blue-600 hover:text-blue-800",title:"Copy signup code",children:c.jsx(DN,{className:"w-4 h-4"})}),r&&c.jsx("span",{className:"ml-2 text-green-600 text-sm",children:"Copied!"})]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Next Steps to Get Started"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[c.jsx(qu,{className:"w-6 h-6 text-blue-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Invite Your Team"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["Share your signup code ",c.jsx("strong",{children:a.signup_code})," with other PTO members, teachers, and parents so they can join your organization."]})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[c.jsx(YE,{className:"w-6 h-6 text-blue-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Configure Your Settings"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Set up your organization preferences, communication settings, and user roles."})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[c.jsx(ns,{className:"w-6 h-6 text-blue-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Create Your First Event"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Start engaging your community by creating your first PTO event or meeting."})]})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("button",{onClick:()=>t("/login"),className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),c.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Create Another PTO"})]}),c.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Need Help?"}),c.jsx("p",{className:"text-yellow-700 text-sm",children:"Check out our getting started guide or contact support if you need assistance setting up your PTO organization."})]})]}):c.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"Missing organization information. Please complete the signup process."}),c.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Setup"})]})}function bme(){return c.jsxs(ZE,{children:[c.jsx(We,{path:"/",element:c.jsx(Rx,{})}),c.jsx(We,{path:"/login",element:c.jsx(Rx,{})}),c.jsx(We,{path:"/signup",element:c.jsx(N6,{})}),c.jsx(We,{path:"/unauthorized",element:c.jsx(_6,{})}),c.jsx(We,{path:"/onboarding/create-pto",element:c.jsx(pme,{})}),c.jsx(We,{path:"/onboarding/pricing",element:c.jsx(mme,{})}),c.jsx(We,{path:"/onboarding/complete-signup",element:c.jsx(gme,{})}),c.jsx(We,{path:"/onboarding/simple-signup",element:c.jsx(vme,{})}),c.jsx(We,{path:"/onboarding/next-steps",element:c.jsx(yme,{})}),c.jsx(We,{path:"/billing/success",element:c.jsx(fme,{})}),c.jsx(We,{path:"/billing/cancel",element:c.jsx(hme,{})}),c.jsx(We,{element:c.jsx(Ro,{allowedRoles:["admin","board_member","committee_lead","volunteer","parent_member","teacher"]}),children:c.jsx(We,{element:c.jsx(Fo,{}),children:c.jsx(We,{path:"/dashboard",element:c.jsx(P6,{})})})}),c.jsx(We,{element:c.jsx(Ro,{allowedRoles:["admin"]}),children:c.jsxs(We,{element:c.jsx(Fo,{}),children:[c.jsx(We,{path:"/dashboard/admin",element:c.jsx(Qg,{})}),c.jsx(We,{path:"/admin/permissions",element:c.jsx(R6,{})}),c.jsx(We,{path:"/admin/users",element:c.jsx(Qg,{})}),c.jsx(We,{path:"/admin/settings",element:c.jsx(Qg,{})}),c.jsx(We,{path:"/billing",element:c.jsx(dme,{})}),c.jsx(We,{path:"/events",element:c.jsx(H6,{})}),c.jsx(We,{path:"/events/legacy",element:c.jsx(W6,{})}),c.jsx(We,{path:"/events/create",element:c.jsx(UT,{})}),c.jsx(We,{path:"/events/edit/:id",element:c.jsx(WT,{})}),c.jsx(We,{path:"/events/calendar",element:c.jsx(AV,{})}),c.jsx(We,{path:"/fundraisers",element:c.jsx(pde,{})}),c.jsx(We,{path:"/fundraisers/create",element:c.jsx(fP,{})}),c.jsx(We,{path:"/fundraisers/:id/edit",element:c.jsx(mde,{})}),c.jsx(We,{path:"/fundraisers/:id/analytics",element:c.jsx(dP,{})}),c.jsx(We,{path:"/budget",element:c.jsx(vde,{})}),c.jsx(We,{path:"/budget/legacy",element:c.jsx(gde,{})}),c.jsx(We,{path:"/budget/create",element:c.jsx(yde,{})}),c.jsx(We,{path:"/budget/reconciliation",element:c.jsx(bde,{})}),c.jsx(We,{path:"/budget/reconciliation/new",element:c.jsx(Ife,{})}),c.jsx(We,{path:"/budget/reconciliation/:id",element:c.jsx(yP,{})}),c.jsx(We,{path:"/communications",element:c.jsx(Bfe,{})}),c.jsx(We,{path:"/communications/legacy",element:c.jsx(Ffe,{})}),c.jsx(We,{path:"/communications/create",element:c.jsx(zfe,{})}),c.jsx(We,{path:"/communications/email",element:c.jsx(PN,{})}),c.jsx(We,{path:"/communications/sms",element:c.jsx(qfe,{})}),c.jsx(We,{path:"/communications/social",element:c.jsx(Ufe,{})}),c.jsx(We,{path:"/communications/ai",element:c.jsx(Wfe,{})}),c.jsx(We,{path:"/communications/design-studio",element:c.jsx(PN,{})}),c.jsx(We,{path:"/documents",element:c.jsx(Gfe,{})}),c.jsx(We,{path:"/documents/upload",element:c.jsx(Yfe,{})}),c.jsx(We,{path:"/shared-library",element:c.jsx(Xfe,{})}),c.jsx(We,{path:"/ai-event-ideas",element:c.jsx(Zfe,{})}),c.jsx(We,{path:"/ai-workflow-orchestrator",element:c.jsx(Qfe,{})})]})}),c.jsx(We,{element:c.jsx(Ro,{allowedRoles:["teacher"]}),children:c.jsxs(We,{element:c.jsx(Fo,{}),children:[c.jsx(We,{path:"/dashboard/teacher",element:c.jsx(U6,{})}),c.jsx(We,{path:"/teacher-requests",element:c.jsx(cme,{})}),c.jsx(We,{path:"/teacher-requests/create",element:c.jsx(ume,{})})]})}),c.jsx(We,{element:c.jsx(Ro,{allowedRoles:["board_member"]}),children:c.jsx(We,{element:c.jsx(Fo,{}),children:c.jsx(We,{path:"/dashboard/board",element:c.jsx(F6,{})})})}),c.jsx(We,{element:c.jsx(Ro,{allowedRoles:["committee_lead"]}),children:c.jsx(We,{element:c.jsx(Fo,{}),children:c.jsx(We,{path:"/dashboard/committee",element:c.jsx(B6,{})})})}),c.jsx(We,{element:c.jsx(Ro,{allowedRoles:["volunteer"]}),children:c.jsx(We,{element:c.jsx(Fo,{}),children:c.jsx(We,{path:"/dashboard/volunteer",element:c.jsx(z6,{})})})}),c.jsx(We,{element:c.jsx(Ro,{allowedRoles:["parent_member"]}),children:c.jsx(We,{element:c.jsx(Fo,{}),children:c.jsx(We,{path:"/dashboard/parent",element:c.jsx(q6,{})})})})]})}e0.createRoot(document.getElementById("root")).render(c.jsx(B.StrictMode,{children:c.jsx(JE,{children:c.jsx(bme,{})})}));export{Xo as _};
//# sourceMappingURL=index-D-mrAJ9t.js.map
