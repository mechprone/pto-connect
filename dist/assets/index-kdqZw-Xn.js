const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-B11dUHMh.js","assets/react-vendor-Cx5d5nzo.js","assets/ui-vendor-CLq2Q_ZG.js","assets/supabase-BqcIUn8s.js","assets/data-vendor-CoSWLc0K.js"])))=>i.map(i=>d[i]);
import{j as l,L as dP,B as fP,C as Qn,S as lr,Z as _h,a as Dp,U as si,D as Ja,b as $N,G as DN,c as IN,d as hP,E as Ru,e as Fu,T as pP,A as RN,f as Rd,g as mP,h as gP,i as FN,k as BN,l as Pu,M as Yo,m as Iy,P as e1,n as Se,o as vP,F as yP,p as bP,q as xP,r as wP,s as qN,t as jP,u as zN,v as NP,w as SP,x as _P,y as AP,z as OP,H as t1,I as r1,J as Ni,K as Wf,N as PP,O as n1,Q as a1,R as EP,V as kP}from"./ui-vendor-CLq2Q_ZG.js";import{b as TP,r as q,N as qg,O as Ry,u as jr,d as UN,L as Aa,e as uc,g as wt,f as B,c as Jn,h as WN,i as CP,j as LP,k as Ue,B as MP}from"./react-vendor-Cx5d5nzo.js";import{c as $P,_ as Dv}from"./supabase-BqcIUn8s.js";import{a as _a}from"./data-vendor-CoSWLc0K.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Iv={},i1=TP;Iv.createRoot=i1.createRoot,Iv.hydrateRoot=i1.hydrateRoot;const DP="https://dakyetfomciihdiuwrbx.supabase.co",IP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",Ye=$P(DP,IP);function vo(){const[e,t]=q.useState(null),[r,n]=q.useState(null),[a,i]=q.useState(!0),[o,s]=q.useState(null);return q.useEffect(()=>{const h=async()=>{try{i(!0),s(null);const{data:{user:g},error:j}=await Ye.auth.getUser();if(j)throw j;if(!g){t(null),n(null),i(!1);return}const{data:y,error:x}=await Ye.from("profiles").select("*").eq("id",g.id).single();if(x)throw x;t(y);let N=null;if(y!=null&&y.org_id){const{data:_,error:w}=await Ye.from("organizations").select("*").eq("id",y.org_id).single();w||(N=_)}n(N)}catch(g){console.error("Error fetching user profile:",g),s(g.message)}finally{i(!1)}};h();const{data:{subscription:v}}=Ye.auth.onAuthStateChange((g,j)=>{g==="SIGNED_OUT"?(t(null),n(null)):g==="SIGNED_IN"&&j&&h()});return()=>v.unsubscribe()},[]),{profile:e,organization:r,loading:a,error:o,updateProfile:async h=>{try{const{data:v,error:g}=await Ye.from("profiles").update(h).eq("id",e.id).select().single();if(g)throw g;return t(j=>({...j,...v})),{data:v,error:null}}catch(v){return console.error("Error updating profile:",v),{data:null,error:v.message}}},hasRole:h=>(e==null?void 0:e.role)===h,hasAnyRole:h=>h.includes(e==null?void 0:e.role),isSubscriptionActive:()=>{if(!r)return!1;const{subscription_status:h,trial_ends_at:v}=r;return h==="active"||h==="trial"&&v&&new Date(v)>new Date},showRenewalBanner:()=>{if(!r)return!1;const{plan_type:h,subscription_status:v,cancel_at_period_end:g,current_period_end:j}=r;return!!(h==="annual"&&v==="active"&&g&&j&&new Date(j)-new Date<15*24*60*60*1e3)},isAuthenticated:!!e}}function Fy({size:e="default",className:t=""}){const r={small:"h-4 w-4",default:"h-6 w-6",large:"h-8 w-8"};return l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(dP,{className:`animate-spin text-blue-600 ${r[e]} ${t}`})})}function Io({allowedRoles:e}){const{profile:t,loading:r,isAuthenticated:n,isSubscriptionActive:a}=vo();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(Fy,{size:"xl"})}):n?e&&!e.includes(t.role)?l.jsx(qg,{to:"/unauthorized",replace:!0}):!a()&&window.location.pathname!=="/billing"?l.jsx(qg,{to:"/billing",replace:!0}):l.jsx(Ry,{}):l.jsx(qg,{to:"/login",replace:!0})}const ln=_a.create({baseURL:"https://api.ptoconnect.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});ln.interceptors.request.use(async e=>{console.log("ðŸ” [FRONTEND DEBUG] API Request interceptor started"),console.log("ðŸ” [FRONTEND DEBUG] Request URL:",e.url),console.log("ðŸ” [FRONTEND DEBUG] Request method:",e.method);try{const{data:{session:t}}=await Ye.auth.getSession();console.log("ðŸ” [FRONTEND DEBUG] Session retrieved:",!!t),console.log("ðŸ” [FRONTEND DEBUG] Access token present:",!!(t!=null&&t.access_token)),t!=null&&t.access_token?(e.headers.Authorization=`Bearer ${t.access_token}`,console.log("ðŸ” [FRONTEND DEBUG] Auth header set, token length:",t.access_token.length)):console.warn("âš ï¸ [FRONTEND DEBUG] No access token found in session")}catch(t){console.error("âŒ [FRONTEND DEBUG] Error getting session:",t)}return console.log("ðŸ” [FRONTEND DEBUG] Final request headers:",e.headers),e},e=>(console.error("âŒ [FRONTEND DEBUG] Request interceptor error:",e),Promise.reject(e)));ln.interceptors.response.use(e=>(console.log("âœ… [FRONTEND DEBUG] API Response received:",{url:e.config.url,status:e.status,statusText:e.statusText,dataKeys:Object.keys(e.data||{})}),e),e=>{var t,r,n,a,i;return console.error("âŒ [FRONTEND DEBUG] API Response error:",{url:(t=e.config)==null?void 0:t.url,status:(r=e.response)==null?void 0:r.status,statusText:(n=e.response)==null?void 0:n.statusText,errorData:(a=e.response)==null?void 0:a.data,errorMessage:e.message}),((i=e.response)==null?void 0:i.status)===401&&(console.warn("ðŸš« [FRONTEND DEBUG] Unauthorized - redirecting to login"),window.location.href="/login"),Promise.reject(e)});const mt=async(e,t,r=null,n={})=>{var a,i;try{return{data:(await ln({method:e,url:t,data:r,...n})).data,error:null}}catch(o){return console.error(`API Error (${e} ${t}):`,o),{data:null,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"An error occurred"}}},HN={getEvents:()=>mt("GET","/event"),getEvent:e=>mt("GET",`/event/${e}`),createEvent:e=>mt("POST","/event",e),updateEvent:(e,t)=>mt("PUT",`/event/${e}`,t),deleteEvent:e=>mt("DELETE",`/event/${e}`),rsvpEvent:(e,t)=>mt("POST",`/event/${e}/rsvp`,{status:t}),getEventRSVPs:e=>mt("GET",`/event/${e}/rsvps`)},Pa={getFundraisers:()=>mt("GET","/fundraiser"),getFundraiser:e=>mt("GET",`/fundraiser/${e}`),createFundraiser:e=>mt("POST","/fundraiser",e),updateFundraiser:(e,t)=>mt("PUT",`/fundraiser/${e}`,t),deleteFundraiser:e=>mt("DELETE",`/fundraiser/${e}`),getDonations:e=>mt("GET",`/fundraiser/${e}/donations`),getFundraiserAnalytics:(e,t)=>mt("GET",`/fundraiser/${e}/analytics${t?`?${new URLSearchParams(t)}`:""}`),getAllFundraisersAnalytics:e=>mt("GET",`/fundraiser/analytics${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsOverview:e=>mt("GET",`/fundraiser/analytics/overview${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsTrends:e=>mt("GET",`/fundraiser/analytics/trends${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsDonorRetention:e=>mt("GET",`/fundraiser/analytics/donor-retention${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsCampaigns:e=>mt("GET",`/fundraiser/analytics/campaigns${e?`?${new URLSearchParams(e)}`:""}`),addDonation:(e,t)=>mt("POST","/fundraiser/analytics/donations",{...t,fundraiser_id:e}),getFundraiserTopDonor:e=>mt("GET",`/fundraiser/${e}/top-donor`),getDonationTiers:e=>mt("GET",`/fundraiser/${e}/tiers`),createDonationTier:(e,t)=>mt("POST",`/fundraiser/${e}/tiers`,t),updateDonationTier:(e,t,r)=>mt("PUT",`/fundraiser/${e}/tiers/${t}`,r),deleteDonationTier:(e,t)=>mt("DELETE",`/fundraiser/${e}/tiers/${t}`),getAnalyticsYears:()=>mt("GET","/fundraiser/analytics/years"),getDonorYears:()=>mt("GET","/fundraiser/donors/years"),getDonorData:(e,t,r,n)=>mt("GET",`/fundraiser/donors${t||r||n?`?${new URLSearchParams({year:t,fundraiserId:r,type:n})}`:""}`),getDonorTypes:()=>mt("GET","/fundraiser/donor-types")},Nl={generateEventIdeas:e=>mt("POST","/event-ideas",{prompt:e}),generateContent:(e,t,r,n=!1)=>mt("POST","/ai/generate",{type:e,prompt:t,context:r,includeRecommendations:n}),analyzeContext:(e,t="general")=>mt("POST","/ai/analyze-context",{orgId:e,analysisType:t}),analyzeEventWorkflow:(e,t)=>mt("POST","/ai/analyze-event-workflow",{eventData:e,orgId:t}),analyzeDocument:e=>mt("POST",`/ai/analyze-document/${e}`),chatWithDocuments:e=>mt("POST","/ai/chat",{query:e})};function GN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=GN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=GN(e))&&(n&&(n+=" "),n+=t);return n}function RP(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}RP(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var By=e=>typeof e=="number"&&!isNaN(e),Bu=e=>typeof e=="string",VN=e=>typeof e=="function",FP=e=>Bu(e)||By(e),BP=e=>q.isValidElement(e)||Bu(e)||VN(e)||By(e),qP=1,YN=()=>`${qP++}`,ti=new Map,Rv=[],o1=new Set,KN=()=>ti.size>0,zP=(e,{containerId:t})=>{var r;return(r=ti.get(t||1))==null?void 0:r.toasts.get(e)};function UP(e,t){var r;if(t)return!!((r=ti.get(t))!=null&&r.isToastActive(e));let n=!1;return ti.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function WP(e){if(!KN()){Rv=Rv.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||FP(e))ti.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ti.get(e.containerId);t?t.removeToast(e.id):ti.forEach(r=>{r.removeToast(e.id)})}}var HP=(e={})=>{ti.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function GP(e,t){BP(e)&&(KN()||Rv.push({content:e,options:t}),ti.forEach(r=>{r.buildToast(e,t)}))}function XN(e,t){ti.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function VP(e){return o1.add(e),()=>{o1.delete(e)}}function YP(e){return e&&(Bu(e.toastId)||By(e.toastId))?e.toastId:YN()}function Fd(e,t){return GP(e,t),t.toastId}function Ip(e,t){return{...t,type:t&&t.type||e,toastId:YP(t)}}function Rp(e){return(t,r)=>Fd(t,Ip(e,r))}function xt(e,t){return Fd(e,Ip("default",t))}xt.loading=(e,t)=>Fd(e,Ip("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function KP(e,{pending:t,error:r,success:n},a){let i;t&&(i=Bu(t)?xt.loading(t,a):xt.loading(t.render,{...a,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(u,d,f)=>{if(d==null){xt.dismiss(i);return}let p={type:u,...o,...a,data:f},h=Bu(d)?{render:d}:d;return i?xt.update(i,{...p,...h}):xt(h.render,{...p,...h}),f},c=VN(e)?e():e;return c.then(u=>s("success",n,u)).catch(u=>s("error",r,u)),c}xt.promise=KP;xt.success=Rp("success");xt.info=Rp("info");xt.error=Rp("error");xt.warning=Rp("warning");xt.warn=xt.warning;xt.dark=(e,t)=>Fd(e,Ip("default",{theme:"dark",...t}));function XP(e){WP(e)}xt.dismiss=XP;xt.clearWaitingQueue=HP;xt.isActive=UP;xt.update=(e,t={})=>{let r=zP(e,t);if(r){let{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:YN()};i.toastId!==e&&(i.staleId=e);let o=i.render||a;delete i.render,Fd(o,i)}};xt.done=e=>{xt.update(e,{progress:1})};xt.onChange=VP;xt.play=e=>XN(!0,e);xt.pause=e=>XN(!1,e);const Ea=(e,t="An error occurred")=>(console.error("Error:",e),xt.error(t),!1),cs=(e="Operation successful")=>(xt.success(e),!0);function JP(){const[e,t]=q.useState([]),[r,n]=q.useState(!1),[a,i]=q.useState(null),[o,s]=q.useState(!1),c=async()=>{try{n(!0);const{data:f}=await ln.get("/notifications");t(f),i(null)}catch(f){i("Failed to fetch notifications"),Ea(f,"Failed to fetch notifications")}finally{n(!1)}},u=async f=>{try{n(!0),await ln.put(`/notifications/${f}/read`),t(e.map(p=>p.id===f?{...p,read:!0}:p)),cs("Notification marked as read")}catch(p){Ea(p,"Failed to update notification")}finally{n(!1)}},d=async()=>{try{n(!0),await ln.delete("/notifications/clear-all"),t([]),cs("All notifications cleared")}catch(f){Ea(f,"Failed to clear notifications")}finally{n(!1)}};return q.useEffect(()=>{c()},[]),r?l.jsx(Fy,{size:"sm"}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>s(!o),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none",children:[l.jsx(fP,{className:"h-6 w-6 text-gray-600"}),e.length>0&&l.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:e.length})]}),o&&l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),e.length>0&&l.jsx("button",{onClick:d,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):e.map(f=>l.jsxs("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${f.read?"":"bg-blue-50"}`,onClick:()=>u(f.id),children:[l.jsx("p",{className:"text-sm",children:f.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.created_at).toLocaleString()})]},f.id))})]})]})}function ZP(){const e=jr(),t=async()=>{await Ye.auth.signOut(),localStorage.removeItem("access_token"),e("/login")};return l.jsx("button",{onClick:t,className:"text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Logout"})}const QP=[{to:"/dashboard/admin",label:"Dashboard",roles:["admin"]},{to:"/events",label:"Events",roles:["admin","teacher","parent_member"]},{to:"/fundraisers",label:"Fundraisers",roles:["admin","treasurer"]},{to:"/budget",label:"Budget",roles:["admin","treasurer"]},{to:"/communications",label:"Communications",roles:["admin","committee_lead","teacher"]},{to:"/teacher-requests",label:"Teacher Requests",roles:["admin","teacher"]},{to:"/billing",label:"Billing",roles:["admin"]}];function e6({role:e}){const t=UN(),r=QP.filter(n=>n.roles.includes(e));return l.jsx("aside",{className:"w-64 bg-white border-r shadow-sm hidden md:block",children:l.jsx("nav",{className:"px-4 py-6 space-y-2",children:r.map(n=>l.jsx(Aa,{to:n.to,className:`block px-3 py-2 rounded text-sm font-medium ${t.pathname===n.to?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:n.label},n.to))})})}function t6(){return l.jsxs("footer",{className:"text-xs text-gray-500 text-center py-4 border-t bg-white",children:["PTO Connect Â© ",new Date().getFullYear()," â€” Need help? Visit our support page."]})}function r6(){const{showRenewalBanner:e,organization:t}=vo();return e()?l.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Annual Subscription Expiring Soon:"})," Your annual subscription will expire on"," ",l.jsx("span",{className:"font-semibold",children:t!=null&&t.current_period_end?new Date(t.current_period_end).toLocaleDateString():"soon"}),". Please renew to avoid interruption."]}),l.jsx("a",{href:"/billing",className:"ml-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Renew Now"})]}):null}function Ro(){const[e,t]=q.useState(null),[r,n]=q.useState(null);return q.useEffect(()=>{async function a(){const{data:{user:i}}=await Ye.auth.getUser();t(i);const{data:o}=await Ye.from("profiles").select("role").eq("id",i.id).single();n(o==null?void 0:o.role)}a()},[]),!e||!r?null:l.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[l.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center w-full",children:[l.jsx("span",{className:"text-xl font-bold text-blue-700",children:"PTO Connect"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(JP,{}),l.jsx(ZP,{})]})]}),l.jsx(r6,{}),l.jsxs("div",{className:"flex flex-1",children:[l.jsx(e6,{role:r}),l.jsx("main",{className:"flex-1 p-6",children:l.jsx(Ry,{})})]}),l.jsx(t6,{})]})}const n6={admin:"/dashboard/admin",board_member:"/dashboard/board",committee_lead:"/dashboard/committee",volunteer:"/dashboard/volunteer",parent_member:"/dashboard/parent",teacher:"/dashboard/teacher"},a6=e=>n6[e]||"/dashboard";function s1(){const[e,t]=q.useState(""),[r,n]=q.useState(""),[a,i]=q.useState(""),[o,s]=q.useState(!1),c=jr(),u=async d=>{if(d&&d.preventDefault(),console.log("ðŸ” [LOGIN DEBUG] Login attempt started"),console.log("ðŸ” [LOGIN DEBUG] Email:",e),s(!0),i(""),!e||!r){console.log("âŒ [LOGIN DEBUG] Missing email or password"),i("Email and password are required."),s(!1);return}console.log("ðŸ” [LOGIN DEBUG] Calling Supabase signInWithPassword...");const{data:f,error:p}=await Ye.auth.signInWithPassword({email:e,password:r});if(console.log("ðŸ” [LOGIN DEBUG] Supabase response:",{user:!!(f!=null&&f.user),session:!!(f!=null&&f.session),error:p}),p||!(f!=null&&f.user)){console.error("âŒ [LOGIN DEBUG] Login error:",p),i((p==null?void 0:p.message)||"Login failed."),s(!1);return}const h=f.user;console.log("ðŸ” [LOGIN DEBUG] User authenticated:",{id:h.id,email:h.email,user_metadata:h.user_metadata}),console.log("ðŸ” [LOGIN DEBUG] Fetching user profile...");const{data:v,error:g}=await Ye.from("profiles").select("role, org_id, approved").eq("id",h.id).single();if(console.log("ðŸ” [LOGIN DEBUG] Profile query result:",{profile:v,profileError:g}),g||!v){console.error("âŒ [LOGIN DEBUG] Profile fetch error:",g),i("Unable to load user profile. Please contact support."),s(!1);return}if(!v.approved){console.log("âŒ [LOGIN DEBUG] User not approved"),i("Your account is pending approval. Please contact an administrator."),s(!1);return}const j=v.role;if(console.log("ðŸ” [LOGIN DEBUG] User role:",j),!j){console.log("âŒ [LOGIN DEBUG] No role assigned"),i("Your account does not have a role assigned."),s(!1);return}console.log("ðŸ” [LOGIN DEBUG] Getting dashboard route for role:",j);const y=a6(j);console.log("ðŸ” [LOGIN DEBUG] Navigating to:",y),c(y),s(!1)};return l.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"Log In"}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"email",value:e,onChange:d=>t(d.target.value),placeholder:"Email",required:!0,disabled:o,autoComplete:"email"}),l.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"password",value:r,onChange:d=>n(d.target.value),placeholder:"Password",required:!0,disabled:o,autoComplete:"current-password"}),l.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Logging in...":"Log In"}),a&&l.jsx("p",{className:"text-red-500 mt-2",children:a})]})]})}const i6=["admin","treasurer","board_member"];function o6(){const[e,t]=q.useState(""),[r,n]=q.useState(""),[a,i]=q.useState(""),[o,s]=q.useState("parent_member"),[c,u]=q.useState(""),[d,f]=q.useState(""),p=async()=>{if(u(""),f(""),!e||!r||!a||!o){u("All fields are required.");return}const{data:h,error:v}=await Ye.from("organizations").select("id").ilike("signup_code",a).single();if(v||!(h!=null&&h.id)){console.error("PTO code lookup failed:",v),u("Invalid PTO code. Please check with your organization.");return}const g=h.id,{data:j,error:y}=await Ye.auth.signUp({email:e,password:r,options:{data:{org_id:g,role:o}}});if(y||!(j!=null&&j.user)){console.error("Signup error:",y),u((y==null?void 0:y.message)||"Signup failed.");return}const x=j.user,N=!i6.includes(o),{data:_}=await Ye.from("profiles").select("id").eq("id",x.id).maybeSingle();if(_){console.warn("Profile already exists, skipping insert."),f("Signup successful! You can now log in.");return}const{error:w}=await Ye.from("profiles").insert([{id:x.id,email:e,org_id:g,role:o,approved:N}]);w?(console.error("Profile insert error:",w),u("Signup successful, but failed to save profile.")):(f(N?"Signup successful! You can now log in.":"Signup submitted. An admin must approve your role before you can access the system."),t(""),n(""),i(""),s("parent_member"))};return l.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sign Up"}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"Email",required:!0}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Password",required:!0}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"PTO Code (e.g. abc123xy)",required:!0}),l.jsxs("select",{className:"border p-2 w-full mb-4",value:o,onChange:h=>s(h.target.value),required:!0,children:[l.jsx("option",{value:"parent_member",children:"Parent Member"}),l.jsx("option",{value:"teacher",children:"Teacher"}),l.jsx("option",{value:"volunteer",children:"Volunteer"}),l.jsx("option",{value:"committee_lead",children:"Committee Lead"}),l.jsx("option",{value:"board_member",children:"Board Member"}),l.jsx("option",{value:"treasurer",children:"Treasurer"}),l.jsx("option",{value:"admin",children:"Admin"})]}),l.jsx("button",{onClick:p,className:"bg-green-600 text-white px-4 py-2 rounded w-full",children:"Sign Up"}),c&&l.jsx("p",{className:"text-red-500 mt-2",children:c}),d&&l.jsx("p",{className:"text-green-600 mt-2",children:d})]})}function s6(){return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-6",children:l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-md text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),l.jsx("p",{className:"text-gray-700 mb-6",children:"You donâ€™t have permission to view this page."}),l.jsx(Aa,{to:"/",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Return to Home"})]})})}const l6=()=>{var N,_,w,A;const{userProfile:e}=vo(),[t,r]=q.useState("membership"),[n,a]=q.useState("6months"),[i,o]=q.useState({membership:[],events:[],financial:[],engagement:[]}),[s,c]=q.useState(!0);q.useEffect(()=>{e!=null&&e.org_id&&u()},[e,n]);const u=async()=>{try{c(!0);const O=new Date,E=new Date;switch(n){case"3months":E.setMonth(O.getMonth()-3);break;case"6months":E.setMonth(O.getMonth()-6);break;case"1year":E.setFullYear(O.getFullYear()-1);break;default:E.setMonth(O.getMonth()-6)}const[T,$,k,C]=await Promise.all([d(E,O),f(E,O),p(E,O),h(E,O)]);o({membership:T,events:$,financial:k,engagement:C})}catch(O){console.error("Error fetching chart data:",O)}finally{c(!1)}},d=async(O,E)=>{const T=[],$=new Date(O);for(;$<=E;){const k=new Date($.getFullYear(),$.getMonth(),1),C=new Date($.getFullYear(),$.getMonth()+1,0),{count:D}=await Ye.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).lte("created_at",C.toISOString());T.push({month:k.toLocaleDateString("en-US",{month:"short"}),value:D||0,date:k}),$.setMonth($.getMonth()+1)}return T},f=async(O,E)=>{const{data:T}=await Ye.from("events").select("event_date, title, status").eq("org_id",e.org_id).gte("event_date",O.toISOString()).lte("event_date",E.toISOString()).order("event_date"),$={};return T==null||T.forEach(k=>{const C=new Date(k.event_date).toLocaleDateString("en-US",{month:"short"});$[C]||($[C]={total:0,completed:0}),$[C].total++,k.status==="completed"&&$[C].completed++}),Object.entries($).map(([k,C])=>({month:k,total:C.total,completed:C.completed,success_rate:C.total>0?Math.round(C.completed/C.total*100):0}))},p=async(O,E)=>{const{data:T}=await Ye.from("budget_entries").select("amount, type, category, created_at").eq("org_id",e.org_id).gte("created_at",O.toISOString()).lte("created_at",E.toISOString()),$={};return T==null||T.forEach(k=>{$[k.category]||($[k.category]={income:0,expenses:0}),k.type==="income"?$[k.category].income+=k.amount:$[k.category].expenses+=k.amount}),Object.entries($).map(([k,C])=>({category:k,income:C.income,expenses:C.expenses,net:C.income-C.expenses}))},h=async(O,E)=>{const T=[],$=new Date(O);for(;$<=E;){const k=$.toLocaleDateString("en-US",{month:"short"}),C=65,D=Math.random()*20-10,I=Math.max(0,Math.min(100,C+D));T.push({month:k,engagement:Math.round(I),email_opens:Math.round(I*.8),event_attendance:Math.round(I*.6),volunteer_participation:Math.round(I*.4)}),$.setMonth($.getMonth()+1)}return T},v=(O,E,T="#3B82F6")=>{if(!O||O.length===0)return null;const $=Math.max(...O.map(I=>I[E]||0)),k=Math.min(...O.map(I=>I[E]||0)),C=$-k||1,D=O.map((I,H)=>{const V=H/(O.length-1)*100,X=100-((I[E]||0)-k)/C*80-10;return`${V},${X}`}).join(" ");return l.jsxs("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:[l.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[l.jsx("polyline",{fill:"none",stroke:T,strokeWidth:"0.5",points:D}),O.map((I,H)=>{const V=H/(O.length-1)*100,X=100-((I[E]||0)-k)/C*80-10;return l.jsx("circle",{cx:V,cy:X,r:"1",fill:T},H)})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between text-xs text-gray-500 px-4",children:O.map((I,H)=>l.jsx("span",{children:I.month},H))}),l.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-gray-500 py-4",children:[l.jsx("span",{children:$}),l.jsx("span",{children:Math.round(($+k)/2)}),l.jsx("span",{children:k})]})]})},g=(O,E,T="#10B981")=>{if(!O||O.length===0)return null;const $=Math.max(...O.map(k=>k[E]||0));return l.jsx("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:l.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:O.map((k,C)=>{const D=$>0?(k[E]||0)/$*100:0;return l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"w-full rounded-t",style:{height:`${D}%`,backgroundColor:T,minHeight:D>0?"4px":"0"}}),l.jsx("span",{className:"text-xs text-gray-500 mt-2",children:k.month})]},C)})})})},j=O=>{if(!O||O.length===0)return null;const E=O.reduce((k,C)=>k+Math.abs(C.net||0),0);let T=0;const $=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return l.jsxs("div",{className:"relative h-64 flex items-center justify-center",children:[l.jsxs("svg",{className:"w-48 h-48",viewBox:"0 0 100 100",children:[O.map((k,C)=>{const I=(E>0?Math.abs(k.net||0)/E:0)*360,H=T,V=T+I,X=50+35*Math.cos(H*Math.PI/180),J=50+35*Math.sin(H*Math.PI/180),Y=50+35*Math.cos(V*Math.PI/180),Z=50+35*Math.sin(V*Math.PI/180),ae=I>180?1:0,M=["M 50 50",`L ${X} ${J}`,`A 35 35 0 ${ae} 1 ${Y} ${Z}`,"Z"].join(" ");return T+=I,l.jsx("path",{d:M,fill:$[C%$.length],opacity:.8},C)}),l.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"white"})]}),l.jsx("div",{className:"absolute right-0 top-0 space-y-2",children:O.map((k,C)=>l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:$[C%$.length]}}),l.jsx("span",{className:"text-gray-700",children:k.category})]},C))})]})},y=()=>{const O=i[t],E="data:text/csv;charset=utf-8,"+Object.keys(O[0]||{}).join(",")+`
`+O.map(k=>Object.values(k).join(",")).join(`
`),T=encodeURI(E),$=document.createElement("a");$.setAttribute("href",T),$.setAttribute("download",`${t}_analytics.csv`),document.body.appendChild($),$.click(),document.body.removeChild($)},x={membership:{title:"Membership Growth",description:"Track member acquisition and retention over time",dataKey:"value",color:"#3B82F6"},events:{title:"Event Performance",description:"Monitor event frequency and success rates",dataKey:"total",color:"#10B981"},financial:{title:"Financial Distribution",description:"Analyze income and expenses by category",dataKey:"net",color:"#F59E0B"},engagement:{title:"Member Engagement",description:"Measure community participation and activity",dataKey:"engagement",color:"#8B5CF6"}};return s?l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),l.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Dashboard"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("select",{value:n,onChange:O=>a(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"3months",children:"Last 3 Months"}),l.jsx("option",{value:"6months",children:"Last 6 Months"}),l.jsx("option",{value:"1year",children:"Last Year"})]}),l.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:"Export CSV"})]})]}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:Object.entries(x).map(([O,E])=>l.jsx("button",{onClick:()=>r(O),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===O?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:E.title},O))})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:x[t].title}),l.jsx("p",{className:"text-sm text-gray-600",children:x[t].description})]}),l.jsxs("div",{className:"mb-6",children:[t==="membership"&&v(i.membership,x.membership.dataKey,x.membership.color),t==="events"&&g(i.events,x.events.dataKey,x.events.color),t==="financial"&&j(i.financial),t==="engagement"&&v(i.engagement,x.engagement.dataKey,x.engagement.color)]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[t==="membership"&&i.membership.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((N=i.membership[i.membership.length-1])==null?void 0:N.value)||0}),l.jsx("p",{className:"text-sm text-gray-600",children:"Current Members"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",i.membership.length>1?(((_=i.membership[i.membership.length-1])==null?void 0:_.value)||0)-(((w=i.membership[0])==null?void 0:w.value)||0):0]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Growth"})]})]}),t==="events"&&i.events.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.events.reduce((O,E)=>O+E.total,0)}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.events.length>0?Math.round(i.events.reduce((O,E)=>O+E.success_rate,0)/i.events.length):0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Avg Success Rate"})]})]}),t==="financial"&&i.financial.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",i.financial.reduce((O,E)=>O+E.income,0).toLocaleString()]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Income"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",i.financial.reduce((O,E)=>O+E.expenses,0).toLocaleString()]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"})]})]}),t==="engagement"&&i.engagement.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((A=i.engagement[i.engagement.length-1])==null?void 0:A.engagement)||0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Current Engagement"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.engagement.length>0?Math.round(i.engagement.reduce((O,E)=>O+E.email_opens,0)/i.engagement.length):0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Avg Email Opens"})]})]})]})]})]})},c6=()=>{const{userProfile:e}=vo(),[t,r]=q.useState([]),[n,a]=q.useState("all"),[i,o]=q.useState(!0);q.useEffect(()=>{e!=null&&e.org_id&&s()},[e]);const s=async()=>{try{o(!0);const x=[],N=await c();x.push(...N);const _=await u();x.push(..._);const w=await d();x.push(...w);const A=await f();x.push(...A),x.sort((O,E)=>{const T={high:3,medium:2,low:1};return T[O.priority]!==T[E.priority]?T[E.priority]-T[O.priority]:new Date(E.timestamp)-new Date(O.timestamp)}),r(x)}catch(x){console.error("Error generating smart notifications:",x)}finally{o(!1)}},c=async()=>{const x=[];try{const{data:N}=await Ye.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(N&&N.length>0){const _=N.filter(E=>E.type==="income").reduce((E,T)=>E+T.amount,0),w=N.filter(E=>E.type==="expense").reduce((E,T)=>E+T.amount,0),A=_>0?w/_*100:0;A>80?x.push({id:"budget-alert-1",type:"budget",priority:"high",title:"Budget Alert: Events Category",message:`Events budget is ${Math.round(A)}% spent with 3 months remaining. Consider reviewing upcoming event costs.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Budget",action:"review_budget"},{label:"View Details",action:"view_details"}]}):A>60&&x.push({id:"budget-alert-2",type:"budget",priority:"medium",title:"Budget Tracking",message:`Budget is ${Math.round(A)}% utilized. On track for current period.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const O=N.reduce((E,T)=>(E[T.category]||(E[T.category]={income:0,expenses:0}),T.type==="income"?E[T.category].income+=T.amount:E[T.category].expenses+=T.amount,E),{});Object.entries(O).forEach(([E,T])=>{const $=T.income>0?T.expenses/T.income*100:0;$>90&&x.push({id:`budget-category-${E}`,type:"budget",priority:"high",title:`${E} Budget Alert`,message:`${E} category is ${Math.round($)}% spent. Immediate attention required.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Category",action:"review_category"},{label:"Adjust Budget",action:"adjust_budget"}]})})}}catch(N){console.error("Error generating budget alerts:",N)}return x},u=async()=>{const x=[];try{const N=new Date;N.setDate(N.getDate()-30);const{count:_}=await Ye.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("created_at",N.toISOString()),{count:w}=await Ye.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id),A=w>0?_/w*100:0;A<5?x.push({id:"membership-growth-1",type:"membership",priority:"medium",title:"Membership Growth Trending Down",message:"New member registrations have decreased by 15% this month. Consider launching a recruitment campaign.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Start Campaign",action:"start_campaign"},{label:"View Analytics",action:"view_analytics"}]}):A>15&&x.push({id:"membership-growth-2",type:"membership",priority:"low",title:"Excellent Membership Growth",message:`Outstanding! New member registrations increased by ${Math.round(A)}% this month.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const{count:O}=await Ye.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",N.toISOString()),E=w>0?O/w*100:0;E<40&&x.push({id:"engagement-alert-1",type:"engagement",priority:"medium",title:"Low Member Engagement",message:`Only ${Math.round(E)}% of members were active this month. Consider increasing communication frequency.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Newsletter",action:"send_newsletter"},{label:"Plan Event",action:"plan_event"}]})}catch(N){console.error("Error generating membership insights:",N)}return x},d=async()=>{const x=[];try{const N=new Date;N.setDate(N.getDate()+7);const{data:_}=await Ye.from("events").select("id, title, event_date, volunteer_slots_needed, volunteer_slots_filled").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).lte("event_date",N.toISOString());_==null||_.forEach(O=>{const E=Math.ceil((new Date(O.event_date)-new Date)/864e5),T=(O.volunteer_slots_needed||0)-(O.volunteer_slots_filled||0);E<=3&&T>0?x.push({id:`event-volunteer-${O.id}`,type:"events",priority:"high",title:`Volunteer Shortage: ${O.title}`,message:`${O.title} in ${E} days needs ${T} more volunteers.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Reminder",action:"send_reminder"},{label:"View Event",action:"view_event"}]}):E<=7&&x.push({id:`event-reminder-${O.id}`,type:"events",priority:"low",title:`Upcoming Event: ${O.title}`,message:`${O.title} is coming up in ${E} days. All preparations on track.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]})});const{data:w}=await Ye.from("events").select("id, title, event_date, updated_at").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()),A=new Date;A.setDate(A.getDate()-14),w==null||w.forEach(O=>{new Date(O.updated_at)<A&&x.push({id:`event-stale-${O.id}`,type:"events",priority:"medium",title:`Event Needs Attention: ${O.title}`,message:`${O.title} hasn't been updated in 2 weeks. Consider reviewing event details.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Update Event",action:"update_event"},{label:"View Details",action:"view_details"}]})})}catch(N){console.error("Error generating event alerts:",N)}return x},f=async()=>{const x=[];x.push({id:"goal-achievement-1",type:"goals",priority:"low",title:"Goal Achievement: Volunteer Hours",message:"Congratulations! Volunteer hours goal exceeded by 104% this quarter.",timestamp:new Date().toISOString(),actionable:!1,actions:[]});const N=new Date().getMonth();return N>=8&&N<=10&&x.push({id:"seasonal-insight-1",type:"seasonal",priority:"medium",title:"Fall Fundraising Opportunity",message:"Fall is peak fundraising season. Consider launching a major campaign now.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Create Campaign",action:"create_campaign"},{label:"View Templates",action:"view_templates"}]}),x.push({id:"communication-insight-1",type:"communication",priority:"low",title:"Communication Performance",message:"Email open rates increased by 8% this month. Great job on engaging content!",timestamp:new Date().toISOString(),actionable:!1,actions:[]}),x},p=(x,N)=>{switch(console.log(`Executing action: ${x} for notification: ${N}`),x){case"review_budget":break;case"start_campaign":break;case"send_reminder":break;case"view_analytics":break;default:console.log("Action not implemented:",x)}},h=x=>{r(N=>N.filter(_=>_.id!==x))},v=t.filter(x=>n==="all"?!0:n==="actionable"?x.actionable:x.type===n),g=x=>{switch(x){case"high":return"border-red-200 bg-red-50";case"medium":return"border-yellow-200 bg-yellow-50";case"low":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},j=x=>{switch(x){case"high":return l.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"medium":return l.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"low":return l.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},y=x=>{switch(x){case"budget":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"membership":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})});case"events":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"engagement":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});default:return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}};return i?l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-16 bg-gray-200 rounded"}),l.jsx("div",{className:"h-16 bg-gray-200 rounded"}),l.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:l.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Smart Notifications"}),l.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered insights and alerts"})]})]}),l.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All"})]}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All"},{key:"actionable",label:"Actionable"},{key:"budget",label:"Budget"},{key:"events",label:"Events"},{key:"membership",label:"Members"}].map(({key:x,label:N})=>l.jsx("button",{onClick:()=>a(x),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${n===x?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:N},x))})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:v.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-gray-500",children:"No notifications to display"})]}):v.map(x=>l.jsx("div",{className:`border rounded-lg p-4 ${g(x.priority)}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[j(x.priority),l.jsx("div",{className:"text-gray-500",children:y(x.type)})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:x.title}),l.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.priority==="high"?"bg-red-100 text-red-800":x.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[x.priority," priority"]})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(x.timestamp).toLocaleString()}),x.actions.length>0&&l.jsx("div",{className:"flex items-center space-x-2 mt-3",children:x.actions.map((N,_)=>l.jsx("button",{onClick:()=>p(N.action,x.id),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:N.label},_))})]})]}),l.jsx("button",{onClick:()=>h(x.id),className:"text-gray-400 hover:text-gray-600 ml-2",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},x.id))})})]})},u6=()=>{const{userProfile:e,loading:t}=vo(),[r,n]=q.useState({metrics:{totalMembers:0,activeEvents:0,budgetUsed:0,engagementRate:0},recentActivity:[],upcomingEvents:[],pendingTasks:[],financialSummary:{totalBudget:0,spent:0,remaining:0,categories:[]}}),[a,i]=q.useState(!0);q.useEffect(()=>{e!=null&&e.org_id&&o()},[e]);const o=async()=>{try{i(!0);const y=[s(),c(),u(),d()],[x,N,_,w]=await Promise.all(y),[A,O,E]=await Promise.all([f(),p(),h()]);n({metrics:{totalMembers:x,activeEvents:N,budgetUsed:_.percentUsed,engagementRate:w},recentActivity:A,upcomingEvents:O,pendingTasks:E,financialSummary:_})}catch(y){console.error("Error fetching dashboard data:",y)}finally{i(!1)}},s=async()=>{const{count:y}=await Ye.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return y||0},c=async()=>{const{count:y}=await Ye.from("events").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("event_date",new Date().toISOString());return y||0},u=async()=>{const{data:y}=await Ye.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(!y)return{percentUsed:0,totalBudget:0,spent:0,remaining:0,categories:[]};const x=y.filter(w=>w.type==="income").reduce((w,A)=>w+A.amount,0),N=y.filter(w=>w.type==="expense").reduce((w,A)=>w+A.amount,0),_=y.reduce((w,A)=>(w[A.category]||(w[A.category]={income:0,expenses:0}),A.type==="income"?w[A.category].income+=A.amount:w[A.category].expenses+=A.amount,w),{});return{totalBudget:x,spent:N,remaining:x-N,percentUsed:x>0?Math.round(N/x*100):0,categories:Object.entries(_).map(([w,A])=>({name:w,...A,net:A.income-A.expenses}))}},d=async()=>{const y=new Date;y.setDate(y.getDate()-30);const{count:x}=await Ye.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",y.toISOString()),{count:N}=await Ye.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return N>0?Math.round(x/N*100):0},f=async()=>{const{data:y}=await Ye.from("events").select("title, created_at, created_by").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(5),{data:x}=await Ye.from("profiles").select("first_name, last_name, created_at").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(3),N=[];return y&&y.forEach(_=>{N.push({type:"event_created",title:`New event: ${_.title}`,timestamp:_.created_at,user:"System"})}),x&&x.forEach(_=>{N.push({type:"user_joined",title:`${_.first_name} ${_.last_name} joined`,timestamp:_.created_at,user:`${_.first_name} ${_.last_name}`})}),N.sort((_,w)=>new Date(w.timestamp)-new Date(_.timestamp)).slice(0,8)},p=async()=>{const{data:y}=await Ye.from("events").select("id, title, event_date, location, status").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0}).limit(5);return y||[]},h=async()=>{const y=[];return(e.role==="admin"||e.role==="board_member")&&y.push({id:1,title:"Review budget proposal",priority:"high",dueDate:"2025-06-10"},{id:2,title:"Approve volunteer applications",priority:"medium",dueDate:"2025-06-12"},{id:3,title:"Update event calendar",priority:"low",dueDate:"2025-06-15"}),y},v=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y),g=y=>new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),j=y=>{const x=new Date,N=new Date(y),_=Math.floor((x-N)/(1e3*60*60));if(_<1)return"Just now";if(_<24)return`${_}h ago`;const w=Math.floor(_/24);return w<7?`${w}d ago`:g(y)};return t||a?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e==null?void 0:e.first_name,"!"]}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your PTO today"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.totalMembers})]}),l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.activeEvents})]}),l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-blue-600",children:"3 this month"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Budget Used"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.budgetUsed,"%"]})]}),l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("span",{className:"text-sm text-gray-600",children:[v(r.financialSummary.remaining)," remaining"]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Engagement Rate"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.engagementRate,"%"]})]}),l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-green-600",children:"+5% from last month"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:r.recentActivity.map((y,x)=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${y.type==="event_created"?"bg-blue-500":"bg-green-500"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:y.title}),l.jsx("p",{className:"text-sm text-gray-500",children:j(y.timestamp)})]})]},x))})})]}),l.jsx(l6,{})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx(c6,{}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upcoming Events"})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[r.upcomingEvents.map(y=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:y.title}),l.jsx("p",{className:"text-sm text-gray-600",children:g(y.event_date)}),y.location&&l.jsx("p",{className:"text-sm text-gray-500",children:y.location})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y.status==="confirmed"?"bg-green-100 text-green-800":y.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:y.status})]},y.id)),r.upcomingEvents.length===0&&l.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming events"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-blue-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-sm font-medium text-blue-900",children:"New Event"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-green-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),l.jsx("span",{className:"text-sm font-medium text-green-900",children:"Send Message"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-purple-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),l.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Add Member"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-yellow-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"New Report"})]})]})})]}),r.pendingTasks.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending Tasks"})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-3",children:r.pendingTasks.map(y=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:y.title}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",g(y.dueDate)]})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y.priority==="high"?"bg-red-100 text-red-800":y.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:y.priority})]},y.id))})})]})]})]})]})})},d6=[{value:"",label:"All Roles"},{value:"admin",label:"Admin"},{value:"board_member",label:"Board Member"},{value:"committee_lead",label:"Committee Lead"},{value:"volunteer",label:"Volunteer"},{value:"parent_member",label:"Parent Member"},{value:"teacher",label:"Teacher"}];function f6(){const[e,t]=q.useState([]),[r,n]=q.useState([]),[a,i]=q.useState({}),[o,s]=q.useState(!0),[c,u]=q.useState(""),[d,f]=q.useState(!1),[p,h]=q.useState(!1),[v,g]=q.useState(""),[j,y]=q.useState({});if(q.useEffect(()=>{async function O(){var H,V,X;s(!0),u("");const[{data:E,error:T},{data:$,error:k}]=await Promise.all([mt("GET","/admin/organization-permissions"),mt("GET","/admin-users")]);if(console.log("[PermissionsConsole] /admin/organization-permissions response:",E),console.log("[PermissionsConsole] /admin-users response:",$),T||k){u("Failed to load permissions or users."),s(!1);return}const C=(H=E==null?void 0:E.data)==null?void 0:H.permissions,D=(V=E==null?void 0:E.data)==null?void 0:V.grouped;n(Array.isArray(C)?C:[]),i(D&&typeof D=="object"?D:{});const I=((X=$==null?void 0:$.data)==null?void 0:X.profiles)||($==null?void 0:$.profiles)||(Array.isArray($==null?void 0:$.data)?$.data:[]);t(I),s(!1)}O()},[]),o)return l.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading permissions..."});if(c)return l.jsx("div",{className:"py-8 text-center text-red-600",children:c});if(!Array.isArray(r)||!a||typeof a!="object")return l.jsx("div",{className:"py-8 text-center text-red-600",children:"Permissions data is unavailable or malformed."});const x=v?e.filter(O=>O.role===v):e,N=r.map(O=>({key:O.permission_key,name:O.permission_name,module:O.module_name,defaultEnabled:O.is_enabled,minRole:O.current_min_role})),_=(O,E,T)=>{y($=>({...$,[O]:{...$[O]||{},[E]:T}})),h(!0)},w=(O,E)=>{x.forEach(T=>{_(T.id,O,E)})},A=async()=>{f(!0),u("");const O=Object.entries(j).flatMap(([T,$])=>Object.entries($).map(([k,C])=>({user_id:T,permission_key:k,is_enabled:C}))),{error:E}=await mt("POST","/admin/organization-permissions/user-overrides",{overrides:O});E?u("Failed to save changes."):h(!1),f(!1)};return l.jsxs("div",{className:"bg-white rounded shadow p-4",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Permissions Management"}),l.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[l.jsx("label",{className:"font-medium",children:"Filter by Role:"}),l.jsx("select",{className:"border rounded px-2 py-1",value:v,onChange:O=>g(O.target.value),children:d6.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsx("div",{className:"overflow-x-auto",children:Object.keys(a).length===0?l.jsx("div",{className:"text-gray-500 text-center py-8",children:"No permissions found."}):l.jsxs("table",{className:"w-full table-auto border mb-2",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border",children:"Name"}),l.jsx("th",{className:"p-2 border",children:"Email"}),l.jsx("th",{className:"p-2 border",children:"Role"}),N.map(O=>l.jsx("th",{className:"p-2 border",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{children:O.name}),l.jsx("button",{className:"text-xs text-blue-600 underline mt-1",onClick:()=>w(O.key,!0),title:"Enable for all filtered users",children:"Enable All"}),l.jsx("button",{className:"text-xs text-red-600 underline",onClick:()=>w(O.key,!1),title:"Disable for all filtered users",children:"Disable All"})]})},O.key))]})}),l.jsx("tbody",{children:x.map(O=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"p-2 border font-medium",children:O.full_name||O.email}),l.jsx("td",{className:"p-2 border",children:O.email}),l.jsx("td",{className:"p-2 border capitalize",children:O.role}),N.map(E=>{var k;const T=(k=j[O.id])==null?void 0:k[E.key],$=T!==void 0?T:E.defaultEnabled;return l.jsx("td",{className:"p-2 border text-center",children:l.jsx("input",{type:"checkbox",checked:$,onChange:C=>_(O.id,E.key,C.target.checked),className:"w-5 h-5 accent-blue-600"})},E.key)})]},O.id))})]})}),l.jsxs("div",{className:"flex gap-4 items-center mt-4",children:[l.jsx("button",{className:`px-4 py-2 rounded bg-blue-600 text-white font-semibold ${!p||d?"opacity-50 cursor-not-allowed":""}`,onClick:A,disabled:!p||d,children:d?"Saving...":"Save Changes"}),p&&!d&&l.jsx("span",{className:"text-yellow-600",children:"Unsaved changes"})]})]})}function h6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Organization Info"}),l.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl text-gray-400",children:"Logo"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg mb-1",children:"[Organization Name]"}),l.jsx("div",{className:"text-gray-500",children:"[School/Year/Timezone]"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"contact@email.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"123 Main St",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"(555) 555-5555",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"America/Chicago",disabled:!0})]})]}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Organization editing coming soon]"})]})}function p6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Email Settings (SMTP)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"smtp.example.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"587",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"user@example.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",type:"password",disabled:!0})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sender Name/Email"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"PTO Connect <noreply@ptoconnect.com>",disabled:!0})]})]}),l.jsxs("div",{className:"mt-6 flex gap-4 items-center",children:[l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Test Connection"}),l.jsx("span",{className:"text-gray-400",children:"[SMTP editing & testing coming soon]"})]})]})}function m6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Subscription"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Current Plan:"}),l.jsx("div",{className:"text-gray-600",children:"[Plan Name]"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Renewal Date:"}),l.jsx("div",{className:"text-gray-600",children:"[2025-12-31]"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Payment Method:"}),l.jsx("div",{className:"text-gray-600",children:"[Visa â€¢â€¢â€¢â€¢ 1234]"})]}),l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Manage Subscription"}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Subscription management coming soon]"})]})}function g6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Keys"}),l.jsxs("table",{className:"w-full table-auto border mb-4",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border",children:"Key Name"}),l.jsx("th",{className:"p-2 border",children:"Permissions"}),l.jsx("th",{className:"p-2 border",children:"Status"}),l.jsx("th",{className:"p-2 border",children:"Actions"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:"[Key 1]"}),l.jsx("td",{className:"p-2 border",children:"[Read, Write]"}),l.jsx("td",{className:"p-2 border",children:"Active"}),l.jsx("td",{className:"p-2 border",children:l.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:"[Key 2]"}),l.jsx("td",{className:"p-2 border",children:"[Read]"}),l.jsx("td",{className:"p-2 border",children:"Inactive"}),l.jsx("td",{className:"p-2 border",children:l.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]})]})]}),l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Create New API Key"}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[API key management coming soon]"})]})}const v6=[{key:"org",label:"Organization Info"},{key:"permissions",label:"Permissions"},{key:"email",label:"Email Settings"},{key:"subscription",label:"Subscription"},{key:"apikeys",label:"API Keys"}];function zg(){const[e,t]=q.useState("org");return l.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:v6.map(r=>l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e===r.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t(r.key),children:r.label},r.key))})}),l.jsxs("div",{children:[e==="org"&&l.jsx(h6,{}),e==="permissions"&&l.jsx(f6,{}),e==="email"&&l.jsx(p6,{}),e==="subscription"&&l.jsx(m6,{}),e==="apikeys"&&l.jsx(g6,{})]})]})}const ol="https://api.ptoconnect.com";function y6(){const{profile:e,loading:t}=vo(),[r,n]=q.useState([]),[a,i]=q.useState([]),[o,s]=q.useState(!0),[c,u]=q.useState(null),[d,f]=q.useState(!1),p=(e==null?void 0:e.role)==="admin",h=q.useCallback(async()=>{if(!(e!=null&&e.user_id)||t||!p){s(!1);return}try{s(!0),u(null);const{data:{session:O}}=await Ye.auth.getSession();if(!(O!=null&&O.access_token))throw new Error("No authentication token available");const[E,T]=await Promise.all([_a.get(`${ol}/api/admin/organization-permissions/templates`,{headers:{Authorization:`Bearer ${O.access_token}`}}),_a.get(`${ol}/api/admin/organization-permissions`,{headers:{Authorization:`Bearer ${O.access_token}`}})]);n(E.data.templates||[]),i(T.data.permissions||[])}catch(O){console.error("Error fetching permission data:",O.message),u(O.message)}finally{s(!1)}},[e==null?void 0:e.user_id,t,p]);q.useEffect(()=>{h()},[h]);const v=q.useCallback(async(O,E)=>{var T,$;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:k}}=await Ye.auth.getSession();if(!(k!=null&&k.access_token))throw new Error("No authentication token available");const C=await _a.put(`${ol}/api/admin/organization-permissions/${O}`,E,{headers:{Authorization:`Bearer ${k.access_token}`}});return await h(),C.data}catch(k){throw console.error(`Error updating permission ${O}:`,k.message),u((($=(T=k.response)==null?void 0:T.data)==null?void 0:$.error)||k.message),k}finally{f(!1)}},[p,h]),g=q.useCallback(async O=>{var E,T;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:$}}=await Ye.auth.getSession();if(!($!=null&&$.access_token))throw new Error("No authentication token available");const k=await _a.post(`${ol}/api/admin/organization-permissions/bulk-update`,{permissions:O},{headers:{Authorization:`Bearer ${$.access_token}`}});return await h(),k.data}catch($){throw console.error("Error bulk updating permissions:",$.message),u(((T=(E=$.response)==null?void 0:E.data)==null?void 0:T.error)||$.message),$}finally{f(!1)}},[p,h]),j=q.useCallback(async O=>{var E,T;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:$}}=await Ye.auth.getSession();if(!($!=null&&$.access_token))throw new Error("No authentication token available");const k=await _a.delete(`${ol}/api/admin/organization-permissions/${O}`,{headers:{Authorization:`Bearer ${$.access_token}`}});return await h(),k.data}catch($){throw console.error(`Error resetting permission ${O}:`,$.message),u(((T=(E=$.response)==null?void 0:E.data)==null?void 0:T.error)||$.message),$}finally{f(!1)}},[p,h]),y=q.useCallback(async O=>{if(!p)throw new Error("Only administrators can view user permissions");try{const{data:{session:E}}=await Ye.auth.getSession();if(!(E!=null&&E.access_token))throw new Error("No authentication token available");return(await _a.get(`${ol}/api/admin/organization-permissions/user/${O}`,{headers:{Authorization:`Bearer ${E.access_token}`}})).data}catch(E){throw console.error(`Error fetching permissions for user ${O}:`,E.message),E}},[p]),x=q.useCallback(()=>{const O={};return a.forEach(E=>{const T=E.module_name;O[T]||(O[T]=[]),O[T].push(E)}),O},[a]),N=q.useCallback(O=>r.find(E=>E.permission_key===O)||null,[r]),_=q.useCallback(O=>{const E=a.find(T=>T.permission_key===O);return!!(E!=null&&E.has_custom_setting)},[a]),w=q.useCallback(O=>{const E=a.find($=>$.permission_key===O),T=N(O);return T?{permission_key:O,module_name:T.module_name,permission_name:T.permission_name,permission_description:T.permission_description,current_min_role:(E==null?void 0:E.current_min_role)||T.default_min_role,specific_users:(E==null?void 0:E.specific_users)||[],is_enabled:(E==null?void 0:E.is_enabled)!==void 0?E.is_enabled:!0,is_customized:!!(E!=null&&E.has_custom_setting),default_min_role:T.default_min_role}:null},[a,N]),A=q.useCallback(()=>{h()},[h]);return{templates:r,orgPermissions:a,loading:o,error:c,saving:d,isAdmin:p,updatePermission:v,bulkUpdatePermissions:g,resetPermission:j,getUserPermissions:y,refreshPermissions:A,getPermissionsByModule:x,getPermissionTemplate:N,isPermissionCustomized:_,getEffectivePermission:w,userId:e==null?void 0:e.user_id,orgId:e==null?void 0:e.org_id,userRole:e==null?void 0:e.role}}function b6(){const{profile:e,organization:t,loading:r}=vo(),n={admin:5,board_member:4,committee_lead:3,volunteer:2,parent_member:1,teacher:1},a=w=>e!=null&&e.role?n[e.role]>=n[w]:!1,i=w=>e!=null&&e.role?w.includes(e.role):!1,o=w=>(e==null?void 0:e.role)===w,s=()=>a("admin"),c=()=>a("committee_lead"),u=()=>a("committee_lead"),d=()=>a("committee_lead");return{hasRole:a,hasAnyRole:i,hasExactRole:o,canAccessAdminFeatures:s,canManageEvents:c,canManageBudget:u,canManageCommunications:d,canManageUsers:()=>a("admin"),canViewReports:()=>a("board_member"),canCreateEvents:()=>a("volunteer"),canVolunteer:()=>a("parent_member"),isInOrganization:()=>!!(e!=null&&e.org_id)&&!!t,getOrganizationId:()=>e==null?void 0:e.org_id,getOrganizationName:()=>t==null?void 0:t.name,getRoleDisplayName:(w=e==null?void 0:e.role)=>({admin:"Administrator",board_member:"Board Member",committee_lead:"Committee Lead",volunteer:"Volunteer",parent_member:"Parent Member",teacher:"Teacher"})[w]||"Unknown Role",getRoleColor:(w=e==null?void 0:e.role)=>({admin:"bg-red-100 text-red-800",board_member:"bg-purple-100 text-purple-800",committee_lead:"bg-blue-100 text-blue-800",volunteer:"bg-green-100 text-green-800",parent_member:"bg-yellow-100 text-yellow-800",teacher:"bg-indigo-100 text-indigo-800"})[w]||"bg-gray-100 text-gray-800",canAccessRoute:w=>({"/dashboard/admin":s(),"/dashboard/board":a("board_member"),"/dashboard/committee":a("committee_lead"),"/dashboard/volunteer":a("volunteer"),"/dashboard/parent":a("parent_member"),"/dashboard/teacher":o("teacher"),"/events":c(),"/budget":u(),"/communications":d(),"/billing":s(),"/shared-library":a("volunteer"),"/teacher-requests":o("teacher")})[w]??!1,currentRole:e==null?void 0:e.role,currentUserId:e==null?void 0:e.id,loading:r}}function x6(){const{canAccessAdminFeatures:e}=b6(),{templates:t,loading:r,error:n,saving:a,isAdmin:i,updatePermission:o,bulkUpdatePermissions:s,resetPermission:c,getEffectivePermission:u,isPermissionCustomized:d,refreshPermissions:f}=y6(),[p,h]=q.useState("all"),[v,g]=q.useState({}),[j,y]=q.useState(!1),[x,N]=q.useState(!1),_=[{value:"volunteer",label:"Volunteer",color:"bg-green-100 text-green-800"},{value:"committee_lead",label:"Committee Lead",color:"bg-blue-100 text-blue-800"},{value:"board_member",label:"Board Member",color:"bg-purple-100 text-purple-800"},{value:"admin",label:"Administrator",color:"bg-red-100 text-red-800"}],w=[...new Set(t.map(D=>D.module_name))].sort(),O=(p==="all"?t:t.filter(D=>D.module_name===p)).reduce((D,I)=>{const H=I.module_name;return D[H]||(D[H]=[]),D[H].push(I),D},{}),E=(D,I,H)=>{g(V=>({...V,[D]:{...V[D],[I]:H}}))},T=async D=>{const I=v[D];if(I)try{const H=u(D),V={min_role_required:I.min_role_required||H.current_min_role,specific_users:I.specific_users||H.specific_users,is_enabled:I.is_enabled!==void 0?I.is_enabled:H.is_enabled};await o(D,V),g(X=>{const J={...X};return delete J[D],J}),alert(`Permission "${D}" updated successfully!`)}catch(H){alert(`Failed to update permission: ${H.message}`)}},$=async()=>{if(Object.keys(v).length!==0)try{const D=Object.entries(v).map(([I,H])=>{const V=u(I);return{permission_key:I,min_role_required:H.min_role_required||V.current_min_role,specific_users:H.specific_users||V.specific_users,is_enabled:H.is_enabled!==void 0?H.is_enabled:V.is_enabled}});await s(D),g({}),alert(`Successfully updated ${D.length} permissions!`)}catch(D){alert(`Failed to save changes: ${D.message}`)}},k=async D=>{if(confirm(`Reset "${D}" to default settings?`))try{await c(D),g(I=>{const H={...I};return delete H[D],H}),alert(`Permission "${D}" reset to default!`)}catch(I){alert(`Failed to reset permission: ${I.message}`)}},C=D=>{const I=u(D),H=v[D];return H?{...I,current_min_role:H.min_role_required||I.current_min_role,specific_users:H.specific_users||I.specific_users,is_enabled:H.is_enabled!==void 0?H.is_enabled:I.is_enabled}:I};return!e||!i?l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-red-600",children:"Only administrators can access permission management."})]})}):r?l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),l.jsx("div",{className:"space-y-4",children:[1,2,3].map(D=>l.jsx("div",{className:"h-20 bg-gray-200 rounded"},D))})]})}):n?l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Permissions"}),l.jsx("p",{className:"text-red-600 mb-4",children:n}),l.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Retry"})]})}):l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Permission Management"}),l.jsx("p",{className:"text-gray-600",children:"Customize which roles can perform specific actions in your organization."})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Module:"}),l.jsxs("select",{value:p,onChange:D=>h(D.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[l.jsx("option",{value:"all",children:"All Modules"}),w.map(D=>l.jsx("option",{value:D,children:D.charAt(0).toUpperCase()+D.slice(1).replace("_"," ")},D))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>N(!x),className:`px-4 py-2 rounded-md text-sm font-medium ${x?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:x?"Exit Bulk Mode":"Bulk Edit"}),Object.keys(v).length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>y(!j),className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-md text-sm font-medium hover:bg-yellow-200",children:["Preview Changes (",Object.keys(v).length,")"]}),l.jsx("button",{onClick:$,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:a?"Saving...":"Save All Changes"})]})]})]})}),j&&Object.keys(v).length>0&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Pending Changes"}),l.jsx("div",{className:"space-y-2",children:Object.entries(v).map(([D,I])=>l.jsxs("div",{className:"text-sm text-yellow-700",children:[l.jsxs("span",{className:"font-medium",children:[D,":"]}),I.min_role_required&&l.jsxs("span",{className:"ml-2",children:["Role â†’ ",I.min_role_required]}),I.is_enabled!==void 0&&l.jsxs("span",{className:"ml-2",children:["Enabled â†’ ",I.is_enabled?"Yes":"No"]})]},D))})]}),l.jsx("div",{className:"space-y-8",children:Object.entries(O).map(([D,I])=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[D.replace("_"," ")," Module"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[I.length," permissions"]})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Role"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(H=>{const V=C(H.permission_key),X=v[H.permission_key],J=d(H.permission_key);return l.jsxs("tr",{className:X?"bg-yellow-50":"",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[V.permission_name,J&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Custom"}),X&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Modified"})]}),l.jsx("div",{className:"text-sm text-gray-500",children:V.permission_description})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("select",{value:V.current_min_role,onChange:Y=>E(H.permission_key,"min_role_required",Y.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:_.map(Y=>l.jsx("option",{value:Y.value,children:Y.label},Y.value))})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:V.is_enabled,onChange:Y=>E(H.permission_key,"is_enabled",Y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:V.is_enabled?"Enabled":"Disabled"})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[X&&l.jsx("button",{onClick:()=>T(H.permission_key),disabled:a,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Save"}),J&&l.jsx("button",{onClick:()=>k(H.permission_key),disabled:a,className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Reset"})]})})]},H.permission_key)})})]})})]},D))}),l.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Permission Management Guide"}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Minimum Role:"})," The lowest role level that can perform this action"]}),l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Custom:"})," Permission has been modified from the default setting"]}),l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Modified:"})," Permission has unsaved changes"]}),l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Reset:"})," Restore permission to its default setting"]}),l.jsx("li",{children:"â€¢ Changes take effect immediately for all users in your organization"})]})]})]})}function w6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Board Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Board dashboard."})]})}function j6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Committee Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Committee dashboard."})]})}function N6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Volunteer Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Volunteer dashboard."})]})}function S6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Parent Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Parent dashboard."})]})}function _6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Teacher Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Teacher dashboard."})]})}function A6(){const[e,t]=q.useState([]),[r,n]=q.useState("");q.useEffect(()=>{async function i(){const{data:{session:o},error:s}=await Ye.auth.getSession();if(s||!(o!=null&&o.access_token)){n("Authentication error. Please log in again.");return}try{const c=await fetch("/api/events",{headers:{Authorization:`Bearer ${o.access_token}`}}),u=await c.json();c.ok?t(u):n(u.error||"Failed to load events")}catch(c){console.error("Fetch error:",c),n("Failed to connect to server.")}}i()},[]);const a=async i=>{if(!window.confirm("Are you sure you want to delete this event?"))return;const{data:{session:s}}=await Ye.auth.getSession();if(!(s!=null&&s.access_token)){alert("You must be logged in to delete events.");return}const c=await fetch(`/api/events/${i}`,{method:"DELETE",headers:{Authorization:`Bearer ${s.access_token}`}});c.ok?t(u=>u.filter(d=>d.id!==i)):(alert("Failed to delete event."),console.error("Delete error:",await c.text()))};return l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your PTO events with Stella AI assistance"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Aa,{to:"/events/calendar",className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsx("span",{children:"Calendar View"})]}),l.jsxs(Aa,{to:"/events/create-enhanced",className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(lr,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Event with Stella"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[l.jsx(Aa,{to:"/events/create-enhanced",className:"p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-purple-200 hover:shadow-lg transition-all group",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:l.jsx(_h,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600",children:"AI-Powered Event Creation"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Let Stella create complete event workflows automatically"}),l.jsxs("div",{className:"flex items-center space-x-1 mt-2 text-xs text-purple-600",children:[l.jsx(lr,{className:"w-3 h-3"}),l.jsx("span",{children:"Full workflow automation"})]})]})]})}),l.jsx(Aa,{to:"/ai-workflow-orchestrator",className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg border border-pink-200 hover:shadow-lg transition-all group",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:l.jsx(Dp,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-purple-600",children:"Workflow Orchestrator"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage and optimize your event workflows"}),l.jsxs("div",{className:"flex items-center space-x-1 mt-2 text-xs text-purple-600",children:[l.jsx(si,{className:"w-3 h-3"}),l.jsx("span",{children:"Advanced management"})]})]})]})}),l.jsx("div",{className:"p-6 bg-gradient-to-br from-green-50 to-blue-50 rounded-lg border border-green-200",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:l.jsx(Ja,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Insights"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-powered analytics and recommendations"}),l.jsx("div",{className:"text-xs text-green-600 mt-2",children:"Coming soon in Phase 2.1"})]})]})})]}),r&&l.jsx("p",{className:"text-red-600 mb-4",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No events created yet."}),l.jsx("ul",{className:"space-y-4",children:e.map(i=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("h2",{className:"text-xl font-semibold",children:i.title}),l.jsxs("div",{className:"flex gap-2 text-sm",children:[l.jsx(Aa,{to:`/events/edit/${i.id}`,className:"text-blue-600 hover:underline",children:"âœï¸ Edit"}),l.jsx("button",{onClick:()=>a(i.id),className:"text-red-600 hover:underline",children:"ðŸ—‘ï¸ Delete"})]})]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(i.event_date).toLocaleDateString()," â€¢ ",i.school_level," â€¢ ",i.category]}),l.jsx("p",{className:"mt-2",children:i.description}),i.share_public&&l.jsx("span",{className:"text-xs inline-block mt-2 px-2 py-1 bg-green-100 text-green-800 rounded",children:"Shared to Library"})]},i.id))})]})}const O6=()=>{const e=jr(),[t,r]=q.useState("grid"),[n,a]=q.useState("manual"),[i,o]=q.useState(""),[s,c]=q.useState("all"),u=()=>{e("/events/create")},d=()=>{e("/events/create?mode=ai-assisted")},f=()=>{e("/events/create?mode=ai-automated")},p=w=>{e(`/events/${w}`)},h=w=>{e(`/events/${w}/edit`)},v=w=>{window.confirm("Are you sure you want to delete this event?")&&console.log("Deleting event:",w)},g=()=>{e("/events/create")},j=[{id:1,name:"Fall Festival 2024",date:"2024-10-15",status:"planning",attendees:300,budget:3e3,profit:1800,progress:65,type:"ai-generated",description:"Community celebration with games, food, and family fun"},{id:2,name:"Book Fair",date:"2024-11-20",status:"active",attendees:150,budget:1500,profit:800,progress:85,type:"manual",description:"Annual book fair to promote reading"},{id:3,name:"Science Night",date:"2024-12-05",status:"draft",attendees:200,budget:2e3,profit:1200,progress:25,type:"manual",description:"Interactive science demonstrations and experiments"}],y=w=>{const A={draft:"bg-gray-100 text-gray-800",planning:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"};return A[w]||A.draft},x=({event:w})=>l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w.name}),w.type==="ai-generated"&&l.jsx(lr,{className:"w-4 h-4 text-purple-500",title:"AI Generated"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(w.date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(si,{className:"w-4 h-4"}),l.jsxs("span",{children:[w.attendees," expected"]})]})]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(w.status)}`,children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium text-gray-900",children:[w.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${w.progress}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Budget"}),l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",w.budget]})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-green-600",children:"Projected Profit"}),l.jsxs("div",{className:"text-lg font-semibold text-green-700",children:["$",w.profit]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>p(w.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ru,{className:"w-4 h-4 mr-2"}),"View"]}),l.jsxs("button",{onClick:()=>h(w.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(Fu,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})}),N=({event:w})=>l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:w.name}),w.type==="ai-generated"&&l.jsx(lr,{className:"w-4 h-4 text-purple-500"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(w.status)}`,children:w.status})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Date"}),l.jsx("div",{className:"font-medium",children:new Date(w.date).toLocaleDateString()})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Attendees"}),l.jsx("div",{className:"font-medium",children:w.attendees})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Budget"}),l.jsxs("div",{className:"font-medium",children:["$",w.budget]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Progress"}),l.jsxs("div",{className:"font-medium",children:[w.progress,"%"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>p(w.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:l.jsx(Ru,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>h(w.id),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",children:l.jsx(Fu,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>v(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:l.jsx(pP,{className:"w-4 h-4"})})]})]})}),_=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Event"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(hP,{className:"w-8 h-8 text-gray-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Manual Creation"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Full control over every detail"})]})]}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ Step-by-step event setup"}),l.jsx("li",{children:"â€¢ Custom timeline creation"}),l.jsx("li",{children:"â€¢ Manual budget planning"}),l.jsx("li",{children:"â€¢ Individual task assignment"})]}),l.jsx("button",{onClick:u,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),l.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(lr,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-blue-900",children:"AI Assisted"}),l.jsx("p",{className:"text-sm text-blue-700",children:"AI suggestions with manual control"})]})]}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ AI-generated suggestions"}),l.jsx("li",{children:"â€¢ Smart template recommendations"}),l.jsx("li",{children:"â€¢ Automated task suggestions"}),l.jsx("li",{children:"â€¢ Budget estimation help"})]}),l.jsx("button",{onClick:d,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create with AI Help"})]}),l.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(lr,{className:"w-8 h-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-purple-900",children:"AI Automated"}),l.jsx("p",{className:"text-sm text-purple-700",children:"Complete workflow generation"})]})]}),l.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ Complete workflow creation"}),l.jsx("li",{children:"â€¢ Automated timeline & tasks"}),l.jsx("li",{children:"â€¢ Budget & profit projections"}),l.jsx("li",{children:"â€¢ Communication campaigns"})]}),l.jsx("button",{onClick:f,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Generate Full Workflow"})]})]})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage your PTO events with manual control or AI assistance"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("button",{onClick:()=>r(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?l.jsx($N,{className:"w-5 h-5"}):l.jsx(DN,{className:"w-5 h-5"})})})]}),l.jsx(_,{}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(IN,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search events...",value:i,onChange:w=>o(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("select",{value:s,onChange:w=>c(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"planning",children:"Planning"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"completed",children:"Completed"})]})]})}),l.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:j.map(w=>t==="grid"?l.jsx(x,{event:w},w.id):l.jsx(N,{event:w},w.id))}),j.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Qn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first event"}),l.jsx("button",{onClick:g,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Event"})]})]})})};function bt(e){"@babel/helpers - typeof";return bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(e)}var Qr=Uint8Array,$n=Uint16Array,qy=Int32Array,Fp=new Qr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bp=new Qr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fv=new Qr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JN=function(e,t){for(var r=new $n(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new qy(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},ZN=JN(Fp,2),QN=ZN.b,Bv=ZN.r;QN[28]=258,Bv[258]=28;var eS=JN(Bp,0),P6=eS.b,l1=eS.r,qv=new $n(32768);for(var Jt=0;Jt<32768;++Jt){var to=(Jt&43690)>>1|(Jt&21845)<<1;to=(to&52428)>>2|(to&13107)<<2,to=(to&61680)>>4|(to&3855)<<4,qv[Jt]=((to&65280)>>8|(to&255)<<8)>>1}var ri=function(e,t,r){for(var n=e.length,a=0,i=new $n(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new $n(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var s;if(r){s=new $n(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)s[qv[f]>>c]=u}else for(s=new $n(n),a=0;a<n;++a)e[a]&&(s[a]=qv[o[e[a]-1]++]>>15-e[a]);return s},fo=new Qr(288);for(var Jt=0;Jt<144;++Jt)fo[Jt]=8;for(var Jt=144;Jt<256;++Jt)fo[Jt]=9;for(var Jt=256;Jt<280;++Jt)fo[Jt]=7;for(var Jt=280;Jt<288;++Jt)fo[Jt]=8;var qu=new Qr(32);for(var Jt=0;Jt<32;++Jt)qu[Jt]=5;var E6=ri(fo,9,0),k6=ri(fo,9,1),T6=ri(qu,5,0),C6=ri(qu,5,1),Ug=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ba=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Wg=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},zy=function(e){return(e+7)/8|0},tS=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Qr(e.subarray(t,r))},L6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ja=function(e,t,r){var n=new Error(t||L6[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ja),!r)throw n;return n},M6=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Qr(0);var o=!r,s=o||t.i!=2,c=t.i;o&&(r=new Qr(a*3));var u=function(be){var pe=r.length;if(be>pe){var Ee=new Qr(Math.max(pe*2,be));Ee.set(r),r=Ee}},d=t.f||0,f=t.p||0,p=t.b||0,h=t.l,v=t.d,g=t.m,j=t.n,y=a*8;do{if(!h){d=ba(e,f,1);var x=ba(e,f+1,3);if(f+=3,x)if(x==1)h=k6,v=C6,g=9,j=5;else if(x==2){var A=ba(e,f,31)+257,O=ba(e,f+10,15)+4,E=A+ba(e,f+5,31)+1;f+=14;for(var T=new Qr(E),$=new Qr(19),k=0;k<O;++k)$[Fv[k]]=ba(e,f+k*3,7);f+=O*3;for(var C=Ug($),D=(1<<C)-1,I=ri($,C,1),k=0;k<E;){var H=I[ba(e,f,D)];f+=H&15;var N=H>>4;if(N<16)T[k++]=N;else{var V=0,X=0;for(N==16?(X=3+ba(e,f,3),f+=2,V=T[k-1]):N==17?(X=3+ba(e,f,7),f+=3):N==18&&(X=11+ba(e,f,127),f+=7);X--;)T[k++]=V}}var J=T.subarray(0,A),Y=T.subarray(A);g=Ug(J),j=Ug(Y),h=ri(J,g,1),v=ri(Y,j,1)}else ja(1);else{var N=zy(f)+4,_=e[N-4]|e[N-3]<<8,w=N+_;if(w>a){c&&ja(0);break}s&&u(p+_),r.set(e.subarray(N,w),p),t.b=p+=_,t.p=f=w*8,t.f=d;continue}if(f>y){c&&ja(0);break}}s&&u(p+131072);for(var Z=(1<<g)-1,ae=(1<<j)-1,M=f;;M=f){var V=h[Wg(e,f)&Z],U=V>>4;if(f+=V&15,f>y){c&&ja(0);break}if(V||ja(2),U<256)r[p++]=U;else if(U==256){M=f,h=null;break}else{var Q=U-254;if(U>264){var k=U-257,ne=Fp[k];Q=ba(e,f,(1<<ne)-1)+QN[k],f+=ne}var oe=v[Wg(e,f)&ae],he=oe>>4;oe||ja(3),f+=oe&15;var Y=P6[he];if(he>3){var ne=Bp[he];Y+=Wg(e,f)&(1<<ne)-1,f+=ne}if(f>y){c&&ja(0);break}s&&u(p+131072);var de=p+Q;if(p<Y){var ie=i-Y,xe=Math.min(Y,de);for(ie+p<0&&ja(3);p<xe;++p)r[p]=n[ie+p]}for(;p<de;++p)r[p]=r[p-Y]}}t.l=h,t.p=M,t.b=p,t.f=d,h&&(d=1,t.m=g,t.d=v,t.n=j)}while(!d);return p!=r.length&&o?tS(r,0,p):r.subarray(0,p)},Si=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},uu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Hg=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:nS,l:0};if(a==1){var o=new Qr(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(w,A){return w.f-A.f}),r.push({s:-1,f:25001});var s=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};d!=a-1;)s=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:s.f+c.f,l:s,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new $n(p+1),v=zv(r[d-1],h,0);if(v>t){var n=0,g=0,j=v-t,y=1<<j;for(i.sort(function(A,O){return h[O.s]-h[A.s]||A.f-O.f});n<a;++n){var x=i[n].s;if(h[x]>t)g+=y-(1<<v-h[x]),h[x]=t;else break}for(g>>=j;g>0;){var N=i[n].s;h[N]<t?g-=1<<t-h[N]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;h[_]==t&&(--h[_],++g)}v=t}return{t:new Qr(h),l:v}},zv=function(e,t,r){return e.s==-1?Math.max(zv(e.l,t,r+1),zv(e.r,t,r+1)):t[e.s]=r},c1=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new $n(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return{c:r.subarray(0,n),n:t}},du=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},rS=function(e,t,r){var n=r.length,a=zy(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},u1=function(e,t,r,n,a,i,o,s,c,u,d){Si(t,d++,r),++a[256];for(var f=Hg(a,15),p=f.t,h=f.l,v=Hg(i,15),g=v.t,j=v.l,y=c1(p),x=y.c,N=y.n,_=c1(g),w=_.c,A=_.n,O=new $n(19),E=0;E<x.length;++E)++O[x[E]&31];for(var E=0;E<w.length;++E)++O[w[E]&31];for(var T=Hg(O,7),$=T.t,k=T.l,C=19;C>4&&!$[Fv[C-1]];--C);var D=u+5<<3,I=du(a,fo)+du(i,qu)+o,H=du(a,p)+du(i,g)+o+14+3*C+du(O,$)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&D<=I&&D<=H)return rS(t,d,e.subarray(c,c+u));var V,X,J,Y;if(Si(t,d,1+(H<I)),d+=2,H<I){V=ri(p,h,0),X=p,J=ri(g,j,0),Y=g;var Z=ri($,k,0);Si(t,d,N-257),Si(t,d+5,A-1),Si(t,d+10,C-4),d+=14;for(var E=0;E<C;++E)Si(t,d+3*E,$[Fv[E]]);d+=3*C;for(var ae=[x,w],M=0;M<2;++M)for(var U=ae[M],E=0;E<U.length;++E){var Q=U[E]&31;Si(t,d,Z[Q]),d+=$[Q],Q>15&&(Si(t,d,U[E]>>5&127),d+=U[E]>>12)}}else V=E6,X=fo,J=T6,Y=qu;for(var E=0;E<s;++E){var ne=n[E];if(ne>255){var Q=ne>>18&31;uu(t,d,V[Q+257]),d+=X[Q+257],Q>7&&(Si(t,d,ne>>23&31),d+=Fp[Q]);var oe=ne&31;uu(t,d,J[oe]),d+=Y[oe],oe>3&&(uu(t,d,ne>>5&8191),d+=Bp[oe])}else uu(t,d,V[ne]),d+=X[ne]}return uu(t,d,V[256]),d+X[256]},$6=new qy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nS=new Qr(0),D6=function(e,t,r,n,a,i){var o=i.z||e.length,s=new Qr(n+o+5*(1+Math.ceil(o/7e3))+a),c=s.subarray(n,s.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=$6[t-1],p=f>>13,h=f&8191,v=(1<<r)-1,g=i.p||new $n(32768),j=i.h||new $n(v+1),y=Math.ceil(r/3),x=2*y,N=function($e){return(e[$e]^e[$e+1]<<y^e[$e+2]<<x)&v},_=new qy(25e3),w=new $n(288),A=new $n(32),O=0,E=0,T=i.i||0,$=0,k=i.w||0,C=0;T+2<o;++T){var D=N(T),I=T&32767,H=j[D];if(g[I]=H,j[D]=I,k<=T){var V=o-T;if((O>7e3||$>24576)&&(V>423||!u)){d=u1(e,c,0,_,w,A,E,$,C,T-C,d),$=O=E=0,C=T;for(var X=0;X<286;++X)w[X]=0;for(var X=0;X<30;++X)A[X]=0}var J=2,Y=0,Z=h,ae=I-H&32767;if(V>2&&D==N(T-ae))for(var M=Math.min(p,V)-1,U=Math.min(32767,T),Q=Math.min(258,V);ae<=U&&--Z&&I!=H;){if(e[T+J]==e[T+J-ae]){for(var ne=0;ne<Q&&e[T+ne]==e[T+ne-ae];++ne);if(ne>J){if(J=ne,Y=ae,ne>M)break;for(var oe=Math.min(ae,ne-2),he=0,X=0;X<oe;++X){var de=T-ae+X&32767,ie=g[de],xe=de-ie&32767;xe>he&&(he=xe,H=de)}}}I=H,H=g[I],ae+=I-H&32767}if(Y){_[$++]=268435456|Bv[J]<<18|l1[Y];var be=Bv[J]&31,pe=l1[Y]&31;E+=Fp[be]+Bp[pe],++w[257+be],++A[pe],k=T+J,++O}else _[$++]=e[T],++w[e[T]]}}for(T=Math.max(T,k);T<o;++T)_[$++]=e[T],++w[e[T]];d=u1(e,c,u,_,w,A,E,$,C,T-C,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=j,i.p=g,i.i=T,i.w=k)}else{for(var T=i.w||0;T<o+u;T+=65535){var Ee=T+65535;Ee>=o&&(c[d/8|0]=u,Ee=o),d=rS(c,d+1,e.subarray(T,Ee))}i.i=o}return tS(s,0,n+zy(d)+a)},aS=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},I6=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Qr(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return D6(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},iS=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},R6=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=aS();a.p(t.dictionary),iS(e,2,a.d())}},F6=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ja(6,"invalid zlib data"),(e[1]>>5&1)==1&&ja(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Uv(e,t){t||(t={});var r=aS();r.p(e);var n=I6(e,t,t.dictionary?6:2,4);return R6(n,t),iS(n,n.length-4,r.d()),n}function B6(e,t){return M6(e.subarray(F6(e),-4),{i:2},t,t)}var q6=typeof TextDecoder<"u"&&new TextDecoder,z6=0;try{q6.decode(nS,{stream:!0}),z6=1}catch{}var rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Gg(){rt.console&&typeof rt.console.log=="function"&&rt.console.log.apply(rt.console,arguments)}var Ft={log:Gg,warn:function(e){rt.console&&(typeof rt.console.warn=="function"?rt.console.warn.apply(rt.console,arguments):Gg.call(null,arguments))},error:function(e){rt.console&&(typeof rt.console.error=="function"?rt.console.error.apply(rt.console,arguments):Gg(e))}};function Vg(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Uo(n.response,t,r)},n.onerror=function(){Ft.error("could not download file")},n.send()}function d1(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Hf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Eu,Wv,Uo=rt.saveAs||((typeof window>"u"?"undefined":bt(window))!=="object"||window!==rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=rt.URL||rt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?d1(a.href)?Vg(e,t,r):Hf(a,a.target="_blank"):Hf(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Hf(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(d1(e))Vg(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Hf(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:bt(i)!=="object"&&(Ft.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Vg(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(rt.HTMLElement)||rt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":bt(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(e)}else{var c=rt.URL||rt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function oS(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+s+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Yg(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Gr(r,n,a,i,t[0],7,-680876936),i=Gr(i,r,n,a,t[1],12,-389564586),a=Gr(a,i,r,n,t[2],17,606105819),n=Gr(n,a,i,r,t[3],22,-1044525330),r=Gr(r,n,a,i,t[4],7,-176418897),i=Gr(i,r,n,a,t[5],12,1200080426),a=Gr(a,i,r,n,t[6],17,-1473231341),n=Gr(n,a,i,r,t[7],22,-45705983),r=Gr(r,n,a,i,t[8],7,1770035416),i=Gr(i,r,n,a,t[9],12,-1958414417),a=Gr(a,i,r,n,t[10],17,-42063),n=Gr(n,a,i,r,t[11],22,-1990404162),r=Gr(r,n,a,i,t[12],7,1804603682),i=Gr(i,r,n,a,t[13],12,-40341101),a=Gr(a,i,r,n,t[14],17,-1502002290),r=Vr(r,n=Gr(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Vr(i,r,n,a,t[6],9,-1069501632),a=Vr(a,i,r,n,t[11],14,643717713),n=Vr(n,a,i,r,t[0],20,-373897302),r=Vr(r,n,a,i,t[5],5,-701558691),i=Vr(i,r,n,a,t[10],9,38016083),a=Vr(a,i,r,n,t[15],14,-660478335),n=Vr(n,a,i,r,t[4],20,-405537848),r=Vr(r,n,a,i,t[9],5,568446438),i=Vr(i,r,n,a,t[14],9,-1019803690),a=Vr(a,i,r,n,t[3],14,-187363961),n=Vr(n,a,i,r,t[8],20,1163531501),r=Vr(r,n,a,i,t[13],5,-1444681467),i=Vr(i,r,n,a,t[2],9,-51403784),a=Vr(a,i,r,n,t[7],14,1735328473),r=Yr(r,n=Vr(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Yr(i,r,n,a,t[8],11,-2022574463),a=Yr(a,i,r,n,t[11],16,1839030562),n=Yr(n,a,i,r,t[14],23,-35309556),r=Yr(r,n,a,i,t[1],4,-1530992060),i=Yr(i,r,n,a,t[4],11,1272893353),a=Yr(a,i,r,n,t[7],16,-155497632),n=Yr(n,a,i,r,t[10],23,-1094730640),r=Yr(r,n,a,i,t[13],4,681279174),i=Yr(i,r,n,a,t[0],11,-358537222),a=Yr(a,i,r,n,t[3],16,-722521979),n=Yr(n,a,i,r,t[6],23,76029189),r=Yr(r,n,a,i,t[9],4,-640364487),i=Yr(i,r,n,a,t[12],11,-421815835),a=Yr(a,i,r,n,t[15],16,530742520),r=Kr(r,n=Yr(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Kr(i,r,n,a,t[7],10,1126891415),a=Kr(a,i,r,n,t[14],15,-1416354905),n=Kr(n,a,i,r,t[5],21,-57434055),r=Kr(r,n,a,i,t[12],6,1700485571),i=Kr(i,r,n,a,t[3],10,-1894986606),a=Kr(a,i,r,n,t[10],15,-1051523),n=Kr(n,a,i,r,t[1],21,-2054922799),r=Kr(r,n,a,i,t[8],6,1873313359),i=Kr(i,r,n,a,t[15],10,-30611744),a=Kr(a,i,r,n,t[6],15,-1560198380),n=Kr(n,a,i,r,t[13],21,1309151649),r=Kr(r,n,a,i,t[4],6,-145523070),i=Kr(i,r,n,a,t[11],10,-1120210379),a=Kr(a,i,r,n,t[2],15,718787259),n=Kr(n,a,i,r,t[9],21,-343485551),e[0]=so(r,e[0]),e[1]=so(n,e[1]),e[2]=so(a,e[2]),e[3]=so(i,e[3])}function qp(e,t,r,n,a,i){return t=so(so(t,e),so(n,i)),so(t<<a|t>>>32-a,r)}function Gr(e,t,r,n,a,i,o){return qp(t&r|~t&n,e,t,a,i,o)}function Vr(e,t,r,n,a,i,o){return qp(t&n|r&~n,e,t,a,i,o)}function Yr(e,t,r,n,a,i,o){return qp(t^r^n,e,t,a,i,o)}function Kr(e,t,r,n,a,i,o){return qp(r^(t|~n),e,t,a,i,o)}function sS(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Yg(n,U6(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Yg(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Yg(n,a),n}function U6(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Eu=rt.atob.bind(rt),Wv=rt.btoa.bind(rt);var f1="0123456789abcdef".split("");function W6(e){for(var t="",r=0;r<4;r++)t+=f1[e>>8*r+4&15]+f1[e>>8*r&15];return t}function H6(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Hv(e){return sS(e).map(H6).join("")}var G6=function(e){for(var t=0;t<e.length;t++)e[t]=W6(e[t]);return e.join("")}(sS("hello"))!="5d41402abc4b2a76b9719d911017c592";function so(e,t){if(G6){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Gv(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),s=[],c=0;c<256;c++)s[c]=c;var u=0;for(c=0;c<256;c++){var d=s[c];u=(u+d+o.charCodeAt(c))%256,s[c]=s[u],s[u]=d}r=e,n=s}else s=n;var f=t.length,p=0,h=0,v="";for(c=0;c<f;c++)h=(h+(d=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=d,o=s[(s[p]+s[h])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var h1={print:4,modify:8,copy:16,"annot-forms":32};function pl(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(s){if(h1.perm!==void 0)throw new Error("Invalid permission: "+s);a+=h1[s]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=Hv(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Gv(this.encryptionKey,this.padding)}function ml(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function p1(e){if(bt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(s){rt.console&&Ft.error("jsPDF PubSub Error",s.message,s)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ah(e){if(!(this instanceof Ah))return new Ah(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function lS(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ko(e,t,r,n,a){if(!(this instanceof Ko))return new Ko(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,lS.call(this,n,a)}function vl(e,t,r,n,a){if(!(this instanceof vl))return new vl(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,lS.call(this,n,a)}function tt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],s=1,c=16,u="S",d=null;bt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=p1;var v="1.3",g=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(S){v=S};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return j};var y=h.__private__.getPageFormat=function(S){return j[S]};a=a||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},N=x.COMPAT;function _(){this.saveGraphicsState(),re(new Qe(Fe,0,0,-Fe,0,Ui()*Fe).toString()+" cm"),this.setFontSize(this.getFontSize()/Fe),u="n",N=x.ADVANCED}function w(){this.restoreGraphicsState(),u="S",N=x.COMPAT}var A=h.__private__.combineFontStyleAndFontWeight=function(S,F){if(S=="bold"&&F=="normal"||S=="bold"&&F==400||S=="normal"&&F=="italic"||S=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(S=F==400||F==="normal"?S==="italic"?"italic":"normal":F!=700&&F!=="bold"||S!=="normal"?(F==700?"bold":F)+""+S:"bold"),S};h.advancedAPI=function(S){var F=N===x.COMPAT;return F&&_.call(this),typeof S!="function"||(S(this),F&&w.call(this)),this},h.compatAPI=function(S){var F=N===x.ADVANCED;return F&&w.call(this),typeof S!="function"||(S(this),F&&_.call(this)),this},h.isAdvancedAPI=function(){return N===x.ADVANCED};var O,E=function(S){if(N!==x.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=h.roundToPrecision=h.__private__.roundToPrecision=function(S,F){var te=t||F;if(isNaN(S)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(te).replace(/0+$/,"")};O=h.hpf=h.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return T(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return T(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return T(S,16)};var $=h.f2=h.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return T(S,2)},k=h.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return T(S,3)},C=h.scale=h.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return N===x.COMPAT?S*Fe:N===x.ADVANCED?S:void 0},D=function(S){return N===x.COMPAT?Ui()-S:N===x.ADVANCED?S:void 0},I=function(S){return C(D(S))};h.__private__.setPrecision=h.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var H,V="00000000000000000000000000000000",X=h.__private__.getFileId=function(){return V},J=h.__private__.setFileId=function(S){return V=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Wr=new pl(d.userPermissions,d.userPassword,d.ownerPassword,V)),V};h.setFileId=function(S){return J(S),this},h.getFileId=function(){return X()};var Y=h.__private__.convertDateToPDFDate=function(S){var F=S.getTimezoneOffset(),te=F<0?"+":"-",se=Math.floor(Math.abs(F/60)),me=Math.abs(F%60),je=[te,Q(se),"'",Q(me),"'"].join("");return["D:",S.getFullYear(),Q(S.getMonth()+1),Q(S.getDate()),Q(S.getHours()),Q(S.getMinutes()),Q(S.getSeconds()),je].join("")},Z=h.__private__.convertPDFDateToDate=function(S){var F=parseInt(S.substr(2,4),10),te=parseInt(S.substr(6,2),10)-1,se=parseInt(S.substr(8,2),10),me=parseInt(S.substr(10,2),10),je=parseInt(S.substr(12,2),10),Te=parseInt(S.substr(14,2),10);return new Date(F,te,se,me,je,Te,0)},ae=h.__private__.setCreationDate=function(S){var F;if(S===void 0&&(S=new Date),S instanceof Date)F=Y(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=S}return H=F},M=h.__private__.getCreationDate=function(S){var F=H;return S==="jsDate"&&(F=Z(H)),F};h.setCreationDate=function(S){return ae(S),this},h.getCreationDate=function(S){return M(S)};var U,Q=h.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},ne=h.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},oe=0,he=[],de=[],ie=0,xe=[],be=[],pe=!1,Ee=de,$e=function(){oe=0,ie=0,de=[],he=[],xe=[],hi=gr(),da=gr()};h.__private__.setCustomOutputDestination=function(S){pe=!0,Ee=S};var ye=function(S){pe||(Ee=S)};h.__private__.resetCustomOutputDestination=function(){pe=!1,Ee=de};var re=h.__private__.out=function(S){return S=S.toString(),ie+=S.length+1,Ee.push(S),Ee},Ve=h.__private__.write=function(S){return re(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Be=h.__private__.getArrayBuffer=function(S){for(var F=S.length,te=new ArrayBuffer(F),se=new Uint8Array(te);F--;)se[F]=S.charCodeAt(F);return te},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ke};var Ce=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(S){return Ce=N===x.ADVANCED?S/Fe:S,this};var De,Me=h.__private__.getFontSize=h.getFontSize=function(){return N===x.COMPAT?Ce:Ce*Fe},Ge=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(S){return Ge=S,this},h.__private__.getR2L=h.getR2L=function(){return Ge};var Ze,at=h.__private__.setZoomMode=function(S){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))De=S;else if(isNaN(S)){if(F.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');De=S}else De=parseInt(S,10)};h.__private__.getZoomMode=function(){return De};var ht,vt=h.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ze=S};h.__private__.getPageMode=function(){return Ze};var Ot=h.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');ht=S};h.__private__.getLayoutMode=function(){return ht},h.__private__.setDisplayMode=h.setDisplayMode=function(S,F,te){return at(S),Ot(F),vt(te),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(S){if(Object.keys(it).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[S]},h.__private__.getDocumentProperties=function(){return it},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(S){for(var F in it)it.hasOwnProperty(F)&&S[F]&&(it[F]=S[F]);return this},h.__private__.setDocumentProperty=function(S,F){if(Object.keys(it).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[S]=F};var gt,Fe,Ur,_t,la,It={},Zt={},Ra=[],Et={},So={},tr={},ca={},fi=null,rr=0,st=[],kt=new p1(h),_o=e.hotfixes||[],Rr={},Fa={},Ba=[],Qe=function S(F,te,se,me,je,Te){if(!(this instanceof S))return new S(F,te,se,me,je,Te);isNaN(F)&&(F=1),isNaN(te)&&(te=0),isNaN(se)&&(se=0),isNaN(me)&&(me=1),isNaN(je)&&(je=0),isNaN(Te)&&(Te=0),this._matrix=[F,te,se,me,je,Te]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(S)},Qe.prototype.multiply=function(S){var F=S.sx*this.sx+S.shy*this.shx,te=S.sx*this.shy+S.shy*this.sy,se=S.shx*this.sx+S.sy*this.shx,me=S.shx*this.shy+S.sy*this.sy,je=S.tx*this.sx+S.ty*this.shx+this.tx,Te=S.tx*this.shy+S.ty*this.sy+this.ty;return new Qe(F,te,se,me,je,Te)},Qe.prototype.decompose=function(){var S=this.sx,F=this.shy,te=this.shx,se=this.sy,me=this.tx,je=this.ty,Te=Math.sqrt(S*S+F*F),qe=(S/=Te)*te+(F/=Te)*se;te-=S*qe,se-=F*qe;var Ke=Math.sqrt(te*te+se*se);return qe/=Ke,S*(se/=Ke)<F*(te/=Ke)&&(S=-S,F=-F,qe=-qe,Te=-Te),{scale:new Qe(Te,0,0,Ke,0,0),translate:new Qe(1,0,0,1,me,je),rotate:new Qe(S,F,-F,S,0,0),skew:new Qe(1,0,qe,1,0,0)}},Qe.prototype.toString=function(S){return this.join(" ")},Qe.prototype.inversed=function(){var S=this.sx,F=this.shy,te=this.shx,se=this.sy,me=this.tx,je=this.ty,Te=1/(S*se-F*te),qe=se*Te,Ke=-F*Te,ut=-te*Te,lt=S*Te;return new Qe(qe,Ke,ut,lt,-qe*me-ut*je,-Ke*me-lt*je)},Qe.prototype.applyToPoint=function(S){var F=S.x*this.sx+S.y*this.shx+this.tx,te=S.x*this.shy+S.y*this.sy+this.ty;return new Ws(F,te)},Qe.prototype.applyToRectangle=function(S){var F=this.applyToPoint(S),te=this.applyToPoint(new Ws(S.x+S.w,S.y+S.h));return new Wc(F.x,F.y,te.x-F.x,te.y-F.y)},Qe.prototype.clone=function(){var S=this.sx,F=this.shy,te=this.shx,se=this.sy,me=this.tx,je=this.ty;return new Qe(S,F,te,se,me,je)},h.Matrix=Qe;var ua=h.matrixMult=function(S,F){return F.multiply(S)},qa=new Qe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=qa;var hn=function(S,F){if(!So[S]){var te=(F instanceof Ko?"Sh":"P")+(Object.keys(Et).length+1).toString(10);F.id=te,So[S]=te,Et[te]=F,kt.publish("addPattern",F)}};h.ShadingPattern=Ko,h.TilingPattern=vl,h.addShadingPattern=function(S,F){return E("addShadingPattern()"),hn(S,F),this},h.beginTilingPattern=function(S){E("beginTilingPattern()"),yf(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},h.endTilingPattern=function(S,F){E("endTilingPattern()"),F.stream=be[U].join(`
`),hn(S,F),kt.publish("endTilingPattern",F),Ba.pop().restore()};var Nr=h.__private__.newObject=function(){var S=gr();return An(S,!0),S},gr=h.__private__.newObjectDeferred=function(){return oe++,he[oe]=function(){return ie},oe},An=function(S,F){return F=typeof F=="boolean"&&F,he[S]=ie,F&&re(S+" 0 obj"),S},Ts=h.__private__.newAdditionalObject=function(){var S={objId:gr(),content:""};return xe.push(S),S},hi=gr(),da=gr(),fa=h.__private__.decodeColorString=function(S){var F=S.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var te=parseFloat(F[0]);F=[te,te,te,"r"]}for(var se="#",me=0;me<3;me++)se+=("0"+Math.floor(255*parseFloat(F[me])).toString(16)).slice(-2);return se},ha=h.__private__.encodeColorString=function(S){var F;typeof S=="string"&&(S={ch1:S});var te=S.ch1,se=S.ch2,me=S.ch3,je=S.ch4,Te=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var qe=new oS(te);if(qe.ok)te=qe.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var Ke=parseInt(te.substr(1),16);te=Ke>>16&255,se=Ke>>8&255,me=255&Ke}if(se===void 0||je===void 0&&te===se&&se===me)if(typeof te=="string")F=te+" "+Te[0];else switch(S.precision){case 2:F=$(te/255)+" "+Te[0];break;case 3:default:F=k(te/255)+" "+Te[0]}else if(je===void 0||bt(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return F=["1.","1.","1.",Te[1]].join(" ");if(typeof te=="string")F=[te,se,me,Te[1]].join(" ");else switch(S.precision){case 2:F=[$(te/255),$(se/255),$(me/255),Te[1]].join(" ");break;default:case 3:F=[k(te/255),k(se/255),k(me/255),Te[1]].join(" ")}}else if(typeof te=="string")F=[te,se,me,je,Te[2]].join(" ");else switch(S.precision){case 2:F=[$(te),$(se),$(me),$(je),Te[2]].join(" ");break;case 3:default:F=[k(te),k(se),k(me),k(je),Te[2]].join(" ")}return F},za=h.__private__.getFilters=function(){return o},Rn=h.__private__.putStream=function(S){var F=(S=S||{}).data||"",te=S.filters||za(),se=S.alreadyAppliedFilters||[],me=S.addLength1||!1,je=F.length,Te=S.objectId,qe=function(Hr){return Hr};if(d!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(qe=Wr.encryptor(Te,0));var Ke={};te===!0&&(te=["FlateEncode"]);var ut=S.additionalKeyValues||[],lt=(Ke=tt.API.processDataByFilters!==void 0?tt.API.processDataByFilters(F,te):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(Ke.data.length!==0&&(ut.push({key:"Length",value:Ke.data.length}),me===!0&&ut.push({key:"Length1",value:je})),lt.length!=0)if(lt.split("/").length-1==1)ut.push({key:"Filter",value:lt});else{ut.push({key:"Filter",value:"["+lt+"]"});for(var jt=0;jt<ut.length;jt+=1)if(ut[jt].key==="DecodeParms"){for(var er=[],nr=0;nr<Ke.reverseChain.split("/").length-1;nr+=1)er.push("null");er.push(ut[jt].value),ut[jt].value="["+er.join(" ")+"]"}}re("<<");for(var vr=0;vr<ut.length;vr++)re("/"+ut[vr].key+" "+ut[vr].value);re(">>"),Ke.data.length!==0&&(re("stream"),re(qe(Ke.data)),re("endstream"))},Ua=h.__private__.putPage=function(S){var F=S.number,te=S.data,se=S.objId,me=S.contentsObjId;An(se,!0),re("<</Type /Page"),re("/Parent "+S.rootDictionaryObjId+" 0 R"),re("/Resources "+S.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(O(S.mediaBox.bottomLeftX))+" "+parseFloat(O(S.mediaBox.bottomLeftY))+" "+O(S.mediaBox.topRightX)+" "+O(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&re("/CropBox ["+O(S.cropBox.bottomLeftX)+" "+O(S.cropBox.bottomLeftY)+" "+O(S.cropBox.topRightX)+" "+O(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&re("/BleedBox ["+O(S.bleedBox.bottomLeftX)+" "+O(S.bleedBox.bottomLeftY)+" "+O(S.bleedBox.topRightX)+" "+O(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&re("/TrimBox ["+O(S.trimBox.bottomLeftX)+" "+O(S.trimBox.bottomLeftY)+" "+O(S.trimBox.topRightX)+" "+O(S.trimBox.topRightY)+"]"),S.artBox!==null&&re("/ArtBox ["+O(S.artBox.bottomLeftX)+" "+O(S.artBox.bottomLeftY)+" "+O(S.artBox.topRightX)+" "+O(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&re("/UserUnit "+S.userUnit),kt.publish("putPage",{objId:se,pageContext:st[F],pageNumber:F,page:te}),re("/Contents "+me+" 0 R"),re(">>"),re("endobj");var je=te.join(`
`);return N===x.ADVANCED&&(je+=`
Q`),An(me,!0),Rn({data:je,filters:za(),objectId:me}),re("endobj"),se},Ao=h.__private__.putPages=function(){var S,F,te=[];for(S=1;S<=rr;S++)st[S].objId=gr(),st[S].contentsObjId=gr();for(S=1;S<=rr;S++)te.push(Ua({number:S,data:be[S],objId:st[S].objId,contentsObjId:st[S].contentsObjId,mediaBox:st[S].mediaBox,cropBox:st[S].cropBox,bleedBox:st[S].bleedBox,trimBox:st[S].trimBox,artBox:st[S].artBox,userUnit:st[S].userUnit,rootDictionaryObjId:hi,resourceDictionaryObjId:da}));An(hi,!0),re("<</Type /Pages");var se="/Kids [";for(F=0;F<rr;F++)se+=te[F]+" 0 R ";re(se+"]"),re("/Count "+rr),re(">>"),re("endobj"),kt.publish("postPutPages")},Cs=function(S){kt.publish("putFont",{font:S,out:re,newObject:Nr,putStream:Rn}),S.isAlreadyPutted!==!0&&(S.objectNumber=Nr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+ml(S.postScriptName)),re("/Subtype /Type1"),typeof S.encoding=="string"&&re("/Encoding /"+S.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Ls=function(){for(var S in It)It.hasOwnProperty(S)&&(f===!1||f===!0&&p.hasOwnProperty(S))&&Cs(It[S])},Ms=function(S){S.objectNumber=Nr();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[O(S.x),O(S.y),O(S.x+S.width),O(S.y+S.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var te=S.pages[1].join(`
`);Rn({data:te,additionalKeyValues:F,objectId:S.objectNumber}),re("endobj")},$s=function(){for(var S in Rr)Rr.hasOwnProperty(S)&&Ms(Rr[S])},Qd=function(S,F){var te,se=[],me=1/(F-1);for(te=0;te<1;te+=me)se.push(te);if(se.push(1),S[0].offset!=0){var je={offset:0,color:S[0].color};S.unshift(je)}if(S[S.length-1].offset!=1){var Te={offset:1,color:S[S.length-1].color};S.push(Te)}for(var qe="",Ke=0,ut=0;ut<se.length;ut++){for(te=se[ut];te>S[Ke+1].offset;)Ke++;var lt=S[Ke].offset,jt=(te-lt)/(S[Ke+1].offset-lt),er=S[Ke].color,nr=S[Ke+1].color;qe+=ne(Math.round((1-jt)*er[0]+jt*nr[0]).toString(16))+ne(Math.round((1-jt)*er[1]+jt*nr[1]).toString(16))+ne(Math.round((1-jt)*er[2]+jt*nr[2]).toString(16))}return qe.trim()},Qm=function(S,F){F||(F=21);var te=Nr(),se=Qd(S.colors,F),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+F+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rn({data:se,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),re("endobj"),S.objectNumber=Nr(),re("<< /ShadingType "+S.type),re("/ColorSpace /DeviceRGB");var je="/Coords ["+O(parseFloat(S.coords[0]))+" "+O(parseFloat(S.coords[1]))+" ";S.type===2?je+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3])):je+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3]))+" "+O(parseFloat(S.coords[4]))+" "+O(parseFloat(S.coords[5])),re(je+="]"),S.matrix&&re("/Matrix ["+S.matrix.toString()+"]"),re("/Function "+te+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},eg=function(S,F){var te=gr(),se=Nr();F.push({resourcesOid:te,objectOid:se}),S.objectNumber=se;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+S.boundingBox.map(O).join(" ")+"]"}),me.push({key:"XStep",value:O(S.xStep)}),me.push({key:"YStep",value:O(S.yStep)}),me.push({key:"Resources",value:te+" 0 R"}),S.matrix&&me.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Rn({data:S.stream,additionalKeyValues:me,objectId:S.objectNumber}),re("endobj")},Ds=function(S){var F;for(F in Et)Et.hasOwnProperty(F)&&(Et[F]instanceof Ko?Qm(Et[F]):Et[F]instanceof vl&&eg(Et[F],S))},ef=function(S){for(var F in S.objectNumber=Nr(),re("<<"),S)switch(F){case"opacity":re("/ca "+$(S[F]));break;case"stroke-opacity":re("/CA "+$(S[F]))}re(">>"),re("endobj")},tg=function(){var S;for(S in tr)tr.hasOwnProperty(S)&&ef(tr[S])},Mc=function(){for(var S in re("/XObject <<"),Rr)Rr.hasOwnProperty(S)&&Rr[S].objectNumber>=0&&re("/"+S+" "+Rr[S].objectNumber+" 0 R");kt.publish("putXobjectDict"),re(">>")},rg=function(){Wr.oid=Nr(),re("<<"),re("/Filter /Standard"),re("/V "+Wr.v),re("/R "+Wr.r),re("/U <"+Wr.toHexString(Wr.U)+">"),re("/O <"+Wr.toHexString(Wr.O)+">"),re("/P "+Wr.P),re(">>"),re("endobj")},tf=function(){for(var S in re("/Font <<"),It)It.hasOwnProperty(S)&&(f===!1||f===!0&&p.hasOwnProperty(S))&&re("/"+S+" "+It[S].objectNumber+" 0 R");re(">>")},ng=function(){if(Object.keys(Et).length>0){for(var S in re("/Shading <<"),Et)Et.hasOwnProperty(S)&&Et[S]instanceof Ko&&Et[S].objectNumber>=0&&re("/"+S+" "+Et[S].objectNumber+" 0 R");kt.publish("putShadingPatternDict"),re(">>")}},Is=function(S){if(Object.keys(Et).length>0){for(var F in re("/Pattern <<"),Et)Et.hasOwnProperty(F)&&Et[F]instanceof h.TilingPattern&&Et[F].objectNumber>=0&&Et[F].objectNumber<S&&re("/"+F+" "+Et[F].objectNumber+" 0 R");kt.publish("putTilingPatternDict"),re(">>")}},ag=function(){if(Object.keys(tr).length>0){var S;for(S in re("/ExtGState <<"),tr)tr.hasOwnProperty(S)&&tr[S].objectNumber>=0&&re("/"+S+" "+tr[S].objectNumber+" 0 R");kt.publish("putGStateDict"),re(">>")}},ur=function(S){An(S.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),tf(),ng(),Is(S.objectOid),ag(),Mc(),re(">>"),re("endobj")},rf=function(){var S=[];Ls(),tg(),$s(),Ds(S),kt.publish("putResources"),S.forEach(ur),ur({resourcesOid:da,objectOid:Number.MAX_SAFE_INTEGER}),kt.publish("postPutResources")},nf=function(){kt.publish("putAdditionalObjects");for(var S=0;S<xe.length;S++){var F=xe[S];An(F.objId,!0),re(F.content),re("endobj")}kt.publish("postPutAdditionalObjects")},af=function(S){Zt[S.fontName]=Zt[S.fontName]||{},Zt[S.fontName][S.fontStyle]=S.id},$c=function(S,F,te,se,me){var je={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:S,fontName:F,fontStyle:te,encoding:se,isStandardFont:me||!1,metadata:{}};return kt.publish("addFont",{font:je,instance:this}),It[je.id]=je,af(je),je.id},ig=function(S){for(var F=0,te=ke.length;F<te;F++){var se=$c.call(this,S[F][0],S[F][1],S[F][2],ke[F][3],!0);f===!1&&(p[se]=!0);var me=S[F][0].split("-");af({id:se,fontName:me[0],fontStyle:me[1]||""})}kt.publish("addFonts",{fonts:It,dictionary:Zt})},pa=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(se){var F=se.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var te="Error in function "+F.split(`
`)[0].split("<")[0]+": "+se.message;if(!rt.console)throw new Error(te);rt.console.error(te,se),rt.alert&&alert(te)}},S.foo.bar=S,S.foo},Rs=function(S,F){var te,se,me,je,Te,qe,Ke,ut,lt;if(me=(F=F||{}).sourceEncoding||"Unicode",Te=F.outputEncoding,(F.autoencode||Te)&&It[gt].metadata&&It[gt].metadata[me]&&It[gt].metadata[me].encoding&&(je=It[gt].metadata[me].encoding,!Te&&It[gt].encoding&&(Te=It[gt].encoding),!Te&&je.codePages&&(Te=je.codePages[0]),typeof Te=="string"&&(Te=je[Te]),Te)){for(Ke=!1,qe=[],te=0,se=S.length;te<se;te++)(ut=Te[S.charCodeAt(te)])?qe.push(String.fromCharCode(ut)):qe.push(S[te]),qe[te].charCodeAt(0)>>8&&(Ke=!0);S=qe.join("")}for(te=S.length;Ke===void 0&&te!==0;)S.charCodeAt(te-1)>>8&&(Ke=!0),te--;if(!Ke)return S;for(qe=F.noBOM?[]:[254,255],te=0,se=S.length;te<se;te++){if((lt=(ut=S.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(lt),qe.push(ut-(lt<<8))}return String.fromCharCode.apply(void 0,qe)},pn=h.__private__.pdfEscape=h.pdfEscape=function(S,F){return Rs(S,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dc=h.__private__.beginPage=function(S){be[++rr]=[],st[rr]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},sf(rr),ye(be[U])},of=function(S,F){var te,se,me;switch(r=F||r,typeof S=="string"&&(te=y(S.toLowerCase()),Array.isArray(te)&&(se=te[0],me=te[1])),Array.isArray(S)&&(se=S[0]*Fe,me=S[1]*Fe),isNaN(se)&&(se=a[0],me=a[1]),(se>14400||me>14400)&&(Ft.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),me=Math.min(14400,me)),a=[se,me],r.substr(0,1)){case"l":me>se&&(a=[me,se]);break;case"p":se>me&&(a=[me,se])}Dc(a),hf(Bc),re(ma),zc!==0&&re(zc+" J"),Uc!==0&&re(Uc+" j"),kt.publish("addPage",{pageNumber:rr})},og=function(S){S>0&&S<=rr&&(be.splice(S,1),st.splice(S,1),rr--,U>rr&&(U=rr),this.setPage(U))},sf=function(S){S>0&&S<=rr&&(U=S)},sg=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return be.length-1},lf=function(S,F,te){var se,me=void 0;return te=te||{},S=S!==void 0?S:It[gt].fontName,F=F!==void 0?F:It[gt].fontStyle,se=S.toLowerCase(),Zt[se]!==void 0&&Zt[se][F]!==void 0?me=Zt[se][F]:Zt[S]!==void 0&&Zt[S][F]!==void 0?me=Zt[S][F]:te.disableWarning===!1&&Ft.warn("Unable to look up font label for font '"+S+"', '"+F+"'. Refer to getFontList() for available fonts."),me||te.noFallback||(me=Zt.times[F])==null&&(me=Zt.times.normal),me},lg=h.__private__.putInfo=function(){var S=Nr(),F=function(se){return se};for(var te in d!==null&&(F=Wr.encryptor(S,0)),re("<<"),re("/Producer ("+pn(F("jsPDF "+tt.version))+")"),it)it.hasOwnProperty(te)&&it[te]&&re("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+pn(F(it[te]))+")");re("/CreationDate ("+pn(F(H))+")"),re(">>"),re("endobj")},Ic=h.__private__.putCatalog=function(S){var F=(S=S||{}).rootDictionaryObjId||hi;switch(Nr(),re("<<"),re("/Type /Catalog"),re("/Pages "+F+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+De;te.substr(te.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&re("/OpenAction [3 0 R /XYZ null null "+$(De)+"]")}switch(ht||(ht="continuous"),ht){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ze&&re("/PageMode /"+Ze),kt.publish("putCatalog"),re(">>"),re("endobj")},cg=h.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(oe+1)),re("/Root "+oe+" 0 R"),re("/Info "+(oe-1)+" 0 R"),d!==null&&re("/Encrypt "+Wr.oid+" 0 R"),re("/ID [ <"+V+"> <"+V+"> ]"),re(">>")},ug=h.__private__.putHeader=function(){re("%PDF-"+v),re("%ÂºÃŸÂ¬Ã ")},dg=h.__private__.putXRef=function(){var S="0000000000";re("xref"),re("0 "+(oe+1)),re("0000000000 65535 f ");for(var F=1;F<=oe;F++)typeof he[F]=="function"?re((S+he[F]()).slice(-10)+" 00000 n "):he[F]!==void 0?re((S+he[F]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},pi=h.__private__.buildDocument=function(){$e(),ye(de),kt.publish("buildDocument"),ug(),Ao(),nf(),rf(),d!==null&&rg(),lg(),Ic();var S=ie;return dg(),cg(),re("startxref"),re(""+S),re("%%EOF"),ye(be[U]),de.join(`
`)},Fs=h.__private__.getBlob=function(S){return new Blob([Be(S)],{type:"application/pdf"})},Bs=h.output=h.__private__.output=pa(function(S,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",S){case void 0:return pi();case"save":h.save(F.filename);break;case"arraybuffer":return Be(pi());case"blob":return Fs(pi());case"bloburi":case"bloburl":if(rt.URL!==void 0&&typeof rt.URL.createObjectURL=="function")return rt.URL&&rt.URL.createObjectURL(Fs(pi()))||void 0;Ft.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",se=pi();try{te=Wv(se)}catch{te=Wv(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+F.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(me=F.pdfObjectUrl,je="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",qe=rt.open();return qe!==null&&qe.document.write(Te),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',ut=rt.open();if(ut!==null){ut.document.write(Ke);var lt=this;ut.document.documentElement.querySelector("#pdfViewer").onload=function(){ut.document.title=F.filename,ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(lt.output("bloburl"))}}return ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',er=rt.open();if(er!==null&&(er.document.write(jt),er.document.title=F.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return rt.document.location.href=this.output("datauristring",F);default:return null}}),cf=function(S){return Array.isArray(_o)===!0&&_o.indexOf(S)>-1};switch(n){case"pt":Fe=1;break;case"mm":Fe=72/25.4;break;case"cm":Fe=72/2.54;break;case"in":Fe=72;break;case"px":Fe=cf("px_scaling")==1?.75:96/72;break;case"pc":case"em":Fe=12;break;case"ex":Fe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Fe=n}var Wr=null;ae(),J();var fg=function(S){return d!==null?Wr.encryptor(S,0):function(F){return F}},uf=h.__private__.getPageInfo=h.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[S].objId,pageNumber:S,pageContext:st[S]}},ot=h.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in st)if(st[F].objId===S)break;return uf(F)},hg=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:st[U].objId,pageNumber:U,pageContext:st[U]}};h.addPage=function(){return of.apply(this,arguments),this},h.setPage=function(){return sf.apply(this,arguments),ye.call(this,be[U]),this},h.insertPage=function(S){return this.addPage(),this.movePage(U,S),this},h.movePage=function(S,F){var te,se;if(S>F){te=be[S],se=st[S];for(var me=S;me>F;me--)be[me]=be[me-1],st[me]=st[me-1];be[F]=te,st[F]=se,this.setPage(F)}else if(S<F){te=be[S],se=st[S];for(var je=S;je<F;je++)be[je]=be[je+1],st[je]=st[je+1];be[F]=te,st[F]=se,this.setPage(F)}return this},h.deletePage=function(){return og.apply(this,arguments),this},h.__private__.text=h.text=function(S,F,te,se,me){var je,Te,qe,Ke,ut,lt,jt,er,nr,vr=(se=se||{}).scope||this;if(typeof S=="number"&&typeof F=="number"&&(typeof te=="string"||Array.isArray(te))){var Hr=te;te=F,F=S,S=Hr}if(arguments[3]instanceof Qe?(E("The transform parameter of text() with a Matrix value"),nr=me):(qe=arguments[4],Ke=arguments[5],bt(jt=arguments[3])==="object"&&jt!==null||(typeof qe=="string"&&(Ke=qe,qe=null),typeof jt=="string"&&(Ke=jt,jt=null),typeof jt=="number"&&(qe=jt,jt=null),se={flags:jt,angle:qe,align:Ke})),isNaN(F)||isNaN(te)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return vr;var Tr="",ga=!1,On=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:Po,Ga=vr.internal.scaleFactor;function bf(zt){return zt=zt.split("	").join(Array(se.TabLen||9).join(" ")),pn(zt,jt)}function Yc(zt){for(var Ut,fr=zt.concat(),Sr=[],bi=fr.length;bi--;)typeof(Ut=fr.shift())=="string"?Sr.push(Ut):Array.isArray(zt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?Sr.push(Ut[0]):Sr.push([Ut[0],Ut[1],Ut[2]]);return Sr}function Kc(zt,Ut){var fr;if(typeof zt=="string")fr=Ut(zt)[0];else if(Array.isArray(zt)){for(var Sr,bi,nu=zt.concat(),tl=[],Sf=nu.length;Sf--;)typeof(Sr=nu.shift())=="string"?tl.push(Ut(Sr)[0]):Array.isArray(Sr)&&typeof Sr[0]=="string"&&(bi=Ut(Sr[0],Sr[1],Sr[2]),tl.push([bi[0],bi[1],bi[2]]));fr=tl}return fr}var Gs=!1,Xc=!0;if(typeof S=="string")Gs=!0;else if(Array.isArray(S)){var Jc=S.concat();Te=[];for(var Vs,Fr=Jc.length;Fr--;)(typeof(Vs=Jc.shift())!="string"||Array.isArray(Vs)&&typeof Vs[0]!="string")&&(Xc=!1);Gs=Xc}if(Gs===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Ys=Ce/vr.internal.scaleFactor,Ks=Ys*(On-1);switch(se.baseline){case"bottom":te-=Ks;break;case"top":te+=Ys-Ks;break;case"hanging":te+=Ys-2*Ks;break;case"middle":te+=Ys/2-Ks}if((lt=se.maxWidth||0)>0&&(typeof S=="string"?S=vr.splitTextToSize(S,lt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(zt,Ut){return zt.concat(vr.splitTextToSize(Ut,lt))},[]))),je={text:S,x:F,y:te,options:se,mutex:{pdfEscape:pn,activeFontKey:gt,fonts:It,activeFontSize:Ce}},kt.publish("preProcessText",je),S=je.text,qe=(se=je.options).angle,!(nr instanceof Qe)&&qe&&typeof qe=="number"){qe*=Math.PI/180,se.rotationDirection===0&&(qe=-qe),N===x.ADVANCED&&(qe=-qe);var Xs=Math.cos(qe),Zc=Math.sin(qe);nr=new Qe(Xs,Zc,-Zc,Xs,0,0)}else qe&&qe instanceof Qe&&(nr=qe);N!==x.ADVANCED||nr||(nr=qa),(ut=se.charSpace||Us)!==void 0&&(Tr+=O(C(ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=se.horizontalScale)!==void 0&&(Tr+=O(100*er)+` Tz
`),se.lang;var mn=-1,Ng=se.renderingMode!==void 0?se.renderingMode:se.stroke,Qc=vr.internal.getCurrentPageInfo().pageContext;switch(Ng){case 0:case!1:case"fill":mn=0;break;case 1:case!0:case"stroke":mn=1;break;case 2:case"fillThenStroke":mn=2;break;case 3:case"invisible":mn=3;break;case 4:case"fillAndAddForClipping":mn=4;break;case 5:case"strokeAndAddPathForClipping":mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mn=6;break;case 7:case"addToPathForClipping":mn=7}var xf=Qc.usedRenderingMode!==void 0?Qc.usedRenderingMode:-1;mn!==-1?Tr+=mn+` Tr
`:xf!==-1&&(Tr+=`0 Tr
`),mn!==-1&&(Qc.usedRenderingMode=mn),Ke=se.align||"left";var Fn,Js=Ce*On,wf=vr.internal.pageSize.getWidth(),jf=It[gt];ut=se.charSpace||Us,lt=se.maxWidth||0,jt=Object.assign({autoencode:!0,noBOM:!0},se.flags);var Wi=[],To=function(zt){return vr.getStringUnitWidth(zt,{font:jf,charSpace:ut,fontSize:Ce,doKerning:!1})*Ce/Ga};if(Object.prototype.toString.call(S)==="[object Array]"){var gn;Te=Yc(S),Ke!=="left"&&(Fn=Te.map(To));var nn,Hi=0;if(Ke==="right"){F-=Fn[0],S=[],Fr=Te.length;for(var gi=0;gi<Fr;gi++)gi===0?(nn=Ha(F),gn=mi(te)):(nn=C(Hi-Fn[gi]),gn=-Js),S.push([Te[gi],nn,gn]),Hi=Fn[gi]}else if(Ke==="center"){F-=Fn[0]/2,S=[],Fr=Te.length;for(var vi=0;vi<Fr;vi++)vi===0?(nn=Ha(F),gn=mi(te)):(nn=C((Hi-Fn[vi])/2),gn=-Js),S.push([Te[vi],nn,gn]),Hi=Fn[vi]}else if(Ke==="left"){S=[],Fr=Te.length;for(var Zs=0;Zs<Fr;Zs++)S.push(Te[Zs])}else if(Ke==="justify"&&jf.encoding==="Identity-H"){S=[],Fr=Te.length,lt=lt!==0?lt:wf;for(var yi=0,dr=0;dr<Fr;dr++)if(gn=dr===0?mi(te):-Js,nn=dr===0?Ha(F):yi,dr<Fr-1){var eu=C((lt-Fn[dr])/(Te[dr].split(" ").length-1)),an=Te[dr].split(" ");S.push([an[0]+" ",nn,gn]),yi=0;for(var Bn=1;Bn<an.length;Bn++){var Qs=(To(an[Bn-1]+" "+an[Bn])-To(an[Bn]))*Ga+eu;Bn==an.length-1?S.push([an[Bn],Qs,0]):S.push([an[Bn]+" ",Qs,0]),yi-=Qs}}else S.push([Te[dr],nn,gn]);S.push(["",yi,0])}else{if(Ke!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Fr=Te.length,lt=lt!==0?lt:wf,dr=0;dr<Fr;dr++)gn=dr===0?mi(te):-Js,nn=dr===0?Ha(F):0,dr<Fr-1?Wi.push(O(C((lt-Fn[dr])/(Te[dr].split(" ").length-1)))):Wi.push(0),S.push([Te[dr],nn,gn])}}var Nf=typeof se.R2L=="boolean"?se.R2L:Ge;Nf===!0&&(S=Kc(S,function(zt,Ut,fr){return[zt.split("").reverse().join(""),Ut,fr]})),je={text:S,x:F,y:te,options:se,mutex:{pdfEscape:pn,activeFontKey:gt,fonts:It,activeFontSize:Ce}},kt.publish("postProcessText",je),S=je.text,ga=je.mutex.isHex||!1;var tu=It[gt].encoding;tu!=="WinAnsiEncoding"&&tu!=="StandardEncoding"||(S=Kc(S,function(zt,Ut,fr){return[bf(zt),Ut,fr]})),Te=Yc(S),S=[];for(var Co,Lo,Gi,Mo=0,el=1,$o=Array.isArray(Te[0])?el:Mo,Vi="",ru=function(zt,Ut,fr){var Sr="";return fr instanceof Qe?(fr=typeof se.angle=="number"?ua(fr,new Qe(1,0,0,1,zt,Ut)):ua(new Qe(1,0,0,1,zt,Ut),fr),N===x.ADVANCED&&(fr=ua(new Qe(1,0,0,-1,0,0),fr)),Sr=fr.join(" ")+` Tm
`):Sr=O(zt)+" "+O(Ut)+` Td
`,Sr},qn=0;qn<Te.length;qn++){switch(Vi="",$o){case el:Gi=(ga?"<":"(")+Te[qn][0]+(ga?">":")"),Co=parseFloat(Te[qn][1]),Lo=parseFloat(Te[qn][2]);break;case Mo:Gi=(ga?"<":"(")+Te[qn]+(ga?">":")"),Co=Ha(F),Lo=mi(te)}Wi!==void 0&&Wi[qn]!==void 0&&(Vi=Wi[qn]+` Tw
`),qn===0?S.push(Vi+ru(Co,Lo,nr)+Gi):$o===Mo?S.push(Vi+Gi):$o===el&&S.push(Vi+ru(Co,Lo,nr)+Gi)}S=$o===Mo?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var zn=`BT
/`;return zn+=gt+" "+Ce+` Tf
`,zn+=O(Ce*On)+` TL
`,zn+=Eo+`
`,zn+=Tr,zn+=S,re(zn+="ET"),p[gt]=!0,vr};var pg=h.__private__.clip=h.clip=function(S){return re(S==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return pg("evenodd")},h.__private__.discardPath=h.discardPath=function(){return re("n"),this};var Wa=h.__private__.isValidStyle=function(S){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(F=!0),F};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(S){return Wa(S)&&(u=S),this};var df=h.__private__.getStyle=h.getStyle=function(S){var F=u;switch(S){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=S}return F},ff=h.close=function(){return re("h"),this};h.stroke=function(){return re("S"),this},h.fill=function(S){return qs("f",S),this},h.fillEvenOdd=function(S){return qs("f*",S),this},h.fillStroke=function(S){return qs("B",S),this},h.fillStrokeEvenOdd=function(S){return qs("B*",S),this};var qs=function(S,F){bt(F)==="object"?gg(F,S):re(S)},Rc=function(S){S===null||N===x.ADVANCED&&S===void 0||(S=df(S),re(S))};function mg(S,F,te,se,me){var je=new vl(F||this.boundingBox,te||this.xStep,se||this.yStep,this.gState,me||this.matrix);je.stream=this.stream;var Te=S+"$$"+this.cloneIndex+++"$$";return hn(Te,je),je}var gg=function(S,F){var te=So[S.key],se=Et[te];if(se instanceof Ko)re("q"),re(vg(F)),se.gState&&h.setGState(se.gState),re(S.matrix.toString()+" cm"),re("/"+te+" sh"),re("Q");else if(se instanceof vl){var me=new Qe(1,0,0,-1,0,Ui());S.matrix&&(me=me.multiply(S.matrix||qa),te=mg.call(se,S.key,S.boundingBox,S.xStep,S.yStep,me).id),re("q"),re("/Pattern cs"),re("/"+te+" scn"),se.gState&&h.setGState(se.gState),re(F),re("Q")}},vg=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Fc=h.moveTo=function(S,F){return re(O(C(S))+" "+O(I(F))+" m"),this},Oo=h.lineTo=function(S,F){return re(O(C(S))+" "+O(I(F))+" l"),this},qi=h.curveTo=function(S,F,te,se,me,je){return re([O(C(S)),O(I(F)),O(C(te)),O(I(se)),O(C(me)),O(I(je)),"c"].join(" ")),this};h.__private__.line=h.line=function(S,F,te,se,me){if(isNaN(S)||isNaN(F)||isNaN(te)||isNaN(se)||!Wa(me))throw new Error("Invalid arguments passed to jsPDF.line");return N===x.COMPAT?this.lines([[te-S,se-F]],S,F,[1,1],me||"S"):this.lines([[te-S,se-F]],S,F,[1,1]).stroke()},h.__private__.lines=h.lines=function(S,F,te,se,me,je){var Te,qe,Ke,ut,lt,jt,er,nr,vr,Hr,Tr,ga;if(typeof S=="number"&&(ga=te,te=F,F=S,S=ga),se=se||[1,1],je=je||!1,isNaN(F)||isNaN(te)||!Array.isArray(S)||!Array.isArray(se)||!Wa(me)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fc(F,te),Te=se[0],qe=se[1],ut=S.length,Hr=F,Tr=te,Ke=0;Ke<ut;Ke++)(lt=S[Ke]).length===2?(Hr=lt[0]*Te+Hr,Tr=lt[1]*qe+Tr,Oo(Hr,Tr)):(jt=lt[0]*Te+Hr,er=lt[1]*qe+Tr,nr=lt[2]*Te+Hr,vr=lt[3]*qe+Tr,Hr=lt[4]*Te+Hr,Tr=lt[5]*qe+Tr,qi(jt,er,nr,vr,Hr,Tr));return je&&ff(),Rc(me),this},h.path=function(S){for(var F=0;F<S.length;F++){var te=S[F],se=te.c;switch(te.op){case"m":Fc(se[0],se[1]);break;case"l":Oo(se[0],se[1]);break;case"c":qi.apply(this,se);break;case"h":ff()}}return this},h.__private__.rect=h.rect=function(S,F,te,se,me){if(isNaN(S)||isNaN(F)||isNaN(te)||isNaN(se)||!Wa(me))throw new Error("Invalid arguments passed to jsPDF.rect");return N===x.COMPAT&&(se=-se),re([O(C(S)),O(I(F)),O(C(te)),O(C(se)),"re"].join(" ")),Rc(me),this},h.__private__.triangle=h.triangle=function(S,F,te,se,me,je,Te){if(isNaN(S)||isNaN(F)||isNaN(te)||isNaN(se)||isNaN(me)||isNaN(je)||!Wa(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-S,se-F],[me-te,je-se],[S-me,F-je]],S,F,[1,1],Te,!0),this},h.__private__.roundedRect=h.roundedRect=function(S,F,te,se,me,je,Te){if(isNaN(S)||isNaN(F)||isNaN(te)||isNaN(se)||isNaN(me)||isNaN(je)||!Wa(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*te),je=Math.min(je,.5*se),this.lines([[te-2*me,0],[me*qe,0,me,je-je*qe,me,je],[0,se-2*je],[0,je*qe,-me*qe,je,-me,je],[2*me-te,0],[-me*qe,0,-me,-je*qe,-me,-je],[0,2*je-se],[0,-je*qe,me*qe,-je,me,-je]],S+me,F,[1,1],Te,!0),this},h.__private__.ellipse=h.ellipse=function(S,F,te,se,me){if(isNaN(S)||isNaN(F)||isNaN(te)||isNaN(se)||!Wa(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*te,Te=4/3*(Math.SQRT2-1)*se;return Fc(S+te,F),qi(S+te,F-Te,S+je,F-se,S,F-se),qi(S-je,F-se,S-te,F-Te,S-te,F),qi(S-te,F+Te,S-je,F+se,S,F+se),qi(S+je,F+se,S+te,F+Te,S+te,F),Rc(me),this},h.__private__.circle=h.circle=function(S,F,te,se){if(isNaN(S)||isNaN(F)||isNaN(te)||!Wa(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,F,te,te,se)},h.setFont=function(S,F,te){return te&&(F=A(F,te)),gt=lf(S,F,{disableWarning:!1}),this};var yg=h.__private__.getFont=h.getFont=function(){return It[lf.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var S,F,te={};for(S in Zt)if(Zt.hasOwnProperty(S))for(F in te[S]=[],Zt[S])Zt[S].hasOwnProperty(F)&&te[S].push(F);return te},h.addFont=function(S,F,te,se,me){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(te=A(te,se)),me=me||"Identity-H",$c.call(this,S,F,te,me)};var Po,Bc=e.lineWidth||.200025,zs=h.__private__.getLineWidth=h.getLineWidth=function(){return Bc},hf=h.__private__.setLineWidth=h.setLineWidth=function(S){return Bc=S,re(O(C(S))+" w"),this};h.__private__.setLineDash=tt.API.setLineDash=tt.API.setLineDashPattern=function(S,F){if(S=S||[],F=F||0,isNaN(F)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(te){return O(C(te))}).join(" "),F=O(C(F)),re("["+S+"] "+F+" d"),this};var pf=h.__private__.getLineHeight=h.getLineHeight=function(){return Ce*Po};h.__private__.getLineHeight=h.getLineHeight=function(){return Ce*Po};var mf=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Po=S),this},gf=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Po};mf(e.lineHeight);var Ha=h.__private__.getHorizontalCoordinate=function(S){return C(S)},mi=h.__private__.getVerticalCoordinate=function(S){return N===x.ADVANCED?S:st[U].mediaBox.topRightY-st[U].mediaBox.bottomLeftY-C(S)},bg=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(S){return O(Ha(S))},zi=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(S){return O(mi(S))},ma=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return fa(ma)},h.__private__.setStrokeColor=h.setDrawColor=function(S,F,te,se){return ma=ha({ch1:S,ch2:F,ch3:te,ch4:se,pdfColorType:"draw",precision:2}),re(ma),this};var qc=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return fa(qc)},h.__private__.setFillColor=h.setFillColor=function(S,F,te,se){return qc=ha({ch1:S,ch2:F,ch3:te,ch4:se,pdfColorType:"fill",precision:2}),re(qc),this};var Eo=e.textColor||"0 g",xg=h.__private__.getTextColor=h.getTextColor=function(){return fa(Eo)};h.__private__.setTextColor=h.setTextColor=function(S,F,te,se){return Eo=ha({ch1:S,ch2:F,ch3:te,ch4:se,pdfColorType:"text",precision:3}),this};var Us=e.charSpace,wg=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Us||0)};h.__private__.setCharSpace=h.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Us=S,this};var zc=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(S){var F=h.CapJoinStyles[S];if(F===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zc=F,re(F+" J"),this};var Uc=0;h.__private__.setLineJoin=h.setLineJoin=function(S){var F=h.CapJoinStyles[S];if(F===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=F,re(F+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(O(C(S))+" M"),this},h.GState=Ah,h.setGState=function(S){(S=typeof S=="string"?tr[ca[S]]:vf(null,S)).equals(fi)||(re("/"+S.id+" gs"),fi=S)};var vf=function(S,F){if(!S||!ca[S]){var te=!1;for(var se in tr)if(tr.hasOwnProperty(se)&&tr[se].equals(F)){te=!0;break}if(te)F=tr[se];else{var me="GS"+(Object.keys(tr).length+1).toString(10);tr[me]=F,F.id=me}return S&&(ca[S]=F.id),kt.publish("addGState",F),F}};h.addGState=function(S,F){return vf(S,F),this},h.saveGraphicsState=function(){return re("q"),Ra.push({key:gt,size:Ce,color:Eo}),this},h.restoreGraphicsState=function(){re("Q");var S=Ra.pop();return gt=S.key,Ce=S.size,Eo=S.color,fi=null,this},h.setCurrentTransformationMatrix=function(S){return re(S.toString()+" cm"),this},h.comment=function(S){return re("#"+S),this};var Ws=function(S,F){var te=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(je){isNaN(je)||(te=parseFloat(je))}});var se=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(je){isNaN(je)||(se=parseFloat(je))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(je){me=je.toString()}}),this},Wc=function(S,F,te,se){Ws.call(this,S,F),this.type="rect";var me=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Te){isNaN(Te)||(me=parseFloat(Te))}});var je=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Te){isNaN(Te)||(je=parseFloat(Te))}}),this},Hc=function(){this.page=rr,this.currentPage=U,this.pages=be.slice(0),this.pagesContext=st.slice(0),this.x=Ur,this.y=_t,this.matrix=la,this.width=ko(U),this.height=Ui(U),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Hc.prototype.restore=function(){rr=this.page,U=this.currentPage,st=this.pagesContext,be=this.pages,Ur=this.x,_t=this.y,la=this.matrix,Gc(U,this.width),Vc(U,this.height),Ee=this.outputDestination};var yf=function(S,F,te,se,me){Ba.push(new Hc),rr=U=0,be=[],Ur=S,_t=F,la=me,Dc([te,se])},jg=function(S){if(Fa[S])Ba.pop().restore();else{var F=new Hc,te="Xo"+(Object.keys(Rr).length+1).toString(10);F.id=te,Fa[S]=te,Rr[te]=F,kt.publish("addFormObject",F),Ba.pop().restore()}};for(var Hs in h.beginFormObject=function(S,F,te,se,me){return yf(S,F,te,se,me),this},h.endFormObject=function(S){return jg(S),this},h.doFormObject=function(S,F){var te=Rr[Fa[S]];return re("q"),re(F.toString()+" cm"),re("/"+te.id+" Do"),re("Q"),this},h.getFormObject=function(S){var F=Rr[Fa[S]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},h.save=function(S,F){return S=S||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Uo(Fs(pi()),S),typeof Uo.unload=="function"&&rt.setTimeout&&setTimeout(Uo.unload,911),this):new Promise(function(te,se){try{var me=Uo(Fs(pi()),S);typeof Uo.unload=="function"&&rt.setTimeout&&setTimeout(Uo.unload,911),te(me)}catch(je){se(je.message)}})},tt.API)tt.API.hasOwnProperty(Hs)&&(Hs==="events"&&tt.API.events.length?function(S,F){var te,se,me;for(me=F.length-1;me!==-1;me--)te=F[me][0],se=F[me][1],S.subscribe.apply(S,[te].concat(typeof se=="function"?[se]:se))}(kt,tt.API.events):h[Hs]=tt.API[Hs]);var ko=h.getPageWidth=function(S){return(st[S=S||U].mediaBox.topRightX-st[S].mediaBox.bottomLeftX)/Fe},Gc=h.setPageWidth=function(S,F){st[S].mediaBox.topRightX=F*Fe+st[S].mediaBox.bottomLeftX},Ui=h.getPageHeight=function(S){return(st[S=S||U].mediaBox.topRightY-st[S].mediaBox.bottomLeftY)/Fe},Vc=h.setPageHeight=function(S,F){st[S].mediaBox.topRightY=F*Fe+st[S].mediaBox.bottomLeftY};return h.internal={pdfEscape:pn,getStyle:df,getFont:yg,getFontSize:Me,getCharSpace:wg,getTextColor:xg,getLineHeight:pf,getLineHeightFactor:gf,getLineWidth:zs,write:Ve,getHorizontalCoordinate:Ha,getVerticalCoordinate:mi,getCoordinateString:bg,getVerticalCoordinateString:zi,collections:{},newObject:Nr,newAdditionalObject:Ts,newObjectDeferred:gr,newObjectDeferredBegin:An,getFilters:za,putStream:Rn,events:kt,scaleFactor:Fe,pageSize:{getWidth:function(){return ko(U)},setWidth:function(S){Gc(U,S)},getHeight:function(){return Ui(U)},setHeight:function(S){Vc(U,S)}},encryptionOptions:d,encryption:Wr,getEncryptor:fg,output:Bs,getNumberOfPages:sg,pages:be,out:re,f2:$,f3:k,getPageInfo:uf,getPageInfoByObjId:ot,getCurrentPageInfo:hg,getPDFVersion:g,Point:Ws,Rectangle:Wc,Matrix:Qe,hasHotfix:cf},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ko(U)},set:function(S){Gc(U,S)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Ui(U)},set:function(S){Vc(U,S)},enumerable:!0,configurable:!0}),ig.call(h,ke),gt="F1",of(a,r),kt.publish("initialized"),h}pl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},pl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pl.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},pl.prototype.processOwnerPassword=function(e,t){return Gv(Hv(t).substr(0,5),e)},pl.prototype.encryptor=function(e,t){var r=Hv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Gv(r,n)}},Ah.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||bt(e)!==bt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},tt.API={events:[]},tt.version="3.0.1";var ir=tt.API,Uy=1,_s=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ct=function(e){return e.toFixed(2)},ro=function(e){return e.toFixed(5)};ir.__acroform__={};var _n=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},m1=function(e){return e*Uy},Ka=function(e){var t=new uS,r=He.internal.getHeight(e)||0,n=He.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ct(n)),Number(ct(r))],t},V6=ir.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Y6=ir.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},K6=ir.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},hr=ir.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return K6(e,t-1)},pr=ir.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return V6(e,t-1)},mr=ir.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y6(e,t-1)},X6=ir.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],s=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+s)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(ct(c.lowerLeft_X)),Number(ct(c.lowerLeft_Y)),Number(ct(c.upperRight_X)),Number(ct(c.upperRight_Y))]},J6=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Vv(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+ct(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ka(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Vv=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var i=r,o=He.internal.getHeight(e)||0;o=o<0?-o:o;var s=He.internal.getWidth(e)||0;s=s<0?-s:s;var c=function(k,C,D){if(k+1<a.length){var I=C+" "+a[k+1][0];return Gf(I,e,D).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=Gf("3",e,i).height,p=e.multiline?o-i:(o-f)/2,h=p+=2,v=0,g=0,j=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Gf(t,e,i=12).width+", FieldWidth:"+s+`
`;break}for(var y="",x=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var _=!1;if(a[N].length!==1&&j!==a[N].length-1){if((f+2)*(x+2)+2>o)continue e;y+=a[N][j],_=!0,g=N,N--}else{y=(y+=a[N][j]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var w=parseInt(N),A=c(w,y,i),O=N>=a.length-1;if(A&&!O){y+=" ",j=0;continue}if(A||O){if(O)g=w;else if(e.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>o)continue e;g=w}}for(var E="",T=v;T<=g;T++){var $=a[T];if(e.multiline){if(T===g){E+=$[j]+" ",j=(j+1)%$.length;continue}if(T===v){E+=$[$.length-1]+" ";continue}}E+=$[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=Gf(E,e,i).width,e.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;case"left":default:u=2}t+=ct(u)+" "+ct(h)+` Td
`,t+="("+_s(E)+`) Tj
`,t+=-ct(u)+` 0 Td
`,h=-(i+2),d=0,v=_?g:g+1,x++,y=""}break}return n.text=t,n.fontSize=i,n},Gf=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Z6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Q6=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},eE=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),bt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},tE=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ca.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Z6)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Uy=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new dS,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Q6(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],c=[],u=s.Rect;if(s.Rect&&(s.Rect=X6(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=He.createDefaultAppearanceStream(s),bt(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(c=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=J6(s);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var f="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var h=s.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var v=h[o];typeof v=="function"&&(v=v.call(a,s)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(a,s)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:s.objId}),a.internal.out("endobj")}i&&eE(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},cS=ir.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),bt(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+_s(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Kg=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+_s(n(e))+")"},Za=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Za.prototype.toString=function(){return this.objId+" 0 R"},Za.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Za.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:cS(a,this.objId,this.scope)}):a instanceof Za?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var uS=function(){Za.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};_n(uS,Za);var dS=function(){Za.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_s(r(e))+")"}},set:function(r){e=r}})};_n(dS,Za);var Ca=function e(){Za.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hr(t,3)},set:function(y){y?this.F=pr(t,3):this.F=mr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Oh)return;i="FieldObject"+e.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+_s(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Uy:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Oh||this instanceof ns))return Kg(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof $r?p:Kg(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof $r?y:y.substr(0,1)==="("?sl(y.substr(1,y.length-2)):sl(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r?sl(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof $r?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof $r?h:Kg(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof $r?y:y.substr(0,1)==="("?sl(y.substr(1,y.length-2)):sl(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r?sl(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof $r?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,1)},set:function(y){y?this.Ff=pr(this.Ff,1):this.Ff=mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,2)},set:function(y){y?this.Ff=pr(this.Ff,2):this.Ff=mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,3)},set:function(y){y?this.Ff=pr(this.Ff,3):this.Ff=mr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');j=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(j){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};_n(Ca,Za);var Sl=function(){Ca.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cS(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,s){s||(s=1);for(var c,u=[];c=o.exec(i);)u.push(c[s]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,18)},set:function(r){r?this.Ff=pr(this.Ff,18):this.Ff=mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=pr(this.Ff,19):this.Ff=mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,20)},set:function(r){r?(this.Ff=pr(this.Ff,20),t.sort()):this.Ff=mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,22)},set:function(r){r?this.Ff=pr(this.Ff,22):this.Ff=mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(r){r?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,27)},set:function(r){r?this.Ff=pr(this.Ff,27):this.Ff=mr(this.Ff,27)}}),this.hasAppearanceStream=!1};_n(Sl,Ca);var _l=function(){Sl.call(this),this.fontName="helvetica",this.combo=!1};_n(_l,Sl);var Al=function(){_l.call(this),this.combo=!0};_n(Al,_l);var ph=function(){Al.call(this),this.edit=!0};_n(ph,Al);var $r=function(){Ca.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,15)},set:function(r){r?this.Ff=pr(this.Ff,15):this.Ff=mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,16)},set:function(r){r?this.Ff=pr(this.Ff,16):this.Ff=mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,17)},set:function(r){r?this.Ff=pr(this.Ff,17):this.Ff=mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(r){r?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+_s(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){bt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};_n($r,Ca);var mh=function(){$r.call(this),this.pushButton=!0};_n(mh,$r);var Ol=function(){$r.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};_n(Ol,$r);var Oh=function(){var e,t;Ca.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+_s(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){bt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_n(Oh,Ca),Ol.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ol.prototype.createOption=function(e){var t=new Oh;return t.Parent=this,t.optionName=e,this.Kids.push(t),rE.call(this.scope,t),t};var gh=function(){$r.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};_n(gh,$r);var ns=function(){Ca.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,13)},set:function(t){t?this.Ff=pr(this.Ff,13):this.Ff=mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,21)},set:function(t){t?this.Ff=pr(this.Ff,21):this.Ff=mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(t){t?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,24)},set:function(t){t?this.Ff=pr(this.Ff,24):this.Ff=mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,25)},set:function(t){t?this.Ff=pr(this.Ff,25):this.Ff=mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(t){t?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_n(ns,Ca);var vh=function(){ns.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,14)},set:function(e){e?this.Ff=pr(this.Ff,14):this.Ff=mr(this.Ff,14)}}),this.password=!0};_n(vh,ns);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Vv(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ct(He.internal.getWidth(e))+" "+ct(He.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ct(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ka(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=He.internal.getHeight(e),o=He.internal.getWidth(e),s=Vv(e,e.caption);return a.push("1 g"),a.push("0 0 "+ct(o)+" "+ct(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ct(o-1)+" "+ct(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ct(s.fontSize)+" Tf "+n),a.push(s.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ct(He.internal.getWidth(e))+" "+ct(He.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=He.RadioButton.Circle.YesNormal,t.D[e]=He.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ka(e);t.scope=e.scope;var r=[],n=He.internal.getWidth(e)<=He.internal.getHeight(e)?He.internal.getWidth(e)/4:He.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=He.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ro(He.internal.getWidth(e)/2)+" "+ro(He.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=[],n=He.internal.getWidth(e)<=He.internal.getHeight(e)?He.internal.getWidth(e)/4:He.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*He.internal.Bezier_C).toFixed(5)),o=Number((n*He.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ro(He.internal.getWidth(e)/2)+" "+ro(He.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ro(He.internal.getWidth(e)/2)+" "+ro(He.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=[],n=He.internal.getWidth(e)<=He.internal.getHeight(e)?He.internal.getWidth(e)/4:He.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*He.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ro(He.internal.getWidth(e)/2)+" "+ro(He.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=He.RadioButton.Cross.YesNormal,t.D[e]=He.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ka(e);t.scope=e.scope;var r=[],n=He.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ct(He.internal.getWidth(e)-2)+" "+ct(He.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ct(n.x1.x)+" "+ct(n.x1.y)+" m"),r.push(ct(n.x2.x)+" "+ct(n.x2.y)+" l"),r.push(ct(n.x4.x)+" "+ct(n.x4.y)+" m"),r.push(ct(n.x3.x)+" "+ct(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=He.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ct(He.internal.getWidth(e))+" "+ct(He.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ct(He.internal.getWidth(e)-2)+" "+ct(He.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ct(r.x1.x)+" "+ct(r.x1.y)+" m"),n.push(ct(r.x2.x)+" "+ct(r.x2.y)+" l"),n.push(ct(r.x4.x)+" "+ct(r.x4.y)+" m"),n.push(ct(r.x3.x)+" "+ct(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ct(He.internal.getWidth(e))+" "+ct(He.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};He.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=He.internal.getWidth(e),r=He.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},He.internal.getWidth=function(e){var t=0;return bt(e)==="object"&&(t=m1(e.Rect[2])),t},He.internal.getHeight=function(e){var t=0;return bt(e)==="object"&&(t=m1(e.Rect[3])),t};var rE=ir.addField=function(e){if(tE(this,e),!(e instanceof Ca))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ir.AcroFormChoiceField=Sl,ir.AcroFormListBox=_l,ir.AcroFormComboBox=Al,ir.AcroFormEditBox=ph,ir.AcroFormButton=$r,ir.AcroFormPushButton=mh,ir.AcroFormRadioButton=Ol,ir.AcroFormCheckBox=gh,ir.AcroFormTextField=ns,ir.AcroFormPasswordField=vh,ir.AcroFormAppearance=He,ir.AcroForm={ChoiceField:Sl,ListBox:_l,ComboBox:Al,EditBox:ph,Button:$r,PushButton:mh,RadioButton:Ol,CheckBox:gh,TextField:ns,PasswordField:vh,Appearance:He},tt.AcroForm={ChoiceField:Sl,ListBox:_l,ComboBox:Al,EditBox:ph,Button:$r,PushButton:mh,RadioButton:Ol,CheckBox:gh,TextField:ns,PasswordField:vh,Appearance:He};tt.AcroForm;function fS(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(k,C){var D,I,H,V,X,J=t;if((C=C||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(A(k))for(X in r)for(H=r[X],D=0;D<H.length;D+=1){for(V=!0,I=0;I<H[D].length;I+=1)if(H[D][I]!==void 0&&H[D][I]!==k[I]){V=!1;break}if(V===!0){J=X;break}}else for(X in r)for(H=r[X],D=0;D<H.length;D+=1){for(V=!0,I=0;I<H[D].length;I+=1)if(H[D][I]!==void 0&&H[D][I]!==k.charCodeAt(I)){V=!1;break}if(V===!0){J=X;break}}return J===t&&C!==t&&(J=C),J},a=function k(C){for(var D=this.internal.write,I=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:C.width}),V.push({key:"Height",value:C.height}),C.colorSpace===j.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===j.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var X="",J=0,Y=C.transparency.length;J<Y;J++)X+=C.transparency[J]+" "+C.transparency[J]+" ";V.push({key:"Mask",value:"["+X+"]"})}C.sMask!==void 0&&V.push({key:"SMask",value:C.objectId+1+" 0 R"});var Z=C.filter!==void 0?["/"+C.filter]:void 0;if(I({data:C.data,additionalKeyValues:V,alreadyAppliedFilters:Z,objectId:C.objectId}),D("endobj"),"sMask"in C&&C.sMask!==void 0){var ae="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,M={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:ae,data:C.sMask};"filter"in C&&(M.filter=C.filter),k.call(this,M)}if(C.colorSpace===j.INDEXED){var U=this.internal.newObject();I({data:E(new Uint8Array(C.palette)),objectId:U}),D("endobj")}},i=function(){var k=this.internal.collections.addImage_images;for(var C in k)a.call(this,k[C])},o=function(){var k,C=this.internal.collections.addImage_images,D=this.internal.write;for(var I in C)D("/I"+(k=C[I]).index,k.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return s.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof e["process"+k.toUpperCase()]=="function"},f=function(k){return bt(k)==="object"&&k.nodeType===1},p=function(k,C){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var D=""+k.getAttribute("src");if(D.indexOf("data:image/")===0)return Eu(unescape(D).split("base64,").pop());var I=e.loadFile(D,!0);if(I!==void 0)return I}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var H;switch(C){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return Eu(k.toDataURL(H,1).split("base64,").pop())}},h=function(k){var C=this.internal.collections.addImage_images;if(C){for(var D in C)if(k===C[D].alias)return C[D]}},v=function(k,C,D){return k||C||(k=-96,C=-96),k<0&&(k=-1*D.width*72/k/this.internal.scaleFactor),C<0&&(C=-1*D.height*72/C/this.internal.scaleFactor),k===0&&(k=C*D.width/D.height),C===0&&(C=k*D.height/D.width),[k,C]},g=function(k,C,D,I,H,V){var X=v.call(this,D,I,H),J=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,Z=c.call(this);if(D=X[0],I=X[1],Z[H.index]=H,V){V*=Math.PI/180;var ae=Math.cos(V),M=Math.sin(V),U=function(ne){return ne.toFixed(4)},Q=[U(ae),U(M),U(-1*M),U(ae),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,J(k),Y(C+I),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([J(D),"0","0",J(I),"0","0","cm"].join(" "))):this.internal.write([J(D),"0","0",J(I),J(k),Y(C+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(k){var C,D,I=0;if(typeof k=="string")for(D=k.length,C=0;C<D;C++)I=(I<<5)-I+k.charCodeAt(C),I|=0;else if(A(k))for(D=k.byteLength/2,C=0;C<D;C++)I=(I<<5)-I+k[C],I|=0;return I},N=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var C=!0;return k.length===0&&(C=!1),k.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(C=!1),C},_=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var C=k.indexOf(",");return C<0?null:k.substring(0,C).trim().endsWith("base64")?k.substring(C+1):null},w=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(k){return w()&&k instanceof ArrayBuffer};var A=e.__addimage__.isArrayBufferView=function(k){return w()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(k){for(var C=k.length,D=new Uint8Array(C),I=0;I<C;I++)D[I]=k.charCodeAt(I);return D},E=e.__addimage__.arrayBufferToBinaryString=function(k){for(var C="",D=A(k)?k:new Uint8Array(k),I=0;I<D.length;I+=8192)C+=String.fromCharCode.apply(null,D.subarray(I,I+8192));return C};e.addImage=function(){var k,C,D,I,H,V,X,J,Y;if(typeof arguments[1]=="number"?(C=t,D=arguments[1],I=arguments[2],H=arguments[3],V=arguments[4],X=arguments[5],J=arguments[6],Y=arguments[7]):(C=arguments[1],D=arguments[2],I=arguments[3],H=arguments[4],V=arguments[5],X=arguments[6],J=arguments[7],Y=arguments[8]),bt(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var Z=k;k=Z.imageData,C=Z.format||C||t,D=Z.x||D||0,I=Z.y||I||0,H=Z.w||Z.width||H,V=Z.h||Z.height||V,X=Z.alias||X,J=Z.compression||J,Y=Z.rotation||Z.angle||Y}var ae=this.internal.getFilters();if(J===void 0&&ae.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(D)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var M=T.call(this,k,C,X,J);return g.call(this,D,I,H,V,M,Y),this};var T=function(k,C,D,I){var H,V,X;if(typeof k=="string"&&n(k)===t){k=unescape(k);var J=$(k,!1);(J!==""||(J=e.loadFile(k,!0))!==void 0)&&(k=J)}if(f(k)&&(k=p(k,C)),C=n(k,C),!d(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((X=D)==null||X.length===0)&&(D=function(Y){return typeof Y=="string"||A(Y)?x(Y):A(Y.data)?x(Y.data):null}(k)),(H=h.call(this,D))||(w()&&(k instanceof Uint8Array||C==="RGBA"||(V=k,k=O(k))),H=this["process"+C.toUpperCase()](k,u.call(this),D,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:y.NONE}(I),V)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},$=e.__addimage__.convertBase64ToBinaryString=function(k,C){C=typeof C!="boolean"||C;var D,I="";if(typeof k=="string"){var H;D=(H=_(k))!==null&&H!==void 0?H:k;try{I=Eu(D)}catch(V){if(C)throw N(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return I};e.getImageProperties=function(k){var C,D,I="";if(f(k)&&(k=p(k)),typeof k=="string"&&n(k)===t&&((I=$(k,!1))===""&&(I=e.loadFile(k)||""),k=I),D=n(k),!d(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!w()||k instanceof Uint8Array||(k=O(k)),!(C=this["process"+D.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=D,C}})(tt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),x=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(y(x))+") >>",g.content=i;var N=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(g.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var A=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+A+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var s=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,s,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var d=this.splitTextToSize(r,s).length;o=Math.ceil(u*d)}else s=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,s,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var j=0,y=r,x="",N=0;for(j=0;j<g.length;j+=1)y[g.charCodeAt(j)]!==void 0?(N++,typeof(y=y[g.charCodeAt(j)])=="number"&&(x+=String.fromCharCode(y),y=r,N=0),j===g.length-1&&(y=r,x+=g.charAt(j-(N-1)),j-=N-1,N=0)):(y=r,x+=g.charAt(j-N),j-=N,N=0);return x};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,j,y){return o(g)?i(g)===!1?-1:!u(g)||!o(j)&&!o(y)||!o(y)&&s(j)||s(g)&&!o(j)||s(g)&&c(j)||s(g)&&s(j)?0:d(g)&&o(j)&&!s(j)&&o(y)&&u(y)?3:s(g)||!o(y)?1:2:-1},h=function(g){var j=0,y=0,x=0,N="",_="",w="",A=(g=g||"").split("\\s+"),O=[];for(j=0;j<A.length;j+=1){for(O.push(""),y=0;y<A[j].length;y+=1)N=A[j][y],_=A[j][y-1],w=A[j][y+1],o(N)?(x=p(N,_,w),O[j]+=x!==-1?String.fromCharCode(t[N.charCodeAt(0)][x]):N):O[j]+=N;O[j]=f(O[j])}return O.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(j)){var x=0;for(y=[],x=0;x<j.length;x+=1)Array.isArray(j[x])?y.push([h(j[x][0]),j[x][1],j[x][2]]):y.push([h(j[x])]);g=y}else g=h(j);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])}(tt.API),tt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,g=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,_){return N.concat(j.splitTextToSize(_,y))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)h<(g=this.getStringUnitWidth(c[x],{font:f})*d)&&(h=g);return h!==0&&(v=c.length),{w:h/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,v,g,j,y=[],x=[],N=[],_={},w={},A=[],O=[],E=(p=p||{}).autoSize||!1,T=p.printHeaders!==!1,$=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),C=typeof p.padding=="number"?p.padding:3,D=p.headerBackgroundColor||"#c8c8c8",I=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=I,this.setFontSize($),f==null)x=y=Object.keys(d[0]),N=y.map(function(){return"left"});else if(Array.isArray(f)&&bt(f[0])==="object")for(y=f.map(function(Z){return Z.name}),x=f.map(function(Z){return Z.prompt||Z.name||""}),N=f.map(function(Z){return Z.align||"left"}),h=0;h<f.length;h+=1)w[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,N=y.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(_[j=y[h]]=d.map(function(Z){return Z[j]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=_[j],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)A.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[j]=Math.max.apply(null,A)+C+C,A=[]}if(T){var H={};for(h=0;h<y.length;h+=1)H[y[h]]={},H[y[h]].text=x[h],H[y[h]].align=N[h];var V=s.call(this,H,w);O=y.map(function(Z){return new i(c,u,w[Z],V,H[Z].text,void 0,H[Z].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var X=f.reduce(function(Z,ae){return Z[ae.name]=ae.align,Z},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var J=s.call(this,d[h],w);for(g=0;g<y.length;g+=1){var Y=d[h][y[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:Y},this),o.call(this,new i(c,u,w[y[g]],J,Y,h+2,X[y[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var s=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(h){var v=c[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,v){return Math.max(h,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(tt.API);var hS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},pS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Yv=fS(pS),mS=[100,200,300,400,500,600,700,800,900],nE=fS(mS);function Kv(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return hS[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof Yv[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function g1(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var aE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},v1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function y1(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function iE(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},aE,r.genericFontFamilies||{}),i=null,o=null,s=0;s<t.length;++s)if(a[(i=Kv(t[s])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+y1(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=Yv[c],f=d<=Yv.normal?-1:1,p=g1(u,pS,d,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+c);return p}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=hS[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=nE[c],f=g1(u,mS,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+y1(i)+"'.");return o}function b1(e){return e.trimLeft()}function oE(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function sE(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Vf,x1,w1,Xg=["times"];(function(e){var t,r,n,a,i,o,s,c,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=M;Object.defineProperty(this,"pdf",{get:function(){return U}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ye){Q=!!ye}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(ye){ne=!!ye}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(ye){isNaN(ye)||(oe=ye)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(ye){isNaN(ye)||(he=ye)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ye){var re;typeof ye=="number"?re=[ye,ye,ye,ye]:((re=new Array(4))[0]=ye[0],re[1]=ye.length>=2?ye[1]:re[0],re[2]=ye.length>=3?ye[2]:re[0],re[3]=ye.length>=4?ye[3]:re[1]),u.margin=re}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(ye){de=ye}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ye){ie=ye}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ye){xe=ye}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ye){ye instanceof d&&(u=ye)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ye){u.path=ye}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(ye){be=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var re;re=p(ye),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var re=p(ye);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var pe=null;function Ee(ye,re){if(pe===null){var Ve=function(Be){var ke=[];return Object.keys(Be).forEach(function(Ce){Be[Ce].forEach(function(De){var Me=null;switch(De){case"bold":Me={family:Ce,weight:"bold"};break;case"italic":Me={family:Ce,style:"italic"};break;case"bolditalic":Me={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:Ce}}Me!==null&&(Me.ref={name:Ce,style:De},ke.push(Me))})}),ke}(ye.getFontList());pe=function(Be){for(var ke={},Ce=0;Ce<Be.length;++Ce){var De=Kv(Be[Ce]),Me=De.family,Ge=De.stretch,Ze=De.style,at=De.weight;ke[Me]=ke[Me]||{},ke[Me][Ge]=ke[Me][Ge]||{},ke[Me][Ge][Ze]=ke[Me][Ge][Ze]||{},ke[Me][Ge][Ze][at]=De}return ke}(Ve.concat(re))}return pe}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(ye){pe=null,$e=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var re;if(this.ctx.font=ye,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Ve=re[1];re[2];var Be=re[3],ke=re[4];re[5];var Ce=re[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(De==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Me=function(it){var gt,Fe,Ur=[],_t=it.trim();if(_t==="")return Xg;if(_t in v1)return[v1[_t]];for(;_t!=="";){switch(Fe=null,gt=(_t=b1(_t)).charAt(0)){case'"':case"'":Fe=oE(_t.substring(1),gt);break;default:Fe=sE(_t)}if(Fe===null||(Ur.push(Fe[0]),(_t=b1(Fe[1]))!==""&&_t.charAt(0)!==","))return Xg;_t=_t.replace(/^,/,"")}return Ur}(Ce);if(this.fontFaces){var Ge=iE(Ee(this.pdf,this.fontFaces),Me.map(function(it){return{family:it,stretch:"normal",weight:Be,style:Ve}}));this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var Ze="";(Be==="bold"||parseInt(Be,10)>=700||Ve==="bold")&&(Ze="bold"),Ve==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var at="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Me.length;vt++){if(this.pdf.internal.getFont(Me[vt],Ze,{noFallback:!0,disableWarning:!0})!==void 0){at=Me[vt];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Me[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Me[vt],Ze="bold";else if(this.pdf.internal.getFont(Me[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Me[vt],Ze="normal";break}}if(at===""){for(var Ot=0;Ot<Me.length;Ot++)if(ht[Me[Ot]]){at=ht[Me[Ot]];break}}at=at===""?"Times":at,this.pdf.setFont(at,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,U){if(isNaN(M)||isNaN(U))throw Ft.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(M,U));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(M,U)},f.prototype.closePath=function(){var M=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&bt(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){M=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},f.prototype.lineTo=function(M,U){if(isNaN(M)||isNaN(U))throw Ft.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(M,U));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,U,Q,ne){if(isNaN(Q)||isNaN(ne)||isNaN(M)||isNaN(U))throw Ft.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(Q,ne)),he=this.ctx.transform.applyToPoint(new o(M,U));this.path.push({type:"qct",x1:he.x,y1:he.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},f.prototype.bezierCurveTo=function(M,U,Q,ne,oe,he){if(isNaN(oe)||isNaN(he)||isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(ne))throw Ft.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(oe,he)),ie=this.ctx.transform.applyToPoint(new o(M,U)),xe=this.ctx.transform.applyToPoint(new o(Q,ne));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:xe.x,y2:xe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(M,U,Q,ne,oe,he){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(ne)||isNaN(oe))throw Ft.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(M,U));M=de.x,U=de.y;var ie=this.ctx.transform.applyToPoint(new o(0,Q)),xe=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ie.x-xe.x,2)+Math.pow(ie.y-xe.y,2))}Math.abs(oe-ne)>=2*Math.PI&&(ne=0,oe=2*Math.PI),this.path.push({type:"arc",x:M,y:U,radius:Q,startAngle:ne,endAngle:oe,counterclockwise:he})},f.prototype.arcTo=function(M,U,Q,ne,oe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,U,Q,ne){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(ne))throw Ft.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,U),this.lineTo(M+Q,U),this.lineTo(M+Q,U+ne),this.lineTo(M,U+ne),this.lineTo(M,U),this.lineTo(M+Q,U),this.lineTo(M,U)},f.prototype.fillRect=function(M,U,Q,ne){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(ne))throw Ft.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,U,Q,ne),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},f.prototype.strokeRect=function(M,U,Q,ne){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(ne))throw Ft.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(M,U,Q,ne),this.stroke())},f.prototype.clearRect=function(M,U,Q,ne){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(ne))throw Ft.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,U,Q,ne))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(U),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var U,Q,ne,oe;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))U=0,Q=0,ne=0,oe=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(he!==null)U=parseInt(he[1]),Q=parseInt(he[2]),ne=parseInt(he[3]),oe=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)U=parseInt(he[1]),Q=parseInt(he[2]),ne=parseInt(he[3]),oe=parseFloat(he[4]);else{if(oe=1,typeof M=="string"&&M.charAt(0)!=="#"){var de=new oS(M);M=de.ok?de.toHex():"#000000"}M.length===4?(U=M.substring(1,2),U+=U,Q=M.substring(2,3),Q+=Q,ne=M.substring(3,4),ne+=ne):(U=M.substring(1,3),Q=M.substring(3,5),ne=M.substring(5,7)),U=parseInt(U,16),Q=parseInt(Q,16),ne=parseInt(ne,16)}}return{r:U,g:Q,b:ne,a:oe,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,U,Q,ne){if(isNaN(U)||isNaN(Q)||typeof M!="string")throw Ft.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!h.call(this)){var oe=J(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;C.call(this,{text:M,x:U,y:Q,scale:he,angle:oe,align:this.textAlign,maxWidth:ne})}},f.prototype.strokeText=function(M,U,Q,ne){if(isNaN(U)||isNaN(Q)||typeof M!="string")throw Ft.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ne=isNaN(ne)?void 0:ne;var oe=J(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;C.call(this,{text:M,x:U,y:Q,scale:he,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ne})}},f.prototype.measureText=function(M){if(typeof M!="string")throw Ft.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,Q=this.pdf.internal.scaleFactor,ne=U.internal.getFontSize(),oe=U.getStringUnitWidth(M)*ne/U.internal.scaleFactor,he=function(de){var ie=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new he({width:oe*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(M,U){if(isNaN(M)||isNaN(U))throw Ft.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(M,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(M){if(isNaN(M))throw Ft.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function(M,U){if(isNaN(M)||isNaN(U))throw Ft.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,M,U);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(M,U,Q,ne,oe,he){if(isNaN(M)||isNaN(U)||isNaN(Q)||isNaN(ne)||isNaN(oe)||isNaN(he))throw Ft.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(M,U,Q,ne,oe,he);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(M,U,Q,ne,oe,he){M=isNaN(M)?1:M,U=isNaN(U)?0:U,Q=isNaN(Q)?0:Q,ne=isNaN(ne)?1:ne,oe=isNaN(oe)?0:oe,he=isNaN(he)?0:he,this.ctx.transform=new c(M,U,Q,ne,oe,he)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,U,Q,ne,oe,he,de,ie,xe){var be=this.pdf.getImageProperties(M),pe=1,Ee=1,$e=1,ye=1;ne!==void 0&&ie!==void 0&&($e=ie/ne,ye=xe/oe,pe=be.width/ne*ie/ne,Ee=be.height/oe*xe/oe),he===void 0&&(he=U,de=Q,U=0,Q=0),ne!==void 0&&ie===void 0&&(ie=ne,xe=oe),ne===void 0&&ie===void 0&&(ie=be.width,xe=be.height);for(var re,Ve=this.ctx.transform.decompose(),Be=J(Ve.rotate.shx),ke=new c,Ce=(ke=(ke=(ke=ke.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new s(he-U*$e,de-Q*ye,ne*pe,oe*Ee)),De=j.call(this,Ce),Me=[],Ge=0;Ge<De.length;Ge+=1)Me.indexOf(De[Ge])===-1&&Me.push(De[Ge]);if(N(Me),this.autoPaging)for(var Ze=Me[0],at=Me[Me.length-1],ht=Ze;ht<at+1;ht++){this.pdf.setPage(ht);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=ht===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=ht===1?0:it+(ht-2)*gt;if(this.ctx.clip_path.length!==0){var Ur=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(re,this.posX+this.margin[3],-Fe+Ot+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=Ur}var _t=JSON.parse(JSON.stringify(Ce));_t=x([_t],this.posX+this.margin[3],-Fe+Ot+this.ctx.prevPageLastElemOffset)[0];var la=(ht>Ze||ht<at)&&g.call(this);la&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,gt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Be),la&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,Be)};var j=function(M,U,Q){var ne=[];U=U||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ne.push(Math.floor((M.y+oe)/Q)+1);break;case"arc":ne.push(Math.floor((M.y+oe-M.radius)/Q)+1),ne.push(Math.floor((M.y+oe+M.radius)/Q)+1);break;case"qct":var he=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ne.push(Math.floor((he.y+oe)/Q)+1),ne.push(Math.floor((he.y+he.h+oe)/Q)+1);break;case"bct":var de=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ne.push(Math.floor((de.y+oe)/Q)+1),ne.push(Math.floor((de.y+de.h+oe)/Q)+1);break;case"rect":ne.push(Math.floor((M.y+oe)/Q)+1),ne.push(Math.floor((M.y+M.h+oe)/Q)+1)}for(var ie=0;ie<ne.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ie];)y.call(this);return ne},y=function(){var M=this.fillStyle,U=this.strokeStyle,Q=this.font,ne=this.lineCap,oe=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=U,this.font=Q,this.lineCap=ne,this.lineWidth=oe,this.lineJoin=he},x=function(M,U,Q){for(var ne=0;ne<M.length;ne++)switch(M[ne].type){case"bct":M[ne].x2+=U,M[ne].y2+=Q;case"qct":M[ne].x1+=U,M[ne].y1+=Q;case"mt":case"lt":case"arc":default:M[ne].x+=U,M[ne].y+=Q}return M},N=function(M){return M.sort(function(U,Q){return U-Q})},_=function(M,U){for(var Q,ne,oe=this.fillStyle,he=this.strokeStyle,de=this.lineCap,ie=this.lineWidth,xe=Math.abs(ie*this.ctx.transform.scaleX),be=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),$e=[],ye=0;ye<Ee.length;ye++)if(Ee[ye].x!==void 0)for(var re=j.call(this,Ee[ye]),Ve=0;Ve<re.length;Ve+=1)$e.indexOf(re[Ve])===-1&&$e.push(re[Ve]);for(var Be=0;Be<$e.length;Be++)for(;this.pdf.internal.getNumberOfPages()<$e[Be];)y.call(this);if(N($e),this.autoPaging)for(var ke=$e[0],Ce=$e[$e.length-1],De=ke;De<Ce+1;De++){this.pdf.setPage(De),this.fillStyle=oe,this.strokeStyle=he,this.lineCap=de,this.lineWidth=xe,this.lineJoin=be;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=De===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=De===1?0:Ze+(De-2)*at;if(this.ctx.clip_path.length!==0){var vt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Q,this.posX+this.margin[3],-ht+Ge+this.ctx.prevPageLastElemOffset),w.call(this,M,!0),this.path=vt}if(ne=JSON.parse(JSON.stringify(pe)),this.path=x(ne,this.posX+this.margin[3],-ht+Ge+this.ctx.prevPageLastElemOffset),U===!1||De===0){var Ot=(De>ke||De<Ce)&&g.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,at,null).clip().discardPath()),w.call(this,M,U),Ot&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=xe,w.call(this,M,U),this.lineWidth=ie;this.path=pe},w=function(M,U){if((M!=="stroke"||U||!v.call(this))&&(M==="stroke"||U||!h.call(this))){for(var Q,ne,oe=[],he=this.path,de=0;de<he.length;de++){var ie=he[de];switch(ie.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ie,deltas:[],abs:[]});break;case"lt":var xe=oe.length;if(he[de-1]&&!isNaN(he[de-1].x)&&(Q=[ie.x-he[de-1].x,ie.y-he[de-1].y],xe>0)){for(;xe>=0;xe--)if(oe[xe-1].close!==!0&&oe[xe-1].begin!==!0){oe[xe-1].deltas.push(Q),oe[xe-1].abs.push(ie);break}}break;case"bct":Q=[ie.x1-he[de-1].x,ie.y1-he[de-1].y,ie.x2-he[de-1].x,ie.y2-he[de-1].y,ie.x-he[de-1].x,ie.y-he[de-1].y],oe[oe.length-1].deltas.push(Q);break;case"qct":var be=he[de-1].x+2/3*(ie.x1-he[de-1].x),pe=he[de-1].y+2/3*(ie.y1-he[de-1].y),Ee=ie.x+2/3*(ie.x1-ie.x),$e=ie.y+2/3*(ie.y1-ie.y),ye=ie.x,re=ie.y;Q=[be-he[de-1].x,pe-he[de-1].y,Ee-he[de-1].x,$e-he[de-1].y,ye-he[de-1].x,re-he[de-1].y],oe[oe.length-1].deltas.push(Q);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ie)}}ne=U?null:M==="stroke"?"stroke":"fill";for(var Ve=!1,Be=0;Be<oe.length;Be++)if(oe[Be].arc)for(var ke=oe[Be].abs,Ce=0;Ce<ke.length;Ce++){var De=ke[Ce];De.type==="arc"?E.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,U,!Ve):D.call(this,De.x,De.y),Ve=!0}else if(oe[Be].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(oe[Be].begin!==!0){var Me=oe[Be].start.x,Ge=oe[Be].start.y;I.call(this,oe[Be].deltas,Me,Ge),Ve=!0}ne&&T.call(this,ne),U&&$.call(this)}},A=function(M){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Q;case"top":return M+U-Q;case"hanging":return M+U-2*Q;case"middle":return M+U/2-Q;case"ideographic":return M;case"alphabetic":default:return M}},O=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(U,Q){this.colorStops.push([U,Q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(M,U,Q,ne,oe,he,de,ie,xe){for(var be=V.call(this,Q,ne,oe,he),pe=0;pe<be.length;pe++){var Ee=be[pe];pe===0&&(xe?k.call(this,Ee.x1+M,Ee.y1+U):D.call(this,Ee.x1+M,Ee.y1+U)),H.call(this,M,U,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ie?$.call(this):T.call(this,de)},T=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(M,U){this.pdf.internal.out(r(M)+" "+n(U)+" m")},C=function(M){var U;switch(M.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var Q=this.pdf.getTextDimensions(M.text),ne=A.call(this,M.y),oe=O.call(this,ne)-Q.h,he=this.ctx.transform.applyToPoint(new o(M.x,ne)),de=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var xe,be,pe,Ee=this.ctx.transform.applyToRectangle(new s(M.x,ne,Q.w,Q.h)),$e=ie.applyToRectangle(new s(M.x,oe,Q.w,Q.h)),ye=j.call(this,$e),re=[],Ve=0;Ve<ye.length;Ve+=1)re.indexOf(ye[Ve])===-1&&re.push(ye[Ve]);if(N(re),this.autoPaging)for(var Be=re[0],ke=re[re.length-1],Ce=Be;Ce<ke+1;Ce++){this.pdf.setPage(Ce);var De=Ce===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],Ze=Ge-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],ht=at-this.margin[3],vt=Ce===1?0:Me+(Ce-2)*Ze;if(this.ctx.clip_path.length!==0){var Ot=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(xe,this.posX+this.margin[3],-1*vt+De),w.call(this,"fill",!0),this.path=Ot}var it=x([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-vt+De+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*M.scale),pe=this.lineWidth,this.lineWidth=pe*M.scale);var gt=this.autoPaging!=="text";if(gt||it.y+it.h<=Ge){if(gt||it.y>=De&&it.x<=at){var Fe=gt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||at-it.x)[0],Ur=x([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-vt+De+this.ctx.prevPageLastElemOffset)[0],_t=gt&&(Ce>Be||Ce<ke)&&g.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Ze,null).clip().discardPath()),this.pdf.text(Fe,Ur.x,Ur.y,{angle:M.angle,align:U,renderingMode:M.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else it.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-it.y);M.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=pe)}else M.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*M.scale),pe=this.lineWidth,this.lineWidth=pe*M.scale),this.pdf.text(M.text,he.x+this.posX,he.y+this.posY,{angle:M.angle,align:U,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=pe)},D=function(M,U,Q,ne){Q=Q||0,ne=ne||0,this.pdf.internal.out(r(M+Q)+" "+n(U+ne)+" l")},I=function(M,U,Q){return this.pdf.lines(M,U,Q,null,null)},H=function(M,U,Q,ne,oe,he,de,ie){this.pdf.internal.out([t(a(Q+M)),t(i(ne+U)),t(a(oe+M)),t(i(he+U)),t(a(de+M)),t(i(ie+U)),"c"].join(" "))},V=function(M,U,Q,ne){for(var oe=2*Math.PI,he=Math.PI/2;U>Q;)U-=oe;var de=Math.abs(Q-U);de<oe&&ne&&(de=oe-de);for(var ie=[],xe=ne?-1:1,be=U;de>1e-5;){var pe=be+xe*Math.min(de,he);ie.push(X.call(this,M,be,pe)),de-=Math.abs(pe-be),be=pe}return ie},X=function(M,U,Q){var ne=(Q-U)/2,oe=M*Math.cos(ne),he=M*Math.sin(ne),de=oe,ie=-he,xe=de*de+ie*ie,be=xe+de*oe+ie*he,pe=4/3*(Math.sqrt(2*xe*be)-be)/(de*he-ie*oe),Ee=de-pe*ie,$e=ie+pe*de,ye=Ee,re=-$e,Ve=ne+U,Be=Math.cos(Ve),ke=Math.sin(Ve);return{x1:M*Math.cos(U),y1:M*Math.sin(U),x2:Ee*Be-$e*ke,y2:Ee*ke+$e*Be,x3:ye*Be-re*ke,y3:ye*ke+re*Be,x4:M*Math.cos(Q),y4:M*Math.sin(Q)}},J=function(M){return 180*M/Math.PI},Y=function(M,U,Q,ne,oe,he){var de=M+.5*(Q-M),ie=U+.5*(ne-U),xe=oe+.5*(Q-oe),be=he+.5*(ne-he),pe=Math.min(M,oe,de,xe),Ee=Math.max(M,oe,de,xe),$e=Math.min(U,he,ie,be),ye=Math.max(U,he,ie,be);return new s(pe,$e,Ee-pe,ye-$e)},Z=function(M,U,Q,ne,oe,he,de,ie){var xe,be,pe,Ee,$e,ye,re,Ve,Be,ke,Ce,De,Me,Ge,Ze=Q-M,at=ne-U,ht=oe-Q,vt=he-ne,Ot=de-oe,it=ie-he;for(be=0;be<41;be++)Be=(re=(pe=M+(xe=be/40)*Ze)+xe*(($e=Q+xe*ht)-pe))+xe*($e+xe*(oe+xe*Ot-$e)-re),ke=(Ve=(Ee=U+xe*at)+xe*((ye=ne+xe*vt)-Ee))+xe*(ye+xe*(he+xe*it-ye)-Ve),be==0?(Ce=Be,De=ke,Me=Be,Ge=ke):(Ce=Math.min(Ce,Be),De=Math.min(De,ke),Me=Math.max(Me,Be),Ge=Math.max(Ge,ke));return new s(Math.round(Ce),Math.round(De),Math.round(Me-Ce),Math.round(Ge-De))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,U,Q=(M=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:U}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(tt.API),function(e){var t=function(i){var o,s,c,u,d,f,p,h,v,g;for(s=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(v=d%85))/85)-(h=d%85))/85)-(p=d%85))/85)%85,s.push(f+33,p+33,h+33,v+33,g+33)):s.push(122);return function(j,y){for(var x=y;x>0;x--)j.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},r=function(i){var o,s,c,u,d,f=String,p="length",h=255,v="charCodeAt",g="slice",j="replace";for(i[g](-2),i=i[g](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[g](i[p]%5||5))[p];d>u;u+=5)s=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),c.push(h&s>>24,h&s>>16,h&s>>8,h&s);return function(y,x){for(var N=x;N>0;N--)y.pop()}(c,o[p]),f.fromCharCode.apply(f,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var s="",c=0;c<i.length;c+=2)s+=String.fromCharCode("0x"+(i[c]+i[c+1]));return s},a=function(i){for(var o=new Uint8Array(i.length),s=i.length;s--;)o[s]=i.charCodeAt(s);return i=(o=Uv(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var s=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(tt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(c,u,d){var f=new XMLHttpRequest,p=0,h=function(v){var g=v.length,j=[],y=String.fromCharCode;for(p=0;p<g;p+=1)j.push(y(255&v.charCodeAt(p)));return j.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(a,i,o)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}(tt.API),function(e){function t(){return(rt.html2canvas?Promise.resolve(rt.html2canvas):Dv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(rt.DOMPurify?Promise.resolve(rt.DOMPurify):Dv(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var s=bt(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},a=function(o,s){var c=document.createElement(o);for(var u in s.className&&(c.className=s.className),s.innerHTML&&s.dompurify&&(c.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)c.style[u]=s.style[u];return c},i=function o(s){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,s){return o.__proto__=s||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(c(p,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,s(this.prop.container,c)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var h=u[p],v=h.src.find(function(g){return g.format==="truetype"});v&&c.addFont(v.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,s,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},i.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var s=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(s)})},i.prototype.get=function(o,s){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return s?s(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function s(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,s,c,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,s,c,u){return this.setProgress(o?this.progress.val+o:null,s||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,s){var c=this;return this.thenCore(o,s,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,s,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,s);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},i.prototype.thenList=function(o){var s=this;return o.forEach(function(c){s=s.thenCore(c)}),s},i.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return i.convert(s,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,tt.getPageSize=function(o,s,c){if(bt(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,c=u.format||c}s=s||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+s}var h,v=0,g=0;if(p.hasOwnProperty(f))v=p[f][1]/d,g=p[f][0]/d;else try{v=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",g>v&&(h=g,g=v,v=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>g&&(h=g,g=v,v=h)}return{width:g,height:v,unit:s,k:d,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(Kv):null;var c=new i(s);return s.worker?c:c.from(o).doCallback()}}(tt.API),tt.API.addJS=function(e){return w1=e,this.internal.events.subscribe("postPutResources",function(){Vf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vf!==void 0&&x1!==void 0&&this.internal.out("/Names <</JavaScript "+Vf+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],s=n.exec(o);if(s!=null){var c=s[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(tt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,s){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},j=4;j<v;j+=2){if(j+=h,t.indexOf(f.charCodeAt(j+1))!==-1){p=256*f.charCodeAt(j+5)+f.charCodeAt(j+6),g={width:256*f.charCodeAt(j+7)+f.charCodeAt(j+8),height:p,numcomponents:f.charCodeAt(j+9)};break}h=256*f.charCodeAt(j+2)+f.charCodeAt(j+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(tt.API);var ll,Yf,j1,N1,S1,lE=function(){var e,t,r;function n(i){var o,s,c,u,d,f,p,h,v,g,j,y,x,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var _,w;for(w=[],_=0;_<4;++_)w.push(String.fromCharCode(this.data[this.pos++]));return w}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(x=0;0<=g?x<g:x>g;0<=g?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(j=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,j.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,j.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,s;for(s=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,p,h,v){var g,j,y,x,N,_,w,A,O,E,T,$,k,C,D,I,H,V,X,J,Y,Z=Math.ceil((u.width-f)/h),ae=Math.ceil((u.height-p)/v),M=u.width==Z&&u.height==ae;for(C=o*Z,$=M?s:new Uint8Array(C*ae),_=i.length,k=0,j=0;k<ae&&c<_;){switch(i[c++]){case 0:for(x=H=0;H<C;x=H+=1)$[j++]=i[c++];break;case 1:for(x=V=0;V<C;x=V+=1)g=i[c++],N=x<o?0:$[j-o],$[j++]=(g+N)%256;break;case 2:for(x=X=0;X<C;x=X+=1)g=i[c++],y=(x-x%o)/o,D=k&&$[(k-1)*C+y*o+x%o],$[j++]=(D+g)%256;break;case 3:for(x=J=0;J<C;x=J+=1)g=i[c++],y=(x-x%o)/o,N=x<o?0:$[j-o],D=k&&$[(k-1)*C+y*o+x%o],$[j++]=(g+Math.floor((N+D)/2))%256;break;case 4:for(x=Y=0;Y<C;x=Y+=1)g=i[c++],y=(x-x%o)/o,N=x<o?0:$[j-o],k===0?D=I=0:(D=$[(k-1)*C+y*o+x%o],I=y&&$[(k-1)*C+(y-1)*o+x%o]),w=N+D-I,A=Math.abs(w-N),E=Math.abs(w-D),T=Math.abs(w-I),O=A<=E&&A<=T?N:E<=T?D:I,$[j++]=(g+O)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!M){var U=((p+k*v)*u.width+f)*o,Q=k*C;for(x=0;x<Z;x+=1){for(var ne=0;ne<o;ne+=1)s[U++]=$[Q++];U+=(h-1)*o}}k++}}return i=B6(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),s},n.prototype.decodePalette=function(){var i,o,s,c,u,d,f,p,h;for(s=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+s.length),c=0,i=0,o=f=0,p=s.length;f<p;o=f+=3)u[c++]=s[o],u[c++]=s[o+1],u[c++]=s[o+2],u[c++]=(h=d[i++])!=null?h:255;return u},n.prototype.copyToImageData=function(i,o){var s,c,u,d,f,p,h,v,g,j,y;if(c=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,s=!0),v=(u=i.data||i).length,f=g||o,d=p=0,c===1)for(;d<v;)h=g?4*o[d/4]:p,j=f[h++],u[d++]=j,u[d++]=j,u[d++]=j,u[d++]=s?f[h++]:255,p=h;else for(;d<v;)h=g?4*o[d/4]:p,u[d++]=f[h++],u[d++]=f[h++],u[d++]=f[h++],u[d++]=s?f[h++]:255,p=h},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(rt)==="[object Window]"){try{t=rt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,s,c,u,d,f,p,h;if(this.animation){for(h=[],s=d=0,f=(p=this.animation.frames).length;d<f;s=++d)o=p[s],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,h.push(o.image=e(c));return h}},n.prototype.renderFrame=function(i,o){var s,c,u;return s=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&i.clearRect(s.xOffset,s.yOffset,s.width,s.height),i.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(i){var o,s,c,u,d,f,p=this;return s=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var h,v;if(h=s++%u,v=c[h],p.renderFrame(i,h),u>1&&s/u<d)return p.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,s;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function cE(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var s=null,c=null;i&&(s=t,c=o,t+=3*o);var u=!0,d=[],f=0,p=null,h=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],!(1&g)&&(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var j=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,_=e[t++],w=_>>6&1,A=1<<(7&_)+1,O=s,E=c,T=!1;_>>7&&(T=!0,O=t,E=A,t+=3*A);var $=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}d.push({x:j,y,width:x,height:N,has_local_palette:T,palette_offset:O,palette_size:E,data_offset:$,data_length:t-$,transparent_index:p,interlaced:!!w,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(C){if(C<0||C>=d.length)throw new Error("Frame index out of range.");return d[C]},this.decodeAndBlitFrameBGRA=function(C,D){var I=this.frameInfo(C),H=I.width*I.height,V=new Uint8Array(H);_1(e,I.data_offset,V,H);var X=I.palette_offset,J=I.transparent_index;J===null&&(J=256);var Y=I.width,Z=r-Y,ae=Y,M=4*(I.y*r+I.x),U=4*((I.y+I.height)*r+I.x),Q=M,ne=4*Z;I.interlaced===!0&&(ne+=4*r*7);for(var oe=8,he=0,de=V.length;he<de;++he){var ie=V[he];if(ae===0&&(ae=Y,(Q+=ne)>=U&&(ne=4*Z+4*r*(oe-1),Q=M+(Y+Z)*(oe<<1),oe>>=1)),ie===J)Q+=4;else{var xe=e[X+3*ie],be=e[X+3*ie+1],pe=e[X+3*ie+2];D[Q++]=pe,D[Q++]=be,D[Q++]=xe,D[Q++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(C,D){var I=this.frameInfo(C),H=I.width*I.height,V=new Uint8Array(H);_1(e,I.data_offset,V,H);var X=I.palette_offset,J=I.transparent_index;J===null&&(J=256);var Y=I.width,Z=r-Y,ae=Y,M=4*(I.y*r+I.x),U=4*((I.y+I.height)*r+I.x),Q=M,ne=4*Z;I.interlaced===!0&&(ne+=4*r*7);for(var oe=8,he=0,de=V.length;he<de;++he){var ie=V[he];if(ae===0&&(ae=Y,(Q+=ne)>=U&&(ne=4*Z+4*r*(oe-1),Q=M+(Y+Z)*(oe<<1),oe>>=1)),ie===J)Q+=4;else{var xe=e[X+3*ie],be=e[X+3*ie+1],pe=e[X+3*ie+2];D[Q++]=xe,D[Q++]=be,D[Q++]=pe,D[Q++]=255}--ae}}}function _1(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,s=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,p=0,h=e[t++],v=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var j=f&u;if(f>>=c,d-=c,j!==i){if(j===o)break;for(var y=j<s?j:g,x=0,N=y;N>i;)N=v[N]>>8,++x;var _=N;if(p+x+(y!==j?1:0)>n)return void Ft.log("Warning, gif stream longer than expected.");r[p++]=_;var w=p+=x;for(y!==j&&(r[p++]=_),N=y;x--;)N=v[N],r[--w]=255&N,N>>=8;g!==null&&s<4096&&(v[s++]=g<<8|_,s>=u+1&&c<12&&(++c,u=u<<1|1)),g=j}else s=o+1,u=(1<<(c=a+1))-1,g=null}return p!==n&&Ft.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Jg(e){var t,r,n,a,i,o=Math.floor,s=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),v=new Array(64),g=[],j=0,y=7,x=new Array(64),N=new Array(64),_=new Array(64),w=new Array(256),A=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(M,U){for(var Q=0,ne=0,oe=new Array,he=1;he<=16;he++){for(var de=1;de<=M[he];de++)oe[U[ne]]=[],oe[U[ne]][0]=Q,oe[U[ne]][1]=he,ne++,Q++;Q*=2}return oe}function X(M){for(var U=M[0],Q=M[1]-1;Q>=0;)U&1<<Q&&(j|=1<<y),Q--,--y<0&&(j==255?(J(255),J(0)):J(j),y=7,j=0)}function J(M){g.push(M)}function Y(M){J(M>>8&255),J(255&M)}function Z(M,U,Q,ne,oe){for(var he,de=oe[0],ie=oe[240],xe=function(ke,Ce){var De,Me,Ge,Ze,at,ht,vt,Ot,it,gt,Fe=0;for(it=0;it<8;++it){De=ke[Fe],Me=ke[Fe+1],Ge=ke[Fe+2],Ze=ke[Fe+3],at=ke[Fe+4],ht=ke[Fe+5],vt=ke[Fe+6];var Ur=De+(Ot=ke[Fe+7]),_t=De-Ot,la=Me+vt,It=Me-vt,Zt=Ge+ht,Ra=Ge-ht,Et=Ze+at,So=Ze-at,tr=Ur+Et,ca=Ur-Et,fi=la+Zt,rr=la-Zt;ke[Fe]=tr+fi,ke[Fe+4]=tr-fi;var st=.707106781*(rr+ca);ke[Fe+2]=ca+st,ke[Fe+6]=ca-st;var kt=.382683433*((tr=So+Ra)-(rr=It+_t)),_o=.5411961*tr+kt,Rr=1.306562965*rr+kt,Fa=.707106781*(fi=Ra+It),Ba=_t+Fa,Qe=_t-Fa;ke[Fe+5]=Qe+_o,ke[Fe+3]=Qe-_o,ke[Fe+1]=Ba+Rr,ke[Fe+7]=Ba-Rr,Fe+=8}for(Fe=0,it=0;it<8;++it){De=ke[Fe],Me=ke[Fe+8],Ge=ke[Fe+16],Ze=ke[Fe+24],at=ke[Fe+32],ht=ke[Fe+40],vt=ke[Fe+48];var ua=De+(Ot=ke[Fe+56]),qa=De-Ot,hn=Me+vt,Nr=Me-vt,gr=Ge+ht,An=Ge-ht,Ts=Ze+at,hi=Ze-at,da=ua+Ts,fa=ua-Ts,ha=hn+gr,za=hn-gr;ke[Fe]=da+ha,ke[Fe+32]=da-ha;var Rn=.707106781*(za+fa);ke[Fe+16]=fa+Rn,ke[Fe+48]=fa-Rn;var Ua=.382683433*((da=hi+An)-(za=Nr+qa)),Ao=.5411961*da+Ua,Cs=1.306562965*za+Ua,Ls=.707106781*(ha=An+Nr),Ms=qa+Ls,$s=qa-Ls;ke[Fe+40]=$s+Ao,ke[Fe+24]=$s-Ao,ke[Fe+8]=Ms+Cs,ke[Fe+56]=Ms-Cs,Fe++}for(it=0;it<64;++it)gt=ke[it]*Ce[it],h[it]=gt>0?gt+.5|0:gt-.5|0;return h}(M,U),be=0;be<64;++be)v[O[be]]=xe[be];var pe=v[0]-Q;Q=v[0],pe==0?X(ne[0]):(X(ne[p[he=32767+pe]]),X(f[he]));for(var Ee=63;Ee>0&&v[Ee]==0;)Ee--;if(Ee==0)return X(de),Q;for(var $e,ye=1;ye<=Ee;){for(var re=ye;v[ye]==0&&ye<=Ee;)++ye;var Ve=ye-re;if(Ve>=16){$e=Ve>>4;for(var Be=1;Be<=$e;++Be)X(ie);Ve&=15}he=32767+v[ye],X(oe[(Ve<<4)+p[he]]),X(f[he]),ye++}return Ee!=63&&X(de),Q}function ae(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(U){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var oe=o((Q[ne]*U+50)/100);oe=Math.min(Math.max(oe,1),255),s[O[ne]]=oe}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ie=o((he[de]*U+50)/100);ie=Math.min(Math.max(ie,1),255),c[O[de]]=ie}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,pe=0;pe<8;pe++)for(var Ee=0;Ee<8;Ee++)u[be]=1/(s[O[be]]*xe[pe]*xe[Ee]*8),d[be]=1/(c[O[be]]*xe[pe]*xe[Ee]*8),be++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,U){U&&ae(U),g=new Array,j=0,y=7,Y(65496),Y(65504),Y(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),Y(1),Y(1),J(0),J(0),function(){Y(65499),Y(132),J(0);for(var Me=0;Me<64;Me++)J(s[Me]);J(1);for(var Ge=0;Ge<64;Ge++)J(c[Ge])}(),function(Me,Ge){Y(65472),Y(17),J(8),Y(Ge),Y(Me),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(M.width,M.height),function(){Y(65476),Y(418),J(0);for(var Me=0;Me<16;Me++)J(E[Me+1]);for(var Ge=0;Ge<=11;Ge++)J(T[Ge]);J(16);for(var Ze=0;Ze<16;Ze++)J($[Ze+1]);for(var at=0;at<=161;at++)J(k[at]);J(1);for(var ht=0;ht<16;ht++)J(C[ht+1]);for(var vt=0;vt<=11;vt++)J(D[vt]);J(17);for(var Ot=0;Ot<16;Ot++)J(I[Ot+1]);for(var it=0;it<=161;it++)J(H[it])}(),Y(65498),Y(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var Q=0,ne=0,oe=0;j=0,y=7,this.encode.displayName="_encode_";for(var he,de,ie,xe,be,pe,Ee,$e,ye,re=M.data,Ve=M.width,Be=M.height,ke=4*Ve,Ce=0;Ce<Be;){for(he=0;he<ke;){for(be=ke*Ce+he,Ee=-1,$e=0,ye=0;ye<64;ye++)pe=be+($e=ye>>3)*ke+(Ee=4*(7&ye)),Ce+$e>=Be&&(pe-=ke*(Ce+1+$e-Be)),he+Ee>=ke&&(pe-=he+Ee-ke+4),de=re[pe++],ie=re[pe++],xe=re[pe++],x[ye]=(A[de]+A[ie+256>>0]+A[xe+512>>0]>>16)-128,N[ye]=(A[de+768>>0]+A[ie+1024>>0]+A[xe+1280>>0]>>16)-128,_[ye]=(A[de+1280>>0]+A[ie+1536>>0]+A[xe+1792>>0]>>16)-128;Q=Z(x,u,Q,t,n),ne=Z(N,d,ne,r,a),oe=Z(_,d,oe,r,a),he+=32}Ce+=8}if(y>=0){var De=[];De[1]=y+1,De[0]=(1<<y+1)-1,X(De)}return Y(65497),new Uint8Array(g)},e=e||50,function(){for(var M=String.fromCharCode,U=0;U<256;U++)w[U]=M(U)}(),t=V(E,T),r=V(C,D),n=V($,k),a=V(I,H),function(){for(var M=1,U=2,Q=1;Q<=15;Q++){for(var ne=M;ne<U;ne++)p[32767+ne]=Q,f[32767+ne]=[],f[32767+ne][1]=Q,f[32767+ne][0]=ne;for(var oe=-(U-1);oe<=-M;oe++)p[32767+oe]=Q,f[32767+oe]=[],f[32767+oe][1]=Q,f[32767+oe][0]=U-1+oe;M<<=1,U<<=1}}(),function(){for(var M=0;M<256;M++)A[M]=19595*M,A[M+256>>0]=38470*M,A[M+512>>0]=7471*M+32768,A[M+768>>0]=-11059*M,A[M+1024>>0]=-21709*M,A[M+1280>>0]=32768*M+8421375,A[M+1536>>0]=-27439*M,A[M+1792>>0]=-5329*M}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function A1(e){function t(E){if(!E)throw Error("assert :P")}function r(E,T,$){for(var k=0;4>k;k++)if(E[T+k]!=$.charCodeAt(k))return!0;return!1}function n(E,T,$,k,C){for(var D=0;D<C;D++)E[T+D]=$[k+D]}function a(E,T,$,k){for(var C=0;C<k;C++)E[T+C]=$}function i(E){return new Int32Array(E)}function o(E,T){for(var $=[],k=0;k<E;k++)$.push(new T);return $}function s(E,T){var $=[];return function k(C,D,I){for(var H=I[D],V=0;V<H&&(C.push(I.length>D+1?[]:new T),!(I.length<D+1));V++)k(C[V],D+1,I)}($,0,E),$}var c=function(){var E=this;function T(m,b){for(var P=1<<b-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function $(m,b,P,L,R){t(!(L%P));do m[b+(L-=P)]=R;while(0<L)}function k(m,b,P,L,R){if(t(2328>=R),512>=R)var z=i(512);else if((z=i(R))==null)return 0;return function(W,G,K,ee,le,ge){var ve,fe,Oe=G,we=1<<K,ce=i(16),ue=i(16);for(t(le!=0),t(ee!=null),t(W!=null),t(0<K),fe=0;fe<le;++fe){if(15<ee[fe])return 0;++ce[ee[fe]]}if(ce[0]==le)return 0;for(ue[1]=0,ve=1;15>ve;++ve){if(ce[ve]>1<<ve)return 0;ue[ve+1]=ue[ve]+ce[ve]}for(fe=0;fe<le;++fe)ve=ee[fe],0<ee[fe]&&(ge[ue[ve]++]=fe);if(ue[15]==1)return(ee=new C).g=0,ee.value=ge[0],$(W,Oe,1,we,ee),we;var _e,Pe=-1,Ae=we-1,ze=0,Ie=1,Je=1,Re=1<<K;for(fe=0,ve=1,le=2;ve<=K;++ve,le<<=1){if(Ie+=Je<<=1,0>(Je-=ce[ve]))return 0;for(;0<ce[ve];--ce[ve])(ee=new C).g=ve,ee.value=ge[fe++],$(W,Oe+ze,le,Re,ee),ze=T(ze,ve)}for(ve=K+1,le=2;15>=ve;++ve,le<<=1){if(Ie+=Je<<=1,0>(Je-=ce[ve]))return 0;for(;0<ce[ve];--ce[ve]){if(ee=new C,(ze&Ae)!=Pe){for(Oe+=Re,_e=1<<(Pe=ve)-K;15>Pe&&!(0>=(_e-=ce[Pe]));)++Pe,_e<<=1;we+=Re=1<<(_e=Pe-K),W[G+(Pe=ze&Ae)].g=_e+K,W[G+Pe].value=Oe-G-Pe}ee.g=ve-K,ee.value=ge[fe++],$(W,Oe+(ze>>K),le,Re,ee),ze=T(ze,ve)}}return Ie!=2*ue[15]-1?0:we}(m,b,P,L,R,z)}function C(){this.value=this.g=0}function D(){this.value=this.g=0}function I(){this.G=o(5,C),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Fr,D)}function H(m,b,P,L){t(m!=null),t(b!=null),t(2147483648>L),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=P,m.Jd=b,m.Yc=P+L,m.Zc=4<=L?P+L-4+1:P,he(m)}function V(m,b){for(var P=0;0<b--;)P|=ie(m,128)<<b;return P}function X(m,b){var P=V(m,b);return de(m)?-P:P}function J(m,b,P,L){var R,z=0;for(t(m!=null),t(b!=null),t(4294967288>L),m.Sb=L,m.Ra=0,m.u=0,m.h=0,4<L&&(L=4),R=0;R<L;++R)z+=b[P+R]<<8*R;m.Ra=z,m.bb=L,m.oa=b,m.pa=P}function Y(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Xs-8>>>0,++m.bb,m.u-=8;Q(m)&&(m.h=1,m.u=0)}function Z(m,b){if(t(0<=b),!m.h&&b<=Ks){var P=U(m)&Ys[b];return m.u+=b,Y(m),P}return m.h=1,m.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(m){return m.Ra>>>(m.u&Xs-1)>>>0}function Q(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Xs}function ne(m,b){m.u=b,m.h=Q(m)}function oe(m){m.u>=Zc&&(t(m.u>=Zc),Y(m))}function he(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function de(m){return V(m,1)}function ie(m,b){var P=m.Ca;0>m.b&&he(m);var L=m.b,R=P*b>>>8,z=(m.I>>>L>R)+0;for(z?(P-=R,m.I-=R+1<<L>>>0):P=R+1,L=P,R=0;256<=L;)R+=8,L>>=8;return L=7^R+mn[L],m.b-=L,m.Ca=(P<<L)-1,z}function xe(m,b,P){m[b+0]=P>>24&255,m[b+1]=P>>16&255,m[b+2]=P>>8&255,m[b+3]=P>>0&255}function be(m,b){return m[b+0]<<0|m[b+1]<<8}function pe(m,b){return be(m,b)|m[b+2]<<16}function Ee(m,b){return be(m,b)|be(m,b+2)<<16}function $e(m,b){var P=1<<b;return t(m!=null),t(0<b),m.X=i(P),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function ye(m,b){t(m!=null),t(b!=null),t(m.Xa==b.Xa),n(b.X,0,m.X,0,1<<b.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Ve(m,b,P,L){t(P!=null),t(L!=null);var R=P[0],z=L[0];return R==0&&(R=(m*z+b/2)/b),z==0&&(z=(b*R+m/2)/m),0>=R||0>=z?0:(P[0]=R,L[0]=z,1)}function Be(m,b){return m+(1<<b)-1>>>b}function ke(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Ce(m,b){E[b]=function(P,L,R,z,W,G,K){var ee;for(ee=0;ee<W;++ee){var le=E[m](G[K+ee-1],R,z+ee);G[K+ee]=ke(P[L+ee],le)}}}function De(){this.ud=this.hd=this.jd=0}function Me(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function Ge(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ze(m,b){return Ge(m+(m-b+.5>>1))}function at(m,b,P){return Math.abs(b-P)-Math.abs(m-P)}function ht(m,b,P,L,R,z,W){for(L=z[W-1],P=0;P<R;++P)z[W+P]=L=ke(m[b+P],L)}function vt(m,b,P,L,R){var z;for(z=0;z<P;++z){var W=m[b+z],G=W>>8&255,K=16711935&(K=(K=16711935&W)+((G<<16)+G));L[R+z]=(4278255360&W)+K>>>0}}function Ot(m,b){b.jd=m>>0&255,b.hd=m>>8&255,b.ud=m>>16&255}function it(m,b,P,L,R,z){var W;for(W=0;W<L;++W){var G=b[P+W],K=G>>>8,ee=G,le=255&(le=(le=G>>>16)+((m.jd<<24>>24)*(K<<24>>24)>>>5));ee=255&(ee=(ee=ee+((m.hd<<24>>24)*(K<<24>>24)>>>5))+((m.ud<<24>>24)*(le<<24>>24)>>>5)),R[z+W]=(4278255360&G)+(le<<16)+ee}}function gt(m,b,P,L,R){E[b]=function(z,W,G,K,ee,le,ge,ve,fe){for(K=ge;K<ve;++K)for(ge=0;ge<fe;++ge)ee[le++]=R(G[L(z[W++])])},E[m]=function(z,W,G,K,ee,le,ge){var ve=8>>z.b,fe=z.Ea,Oe=z.K[0],we=z.w;if(8>ve)for(z=(1<<z.b)-1,we=(1<<ve)-1;W<G;++W){var ce,ue=0;for(ce=0;ce<fe;++ce)ce&z||(ue=L(K[ee++])),le[ge++]=R(Oe[ue&we]),ue>>=ve}else E["VP8LMapColor"+P](K,ee,Oe,we,le,ge,W,G,fe)}}function Fe(m,b,P,L,R){for(P=b+P;b<P;){var z=m[b++];L[R++]=z>>16&255,L[R++]=z>>8&255,L[R++]=z>>0&255}}function Ur(m,b,P,L,R){for(P=b+P;b<P;){var z=m[b++];L[R++]=z>>16&255,L[R++]=z>>8&255,L[R++]=z>>0&255,L[R++]=z>>24&255}}function _t(m,b,P,L,R){for(P=b+P;b<P;){var z=(W=m[b++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;L[R++]=z,L[R++]=W}}function la(m,b,P,L,R){for(P=b+P;b<P;){var z=(W=m[b++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;L[R++]=z,L[R++]=W}}function It(m,b,P,L,R){for(P=b+P;b<P;){var z=m[b++];L[R++]=z>>0&255,L[R++]=z>>8&255,L[R++]=z>>16&255}}function Zt(m,b,P,L,R,z){if(z==0)for(P=b+P;b<P;)xe(L,((z=m[b++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),R+=32;else n(L,R,m,b,P)}function Ra(m,b){E[b][0]=E[m+"0"],E[b][1]=E[m+"1"],E[b][2]=E[m+"2"],E[b][3]=E[m+"3"],E[b][4]=E[m+"4"],E[b][5]=E[m+"5"],E[b][6]=E[m+"6"],E[b][7]=E[m+"7"],E[b][8]=E[m+"8"],E[b][9]=E[m+"9"],E[b][10]=E[m+"10"],E[b][11]=E[m+"11"],E[b][12]=E[m+"12"],E[b][13]=E[m+"13"],E[b][14]=E[m+"0"],E[b][15]=E[m+"0"]}function Et(m){return m==Ag||m==Og||m==kf||m==Pg}function So(){this.eb=[],this.size=this.A=this.fb=0}function tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ca(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new So,this.f.kb=new tr,this.sd=null}function fi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function kt(m,b){var P=m.T,L=b.ba.f.RGBA,R=L.eb,z=L.fb+m.ka*L.A,W=Wn[b.ba.S],G=m.y,K=m.O,ee=m.f,le=m.N,ge=m.ea,ve=m.W,fe=b.cc,Oe=b.dc,we=b.Mc,ce=b.Nc,ue=m.ka,_e=m.ka+m.T,Pe=m.U,Ae=Pe+1>>1;for(ue==0?W(G,K,null,null,ee,le,ge,ve,ee,le,ge,ve,R,z,null,null,Pe):(W(b.ec,b.fc,G,K,fe,Oe,we,ce,ee,le,ge,ve,R,z-L.A,R,z,Pe),++P);ue+2<_e;ue+=2)fe=ee,Oe=le,we=ge,ce=ve,le+=m.Rc,ve+=m.Rc,z+=2*L.A,W(G,(K+=2*m.fa)-m.fa,G,K,fe,Oe,we,ce,ee,le,ge,ve,R,z-L.A,R,z,Pe);return K+=m.fa,m.j+_e<m.o?(n(b.ec,b.fc,G,K,Pe),n(b.cc,b.dc,ee,le,Ae),n(b.Mc,b.Nc,ge,ve,Ae),P--):1&_e||W(G,K,null,null,ee,le,ge,ve,ee,le,ge,ve,R,z+L.A,null,null,Pe),P}function _o(m,b,P){var L=m.F,R=[m.J];if(L!=null){var z=m.U,W=b.ba.S,G=W==Ef||W==kf;b=b.ba.f.RGBA;var K=[0],ee=m.ka;K[0]=m.T,m.Kb&&(ee==0?--K[0]:(--ee,R[0]-=m.width),m.j+m.ka+m.T==m.o&&(K[0]=m.o-m.j-ee));var le=b.eb;ee=b.fb+ee*b.A,m=Ut(L,R[0],m.width,z,K,le,ee+(G?0:3),b.A),t(P==K),m&&Et(W)&&zn(le,ee,G,z,K,b.A)}return 0}function Rr(m){var b=m.ma,P=b.ba.S,L=11>P,R=P==Of||P==Pf||P==Ef||P==_g||P==12||Et(P);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Xc(b.Oa,m,R?11:12))return 0;if(R&&Et(P)&&Te(),m.da)alert("todo:use_scaling");else{if(L){if(b.Ib=st,m.Kb){if(P=m.U+1>>1,b.memory=i(m.U+2*P),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+P,b.Ib=kt,Te()}}else alert("todo:EmitYUV");R&&(b.Jb=_o,L&&me())}if(L&&!Dx){for(m=0;256>m;++m)GO[m]=89858*(m-128)+Cf>>Tf,KO[m]=-22014*(m-128)+Cf,YO[m]=-45773*(m-128),VO[m]=113618*(m-128)+Cf>>Tf;for(m=iu;m<Tg;++m)b=76283*(m-16)+Cf>>Tf,XO[m-iu]=On(b,255),JO[m-iu]=On(b+8>>4,15);Dx=1}return 1}function Fa(m){var b=m.ma,P=m.U,L=m.T;return t(!(1&m.ka)),0>=P||0>=L?0:(P=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,P),b.Dc+=P,1)}function Ba(m){m.ma.memory=null}function Qe(m,b,P,L){return Z(m,8)!=47?0:(b[0]=Z(m,14)+1,P[0]=Z(m,14)+1,L[0]=Z(m,1),Z(m,3)!=0?0:!m.h)}function ua(m,b){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+Z(b,P)+1}function qa(m,b){return 120<b?b-120:1<=(P=((P=CO[b-1])>>4)*m+(8-(15&P)))?P:1;var P}function hn(m,b,P){var L=U(P),R=m[b+=255&L].g-8;return 0<R&&(ne(P,P.u+8),L=U(P),b+=m[b].value,b+=L&(1<<R)-1),ne(P,P.u+m[b].g),m[b].value}function Nr(m,b,P){return P.g+=m.g,P.value+=m.value<<b>>>0,t(8>=P.g),m.g}function gr(m,b,P){var L=m.xc;return t((b=L==0?0:m.vc[m.md*(P>>L)+(b>>L)])<m.Wb),m.Ya[b]}function An(m,b,P,L){var R=m.ab,z=m.c*b,W=m.C;b=W+b;var G=P,K=L;for(L=m.Ta,P=m.Ua;0<R--;){var ee=m.gc[R],le=W,ge=b,ve=G,fe=K,Oe=(K=L,G=P,ee.Ea);switch(t(le<ge),t(ge<=ee.nc),ee.hc){case 2:xf(ve,fe,(ge-le)*Oe,K,G);break;case 0:var we=le,ce=ge,ue=K,_e=G,Pe=(Re=ee).Ea;we==0&&(Ng(ve,fe,null,null,1,ue,_e),ht(ve,fe+1,0,0,Pe-1,ue,_e+1),fe+=Pe,_e+=Pe,++we);for(var Ae=1<<Re.b,ze=Ae-1,Ie=Be(Pe,Re.b),Je=Re.K,Re=Re.w+(we>>Re.b)*Ie;we<ce;){var Pt=Je,Tt=Re,St=1;for(Qc(ve,fe,ue,_e-Pe,1,ue,_e);St<Pe;){var yt=(St&~ze)+Ae;yt>Pe&&(yt=Pe),(0,Wi[Pt[Tt++]>>8&15])(ve,fe+ +St,ue,_e+St-Pe,yt-St,ue,_e+St),St=yt}fe+=Pe,_e+=Pe,++we&ze||(Re+=Ie)}ge!=ee.nc&&n(K,G-Oe,K,G+(ge-le-1)*Oe,Oe);break;case 1:for(Oe=ve,ce=fe,Pe=(ve=ee.Ea)-(_e=ve&~(ue=(fe=1<<ee.b)-1)),we=Be(ve,ee.b),Ae=ee.K,ee=ee.w+(le>>ee.b)*we;le<ge;){for(ze=Ae,Ie=ee,Je=new De,Re=ce+_e,Pt=ce+ve;ce<Re;)Ot(ze[Ie++],Je),To(Je,Oe,ce,fe,K,G),ce+=fe,G+=fe;ce<Pt&&(Ot(ze[Ie++],Je),To(Je,Oe,ce,Pe,K,G),ce+=Pe,G+=Pe),++le&ue||(ee+=we)}break;case 3:if(ve==K&&fe==G&&0<ee.b){for(ce=K,ve=Oe=G+(ge-le)*Oe-(_e=(ge-le)*Be(ee.Ea,ee.b)),fe=K,ue=G,we=[],_e=(Pe=_e)-1;0<=_e;--_e)we[_e]=fe[ue+_e];for(_e=Pe-1;0<=_e;--_e)ce[ve+_e]=we[_e];Fn(ee,le,ge,K,Oe,K,G)}else Fn(ee,le,ge,ve,fe,K,G)}G=L,K=P}K!=P&&n(L,P,G,K,z)}function Ts(m,b){var P=m.V,L=m.Ba+m.c*m.C,R=b-m.C;if(t(b<=m.l.o),t(16>=R),0<R){var z=m.l,W=m.Ta,G=m.Ua,K=z.width;if(An(m,R,P,L),R=G=[G],t((P=m.C)<(L=b)),t(z.v<z.va),L>z.o&&(L=z.o),P<z.j){var ee=z.j-P;P=z.j,R[0]+=ee*K}if(P>=L?P=0:(R[0]+=4*z.v,z.ka=P-z.j,z.U=z.va-z.v,z.T=L-P,P=1),P){if(G=G[0],11>(P=m.ca).S){var le=P.f.RGBA,ge=(L=P.S,R=z.U,z=z.T,ee=le.eb,le.A),ve=z;for(le=le.fb+m.Ma*le.A;0<ve--;){var fe=W,Oe=G,we=R,ce=ee,ue=le;switch(L){case Af:gn(fe,Oe,we,ce,ue);break;case Of:nn(fe,Oe,we,ce,ue);break;case Ag:nn(fe,Oe,we,ce,ue),zn(ce,ue,0,we,1,0);break;case Ox:vi(fe,Oe,we,ce,ue);break;case Pf:Zt(fe,Oe,we,ce,ue,1);break;case Og:Zt(fe,Oe,we,ce,ue,1),zn(ce,ue,0,we,1,0);break;case Ef:Zt(fe,Oe,we,ce,ue,0);break;case kf:Zt(fe,Oe,we,ce,ue,0),zn(ce,ue,1,we,1,0);break;case _g:Hi(fe,Oe,we,ce,ue);break;case Pg:Hi(fe,Oe,we,ce,ue),zt(ce,ue,we,1,0);break;case Px:gi(fe,Oe,we,ce,ue);break;default:t(0)}G+=K,le+=ge}m.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=P.height)}}m.C=b,t(m.C<=m.i)}function hi(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var P=m.Ya[b].G,L=m.Ya[b].H;if(0<P[1][L[1]+0].g||0<P[2][L[2]+0].g||0<P[3][L[3]+0].g)return 0}return 1}function da(m,b,P,L,R,z){if(m.Z!=0){var W=m.qd,G=m.rd;for(t(Ki[m.Z]!=null);b<P;++b)Ki[m.Z](W,G,L,R,L,R,z),W=L,G=R,R+=z;m.qd=W,m.rd=G}}function fa(m,b){var P=m.l.ma,L=P.Z==0||P.Z==1?m.l.j:m.C;if(L=m.C<L?L:m.C,t(b<=m.l.o),b>L){var R=m.l.width,z=P.ca,W=P.tb+R*L,G=m.V,K=m.Ba+m.c*L,ee=m.gc;t(m.ab==1),t(ee[0].hc==3),wf(ee[0],L,b,G,K,z,W),da(P,L,b,z,W,R)}m.C=m.Ma=b}function ha(m,b,P,L,R,z,W){var G=m.$/L,K=m.$%L,ee=m.m,le=m.s,ge=P+m.$,ve=ge;R=P+L*R;var fe=P+L*z,Oe=280+le.ua,we=m.Pb?G:16777216,ce=0<le.ua?le.Wa:null,ue=le.wc,_e=ge<fe?gr(le,K,G):null;t(m.C<z),t(fe<=R);var Pe=!1;e:for(;;){for(;Pe||ge<fe;){var Ae=0;if(G>=we){var ze=ge-P;t((we=m).Pb),we.wd=we.m,we.xd=ze,0<we.s.ua&&ye(we.s.Wa,we.s.vb),we=G+MO}if(K&ue||(_e=gr(le,K,G)),t(_e!=null),_e.Qb&&(b[ge]=_e.qb,Pe=!0),!Pe)if(oe(ee),_e.jc){Ae=ee,ze=b;var Ie=ge,Je=_e.pd[U(Ae)&Fr-1];t(_e.jc),256>Je.g?(ne(Ae,Ae.u+Je.g),ze[Ie]=Je.value,Ae=0):(ne(Ae,Ae.u+Je.g-256),t(256<=Je.value),Ae=Je.value),Ae==0&&(Pe=!0)}else Ae=hn(_e.G[0],_e.H[0],ee);if(ee.h)break;if(Pe||256>Ae){if(!Pe)if(_e.nd)b[ge]=(_e.qb|Ae<<8)>>>0;else{if(oe(ee),Pe=hn(_e.G[1],_e.H[1],ee),oe(ee),ze=hn(_e.G[2],_e.H[2],ee),Ie=hn(_e.G[3],_e.H[3],ee),ee.h)break;b[ge]=(Ie<<24|Pe<<16|Ae<<8|ze)>>>0}if(Pe=!1,++ge,++K>=L&&(K=0,++G,W!=null&&G<=z&&!(G%16)&&W(m,G),ce!=null))for(;ve<ge;)Ae=b[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae}else if(280>Ae){if(Ae=ua(Ae-256,ee),ze=hn(_e.G[4],_e.H[4],ee),oe(ee),ze=qa(L,ze=ua(ze,ee)),ee.h)break;if(ge-P<ze||R-ge<Ae)break e;for(Ie=0;Ie<Ae;++Ie)b[ge+Ie]=b[ge+Ie-ze];for(ge+=Ae,K+=Ae;K>=L;)K-=L,++G,W!=null&&G<=z&&!(G%16)&&W(m,G);if(t(ge<=R),K&ue&&(_e=gr(le,K,G)),ce!=null)for(;ve<ge;)Ae=b[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae}else{if(!(Ae<Oe))break e;for(Pe=Ae-280,t(ce!=null);ve<ge;)Ae=b[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae;Ae=ge,t(!(Pe>>>(ze=ce).Xa)),b[Ae]=ze.X[Pe],Pe=!0}Pe||t(ee.h==Q(ee))}if(m.Pb&&ee.h&&ge<R)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ye(m.s.vb,m.s.Wa);else{if(ee.h)break e;W!=null&&W(m,G>z?z:G),m.a=0,m.$=ge-P}return 1}return m.a=3,0}function za(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,t(m!=null)}function Rn(){var m=new jg;return m==null?null:(m.a=0,m.xb=Tx,Ra("Predictor","VP8LPredictors"),Ra("Predictor","VP8LPredictors_C"),Ra("PredictorAdd","VP8LPredictorsAdd"),Ra("PredictorAdd","VP8LPredictorsAdd_C"),xf=vt,To=it,gn=Fe,nn=Ur,Hi=_t,gi=la,vi=It,E.VP8LMapColor32b=Js,E.VP8LMapColor8b=jf,m)}function Ua(m,b,P,L,R){var z=1,W=[m],G=[b],K=L.m,ee=L.s,le=null,ge=0;e:for(;;){if(P)for(;z&&Z(K,1);){var ve=W,fe=G,Oe=L,we=1,ce=Oe.m,ue=Oe.gc[Oe.ab],_e=Z(ce,2);if(Oe.Oc&1<<_e)z=0;else{switch(Oe.Oc|=1<<_e,ue.hc=_e,ue.Ea=ve[0],ue.nc=fe[0],ue.K=[null],++Oe.ab,t(4>=Oe.ab),_e){case 0:case 1:ue.b=Z(ce,3)+2,we=Ua(Be(ue.Ea,ue.b),Be(ue.nc,ue.b),0,Oe,ue.K),ue.K=ue.K[0];break;case 3:var Pe,Ae=Z(ce,8)+1,ze=16<Ae?0:4<Ae?1:2<Ae?2:3;if(ve[0]=Be(ue.Ea,ze),ue.b=ze,Pe=we=Ua(Ae,1,0,Oe,ue.K)){var Ie,Je=Ae,Re=ue,Pt=1<<(8>>Re.b),Tt=i(Pt);if(Tt==null)Pe=0;else{var St=Re.K[0],yt=Re.w;for(Tt[0]=Re.K[0][0],Ie=1;Ie<1*Je;++Ie)Tt[Ie]=ke(St[yt+Ie],Tt[Ie-1]);for(;Ie<4*Pt;++Ie)Tt[Ie]=0;Re.K[0]=null,Re.K[0]=Tt,Pe=1}}we=Pe;break;case 2:break;default:t(0)}z=we}}if(W=W[0],G=G[0],z&&Z(K,1)&&!(z=1<=(ge=Z(K,4))&&11>=ge)){L.a=3;break e}var Rt;if(Rt=z)t:{var $t,dt,yr,vn=L,br=W,yn=G,Ct=ge,En=P,kn=vn.m,Cr=vn.s,Br=[null],on=1,Hn=0,Va=LO[Ct];r:for(;;){if(En&&Z(kn,1)){var Lr=Z(kn,3)+2,wi=Be(br,Lr),Do=Be(yn,Lr),rl=wi*Do;if(!Ua(wi,Do,0,vn,Br))break r;for(Br=Br[0],Cr.xc=Lr,$t=0;$t<rl;++$t){var Xi=Br[$t]>>8&65535;Br[$t]=Xi,Xi>=on&&(on=Xi+1)}}if(kn.h)break r;for(dt=0;5>dt;++dt){var ar=Ex[dt];!dt&&0<Ct&&(ar+=1<<Ct),Hn<ar&&(Hn=ar)}var Cg=o(on*Va,C),Fx=on,Bx=o(Fx,I);if(Bx==null)var Mf=null;else t(65536>=Fx),Mf=Bx;var ou=i(Hn);if(Mf==null||ou==null||Cg==null){vn.a=1;break r}var $f=Cg;for($t=yr=0;$t<on;++$t){var ya=Mf[$t],nl=ya.G,al=ya.H,qx=0,Df=1,zx=0;for(dt=0;5>dt;++dt){ar=Ex[dt],nl[dt]=$f,al[dt]=yr,!dt&&0<Ct&&(ar+=1<<Ct);a:{var If,Lg=ar,Rf=vn,su=ou,eP=$f,tP=yr,Mg=0,Ji=Rf.m,rP=Z(Ji,1);if(a(su,0,0,Lg),rP){var nP=Z(Ji,1)+1,aP=Z(Ji,1),Ux=Z(Ji,aP==0?1:8);su[Ux]=1,nP==2&&(su[Ux=Z(Ji,8)]=1);var Ff=1}else{var Wx=i(19),Hx=Z(Ji,4)+4;if(19<Hx){Rf.a=3;var Bf=0;break a}for(If=0;If<Hx;++If)Wx[TO[If]]=Z(Ji,3);var $g=void 0,lu=void 0,Gx=Rf,iP=Wx,qf=Lg,Vx=su,Dg=0,Zi=Gx.m,Yx=8,Kx=o(128,C);n:for(;k(Kx,0,7,iP,19);){if(Z(Zi,1)){var oP=2+2*Z(Zi,3);if(($g=2+Z(Zi,oP))>qf)break n}else $g=qf;for(lu=0;lu<qf&&$g--;){oe(Zi);var Xx=Kx[0+(127&U(Zi))];ne(Zi,Zi.u+Xx.g);var il=Xx.value;if(16>il)Vx[lu++]=il,il!=0&&(Yx=il);else{var sP=il==16,Jx=il-16,lP=EO[Jx],Zx=Z(Zi,PO[Jx])+lP;if(lu+Zx>qf)break n;for(var cP=sP?Yx:0;0<Zx--;)Vx[lu++]=cP}}Dg=1;break n}Dg||(Gx.a=3),Ff=Dg}(Ff=Ff&&!Ji.h)&&(Mg=k(eP,tP,8,su,Lg)),Ff&&Mg!=0?Bf=Mg:(Rf.a=3,Bf=0)}if(Bf==0)break r;if(Df&&kO[dt]==1&&(Df=$f[yr].g==0),qx+=$f[yr].g,yr+=Bf,3>=dt){var cu,Ig=ou[0];for(cu=1;cu<ar;++cu)ou[cu]>Ig&&(Ig=ou[cu]);zx+=Ig}}if(ya.nd=Df,ya.Qb=0,Df&&(ya.qb=(nl[3][al[3]+0].value<<24|nl[1][al[1]+0].value<<16|nl[2][al[2]+0].value)>>>0,qx==0&&256>nl[0][al[0]+0].value&&(ya.Qb=1,ya.qb+=nl[0][al[0]+0].value<<8)),ya.jc=!ya.Qb&&6>zx,ya.jc){var zf,ji=ya;for(zf=0;zf<Fr;++zf){var Qi=zf,eo=ji.pd[Qi],Uf=ji.G[0][ji.H[0]+Qi];256<=Uf.value?(eo.g=Uf.g+256,eo.value=Uf.value):(eo.g=0,eo.value=0,Qi>>=Nr(Uf,8,eo),Qi>>=Nr(ji.G[1][ji.H[1]+Qi],16,eo),Qi>>=Nr(ji.G[2][ji.H[2]+Qi],0,eo),Nr(ji.G[3][ji.H[3]+Qi],24,eo))}}}Cr.vc=Br,Cr.Wb=on,Cr.Ya=Mf,Cr.yc=Cg,Rt=1;break t}Rt=0}if(!(z=Rt)){L.a=3;break e}if(0<ge){if(ee.ua=1<<ge,!$e(ee.Wa,ge)){L.a=1,z=0;break e}}else ee.ua=0;var Rg=L,Qx=W,uP=G,Fg=Rg.s,Bg=Fg.xc;if(Rg.c=Qx,Rg.i=uP,Fg.md=Be(Qx,Bg),Fg.wc=Bg==0?-1:(1<<Bg)-1,P){L.xb=qO;break e}if((le=i(W*G))==null){L.a=1,z=0;break e}z=(z=ha(L,le,0,W,G,G,null))&&!K.h;break e}return z?(R!=null?R[0]=le:(t(le==null),t(P)),L.$=0,P||za(ee)):za(ee),z}function Ao(m,b){var P=m.c*m.i,L=P+b+16*b;return t(m.c<=b),m.V=i(L),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+b,1)}function Cs(m,b){var P=m.C,L=b-P,R=m.V,z=m.Ba+m.c*P;for(t(b<=m.l.o);0<L;){var W=16<L?16:L,G=m.l.ma,K=m.l.width,ee=K*W,le=G.ca,ge=G.tb+K*P,ve=m.Ta,fe=m.Ua;An(m,W,R,z),fr(ve,fe,le,ge,ee),da(G,P,P+W,le,ge,K),L-=W,R+=W*m.c,P+=W}t(P==b),m.C=m.Ma=b}function Ls(){this.ub=this.yd=this.td=this.Rb=0}function Ms(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $s(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Qd(){this.Yb=function(){var m=[];return function b(P,L,R){for(var z=R[L],W=0;W<z&&(P.push(R.length>L+1?[]:0),!(R.length<L+1));W++)b(P[W],L+1,R)}(m,0,[3,11]),m}()}function Qm(){this.jb=i(3),this.Wc=s([4,8],Qd),this.Xc=s([4,17],Qd)}function eg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ds(){this.ld=this.La=this.dd=this.tc=0}function ef(){this.Na=this.la=0}function tg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Mc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rg(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ds),this.Y=0,this.ya=Array(new Mc),this.aa=0,this.l=new Is}function tf(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ng(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new Ls,this.Kc=new Ms,this.ed=new eg,this.Qa=new $s,this.Ic=this.$c=this.Aa=0,this.D=new rg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ae),this.ia=0,this.pb=o(4,tg),this.Pa=new Qm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tf),this.Hd=0,this.rb=Array(new ef),this.sb=0,this.wa=Array(new Ds),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Mc),this.L=this.aa=0,this.gd=s([4,2],Ds),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Is(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ag(){var m=new ng;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,au||(au=af)),m}function ur(m,b,P){return m.a==0&&(m.a=b,m.sc=P,m.cb=0),0}function rf(m,b,P){return 3<=P&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function nf(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return ur(m,2,"null VP8Io passed to VP8GetHeaders()");var P=b.data,L=b.w,R=b.ha;if(4>R)return ur(m,7,"Truncated header.");var z=P[L+0]|P[L+1]<<8|P[L+2]<<16,W=m.Od;if(W.Rb=!(1&z),W.td=z>>1&7,W.yd=z>>4&1,W.ub=z>>5,3<W.td)return ur(m,3,"Incorrect keyframe parameters.");if(!W.yd)return ur(m,4,"Frame not displayable.");L+=3,R-=3;var G=m.Kc;if(W.Rb){if(7>R)return ur(m,7,"cannot parse picture header");if(!rf(P,L,R))return ur(m,3,"Bad code word");G.c=16383&(P[L+4]<<8|P[L+3]),G.Td=P[L+4]>>6,G.i=16383&(P[L+6]<<8|P[L+5]),G.Ud=P[L+6]>>6,L+=7,R-=7,m.za=G.c+15>>4,m.Ub=G.i+15>>4,b.width=G.c,b.height=G.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((z=m.Pa).jb,0,255,z.jb.length),t((z=m.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,a(z.Zb,0,0,z.Zb.length),a(z.Lb,0,0,z.Lb)}if(W.ub>R)return ur(m,7,"bad partition length");H(z=m.m,P,L,W.ub),L+=W.ub,R-=W.ub,W.Rb&&(G.Ld=de(z),G.Kd=de(z)),G=m.Qa;var K,ee=m.Pa;if(t(z!=null),t(G!=null),G.Cb=de(z),G.Cb){if(G.Bb=de(z),de(z)){for(G.Fb=de(z),K=0;4>K;++K)G.Zb[K]=de(z)?X(z,7):0;for(K=0;4>K;++K)G.Lb[K]=de(z)?X(z,6):0}if(G.Bb)for(K=0;3>K;++K)ee.jb[K]=de(z)?V(z,8):255}else G.Bb=0;if(z.Ka)return ur(m,3,"cannot parse segment header");if((G=m.ed).zd=de(z),G.Tb=V(z,6),G.wb=V(z,3),G.Pc=de(z),G.Pc&&de(z)){for(ee=0;4>ee;++ee)de(z)&&(G.vd[ee]=X(z,6));for(ee=0;4>ee;++ee)de(z)&&(G.od[ee]=X(z,6))}if(m.L=G.Tb==0?0:G.zd?1:2,z.Ka)return ur(m,3,"cannot parse filter header");var le=R;if(R=K=L,L=K+le,G=le,m.Xb=(1<<V(m.m,2))-1,le<3*(ee=m.Xb))P=7;else{for(K+=3*ee,G-=3*ee,le=0;le<ee;++le){var ge=P[R+0]|P[R+1]<<8|P[R+2]<<16;ge>G&&(ge=G),H(m.Jc[+le],P,K,ge),K+=ge,G-=ge,R+=3}H(m.Jc[+ee],P,K,G),P=K<L?0:5}if(P!=0)return ur(m,P,"cannot parse partitions");for(P=V(K=m.m,7),R=de(K)?X(K,4):0,L=de(K)?X(K,4):0,G=de(K)?X(K,4):0,ee=de(K)?X(K,4):0,K=de(K)?X(K,4):0,le=m.Qa,ge=0;4>ge;++ge){if(le.Cb){var ve=le.Zb[ge];le.Fb||(ve+=P)}else{if(0<ge){m.pb[ge]=m.pb[0];continue}ve=P}var fe=m.pb[ge];fe.Sc[0]=Eg[On(ve+R,127)],fe.Sc[1]=kg[On(ve+0,127)],fe.Eb[0]=2*Eg[On(ve+L,127)],fe.Eb[1]=101581*kg[On(ve+G,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=Eg[On(ve+ee,117)],fe.Qc[1]=kg[On(ve+K,127)],fe.lc=ve+K}if(!W.Rb)return ur(m,4,"Not a key frame.");for(de(z),W=m.Pa,P=0;4>P;++P){for(R=0;8>R;++R)for(L=0;3>L;++L)for(G=0;11>G;++G)ee=ie(z,FO[P][R][L][G])?V(z,8):IO[P][R][L][G],W.Wc[P][R].Yb[L][G]=ee;for(R=0;17>R;++R)W.Xc[P][R]=W.Wc[P][BO[R]]}return m.kc=de(z),m.kc&&(m.Bd=V(z,8)),m.cb=1}function af(m,b,P,L,R,z,W){var G=b[R].Yb[P];for(P=0;16>R;++R){if(!ie(m,G[P+0]))return R;for(;!ie(m,G[P+1]);)if(G=b[++R].Yb[0],P=0,R==16)return 16;var K=b[R+1].Yb;if(ie(m,G[P+2])){var ee=m,le=0;if(ie(ee,(ve=G)[(ge=P)+3]))if(ie(ee,ve[ge+6])){for(G=0,ge=2*(le=ie(ee,ve[ge+8]))+(ve=ie(ee,ve[ge+9+le])),le=0,ve=$O[ge];ve[G];++G)le+=le+ie(ee,ve[G]);le+=3+(8<<ge)}else ie(ee,ve[ge+7])?(le=7+2*ie(ee,165),le+=ie(ee,145)):le=5+ie(ee,159);else le=ie(ee,ve[ge+4])?3+ie(ee,ve[ge+5]):2;G=K[2]}else le=1,G=K[1];K=W+DO[R],0>(ee=m).b&&he(ee);var ge,ve=ee.b,fe=(ge=ee.Ca>>1)-(ee.I>>ve)>>31;--ee.b,ee.Ca+=fe,ee.Ca|=1,ee.I-=(ge+1&fe)<<ve,z[K]=((le^fe)-fe)*L[(0<R)+0]}return 16}function $c(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function ig(m,b){if(m==null)return 0;if(b==null)return ur(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!nf(m,b))return 0;if(t(m.cb),b.ac==null||b.ac(b)){b.ob&&(m.L=0);var P=Lf[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=b.v-P>>4,m.zb=b.j-P>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=b.o+15+P>>4,m.Hb=b.va+15+P>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var L=m.ed;for(P=0;4>P;++P){var R;if(m.Qa.Cb){var z=m.Qa.Lb[P];m.Qa.Fb||(z+=L.Tb)}else z=L.Tb;for(R=0;1>=R;++R){var W=m.gd[P][R],G=z;if(L.Pc&&(G+=L.vd[0],R&&(G+=L.od[0])),0<(G=0>G?0:63<G?63:G)){var K=G;0<L.wb&&(K=4<L.wb?K>>2:K>>1)>9-L.wb&&(K=9-L.wb),1>K&&(K=1),W.dd=K,W.tc=2*G+K,W.ld=40<=G?2:15<=G?1:0}else W.tc=0;W.La=R}}}P=0}else ur(m,6,"Frame setup failed"),P=m.a;if(P=P==0){if(P){m.$c=0,0<m.Aa||(m.Ic=QO);e:{P=m.Ic,L=4*(K=m.za);var ee=32*K,le=K+1,ge=0<m.L?K*(0<m.Aa?2:1):0,ve=(m.Aa==2?2:1)*K;if((W=L+832+(R=3*(16*P+Lf[m.L])/2*ee)+(z=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=W)P=0;else{if(W>m.Vb){if(m.Vb=0,m.Ec=i(W),m.Fc=0,m.Ec==null){P=ur(m,1,"no memory during frame initialization.");break e}m.Vb=W}W=m.Ec,G=m.Fc,m.Ac=W,m.Bc=G,G+=L,m.Gd=o(ee,tf),m.Hd=0,m.rb=o(le+1,ef),m.sb=1,m.wa=ge?o(ge,Ds):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=K),t(!0),m.oc=W,m.pc=G,G+=832,m.ya=o(ve,Mc),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=K),m.R=16*K,m.B=8*K,K=(ee=Lf[m.L])*m.R,ee=ee/2*m.B,m.sa=W,m.ta=G+K,m.qa=m.sa,m.ra=m.ta+16*P*m.R+ee,m.Ha=m.qa,m.Ia=m.ra+8*P*m.B+ee,m.$c=0,G+=R,m.mb=z?W:null,m.nb=z?G:null,t(G+z<=m.Fc+m.Vb),$c(m),a(m.Ac,m.Bc,0,L),P=1}}if(P){if(b.ka=0,b.y=m.sa,b.O=m.ta,b.f=m.qa,b.N=m.ra,b.ea=m.Ha,b.Vd=m.Ia,b.fa=m.R,b.Rc=m.B,b.F=null,b.J=0,!Sf){for(P=-255;255>=P;++P)Sr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)bi[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)nu[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)tl[255+P]=0>P?0:255<P?255:P;Sf=1}Zs=lg,yi=og,eu=sf,an=sg,Bn=lf,dr=of,Qs=qc,Nf=Eo,tu=wg,Co=zc,Lo=xg,Gi=Us,Mo=Uc,el=vf,$o=gf,Vi=Ha,ru=mi,qn=bg,va[0]=Wa,va[1]=cg,va[2]=hg,va[3]=pg,va[4]=df,va[5]=qs,va[6]=ff,va[7]=Rc,va[8]=gg,va[9]=mg,Yi[0]=cf,Yi[1]=dg,Yi[2]=pi,Yi[3]=Fs,Yi[4]=Wr,Yi[5]=fg,Yi[6]=uf,xi[0]=qi,xi[1]=ug,xi[2]=vg,xi[3]=Fc,xi[4]=Po,xi[5]=yg,xi[6]=Bc,P=1}else P=0}P&&(P=function(fe,Oe){for(fe.M=0;fe.M<fe.Va;++fe.M){var we,ce=fe.Jc[fe.M&fe.Xb],ue=fe.m,_e=fe;for(we=0;we<_e.za;++we){var Pe=ue,Ae=_e,ze=Ae.Ac,Ie=Ae.Bc+4*we,Je=Ae.zc,Re=Ae.ya[Ae.aa+we];if(Ae.Qa.Bb?Re.$b=ie(Pe,Ae.Pa.jb[0])?2+ie(Pe,Ae.Pa.jb[2]):ie(Pe,Ae.Pa.jb[1]):Re.$b=0,Ae.kc&&(Re.Ad=ie(Pe,Ae.Bd)),Re.Za=!ie(Pe,145)+0,Re.Za){var Pt=Re.Ob,Tt=0;for(Ae=0;4>Ae;++Ae){var St,yt=Je[0+Ae];for(St=0;4>St;++St){yt=RO[ze[Ie+St]][yt];for(var Rt=kx[ie(Pe,yt[0])];0<Rt;)Rt=kx[2*Rt+ie(Pe,yt[Rt])];yt=-Rt,ze[Ie+St]=yt}n(Pt,Tt,ze,Ie,4),Tt+=4,Je[0+Ae]=yt}}else yt=ie(Pe,156)?ie(Pe,128)?1:3:ie(Pe,163)?2:0,Re.Ob[0]=yt,a(ze,Ie,yt,4),a(Je,0,yt,4);Re.Dd=ie(Pe,142)?ie(Pe,114)?ie(Pe,183)?1:3:2:0}if(_e.m.Ka)return ur(fe,7,"Premature end-of-partition0 encountered.");for(;fe.ja<fe.za;++fe.ja){if(_e=ce,Pe=(ue=fe).rb[ue.sb-1],ze=ue.rb[ue.sb+ue.ja],we=ue.ya[ue.aa+ue.ja],Ie=ue.kc?we.Ad:0)Pe.la=ze.la=0,we.Za||(Pe.Na=ze.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var $t,dt;if(Pe=ze,ze=_e,Ie=ue.Pa.Xc,Je=ue.ya[ue.aa+ue.ja],Re=ue.pb[Je.$b],Ae=Je.ad,Pt=0,Tt=ue.rb[ue.sb-1],yt=St=0,a(Ae,Pt,0,384),Je.Za)var yr=0,vn=Ie[3];else{Rt=i(16);var br=Pe.Na+Tt.Na;if(br=au(ze,Ie[1],br,Re.Eb,0,Rt,0),Pe.Na=Tt.Na=(0<br)+0,1<br)Zs(Rt,0,Ae,Pt);else{var yn=Rt[0]+3>>3;for(Rt=0;256>Rt;Rt+=16)Ae[Pt+Rt]=yn}yr=1,vn=Ie[0]}var Ct=15&Pe.la,En=15&Tt.la;for(Rt=0;4>Rt;++Rt){var kn=1&En;for(yn=dt=0;4>yn;++yn)Ct=Ct>>1|(kn=(br=au(ze,vn,br=kn+(1&Ct),Re.Sc,yr,Ae,Pt))>yr)<<7,dt=dt<<2|(3<br?3:1<br?2:Ae[Pt+0]!=0),Pt+=16;Ct>>=4,En=En>>1|kn<<7,St=(St<<8|dt)>>>0}for(vn=Ct,yr=En>>4,$t=0;4>$t;$t+=2){for(dt=0,Ct=Pe.la>>4+$t,En=Tt.la>>4+$t,Rt=0;2>Rt;++Rt){for(kn=1&En,yn=0;2>yn;++yn)br=kn+(1&Ct),Ct=Ct>>1|(kn=0<(br=au(ze,Ie[2],br,Re.Qc,0,Ae,Pt)))<<3,dt=dt<<2|(3<br?3:1<br?2:Ae[Pt+0]!=0),Pt+=16;Ct>>=2,En=En>>1|kn<<5}yt|=dt<<4*$t,vn|=Ct<<4<<$t,yr|=(240&En)<<$t}Pe.la=vn,Tt.la=yr,Je.Hc=St,Je.Gc=yt,Je.ia=43690&yt?0:Re.ia,Ie=!(St|yt)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[we.$b][we.Za],ue.wa[ue.Y+ue.ja].La|=!Ie),_e.Ka)return ur(fe,7,"Premature end-of-file encountered.")}if($c(fe),ue=Oe,_e=1,we=(ce=fe).D,Pe=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(we.M=ce.M,we.uc=Pe,Kc(ce,we),_e=1,we=(dt=ce.D).Nb,Pe=(yt=Lf[ce.L])*ce.R,ze=yt/2*ce.B,Rt=16*we*ce.R,yn=8*we*ce.B,Ie=ce.sa,Je=ce.ta-Pe+Rt,Re=ce.qa,Ae=ce.ra-ze+yn,Pt=ce.Ha,Tt=ce.Ia-ze+yn,En=(Ct=dt.M)==0,St=Ct>=ce.Va-1,ce.Aa==2&&Kc(ce,dt),dt.uc)for(kn=(br=ce).D.M,t(br.D.uc),dt=br.yb;dt<br.Hb;++dt){yr=dt,vn=kn;var Cr=(Br=(ar=br).D).Nb;$t=ar.R;var Br=Br.wa[Br.Y+yr],on=ar.sa,Hn=ar.ta+16*Cr*$t+16*yr,Va=Br.dd,Lr=Br.tc;if(Lr!=0)if(t(3<=Lr),ar.L==1)0<yr&&Vi(on,Hn,$t,Lr+4),Br.La&&qn(on,Hn,$t,Lr),0<vn&&$o(on,Hn,$t,Lr+4),Br.La&&ru(on,Hn,$t,Lr);else{var wi=ar.B,Do=ar.qa,rl=ar.ra+8*Cr*wi+8*yr,Xi=ar.Ha,ar=ar.Ia+8*Cr*wi+8*yr;Cr=Br.ld,0<yr&&(Nf(on,Hn,$t,Lr+4,Va,Cr),Co(Do,rl,Xi,ar,wi,Lr+4,Va,Cr)),Br.La&&(Gi(on,Hn,$t,Lr,Va,Cr),el(Do,rl,Xi,ar,wi,Lr,Va,Cr)),0<vn&&(Qs(on,Hn,$t,Lr+4,Va,Cr),tu(Do,rl,Xi,ar,wi,Lr+4,Va,Cr)),Br.La&&(Lo(on,Hn,$t,Lr,Va,Cr),Mo(Do,rl,Xi,ar,wi,Lr,Va,Cr))}}if(ce.ia&&alert("todo:DitherRow"),ue.put!=null){if(dt=16*Ct,Ct=16*(Ct+1),En?(ue.y=ce.sa,ue.O=ce.ta+Rt,ue.f=ce.qa,ue.N=ce.ra+yn,ue.ea=ce.Ha,ue.W=ce.Ia+yn):(dt-=yt,ue.y=Ie,ue.O=Je,ue.f=Re,ue.N=Ae,ue.ea=Pt,ue.W=Tt),St||(Ct-=yt),Ct>ue.o&&(Ct=ue.o),ue.F=null,ue.J=null,ce.Fa!=null&&0<ce.Fa.length&&dt<Ct&&(ue.J=Vc(ce,ue,dt,Ct-dt),ue.F=ce.mb,ue.F==null&&ue.F.length==0)){_e=ur(ce,3,"Could not decode alpha data.");break e}dt<ue.j&&(yt=ue.j-dt,dt=ue.j,t(!(1&yt)),ue.O+=ce.R*yt,ue.N+=ce.B*(yt>>1),ue.W+=ce.B*(yt>>1),ue.F!=null&&(ue.J+=ue.width*yt)),dt<Ct&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=dt-ue.j,ue.U=ue.va-ue.v,ue.T=Ct-dt,_e=ue.put(ue))}we+1!=ce.Ic||St||(n(ce.sa,ce.ta-Pe,Ie,Je+16*ce.R,Pe),n(ce.qa,ce.ra-ze,Re,Ae+8*ce.B,ze),n(ce.Ha,ce.Ia-ze,Pt,Tt+8*ce.B,ze))}if(!_e)return ur(fe,6,"Output aborted.")}return 1}(m,b)),b.bc!=null&&b.bc(b),P&=1}return P?(m.cb=0,P):0}function pa(m,b,P,L,R){R=m[b+P+32*L]+(R>>3),m[b+P+32*L]=-256&R?0>R?0:255:R}function Rs(m,b,P,L,R,z){pa(m,b,0,P,L+R),pa(m,b,1,P,L+z),pa(m,b,2,P,L-z),pa(m,b,3,P,L-R)}function pn(m){return(20091*m>>16)+m}function Dc(m,b,P,L){var R,z=0,W=i(16);for(R=0;4>R;++R){var G=m[b+0]+m[b+8],K=m[b+0]-m[b+8],ee=(35468*m[b+4]>>16)-pn(m[b+12]),le=pn(m[b+4])+(35468*m[b+12]>>16);W[z+0]=G+le,W[z+1]=K+ee,W[z+2]=K-ee,W[z+3]=G-le,z+=4,b++}for(R=z=0;4>R;++R)G=(m=W[z+0]+4)+W[z+8],K=m-W[z+8],ee=(35468*W[z+4]>>16)-pn(W[z+12]),pa(P,L,0,0,G+(le=pn(W[z+4])+(35468*W[z+12]>>16))),pa(P,L,1,0,K+ee),pa(P,L,2,0,K-ee),pa(P,L,3,0,G-le),z++,L+=32}function of(m,b,P,L){var R=m[b+0]+4,z=35468*m[b+4]>>16,W=pn(m[b+4]),G=35468*m[b+1]>>16;Rs(P,L,0,R+W,m=pn(m[b+1]),G),Rs(P,L,1,R+z,m,G),Rs(P,L,2,R-z,m,G),Rs(P,L,3,R-W,m,G)}function og(m,b,P,L,R){Dc(m,b,P,L),R&&Dc(m,b+16,P,L+4)}function sf(m,b,P,L){yi(m,b+0,P,L,1),yi(m,b+32,P,L+128,1)}function sg(m,b,P,L){var R;for(m=m[b+0]+4,R=0;4>R;++R)for(b=0;4>b;++b)pa(P,L,b,R,m)}function lf(m,b,P,L){m[b+0]&&an(m,b+0,P,L),m[b+16]&&an(m,b+16,P,L+4),m[b+32]&&an(m,b+32,P,L+128),m[b+48]&&an(m,b+48,P,L+128+4)}function lg(m,b,P,L){var R,z=i(16);for(R=0;4>R;++R){var W=m[b+0+R]+m[b+12+R],G=m[b+4+R]+m[b+8+R],K=m[b+4+R]-m[b+8+R],ee=m[b+0+R]-m[b+12+R];z[0+R]=W+G,z[8+R]=W-G,z[4+R]=ee+K,z[12+R]=ee-K}for(R=0;4>R;++R)W=(m=z[0+4*R]+3)+z[3+4*R],G=z[1+4*R]+z[2+4*R],K=z[1+4*R]-z[2+4*R],ee=m-z[3+4*R],P[L+0]=W+G>>3,P[L+16]=ee+K>>3,P[L+32]=W-G>>3,P[L+48]=ee-K>>3,L+=64}function Ic(m,b,P){var L,R=b-32,z=Pn,W=255-m[R-1];for(L=0;L<P;++L){var G,K=z,ee=W+m[b-1];for(G=0;G<P;++G)m[b+G]=K[ee+m[R+G]];b+=32}}function cg(m,b){Ic(m,b,4)}function ug(m,b){Ic(m,b,8)}function dg(m,b){Ic(m,b,16)}function pi(m,b){var P;for(P=0;16>P;++P)n(m,b+32*P,m,b-32,16)}function Fs(m,b){var P;for(P=16;0<P;--P)a(m,b,m[b-1],16),b+=32}function Bs(m,b,P){var L;for(L=0;16>L;++L)a(b,P+32*L,m,16)}function cf(m,b){var P,L=16;for(P=0;16>P;++P)L+=m[b-1+32*P]+m[b+P-32];Bs(L>>5,m,b)}function Wr(m,b){var P,L=8;for(P=0;16>P;++P)L+=m[b-1+32*P];Bs(L>>4,m,b)}function fg(m,b){var P,L=8;for(P=0;16>P;++P)L+=m[b+P-32];Bs(L>>4,m,b)}function uf(m,b){Bs(128,m,b)}function ot(m,b,P){return m+2*b+P+2>>2}function hg(m,b){var P,L=b-32;for(L=new Uint8Array([ot(m[L-1],m[L+0],m[L+1]),ot(m[L+0],m[L+1],m[L+2]),ot(m[L+1],m[L+2],m[L+3]),ot(m[L+2],m[L+3],m[L+4])]),P=0;4>P;++P)n(m,b+32*P,L,0,L.length)}function pg(m,b){var P=m[b-1],L=m[b-1+32],R=m[b-1+64],z=m[b-1+96];xe(m,b+0,16843009*ot(m[b-1-32],P,L)),xe(m,b+32,16843009*ot(P,L,R)),xe(m,b+64,16843009*ot(L,R,z)),xe(m,b+96,16843009*ot(R,z,z))}function Wa(m,b){var P,L=4;for(P=0;4>P;++P)L+=m[b+P-32]+m[b-1+32*P];for(L>>=3,P=0;4>P;++P)a(m,b+32*P,L,4)}function df(m,b){var P=m[b-1+0],L=m[b-1+32],R=m[b-1+64],z=m[b-1-32],W=m[b+0-32],G=m[b+1-32],K=m[b+2-32],ee=m[b+3-32];m[b+0+96]=ot(L,R,m[b-1+96]),m[b+1+96]=m[b+0+64]=ot(P,L,R),m[b+2+96]=m[b+1+64]=m[b+0+32]=ot(z,P,L),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=ot(W,z,P),m[b+3+64]=m[b+2+32]=m[b+1+0]=ot(G,W,z),m[b+3+32]=m[b+2+0]=ot(K,G,W),m[b+3+0]=ot(ee,K,G)}function ff(m,b){var P=m[b+1-32],L=m[b+2-32],R=m[b+3-32],z=m[b+4-32],W=m[b+5-32],G=m[b+6-32],K=m[b+7-32];m[b+0+0]=ot(m[b+0-32],P,L),m[b+1+0]=m[b+0+32]=ot(P,L,R),m[b+2+0]=m[b+1+32]=m[b+0+64]=ot(L,R,z),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=ot(R,z,W),m[b+3+32]=m[b+2+64]=m[b+1+96]=ot(z,W,G),m[b+3+64]=m[b+2+96]=ot(W,G,K),m[b+3+96]=ot(G,K,K)}function qs(m,b){var P=m[b-1+0],L=m[b-1+32],R=m[b-1+64],z=m[b-1-32],W=m[b+0-32],G=m[b+1-32],K=m[b+2-32],ee=m[b+3-32];m[b+0+0]=m[b+1+64]=z+W+1>>1,m[b+1+0]=m[b+2+64]=W+G+1>>1,m[b+2+0]=m[b+3+64]=G+K+1>>1,m[b+3+0]=K+ee+1>>1,m[b+0+96]=ot(R,L,P),m[b+0+64]=ot(L,P,z),m[b+0+32]=m[b+1+96]=ot(P,z,W),m[b+1+32]=m[b+2+96]=ot(z,W,G),m[b+2+32]=m[b+3+96]=ot(W,G,K),m[b+3+32]=ot(G,K,ee)}function Rc(m,b){var P=m[b+0-32],L=m[b+1-32],R=m[b+2-32],z=m[b+3-32],W=m[b+4-32],G=m[b+5-32],K=m[b+6-32],ee=m[b+7-32];m[b+0+0]=P+L+1>>1,m[b+1+0]=m[b+0+64]=L+R+1>>1,m[b+2+0]=m[b+1+64]=R+z+1>>1,m[b+3+0]=m[b+2+64]=z+W+1>>1,m[b+0+32]=ot(P,L,R),m[b+1+32]=m[b+0+96]=ot(L,R,z),m[b+2+32]=m[b+1+96]=ot(R,z,W),m[b+3+32]=m[b+2+96]=ot(z,W,G),m[b+3+64]=ot(W,G,K),m[b+3+96]=ot(G,K,ee)}function mg(m,b){var P=m[b-1+0],L=m[b-1+32],R=m[b-1+64],z=m[b-1+96];m[b+0+0]=P+L+1>>1,m[b+2+0]=m[b+0+32]=L+R+1>>1,m[b+2+32]=m[b+0+64]=R+z+1>>1,m[b+1+0]=ot(P,L,R),m[b+3+0]=m[b+1+32]=ot(L,R,z),m[b+3+32]=m[b+1+64]=ot(R,z,z),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=z}function gg(m,b){var P=m[b-1+0],L=m[b-1+32],R=m[b-1+64],z=m[b-1+96],W=m[b-1-32],G=m[b+0-32],K=m[b+1-32],ee=m[b+2-32];m[b+0+0]=m[b+2+32]=P+W+1>>1,m[b+0+32]=m[b+2+64]=L+P+1>>1,m[b+0+64]=m[b+2+96]=R+L+1>>1,m[b+0+96]=z+R+1>>1,m[b+3+0]=ot(G,K,ee),m[b+2+0]=ot(W,G,K),m[b+1+0]=m[b+3+32]=ot(P,W,G),m[b+1+32]=m[b+3+64]=ot(L,P,W),m[b+1+64]=m[b+3+96]=ot(R,L,P),m[b+1+96]=ot(z,R,L)}function vg(m,b){var P;for(P=0;8>P;++P)n(m,b+32*P,m,b-32,8)}function Fc(m,b){var P;for(P=0;8>P;++P)a(m,b,m[b-1],8),b+=32}function Oo(m,b,P){var L;for(L=0;8>L;++L)a(b,P+32*L,m,8)}function qi(m,b){var P,L=8;for(P=0;8>P;++P)L+=m[b+P-32]+m[b-1+32*P];Oo(L>>4,m,b)}function yg(m,b){var P,L=4;for(P=0;8>P;++P)L+=m[b+P-32];Oo(L>>3,m,b)}function Po(m,b){var P,L=4;for(P=0;8>P;++P)L+=m[b-1+32*P];Oo(L>>3,m,b)}function Bc(m,b){Oo(128,m,b)}function zs(m,b,P){var L=m[b-P],R=m[b+0],z=3*(R-L)+Sg[1020+m[b-2*P]-m[b+P]],W=_f[112+(z+4>>3)];m[b-P]=Pn[255+L+_f[112+(z+3>>3)]],m[b+0]=Pn[255+R-W]}function hf(m,b,P,L){var R=m[b+0],z=m[b+P];return Un[255+m[b-2*P]-m[b-P]]>L||Un[255+z-R]>L}function pf(m,b,P,L){return 4*Un[255+m[b-P]-m[b+0]]+Un[255+m[b-2*P]-m[b+P]]<=L}function mf(m,b,P,L,R){var z=m[b-3*P],W=m[b-2*P],G=m[b-P],K=m[b+0],ee=m[b+P],le=m[b+2*P],ge=m[b+3*P];return 4*Un[255+G-K]+Un[255+W-ee]>L?0:Un[255+m[b-4*P]-z]<=R&&Un[255+z-W]<=R&&Un[255+W-G]<=R&&Un[255+ge-le]<=R&&Un[255+le-ee]<=R&&Un[255+ee-K]<=R}function gf(m,b,P,L){var R=2*L+1;for(L=0;16>L;++L)pf(m,b+L,P,R)&&zs(m,b+L,P)}function Ha(m,b,P,L){var R=2*L+1;for(L=0;16>L;++L)pf(m,b+L*P,1,R)&&zs(m,b+L*P,1)}function mi(m,b,P,L){var R;for(R=3;0<R;--R)gf(m,b+=4*P,P,L)}function bg(m,b,P,L){var R;for(R=3;0<R;--R)Ha(m,b+=4,P,L)}function zi(m,b,P,L,R,z,W,G){for(z=2*z+1;0<R--;){if(mf(m,b,P,z,W))if(hf(m,b,P,G))zs(m,b,P);else{var K=m,ee=b,le=P,ge=K[ee-2*le],ve=K[ee-le],fe=K[ee+0],Oe=K[ee+le],we=K[ee+2*le],ce=27*(_e=Sg[1020+3*(fe-ve)+Sg[1020+ge-Oe]])+63>>7,ue=18*_e+63>>7,_e=9*_e+63>>7;K[ee-3*le]=Pn[255+K[ee-3*le]+_e],K[ee-2*le]=Pn[255+ge+ue],K[ee-le]=Pn[255+ve+ce],K[ee+0]=Pn[255+fe-ce],K[ee+le]=Pn[255+Oe-ue],K[ee+2*le]=Pn[255+we-_e]}b+=L}}function ma(m,b,P,L,R,z,W,G){for(z=2*z+1;0<R--;){if(mf(m,b,P,z,W))if(hf(m,b,P,G))zs(m,b,P);else{var K=m,ee=b,le=P,ge=K[ee-le],ve=K[ee+0],fe=K[ee+le],Oe=_f[112+((we=3*(ve-ge))+4>>3)],we=_f[112+(we+3>>3)],ce=Oe+1>>1;K[ee-2*le]=Pn[255+K[ee-2*le]+ce],K[ee-le]=Pn[255+ge+we],K[ee+0]=Pn[255+ve-Oe],K[ee+le]=Pn[255+fe-ce]}b+=L}}function qc(m,b,P,L,R,z){zi(m,b,P,1,16,L,R,z)}function Eo(m,b,P,L,R,z){zi(m,b,1,P,16,L,R,z)}function xg(m,b,P,L,R,z){var W;for(W=3;0<W;--W)ma(m,b+=4*P,P,1,16,L,R,z)}function Us(m,b,P,L,R,z){var W;for(W=3;0<W;--W)ma(m,b+=4,1,P,16,L,R,z)}function wg(m,b,P,L,R,z,W,G){zi(m,b,R,1,8,z,W,G),zi(P,L,R,1,8,z,W,G)}function zc(m,b,P,L,R,z,W,G){zi(m,b,1,R,8,z,W,G),zi(P,L,1,R,8,z,W,G)}function Uc(m,b,P,L,R,z,W,G){ma(m,b+4*R,R,1,8,z,W,G),ma(P,L+4*R,R,1,8,z,W,G)}function vf(m,b,P,L,R,z,W,G){ma(m,b+4,1,R,8,z,W,G),ma(P,L+4,1,R,8,z,W,G)}function Ws(){this.ba=new ca,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Hc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yf(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new C}function jg(){this.xb=this.a=0,this.l=new Is,this.ca=new ca,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yf,this.ab=0,this.gc=o(4,Hc),this.Oc=0}function Hs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Is,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ko(m,b,P,L,R,z,W){for(m=m==null?0:m[b+0],b=0;b<W;++b)R[z+b]=m+P[L+b]&255,m=R[z+b]}function Gc(m,b,P,L,R,z,W){var G;if(m==null)ko(null,null,P,L,R,z,W);else for(G=0;G<W;++G)R[z+G]=m[b+G]+P[L+G]&255}function Ui(m,b,P,L,R,z,W){if(m==null)ko(null,null,P,L,R,z,W);else{var G,K=m[b+0],ee=K,le=K;for(G=0;G<W;++G)ee=le+(K=m[b+G])-ee,le=P[L+G]+(-256&ee?0>ee?0:255:ee)&255,ee=K,R[z+G]=le}}function Vc(m,b,P,L){var R=b.width,z=b.o;if(t(m!=null&&b!=null),0>P||0>=L||P+L>z)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new Hs,(W=m.ga==null)||(W=b.width*b.o,t(m.Gb.length==0),m.Gb=i(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var G=m.Fa,K=m.P,ee=m.qc,le=m.mb,ge=m.nb,ve=K+1,fe=ee-1,Oe=W.l;if(t(G!=null&&le!=null&&b!=null),Ki[0]=null,Ki[1]=ko,Ki[2]=Gc,Ki[3]=Ui,W.ca=le,W.tb=ge,W.c=b.width,W.i=b.height,t(0<W.c&&0<W.i),1>=ee)b=0;else if(W.$a=G[K+0]>>0&3,W.Z=G[K+0]>>2&3,W.Lc=G[K+0]>>4&3,K=G[K+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||K)b=0;else if(Oe.put=Fa,Oe.ac=Rr,Oe.bc=Ba,Oe.ma=W,Oe.width=b.width,Oe.height=b.height,Oe.Da=b.Da,Oe.v=b.v,Oe.va=b.va,Oe.j=b.j,Oe.o=b.o,W.$a)e:{t(W.$a==1),b=Rn();t:for(;;){if(b==null){b=0;break e}if(t(W!=null),W.mc=b,b.c=W.c,b.i=W.i,b.l=W.l,b.l.ma=W,b.l.width=W.c,b.l.height=W.i,b.a=0,J(b.m,G,ve,fe),!Ua(W.c,W.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&hi(b.s)?(W.ic=1,G=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i(G),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(W.ic=0,b=Ao(b,W.c)),!b))break t;b=1;break e}W.mc=null,b=0}else b=fe>=W.c*W.i;W=!b}if(W)return null;m.ga.Lc!=1?m.Ga=0:L=z-P}t(m.ga!=null),t(P+L<=z);e:{if(b=(G=m.ga).c,z=G.l.o,G.$a==0){if(ve=m.rc,fe=m.Vc,Oe=m.Fa,K=m.P+1+P*b,ee=m.mb,le=m.nb+P*b,t(K<=m.P+m.qc),G.Z!=0)for(t(Ki[G.Z]!=null),W=0;W<L;++W)Ki[G.Z](ve,fe,Oe,K,ee,le,b),ve=ee,fe=le,le+=b,K+=b;else for(W=0;W<L;++W)n(ee,le,Oe,K,b),ve=ee,fe=le,le+=b,K+=b;m.rc=ve,m.Vc=fe}else{if(t(G.mc!=null),b=P+L,t((W=G.mc)!=null),t(b<=W.i),W.C>=b)b=1;else if(G.ic||me(),G.ic){G=W.V,ve=W.Ba,fe=W.c;var we=W.i,ce=(Oe=1,K=W.$/fe,ee=W.$%fe,le=W.m,ge=W.s,W.$),ue=fe*we,_e=fe*b,Pe=ge.wc,Ae=ce<_e?gr(ge,ee,K):null;t(ce<=ue),t(b<=we),t(hi(ge));t:for(;;){for(;!le.h&&ce<_e;){if(ee&Pe||(Ae=gr(ge,ee,K)),t(Ae!=null),oe(le),256>(we=hn(Ae.G[0],Ae.H[0],le)))G[ve+ce]=we,++ce,++ee>=fe&&(ee=0,++K<=b&&!(K%16)&&fa(W,K));else{if(!(280>we)){Oe=0;break t}we=ua(we-256,le);var ze,Ie=hn(Ae.G[4],Ae.H[4],le);if(oe(le),!(ce>=(Ie=qa(fe,Ie=ua(Ie,le)))&&ue-ce>=we)){Oe=0;break t}for(ze=0;ze<we;++ze)G[ve+ce+ze]=G[ve+ce+ze-Ie];for(ce+=we,ee+=we;ee>=fe;)ee-=fe,++K<=b&&!(K%16)&&fa(W,K);ce<_e&&ee&Pe&&(Ae=gr(ge,ee,K))}t(le.h==Q(le))}fa(W,K>b?b:K);break t}!Oe||le.h&&ce<ue?(Oe=0,W.a=le.h?5:3):W.$=ce,b=Oe}else b=ha(W,W.V,W.Ba,W.c,W.i,b,Cs);if(!b){L=0;break e}}P+L>=z&&(m.Cc=1),L=1}if(!L)return null;if(m.Cc&&((L=m.ga)!=null&&(L.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*R}function S(m,b,P,L,R,z){for(;0<R--;){var W,G=m,K=b+(P?1:0),ee=m,le=b+(P?0:3);for(W=0;W<L;++W){var ge=ee[le+4*W];ge!=255&&(ge*=32897,G[K+4*W+0]=G[K+4*W+0]*ge>>23,G[K+4*W+1]=G[K+4*W+1]*ge>>23,G[K+4*W+2]=G[K+4*W+2]*ge>>23)}b+=z}}function F(m,b,P,L,R){for(;0<L--;){var z;for(z=0;z<P;++z){var W=m[b+2*z+0],G=15&(ee=m[b+2*z+1]),K=4369*G,ee=(240&ee|ee>>4)*K>>16;m[b+2*z+0]=(240&W|W>>4)*K>>16&240|(15&W|W<<4)*K>>16>>4&15,m[b+2*z+1]=240&ee|G}b+=R}}function te(m,b,P,L,R,z,W,G){var K,ee,le=255;for(ee=0;ee<R;++ee){for(K=0;K<L;++K){var ge=m[b+K];z[W+4*K]=ge,le&=ge}b+=P,W+=G}return le!=255}function se(m,b,P,L,R){var z;for(z=0;z<R;++z)P[L+z]=m[b+z]>>8}function me(){zn=S,zt=F,Ut=te,fr=se}function je(m,b,P){E[m]=function(L,R,z,W,G,K,ee,le,ge,ve,fe,Oe,we,ce,ue,_e,Pe){var Ae,ze=Pe-1>>1,Ie=G[K+0]|ee[le+0]<<16,Je=ge[ve+0]|fe[Oe+0]<<16;t(L!=null);var Re=3*Ie+Je+131074>>2;for(b(L[R+0],255&Re,Re>>16,we,ce),z!=null&&(Re=3*Je+Ie+131074>>2,b(z[W+0],255&Re,Re>>16,ue,_e)),Ae=1;Ae<=ze;++Ae){var Pt=G[K+Ae]|ee[le+Ae]<<16,Tt=ge[ve+Ae]|fe[Oe+Ae]<<16,St=Ie+Pt+Je+Tt+524296,yt=St+2*(Pt+Je)>>3;Re=yt+Ie>>1,Ie=(St=St+2*(Ie+Tt)>>3)+Pt>>1,b(L[R+2*Ae-1],255&Re,Re>>16,we,ce+(2*Ae-1)*P),b(L[R+2*Ae-0],255&Ie,Ie>>16,we,ce+(2*Ae-0)*P),z!=null&&(Re=St+Je>>1,Ie=yt+Tt>>1,b(z[W+2*Ae-1],255&Re,Re>>16,ue,_e+(2*Ae-1)*P),b(z[W+2*Ae+0],255&Ie,Ie>>16,ue,_e+(2*Ae+0)*P)),Ie=Pt,Je=Tt}1&Pe||(Re=3*Ie+Je+131074>>2,b(L[R+Pe-1],255&Re,Re>>16,we,ce+(Pe-1)*P),z!=null&&(Re=3*Je+Ie+131074>>2,b(z[W+Pe-1],255&Re,Re>>16,ue,_e+(Pe-1)*P)))}}function Te(){Wn[Af]=zO,Wn[Of]=Cx,Wn[Ox]=UO,Wn[Pf]=Lx,Wn[Ef]=Mx,Wn[_g]=$x,Wn[Px]=WO,Wn[Ag]=Cx,Wn[Og]=Lx,Wn[kf]=Mx,Wn[Pg]=$x}function qe(m){return m&-16384?0>m?0:255:m>>HO}function Ke(m,b){return qe((19077*m>>8)+(26149*b>>8)-14234)}function ut(m,b,P){return qe((19077*m>>8)-(6419*b>>8)-(13320*P>>8)+8708)}function lt(m,b){return qe((19077*m>>8)+(33050*b>>8)-17685)}function jt(m,b,P,L,R){L[R+0]=Ke(m,P),L[R+1]=ut(m,b,P),L[R+2]=lt(m,b)}function er(m,b,P,L,R){L[R+0]=lt(m,b),L[R+1]=ut(m,b,P),L[R+2]=Ke(m,P)}function nr(m,b,P,L,R){var z=ut(m,b,P);b=z<<3&224|lt(m,b)>>3,L[R+0]=248&Ke(m,P)|z>>5,L[R+1]=b}function vr(m,b,P,L,R){var z=240&lt(m,b)|15;L[R+0]=240&Ke(m,P)|ut(m,b,P)>>4,L[R+1]=z}function Hr(m,b,P,L,R){L[R+0]=255,jt(m,b,P,L,R+1)}function Tr(m,b,P,L,R){er(m,b,P,L,R),L[R+3]=255}function ga(m,b,P,L,R){jt(m,b,P,L,R),L[R+3]=255}function On(m,b){return 0>m?0:m>b?b:m}function Ga(m,b,P){E[m]=function(L,R,z,W,G,K,ee,le,ge){for(var ve=le+(-2&ge)*P;le!=ve;)b(L[R+0],z[W+0],G[K+0],ee,le),b(L[R+1],z[W+0],G[K+0],ee,le+P),R+=2,++W,++K,le+=2*P;1&ge&&b(L[R+0],z[W+0],G[K+0],ee,le)}}function bf(m,b,P){return P==0?m==0?b==0?6:5:b==0?4:0:P}function Yc(m,b,P,L,R){switch(m>>>30){case 3:yi(b,P,L,R,0);break;case 2:dr(b,P,L,R);break;case 1:an(b,P,L,R)}}function Kc(m,b){var P,L,R=b.M,z=b.Nb,W=m.oc,G=m.pc+40,K=m.oc,ee=m.pc+584,le=m.oc,ge=m.pc+600;for(P=0;16>P;++P)W[G+32*P-1]=129;for(P=0;8>P;++P)K[ee+32*P-1]=129,le[ge+32*P-1]=129;for(0<R?W[G-1-32]=K[ee-1-32]=le[ge-1-32]=129:(a(W,G-32-1,127,21),a(K,ee-32-1,127,9),a(le,ge-32-1,127,9)),L=0;L<m.za;++L){var ve=b.ya[b.aa+L];if(0<L){for(P=-1;16>P;++P)n(W,G+32*P-4,W,G+32*P+12,4);for(P=-1;8>P;++P)n(K,ee+32*P-4,K,ee+32*P+4,4),n(le,ge+32*P-4,le,ge+32*P+4,4)}var fe=m.Gd,Oe=m.Hd+L,we=ve.ad,ce=ve.Hc;if(0<R&&(n(W,G-32,fe[Oe].y,0,16),n(K,ee-32,fe[Oe].f,0,8),n(le,ge-32,fe[Oe].ea,0,8)),ve.Za){var ue=W,_e=G-32+16;for(0<R&&(L>=m.za-1?a(ue,_e,fe[Oe].y[15],4):n(ue,_e,fe[Oe+1].y,0,4)),P=0;4>P;P++)ue[_e+128+P]=ue[_e+256+P]=ue[_e+384+P]=ue[_e+0+P];for(P=0;16>P;++P,ce<<=2)ue=W,_e=G+Ix[P],va[ve.Ob[P]](ue,_e),Yc(ce,we,16*+P,ue,_e)}else if(ue=bf(L,R,ve.Ob[0]),Yi[ue](W,G),ce!=0)for(P=0;16>P;++P,ce<<=2)Yc(ce,we,16*+P,W,G+Ix[P]);for(P=ve.Gc,ue=bf(L,R,ve.Dd),xi[ue](K,ee),xi[ue](le,ge),ce=we,ue=K,_e=ee,255&(ve=P>>0)&&(170&ve?eu(ce,256,ue,_e):Bn(ce,256,ue,_e)),ve=le,ce=ge,255&(P>>=8)&&(170&P?eu(we,320,ve,ce):Bn(we,320,ve,ce)),R<m.Ub-1&&(n(fe[Oe].y,0,W,G+480,16),n(fe[Oe].f,0,K,ee+224,8),n(fe[Oe].ea,0,le,ge+224,8)),P=8*z*m.B,fe=m.sa,Oe=m.ta+16*L+16*z*m.R,we=m.qa,ve=m.ra+8*L+P,ce=m.Ha,ue=m.Ia+8*L+P,P=0;16>P;++P)n(fe,Oe+P*m.R,W,G+32*P,16);for(P=0;8>P;++P)n(we,ve+P*m.B,K,ee+32*P,8),n(ce,ue+P*m.B,le,ge+32*P,8)}}function Gs(m,b,P,L,R,z,W,G,K){var ee=[0],le=[0],ge=0,ve=K!=null?K.kd:0,fe=K??new Wc;if(m==null||12>P)return 7;fe.data=m,fe.w=b,fe.ha=P,b=[b],P=[P],fe.gb=[fe.gb];e:{var Oe=b,we=P,ce=fe.gb;if(t(m!=null),t(we!=null),t(ce!=null),ce[0]=0,12<=we[0]&&!r(m,Oe[0],"RIFF")){if(r(m,Oe[0]+8,"WEBP")){ce=3;break e}var ue=Ee(m,Oe[0]+4);if(12>ue||4294967286<ue){ce=3;break e}if(ve&&ue>we[0]-8){ce=7;break e}ce[0]=ue,Oe[0]+=12,we[0]-=12}ce=0}if(ce!=0)return ce;for(ue=0<fe.gb[0],P=P[0];;){e:{var _e=m;we=b,ce=P;var Pe=ee,Ae=le,ze=Oe=[0];if((Re=ge=[ge])[0]=0,8>ce[0])ce=7;else{if(!r(_e,we[0],"VP8X")){if(Ee(_e,we[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var Ie=Ee(_e,we[0]+8),Je=1+pe(_e,we[0]+12);if(2147483648<=Je*(_e=1+pe(_e,we[0]+15))){ce=3;break e}ze!=null&&(ze[0]=Ie),Pe!=null&&(Pe[0]=Je),Ae!=null&&(Ae[0]=_e),we[0]+=18,ce[0]-=18,Re[0]=1}ce=0}}if(ge=ge[0],Oe=Oe[0],ce!=0)return ce;if(we=!!(2&Oe),!ue&&ge)return 3;if(z!=null&&(z[0]=!!(16&Oe)),W!=null&&(W[0]=we),G!=null&&(G[0]=0),W=ee[0],Oe=le[0],ge&&we&&K==null){ce=0;break}if(4>P){ce=7;break}if(ue&&ge||!ue&&!ge&&!r(m,b[0],"ALPH")){P=[P],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{Ie=m,ce=b,ue=P;var Re=fe.gb;Pe=fe.na,Ae=fe.P,ze=fe.Sa,Je=22,t(Ie!=null),t(ue!=null),_e=ce[0];var Pt=ue[0];for(t(Pe!=null),t(ze!=null),Pe[0]=null,Ae[0]=null,ze[0]=0;;){if(ce[0]=_e,ue[0]=Pt,8>Pt){ce=7;break e}var Tt=Ee(Ie,_e+4);if(4294967286<Tt){ce=3;break e}var St=8+Tt+1&-2;if(Je+=St,0<Re&&Je>Re){ce=3;break e}if(!r(Ie,_e,"VP8 ")||!r(Ie,_e,"VP8L")){ce=0;break e}if(Pt[0]<St){ce=7;break e}r(Ie,_e,"ALPH")||(Pe[0]=Ie,Ae[0]=_e+8,ze[0]=Tt),_e+=St,Pt-=St}}if(P=P[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ce!=0)break}P=[P],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(Re=m,ce=b,ue=P,Pe=fe.gb[0],Ae=fe.Ja,ze=fe.xa,Ie=ce[0],_e=!r(Re,Ie,"VP8 "),Je=!r(Re,Ie,"VP8L"),t(Re!=null),t(ue!=null),t(Ae!=null),t(ze!=null),8>ue[0])ce=7;else{if(_e||Je){if(Re=Ee(Re,Ie+4),12<=Pe&&Re>Pe-12){ce=3;break e}if(ve&&Re>ue[0]-8){ce=7;break e}Ae[0]=Re,ce[0]+=8,ue[0]-=8,ze[0]=Je}else ze[0]=5<=ue[0]&&Re[Ie+0]==47&&!(Re[Ie+4]>>5),Ae[0]=ue[0];ce=0}if(P=P[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],b=b[0],ce!=0)break;if(4294967286<fe.Ja)return 3;if(G==null||we||(G[0]=fe.xa?2:1),W=[W],Oe=[Oe],fe.xa){if(5>P){ce=7;break}G=W,ve=Oe,we=z,m==null||5>P?m=0:5<=P&&m[b+0]==47&&!(m[b+4]>>5)?(ue=[0],Re=[0],Pe=[0],J(Ae=new M,m,b,P),Qe(Ae,ue,Re,Pe)?(G!=null&&(G[0]=ue[0]),ve!=null&&(ve[0]=Re[0]),we!=null&&(we[0]=Pe[0]),m=1):m=0):m=0}else{if(10>P){ce=7;break}G=Oe,m==null||10>P||!rf(m,b+3,P-3)?m=0:(ve=m[b+0]|m[b+1]<<8|m[b+2]<<16,we=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=fe.Ja||!we||!m?m=0:(W&&(W[0]=we),G&&(G[0]=m),m=1))}if(!m||(W=W[0],Oe=Oe[0],ge&&(ee[0]!=W||le[0]!=Oe)))return 3;K!=null&&(K[0]=fe,K.offset=b-K.w,t(4294967286>b-K.w),t(K.offset==K.ha-P));break}return ce==0||ce==7&&ge&&K==null?(z!=null&&(z[0]|=fe.na!=null&&0<fe.na.length),L!=null&&(L[0]=W),R!=null&&(R[0]=Oe),0):ce}function Xc(m,b,P){var L=b.width,R=b.height,z=0,W=0,G=L,K=R;if(b.Da=m!=null&&0<m.Da,b.Da&&(G=m.cd,K=m.bd,z=m.v,W=m.j,11>P||(z&=-2,W&=-2),0>z||0>W||0>=G||0>=K||z+G>L||W+K>R))return 0;if(b.v=z,b.j=W,b.va=z+G,b.o=W+K,b.U=G,b.T=K,b.da=m!=null&&0<m.da,b.da){if(!Ve(G,K,P=[m.ib],z=[m.hb]))return 0;b.ib=P[0],b.hb=z[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*L/4&&b.hb<3*R/4,b.Kb=0),1}function Jc(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function Vs(m,b,P,L){if(L==null||0>=m||0>=b)return 2;if(P!=null){if(P.Da){var R=P.cd,z=P.bd,W=-2&P.v,G=-2&P.j;if(0>W||0>G||0>=R||0>=z||W+R>m||G+z>b)return 2;m=R,b=z}if(P.da){if(!Ve(m,b,R=[P.ib],z=[P.hb]))return 2;m=R[0],b=z[0]}}L.width=m,L.height=b;e:{var K=L.width,ee=L.height;if(m=L.S,0>=K||0>=ee||!(m>=Af&&13>m))m=2;else{if(0>=L.Rd&&L.sd==null){W=z=R=b=0;var le=(G=K*Rx[m])*ee;if(11>m||(z=(ee+1)/2*(b=(K+1)/2),m==12&&(W=(R=K)*ee)),(ee=i(le+2*z+W))==null){m=1;break e}L.sd=ee,11>m?((K=L.f.RGBA).eb=ee,K.fb=0,K.A=G,K.size=le):((K=L.f.kb).y=ee,K.O=0,K.fa=G,K.Fd=le,K.f=ee,K.N=0+le,K.Ab=b,K.Cd=z,K.ea=ee,K.W=0+le+z,K.Db=b,K.Ed=z,m==12&&(K.F=ee,K.J=0+le+2*z),K.Tc=W,K.lb=R)}if(b=1,R=L.S,z=L.width,W=L.height,R>=Af&&13>R)if(11>R)m=L.f.RGBA,b&=(G=Math.abs(m.A))*(W-1)+z<=m.size,b&=G>=z*Rx[R],b&=m.eb!=null;else{m=L.f.kb,G=(z+1)/2,le=(W+1)/2,K=Math.abs(m.fa),ee=Math.abs(m.Ab);var ge=Math.abs(m.Db),ve=Math.abs(m.lb),fe=ve*(W-1)+z;b&=K*(W-1)+z<=m.Fd,b&=ee*(le-1)+G<=m.Cd,b=(b&=ge*(le-1)+G<=m.Ed)&K>=z&ee>=G&ge>=G,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,R==12&&(b&=ve>=z,b&=fe<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||P!=null&&P.fd&&(m=Jc(L)),m}var Fr=64,Ys=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ks=24,Xs=32,Zc=8,mn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(m){return m},E.Predictor2=function(m,b,P){return b[P+0]},E.Predictor3=function(m,b,P){return b[P+1]},E.Predictor4=function(m,b,P){return b[P-1]},E.Predictor5=function(m,b,P){return Me(Me(m,b[P+1]),b[P+0])},E.Predictor6=function(m,b,P){return Me(m,b[P-1])},E.Predictor7=function(m,b,P){return Me(m,b[P+0])},E.Predictor8=function(m,b,P){return Me(b[P-1],b[P+0])},E.Predictor9=function(m,b,P){return Me(b[P+0],b[P+1])},E.Predictor10=function(m,b,P){return Me(Me(m,b[P-1]),Me(b[P+0],b[P+1]))},E.Predictor11=function(m,b,P){var L=b[P+0];return 0>=at(L>>24&255,m>>24&255,(b=b[P-1])>>24&255)+at(L>>16&255,m>>16&255,b>>16&255)+at(L>>8&255,m>>8&255,b>>8&255)+at(255&L,255&m,255&b)?L:m},E.Predictor12=function(m,b,P){var L=b[P+0];return(Ge((m>>24&255)+(L>>24&255)-((b=b[P-1])>>24&255))<<24|Ge((m>>16&255)+(L>>16&255)-(b>>16&255))<<16|Ge((m>>8&255)+(L>>8&255)-(b>>8&255))<<8|Ge((255&m)+(255&L)-(255&b)))>>>0},E.Predictor13=function(m,b,P){var L=b[P-1];return(Ze((m=Me(m,b[P+0]))>>24&255,L>>24&255)<<24|Ze(m>>16&255,L>>16&255)<<16|Ze(m>>8&255,L>>8&255)<<8|Ze(m>>0&255,L>>0&255))>>>0};var Ng=E.PredictorAdd0;E.PredictorAdd1=ht,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Qc=E.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var xf,Fn=E.ColorIndexInverseTransform,Js=E.MapARGB,wf=E.VP8LColorIndexInverseTransformAlpha,jf=E.MapAlpha,Wi=E.VP8LPredictorsAdd=[];Wi.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var To,gn,nn,Hi,gi,vi,Zs,yi,dr,eu,an,Bn,Qs,Nf,tu,Co,Lo,Gi,Mo,el,$o,Vi,ru,qn,zn,zt,Ut,fr,Sr=i(511),bi=i(2041),nu=i(225),tl=i(767),Sf=0,Sg=bi,_f=nu,Pn=tl,Un=Sr,Af=0,Of=1,Ox=2,Pf=3,Ef=4,_g=5,Px=6,Ag=7,Og=8,kf=9,Pg=10,PO=[2,3,7],EO=[3,3,11],Ex=[280,256,256,256,40],kO=[0,1,1,1,0],TO=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],CO=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],LO=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],MO=8,Eg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],au=null,$O=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],DO=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],IO=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],RO=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],FO=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],BO=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yi=[],va=[],xi=[],qO=1,Tx=2,Ki=[],Wn=[];je("UpsampleRgbLinePair",jt,3),je("UpsampleBgrLinePair",er,3),je("UpsampleRgbaLinePair",ga,4),je("UpsampleBgraLinePair",Tr,4),je("UpsampleArgbLinePair",Hr,4),je("UpsampleRgba4444LinePair",vr,2),je("UpsampleRgb565LinePair",nr,2);var zO=E.UpsampleRgbLinePair,UO=E.UpsampleBgrLinePair,Cx=E.UpsampleRgbaLinePair,Lx=E.UpsampleBgraLinePair,Mx=E.UpsampleArgbLinePair,$x=E.UpsampleRgba4444LinePair,WO=E.UpsampleRgb565LinePair,Tf=16,Cf=1<<Tf-1,iu=-227,Tg=482,HO=6,Dx=0,GO=i(256),VO=i(256),YO=i(256),KO=i(256),XO=i(Tg-iu),JO=i(Tg-iu);Ga("YuvToRgbRow",jt,3),Ga("YuvToBgrRow",er,3),Ga("YuvToRgbaRow",ga,4),Ga("YuvToBgraRow",Tr,4),Ga("YuvToArgbRow",Hr,4),Ga("YuvToRgba4444Row",vr,2),Ga("YuvToRgb565Row",nr,2);var Ix=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lf=[0,2,8],ZO=[8,7,6,4,4,2,2,2,1,1,1,1],QO=1;this.WebPDecodeRGBA=function(m,b,P,L,R){var z=Of,W=new Ws,G=new ca;W.ba=G,G.S=z,G.width=[G.width],G.height=[G.height];var K=G.width,ee=G.height,le=new fi;if(le==null||m==null)var ge=2;else t(le!=null),ge=Gs(m,b,P,le.width,le.height,le.Pd,le.Qd,le.format,null);if(ge!=0?K=0:(K!=null&&(K[0]=le.width[0]),ee!=null&&(ee[0]=le.height[0]),K=1),K){G.width=G.width[0],G.height=G.height[0],L!=null&&(L[0]=G.width),R!=null&&(R[0]=G.height);e:{if(L=new Is,(R=new Wc).data=m,R.w=b,R.ha=P,R.kd=1,b=[0],t(R!=null),((m=Gs(R.data,R.w,R.ha,null,null,null,b,null,R))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(t(W!=null),L.data=R.data,L.w=R.w+R.offset,L.ha=R.ha-R.offset,L.put=Fa,L.ac=Rr,L.bc=Ba,L.ma=W,R.xa){if((m=Rn())==null){W=1;break e}if(function(ve,fe){var Oe=[0],we=[0],ce=[0];t:for(;;){if(ve==null)return 0;if(fe==null)return ve.a=2,0;if(ve.l=fe,ve.a=0,J(ve.m,fe.data,fe.w,fe.ha),!Qe(ve.m,Oe,we,ce)){ve.a=3;break t}if(ve.xb=Tx,fe.width=Oe[0],fe.height=we[0],!Ua(Oe[0],we[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(m,L)){if(L=(b=Vs(L.width,L.height,W.Oa,W.ba))==0){t:{L=m;r:for(;;){if(L==null){L=0;break t}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((P=L.l)!=null),t((R=P.ma)!=null),L.xb!=0){if(L.ca=R.ba,L.tb=R.tb,t(L.ca!=null),!Xc(R.Oa,P,Pf)){L.a=2;break r}if(!Ao(L,P.width)||P.da)break r;if((P.da||Et(L.ca.S))&&me(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&me()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!$e(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!ha(L,L.V,L.Ba,L.c,L.i,P.o,Ts))break r;R.Dc=L.Ma,L=1;break t}t(L.a!=0),L=0}L=!L}L&&(b=m.a)}else b=m.a}else{if((m=new ag)==null){W=1;break e}if(m.Fa=R.na,m.P=R.P,m.qc=R.Sa,nf(m,L)){if((b=Vs(L.width,L.height,W.Oa,W.ba))==0){if(m.Aa=0,P=W.Oa,t((R=m)!=null),P!=null){if(0<(K=0>(K=P.Md)?0:100<K?255:255*K/100)){for(ee=le=0;4>ee;++ee)12>(ge=R.pb[ee]).lc&&(ge.ia=K*ZO[0>ge.lc?0:ge.lc]>>3),le|=ge.ia;le&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=P.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}ig(m,L)||(b=m.a)}}else b=m.a}b==0&&W.Oa!=null&&W.Oa.fd&&(b=Jc(W.ba))}W=b}z=W!=0?null:11>z?G.f.RGBA.eb:G.f.kb.y}else z=null;return z};var Rx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,T){for(var $="",k=0;k<4;k++)$+=String.fromCharCode(E[T++]);return $}function d(E,T){return(E[T+0]<<0|E[T+1]<<8|E[T+2]<<16)>>>0}function f(E,T){return(E[T+0]<<0|E[T+1]<<8|E[T+2]<<16|E[T+3]<<24)>>>0}new c;var p=[0],h=[0],v=[],g=new c,j=e,y=function(E,T){var $={},k=0,C=!1,D=0,I=0;if($.frames=[],!function(U,Q,ne,oe){for(var he=0;he<oe;he++)if(U[Q+he]!=ne.charCodeAt(he))return!0;return!1}(E,T,"RIFF",4)){for(f(E,T+=4),T+=8;T<E.length;){var H=u(E,T),V=f(E,T+=4);T+=4;var X=V+(1&V);switch(H){case"VP8 ":case"VP8L":$.frames[k]===void 0&&($.frames[k]={}),(Z=$.frames[k]).src_off=C?I:T-8,Z.src_size=D+V+8,k++,C&&(C=!1,D=0,I=0);break;case"VP8X":(Z=$.header={}).feature_flags=E[T];var J=T+4;Z.canvas_width=1+d(E,J),J+=3,Z.canvas_height=1+d(E,J),J+=3;break;case"ALPH":C=!0,D=X+8,I=T-8;break;case"ANIM":(Z=$.header).bgcolor=f(E,T),J=T+4,Z.loop_count=(ae=E)[(M=J)+0]<<0|ae[M+1]<<8,J+=2;break;case"ANMF":var Y,Z;(Z=$.frames[k]={}).offset_x=2*d(E,T),T+=3,Z.offset_y=2*d(E,T),T+=3,Z.width=1+d(E,T),T+=3,Z.height=1+d(E,T),T+=3,Z.duration=d(E,T),T+=3,Y=E[T++],Z.dispose=1&Y,Z.blend=Y>>1&1}H!="ANMF"&&(T+=X)}var ae,M;return $}}(j,0);y.response=j,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,N=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,p=[x.canvas_height],h=[x.canvas_width];for(var _=0;_<N.length&&N[_].blend!=0;_++);}var w=N[0],A=g.WebPDecodeRGBA(j,w.src_off,w.src_size,h,p);w.rgba=A,w.imgwidth=h[0],w.imgheight=p[0];for(var O=0;O<h[0]*p[0]*4;O++)v[O]=A[O];return this.width=h,this.height=p,this.data=v,this}(function(e){var t=function(){return typeof Uv=="function"},r=function(p,h,v,g){var j=4,y=o;switch(g){case e.image_compression.FAST:j=1,y=i;break;case e.image_compression.MEDIUM:j=6,y=s;break;case e.image_compression.SLOW:j=9,y=c}p=n(p,h,v,y);var x=Uv(p,{level:j});return e.__addimage__.arrayBufferToBinaryString(x)},n=function(p,h,v,g){for(var j,y,x,N=p.length/h,_=new Uint8Array(p.length+N),w=d(),A=0;A<N;A+=1){if(x=A*h,j=p.subarray(x,x+h),g)_.set(g(j,v,y),x+A);else{for(var O,E=w.length,T=[];O<E;O+=1)T[O]=w[O](j,v,y);var $=f(T.concat());_.set(T[$],x+A)}y=j}return _},a=function(p){var h=Array.apply([],p);return h.unshift(0),h},i=function(p,h){var v,g=[],j=p.length;g[0]=1;for(var y=0;y<j;y+=1)v=p[y-h]||0,g[y+1]=p[y]-v+256&255;return g},o=function(p,h,v){var g,j=[],y=p.length;j[0]=2;for(var x=0;x<y;x+=1)g=v&&v[x]||0,j[x+1]=p[x]-g+256&255;return j},s=function(p,h,v){var g,j,y=[],x=p.length;y[0]=3;for(var N=0;N<x;N+=1)g=p[N-h]||0,j=v&&v[N]||0,y[N+1]=p[N]+256-(g+j>>>1)&255;return y},c=function(p,h,v){var g,j,y,x,N=[],_=p.length;N[0]=4;for(var w=0;w<_;w+=1)g=p[w-h]||0,j=v&&v[w]||0,y=v&&v[w-h]||0,x=u(g,j,y),N[w+1]=p[w]-x+256&255;return N},u=function(p,h,v){if(p===h&&h===v)return p;var g=Math.abs(h-v),j=Math.abs(p-v),y=Math.abs(p+h-v-v);return g<=j&&g<=y?p:j<=y?h:v},d=function(){return[a,i,o,s,c]},f=function(p){var h=p.map(function(v){return v.reduce(function(g,j){return g+Math.abs(j)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(p,h,v,g){var j,y,x,N,_,w,A,O,E,T,$,k,C,D,I,H=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(x=new lE(p)).imgData,y=x.bits,j=x.colorSpace,_=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){E=(O=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,$=new Uint8Array(E*x.colors),T=new Uint8Array(E);var X,J=x.pixelBitlength-x.bits;for(D=0,I=0;D<E;D++){for(C=O[D],X=0;X<J;)$[I++]=C>>>X&255,X+=x.bits;T[D]=C>>>X&255}}if(x.bits===16){E=(O=new Uint32Array(x.decodePixels().buffer)).length,$=new Uint8Array(E*(32/x.pixelBitlength)*x.colors),T=new Uint8Array(E*(32/x.pixelBitlength)),k=x.colors>1,D=0,I=0;for(var Y=0;D<E;)C=O[D++],$[I++]=C>>>0&255,k&&($[I++]=C>>>16&255,C=O[D++],$[I++]=C>>>0&255),T[Y++]=C>>>16&255;y=8}g!==e.image_compression.NONE&&t()?(p=r($,x.width*x.colors,x.colors,g),A=r(T,x.width,1,g)):(p=$,A=T,H=void 0)}if(x.colorType===3&&(j=this.color_spaces.INDEXED,w=x.palette,x.transparency.indexed)){var Z=x.transparency.indexed,ae=0;for(D=0,E=Z.length;D<E;++D)ae+=Z[D];if((ae/=255)===E-1&&Z.indexOf(0)!==-1)N=[Z.indexOf(0)];else if(ae!==E){for(O=x.decodePixels(),T=new Uint8Array(O.length),D=0,E=O.length;D<E;D++)T[D]=Z[O[D]];A=r(T,x.width,1)}}var M=function(U){var Q;switch(U){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(g);return H===this.decode.FLATE_DECODE&&(V="/Predictor "+M+" "),V+="/Colors "+_+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:v,data:p,index:h,filter:H,decodeParameters:V,transparency:N,palette:w,sMask:A,predictor:M,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:j}}}})(tt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new cE(t),o=i.width,s=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:s},d=new Jg(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(tt.API),xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ft.log("bit decode error:"+r)}},xa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var c=this.palette[i>>7-s&1];this.data[o+4*s]=c.blue,this.data[o+4*s+1]=c.green,this.data[o+4*s+2]=c.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},xa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,s=i>>4,c=15&i,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},xa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},xa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},xa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=s,this.data[d+3]=255}this.pos+=e}},xa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},xa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=o}},xa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new xa(t,!1),o=i.width,s=i.height,c={data:i.getData(),width:o,height:s},u=new Jg(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(tt.API),A1.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new A1(t),o=i.width,s=i.height,c={data:i.getData(),width:o,height:s},u=new Jg(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(tt.API),tt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),s=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];i[s++]=d,i[s++]=f,i[s++]=p,o[c++]=h}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ll=tt.API,Yf=ll.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:a.metadata.Unicode.widths,c=s.fof?s.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,p=0,h=e.length,v=0,g=s[0]||c,j=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(p=f&&bt(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,j.push((s[n]||g)/c+p)),v=n;return j},j1=ll.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return ll.processArabic&&(e=ll.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Yf.apply(this,arguments).reduce(function(i,o){return i+o},0)},N1=function(e,t,r,n){for(var a=[],i=0,o=e.length,s=0;i!==o&&s+t[i]<r;)s+=t[i],i++;a.push(e.slice(0,i));var c=i;for(s=0;i!==o;)s+t[i]>n&&(a.push(e.slice(c,i)),s=0,c=i),s+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},S1=function(e,t,r){r||(r={});var n,a,i,o,s,c,u,d=[],f=[d],p=r.textIndent||0,h=0,v=0,g=e.split(" "),j=Yf.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),x=[];g.map(function(_){(_=_.split(/\s*\n/)).length>1?x=x.concat(_.map(function(w,A){return(A&&w.length?`
`:"")+w})):x.push(_[0])}),g=x,c=j1.apply(this,[y,r])}for(i=0,o=g.length;i<o;i++){var N=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),p+h+(v=(a=Yf.apply(this,[n,r])).reduce(function(_,w){return _+w},0))>t||N){if(v>t){for(s=N1.apply(this,[n,a,t-(p+h),t]),d.push(s.shift()),d=[s.pop()];s.length;)f.push([s.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,w){return _+w},0)}else d=[n];f.push(d),p=v+c,h=j}else d.push(n),p+=h+v,h=j}return u=c?function(_,w){return(w?y:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},ll.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var s,c,u=[];for(s=0,c=n.length;s<c;s++)u=u.concat(S1.apply(this,[n[s],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var p,h,v,g,j=["{"];for(var y in f){if(p=f[y],isNaN(parseInt(y,10))?h="'"+y+"'":(y=parseInt(y,10),h=(h=i(y).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof p=="number")p<0?(v=i(p).slice(3),g="-"):(v=i(p).slice(2),g=""),v=g+v.slice(0,-1)+n[v.slice(-1)];else{if(bt(p)!=="object")throw new Error("Don't know what to do with value type "+bt(p)+".");v=o(p)}j.push(h+v)}return j.push("}"),j.join("")},s=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,v,g,j={},y=1,x=j,N=[],_="",w="",A=f.length-1,O=1;O<A;O+=1)(g=f[O])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(N.push([x,v]),x={},v=void 0):g=="}"?((h=N.pop())[0][h[1]]=x,v=void 0,x=h[0]):g=="-"?y=-1:v===void 0?r.hasOwnProperty(g)?(_+=r[g],v=parseInt(_,16)*y,y=1,_=""):_+=g:r.hasOwnProperty(g)?(w+=r[g],x[v]=parseInt(w,16)*y,y=1,v=void 0,w=""):w+=g;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var p=f.font,h=d.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var v=u.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(tt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(Eu(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(tt),function(e){function t(){return(rt.canvg?Promise.resolve(rt.canvg):Dv(()=>import("./index.es-B11dUHMh.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}tt.API.addSvgAsImage=function(r,n,a,i,o,s,c,u){if(isNaN(n)||isNaN(a))throw Ft.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Ft.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(v){return v.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){h.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),tt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},tt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),c=[],u=0,d=0,f=0;function p(v,g){var j,y=!1;for(j=0;j<v.length;j+=1)v[j]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=s.length;for(f=0;f<h;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if(bt(e)==="object"){for(a in e)if(i=e[a],p(s,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+s.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+s+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(tt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var s,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(s=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=i.charCodeAt(f),c.indexOf(s)==-1&&(c.push(s),c.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(i){var o,s,c,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(s=Object.keys(i).sort(function(h,v){return h-v})).length;f<p;f++)o=s[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var s=o.font,c=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",v=0;v<p.length;v++)h+=String.fromCharCode(p[v]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var j=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ml(s.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/Flags "+s.metadata.flags),c("/StemV "+s.metadata.stemV),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c(">>"),c("endobj");var x=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+ml(s.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+s.encoding+")"),c(">>"),c(">>"),c("endobj"),s.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+ml(s.fontName)),c("/Encoding /"+s.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),s.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var s=o.font,c=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var j=u();c("<<"),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c("/StemV "+s.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/FontName /"+ml(s.fontName)),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c(">>"),c("endobj"),s.objectNumber=u();for(var y=0;y<s.metadata.hmtx.widths.length;y++)s.metadata.hmtx.widths[y]=parseInt(s.metadata.hmtx.widths[y]*(1e3/s.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ml(s.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),c("endobj"),s.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,s=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,v=f.fonts,g=h,j="",y=0,x="",N=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:s,x:c,y:u,options:d,mutex:f};for(x=s,g=h,Array.isArray(s)&&(x=s[0]),y=0;y<x.length;y+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?j+=x[y]:j+="";var _="";return parseInt(g.slice(1))<14||N==="WinAnsiEncoding"?_=p(j,g).split("").map(function(w){return w.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(_=r(j,v[g])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",s=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(a(Object.assign({},c,{text:o[u]})).text);i.text=s}else i.text=a(Object.assign({},c,{text:o})).text}])}(tt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,s,c,u,d,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,N=0;this.__bidiEngine__={};var _=function(k){var C=k.charCodeAt(),D=C>>8,I=g[D];return I!==void 0?f[256*I+(255&C)]:D===252||D===253?"AL":y.test(D)?"L":D===8?"R":"N"},w=function(k){for(var C,D=0;D<k.length;D++){if((C=_(k.charAt(D)))==="L")return!1;if(C==="R")return!0}return!1},A=function(k,C,D,I){var H,V,X,J,Y=C[I];switch(Y){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(Y="AN");break;case"AL":x=!0,Y="R";break;case"WS":Y="N";break;case"CS":I<1||I+1>=C.length||(H=D[I-1])!=="EN"&&H!=="AN"||(V=C[I+1])!=="EN"&&V!=="AN"?Y="N":x&&(V="AN"),Y=V===H?V:"N";break;case"ES":Y=(H=I>0?D[I-1]:"B")==="EN"&&I+1<C.length&&C[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&D[I-1]==="EN"){Y="EN";break}if(x){Y="N";break}for(X=I+1,J=C.length;X<J&&C[X]==="ET";)X++;Y=X<J&&C[X]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(J=C.length,X=I+1;X<J&&C[X]==="NSM";)X++;if(X<J){var Z=k[I],ae=Z>=1425&&Z<=2303||Z===64286;if(H=C[X],ae&&(H==="R"||H==="AL")){Y="R";break}}}Y=I<1||(H=C[I-1])==="B"?"N":D[I-1];break;case"B":x=!1,a=!0,Y=N;break;case"S":i=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":Y="N"}return Y},O=function(k,C,D){var I=k.split("");return D&&E(I,D,{hiLevel:N}),I.reverse(),C&&C.reverse(),I.join("")},E=function(k,C,D){var I,H,V,X,J,Y=-1,Z=k.length,ae=0,M=[],U=N?h:p,Q=[];for(x=!1,a=!1,i=!1,H=0;H<Z;H++)Q[H]=_(k[H]);for(V=0;V<Z;V++){if(J=ae,M[V]=A(k,Q,M,V),I=240&(ae=U[J][v[M[V]]]),ae&=15,C[V]=X=U[ae][5],I>0)if(I===16){for(H=Y;H<V;H++)C[H]=1;Y=-1}else Y=-1;if(U[ae][6])Y===-1&&(Y=V);else if(Y>-1){for(H=Y;H<V;H++)C[H]=X;Y=-1}Q[V]==="B"&&(C[V]=0),D.hiLevel|=X}i&&function(ne,oe,he){for(var de=0;de<he;de++)if(ne[de]==="S"){oe[de]=N;for(var ie=de-1;ie>=0&&ne[ie]==="WS";ie--)oe[ie]=N}}(Q,C,Z)},T=function(k,C,D,I,H){if(!(H.hiLevel<k)){if(k===1&&N===1&&!a)return C.reverse(),void(D&&D.reverse());for(var V,X,J,Y,Z=C.length,ae=0;ae<Z;){if(I[ae]>=k){for(J=ae+1;J<Z&&I[J]>=k;)J++;for(Y=ae,X=J-1;Y<X;Y++,X--)V=C[Y],C[Y]=C[X],C[X]=V,D&&(V=D[Y],D[Y]=D[X],D[X]=V);ae=J}ae++}}},$=function(k,C,D){var I=k.split(""),H={hiLevel:N};return D||(D=[]),E(I,D,H),function(V,X,J){if(J.hiLevel!==0&&d)for(var Y,Z=0;Z<V.length;Z++)X[Z]===1&&(Y=j.indexOf(V[Z]))>=0&&(V[Z]=j[Y+1])}(I,D,H),T(2,I,C,D,H),T(1,I,C,D,H),I.join("")};return this.__bidiEngine__.doBidiReorder=function(k,C,D){if(function(H,V){if(V)for(var X=0;X<H.length;X++)V[X]=X;s===void 0&&(s=w(H)),u===void 0&&(u=w(H))}(k,C),o||!c||u)if(o&&c&&s^u)N=s?1:0,k=O(k,C,D);else if(!o&&c&&u)N=s?1:0,k=$(k,C,D),k=O(k,C);else if(!o||s||c||u){if(o&&!c&&s^u)k=O(k,C),s?(N=0,k=$(k,C,D)):(N=1,k=$(k,C,D),k=O(k,C));else if(o&&s&&!c&&u)N=1,k=$(k,C,D),k=O(k,C);else if(!o&&!c&&s^u){var I=d;s?(N=1,k=$(k,C,D),N=0,d=!1,k=$(k,C,D),d=I):(N=0,k=$(k,C,D),k=O(k,C),N=1,d=!1,k=$(k,C,D),d=I,k=O(k,C))}}else N=0,k=$(k,C,D);else N=s?1:0,k=$(k,C,D);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,s=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(o=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?o.push([r.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):o.push([r.doBidiReorder(a[s])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(tt),tt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ho(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new SE(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new uE(this.contents),this.head=new fE(this),this.name=new vE(this),this.cmap=new gS(this),this.toUnicode={},this.hhea=new hE(this),this.maxp=new yE(this),this.hmtx=new bE(this),this.post=new mE(this),this.os2=new pE(this),this.loca=new NE(this),this.glyf=new xE(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,c,u;for(u=[],o=0,s=(c=this.bbox).length;o<s;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,s;for(o=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var La,ho=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,s,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*s+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),uE=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,s,c,u,d,f,p,h,v,g;for(g in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(a=new ho).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*h,u=a.pos+i,s=null,v=[],r)for(p=r[g],a.writeString(g),a.writeInt(e(p)),a.writeInt(u),a.writeInt(p.length),v=v.concat(p),g==="head"&&(s=u),u+=p.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=s+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=vS.call(r);r.length%4;)r.push(0);for(i=new ho(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),dE={}.hasOwnProperty,di=function(e,t){for(var r in t)dE.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};La=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var fE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return di(t,La),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new ho).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),O1=function(){function e(t,r){var n,a,i,o,s,c,u,d,f,p,h,v,g,j,y,x,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,i=function(){var _,w;for(w=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)w.push(t.readUInt16());return w}(),t.pos+=2,g=function(){var _,w;for(w=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)w.push(t.readUInt16());return w}(),u=function(){var _,w;for(w=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)w.push(t.readUInt16());return w}(),d=function(){var _,w;for(w=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)w.push(t.readUInt16());return w}(),a=(this.length-t.pos+this.offset)/2,s=function(){var _,w;for(w=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)w.push(t.readUInt16());return w}(),c=y=0,N=i.length;y<N;c=++y)for(j=i[c],n=x=v=g[c];v<=j?x<=j:x>=j;n=v<=j?++x:--x)d[c]===0?o=n+u[c]:(o=s[d[c]/2+(n-v)-(p-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,s,c,u,d,f,p,h,v,g,j,y,x,N,_,w,A,O,E,T,$,k,C,D,I,H,V,X,J,Y,Z,ae,M,U,Q,ne,oe,he,de,ie,xe,be,pe;switch(I=new ho,o=Object.keys(t).sort(function(Ee,$e){return Ee-$e}),r){case"macroman":for(g=0,j=function(){var Ee=[];for(v=0;v<256;++v)Ee.push(0);return Ee}(),x={0:0},i={},H=0,Y=o.length;H<Y;H++)x[ie=t[a=o[H]]]==null&&(x[ie]=++g),i[a]={old:t[a],new:x[t[a]]},j[a]=x[t[a]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(j),{charMap:i,subtable:I.data,maxGlyphID:g+1};case"unicode":for(C=[],f=[],N=0,x={},n={},y=u=null,V=0,Z=o.length;V<Z;V++)x[w=t[a=o[V]]]==null&&(x[w]=++N),n[a]={old:w,new:x[w]},s=x[w]-a,y!=null&&s===u||(y&&f.push(y),C.push(a),u=s),y=a;for(y&&f.push(y),f.push(65535),C.push(65535),$=2*(T=C.length),E=2*Math.pow(Math.log(T)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,O=2*T-E,c=[],A=[],h=[],v=X=0,ae=C.length;X<ae;v=++X){if(k=C[v],d=f[v],k===65535){c.push(0),A.push(0);break}if(k-(D=n[k].new)>=32768)for(c.push(0),A.push(2*(h.length+T-v)),a=J=k;k<=d?J<=d:J>=d;a=k<=d?++J:--J)h.push(n[a].new);else c.push(D-k),A.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*T+2*h.length),I.writeUInt16(0),I.writeUInt16($),I.writeUInt16(E),I.writeUInt16(p),I.writeUInt16(O),he=0,M=f.length;he<M;he++)a=f[he],I.writeUInt16(a);for(I.writeUInt16(0),de=0,U=C.length;de<U;de++)a=C[de],I.writeUInt16(a);for(xe=0,Q=c.length;xe<Q;xe++)s=c[xe],I.writeUInt16(s);for(be=0,ne=A.length;be<ne;be++)_=A[be],I.writeUInt16(_);for(pe=0,oe=h.length;pe<oe;pe++)g=h[pe],I.writeUInt16(g);return{charMap:n,subtable:I.data,maxGlyphID:N+1}}},e}(),gS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return di(t,La),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new O1(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=O1.encode(r,n),(i=new ho).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),hE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return di(t,La),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),pE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return di(t,La),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),mE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return di(t,La),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var s,c,u;for(u=[],o=s=0,c=this.file.maxp.numGlyphs;0<=c?s<c:s>c;o=0<=c?++s:--s)u.push(r.readUInt32());return u}).call(this)}},t}(),gE=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},vE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return di(t,La),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,s,c,u,d,f,p,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,p=a.length;f<p;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),s=new gE(d,i),u[h=i.nameID]==null&&(u[h]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),yE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return di(t,La),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),bE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return di(t,La),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,s,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,p,h;for(h=[],d=0,f=(p=this.metrics).length;d<f;d++)o=p[d],h.push(o.advance);return h}).call(this),a=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),vS=[].slice,xE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return di(t,La),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,s,c,u,d,f,p;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,s=(c=new ho(n.read(i))).readShort(),d=c.readShort(),p=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=s===-1?new jE(c,d,p,u,f):new wE(c,s,d,p,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,s,c,u;for(s=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(s.length),i&&(s=s.concat(i.encode(a)));return o.push(s.length),{table:s,offsets:o}},t}(),wE=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),jE=function(){function e(t,r,n,a,i){var o,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new ho(vS.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),NE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return di(t,La),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<a.length;++s)if(a[s]=i,o<n.length&&n[o]==s){++o,a[s]=i;var c=this.offsets[s],u=this.offsets[s+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),SE=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,s,c;for(a={},o=0,s=t.length;o<s;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,s,c,u,d,f,p,h,v,g,j,y;for(a in n=gS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},y=n.charMap)h[(c=y[a]).old]=c.new;for(v in p=n.maxGlyphID,o)v in h||(h[v]=p++);return d=function(x){var N,_;for(N in _={},x)_[x[N]]=N;return _}(h),f=Object.keys(d).sort(function(x,N){return x-N}),g=function(){var x,N,_;for(_=[],x=0,N=f.length;x<N;x++)s=f[x],_.push(d[s]);return _}(),i=this.font.glyf.encode(o,g,h),u=this.font.loca.encode(i.offsets,g),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e}();tt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var s,c,u;for(u=[],s=0,c=r.length;s<c;s++)n=r[s],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const P1="https://api.ptoconnect.com";function _E(){const[e,t]=q.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[r,n]=q.useState(""),[a,i]=q.useState(""),[o,s]=q.useState(!1),[c,u]=q.useState({type:"",season:"",audience:"",theme:"",goal:""}),[d,f]=q.useState(""),p=x=>{const{name:N,value:_,type:w,checked:A}=x.target;t(O=>({...O,[N]:w==="checkbox"?A:_}))},h=async x=>{x.preventDefault(),n(""),i("");const{data:{session:N},error:_}=await Ye.auth.getSession();if(_||!(N!=null&&N.access_token)){i("Authentication error. Please log in again.");return}try{const w=await fetch(`${P1}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.access_token}`},body:JSON.stringify(e)}),A=await w.json();if(!w.ok){i(A.error||"Failed to create event");return}n("Event created successfully!"),t({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1})}catch(w){i("Failed to connect to server."),console.error("Submit error:",w)}},v=x=>{const{name:N,value:_}=x.target;u(w=>({...w,[N]:_}))},g=async()=>{f("Generating...");try{const{data:x}=await _a.post(`${P1}/api/ai/generate-event`,c);f(x.result)}catch{f("AI generation failed.")}},j=()=>{try{const x=JSON.parse(d);t(N=>({...N,title:x.title||"",description:x.description||"",event_date:x.event_date||"",category:x.category||"",school_level:x.school_level||"",location:x.location||"",estimated_budget:x.estimated_budget||""}))}catch(x){alert("Failed to parse AI response. Please review the output and enter manually."),console.error("Parse error:",x)}},y=()=>{try{const x=JSON.parse(d),N=new tt;N.setFontSize(14),N.text(x.title||"Event Summary",10,20),N.setFontSize(10),N.text(`Date: ${x.event_date||"TBD"}`,10,30),N.text(`Category: ${x.category||"N/A"}`,10,36),N.text(`School Level: ${x.school_level||"N/A"}`,10,42),N.setFontSize(12),N.text("Description:",10,52),N.setFontSize(10),N.text(N.splitTextToSize(x.description||"",180),10,58),N.setFontSize(12),N.text("Planning Tasks:",10,100),(x.tasks||[]).forEach((w,A)=>{N.text(`- ${w}`,10,106+A*6)}),N.save(`${x.title||"event-summary"}.pdf`)}catch(x){alert("Unable to print. Please check that the AI returned a valid result."),console.error("Print error:",x)}};return l.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create New Event"}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsx("input",{name:"title",value:e.title,onChange:p,placeholder:"Event Title",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"description",value:e.description,onChange:p,placeholder:"Description",className:"w-full border p-2"}),l.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:p,className:"w-full border p-2",required:!0}),l.jsx("input",{type:"time",name:"start_time",value:e.start_time,onChange:p,className:"w-full border p-2"}),l.jsx("input",{type:"time",name:"end_time",value:e.end_time,onChange:p,className:"w-full border p-2"}),l.jsx("input",{name:"location",value:e.location,onChange:p,placeholder:"Location",className:"w-full border p-2"}),l.jsxs("select",{name:"school_level",value:e.school_level,onChange:p,className:"w-full border p-2",children:[l.jsx("option",{value:"elementary",children:"Elementary"}),l.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),l.jsx("option",{value:"middle",children:"Middle"}),l.jsx("option",{value:"junior_high",children:"Junior High"}),l.jsx("option",{value:"high",children:"High School"})]}),l.jsx("input",{name:"category",value:e.category,onChange:p,placeholder:"Category (e.g., Fundraiser)",className:"w-full border p-2"}),l.jsx("input",{name:"estimated_budget",value:e.estimated_budget,onChange:p,placeholder:"Estimated Budget",className:"w-full border p-2"}),l.jsxs("select",{name:"visibility",value:e.visibility,onChange:p,className:"w-full border p-2",children:[l.jsx("option",{value:"public",children:"Public"}),l.jsx("option",{value:"private",children:"Private"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:p}),l.jsx("span",{children:"Share this event to the PTO Connect Idea Library"})]}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Create Event"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsx("button",{onClick:()=>s(!o),className:"text-blue-600 underline",children:o?"Hide AI Event Assistant":"Use AI Event Assistant"}),o&&l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"AI Event Assistant"}),l.jsx("input",{type:"text",name:"type",placeholder:"Event Type",value:c.type,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"season",placeholder:"Season or Month",value:c.season,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"audience",placeholder:"Audience (e.g. families, teachers)",value:c.audience,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"theme",placeholder:"Theme (e.g. fall festival)",value:c.theme,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"goal",placeholder:"Goal (e.g. raise funds for library)",value:c.goal,onChange:v,className:"w-full border p-2"}),l.jsx("button",{onClick:g,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Generate Event Idea"}),d&&l.jsxs("div",{className:"border p-4 mt-4 bg-gray-50 rounded",children:[l.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:d}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{onClick:j,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Use This Event"}),l.jsx("button",{onClick:y,className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",children:"Print Summary"})]})]})]})]})]})}const AE=()=>{const e=jr(),[t,r]=q.useState(1),[n,a]=q.useState(null),[i,o]=q.useState("assisted"),[s,c]=q.useState(!1),[u,d]=q.useState(0),[f,p]=q.useState(null),[h,v]=q.useState({title:"",description:"",event_date:"",end_time:"",location:"",category:"Meeting",school_level:"elementary",expected_attendance:50,estimated_budget:500,volunteer_roles:[],materials_needed:[],special_requirements:""}),[g,j]=q.useState(null);q.useEffect(()=>{(async()=>{try{const{data:{session:$}}=await Ye.auth.getSession();if($!=null&&$.user){const{data:k}=await Ye.from("profiles").select("*").eq("id",$.user.id).single();a(k)}}catch($){console.error("Error fetching user context:",$)}})()},[]);const y=(T,$)=>{v(k=>({...k,[T]:$}))},x=(T,$)=>{const k=$.split(",").map(C=>C.trim()).filter(C=>C);v(C=>({...C,[T]:k}))},N=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Details"}),l.jsx("p",{className:"text-gray-600",children:"Let's start with the basics about your event"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),l.jsx("input",{type:"text",value:h.title,onChange:T=>y("title",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Fall Festival, Book Fair, Bake Sale"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:h.description,onChange:T=>y("description",T.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your event..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date *"}),l.jsx("input",{type:"date",value:h.event_date,onChange:T=>y("event_date",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),l.jsx("input",{type:"time",value:h.end_time,onChange:T=>y("end_time",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),l.jsx("input",{type:"text",value:h.location,onChange:T=>y("location",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"School gymnasium, cafeteria, etc."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),l.jsxs("select",{value:h.category,onChange:T=>y("category",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Meeting",children:"Meeting"}),l.jsx("option",{value:"Fundraiser",children:"Fundraiser"}),l.jsx("option",{value:"Celebration",children:"Celebration"}),l.jsx("option",{value:"Educational",children:"Educational"}),l.jsx("option",{value:"Social",children:"Social"}),l.jsx("option",{value:"Volunteer",children:"Volunteer"}),l.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),_=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Planning Details"}),l.jsx("p",{className:"text-gray-600",children:"Help Stella understand your event requirements"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Attendance"}),l.jsx("input",{type:"number",value:h.expected_attendance,onChange:T=>y("expected_attendance",parseInt(T.target.value)||0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Budget ($)"}),l.jsx("input",{type:"number",value:h.estimated_budget,onChange:T=>y("estimated_budget",parseInt(T.target.value)||0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School Level"}),l.jsxs("select",{value:h.school_level,onChange:T=>y("school_level",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"elementary",children:"Elementary"}),l.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),l.jsx("option",{value:"middle",children:"Middle School"}),l.jsx("option",{value:"junior_high",children:"Junior High"}),l.jsx("option",{value:"high",children:"High School"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volunteer Roles Needed"}),l.jsx("input",{type:"text",value:h.volunteer_roles.join(", "),onChange:T=>x("volunteer_roles",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Setup crew, registration, cleanup (comma separated)"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Materials Needed"}),l.jsx("input",{type:"text",value:h.materials_needed.join(", "),onChange:T=>x("materials_needed",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tables, chairs, decorations, sound system (comma separated)"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),l.jsx("textarea",{value:h.special_requirements,onChange:T=>y("special_requirements",T.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any special considerations, dietary restrictions, accessibility needs, etc."})]})]})]}),w=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[l.jsx(lr,{className:"w-8 h-8 text-purple-600"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Choose Your Workflow Experience"})]}),l.jsx("p",{className:"text-gray-600",children:"How would you like Stella to help with your event planning?"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{mode:"manual",title:"Manual Control",description:"I prefer to plan everything myself with basic Stella suggestions",icon:Dp,color:"gray",features:["Event creation only","Optional AI suggestions","Full manual control","Basic reminders"]},{mode:"assisted",title:"Stella Assisted",description:"I want Stella's help with suggestions and recommendations",icon:lr,color:"purple",features:["AI-powered suggestions","Smart recommendations","Timeline assistance","Communication templates"]},{mode:"automated",title:"Fully Automated",description:"Let Stella create the complete workflow for me",icon:_h,color:"blue",features:["Complete workflow generation","Auto task creation","Budget planning","Communication campaigns"]}].map(T=>{const $=T.icon,k=i===T.mode;return l.jsxs("button",{onClick:()=>o(T.mode),className:`p-6 rounded-lg border-2 transition-all text-left ${k?`border-${T.color}-500 bg-${T.color}-50 shadow-lg`:"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[l.jsx($,{className:`w-8 h-8 mb-4 ${k?`text-${T.color}-600`:"text-gray-400"}`}),l.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:T.title}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:T.description}),l.jsx("ul",{className:"space-y-1",children:T.features.map((C,D)=>l.jsxs("li",{className:`text-xs flex items-center space-x-2 ${k?`text-${T.color}-700`:"text-gray-500"}`,children:[l.jsx(Rd,{className:"w-3 h-3"}),l.jsx("span",{children:C})]},D))})]},T.mode)})}),i==="automated"&&l.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(mP,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-900",children:"Stella's Full Workflow Will Include:"}),l.jsxs("ul",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[l.jsx("li",{children:"â€¢ 6-8 week project timeline with key milestones"}),l.jsx("li",{children:"â€¢ Detailed budget breakdown and expense tracking"}),l.jsx("li",{children:"â€¢ Complete communication campaign (email, SMS, social media)"}),l.jsx("li",{children:"â€¢ Volunteer coordination and task assignments"}),l.jsx("li",{children:"â€¢ Automated reminders and follow-ups"}),l.jsx("li",{children:"â€¢ Post-event analysis and reporting"})]})]})]})})]}),A=async()=>{var T,$,k,C;if(!h.title||!h.event_date||!h.location){xt.error("Please fill in all required fields");return}if(!(n!=null&&n.org_id)){xt.error("Organization context required");return}c(!0),d(10);try{d(20);const D=await HN.createEvent({...h,org_id:n.org_id,created_by:n.id});if(D.error)throw new Error(D.error);const I=D.data;if(d(40),i!=="manual"){d(60);const H=await Nl.analyzeEventWorkflow(h,n.org_id);if(i==="automated"){d(80);const V=await Nl.generateContent("workflow",`Complete event workflow for ${h.title}`,{orgId:n.org_id,eventData:h,mode:"automated"},!0);p({event:I,analysis:H,recommendations:V.recommendations||[],timeline:((T=H.workflowPlan)==null?void 0:T.keyMilestones)||[],budget:(($=H.workflowPlan)==null?void 0:$.budgetRecommendations)||{},communications:((k=H.workflowPlan)==null?void 0:k.communicationPlan)||{},volunteers:((C=H.workflowPlan)==null?void 0:C.volunteerNeeds)||{}})}else p({event:I,analysis:H,suggestions:H.workflowPlan||{}});j(H)}d(100),xt.success(`âœ¨ Event created successfully! ${i==="automated"?"Stella has generated your complete workflow.":i==="assisted"?"Stella has prepared suggestions for you.":""}`),setTimeout(()=>{e(i==="automated"?`/events/${I.id}/workflow`:`/events/${I.id}`)},2e3)}catch(D){console.error("Event creation error:",D),xt.error("Failed to create event and workflow. Please try again."),c(!1),d(0)}},O=()=>{t<3?r(t+1):A()},E=()=>{t>1&&r(t-1)};return l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Event"}),l.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:l.jsxs("span",{children:["Step ",t," of 3"]})})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${t/3*100}%`}})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 mb-8",children:[t===1&&l.jsx(N,{}),t===2&&l.jsx(_,{}),t===3&&l.jsx(w,{})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:E,disabled:t===1,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),l.jsx("button",{onClick:O,disabled:s,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),l.jsxs("span",{children:["Creating Event & Workflow... ",u,"%"]})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:t===3?"Create Event":"Next"}),l.jsx(RN,{className:"w-4 h-4"})]})})]})]})},OE=()=>{const{eventId:e}=uc(),t=jr(),[r,n]=q.useState(null),[a,i]=q.useState(null),[o,s]=q.useState(null),[c,u]=q.useState("overview"),[d,f]=q.useState(!0);if(q.useEffect(()=>{e&&(async()=>{try{const{data:{session:x}}=await Ye.auth.getSession();if(x!=null&&x.user){const{data:N}=await Ye.from("profiles").select("*").eq("id",x.user.id).single();s(N);const _=await HN.getEvent(e);if(_.data){n(_.data);const w=await Nl.analyzeEventWorkflow(_.data,N.org_id);i(w)}}}catch(x){console.error("Error fetching event and workflow:",x),xt.error("Failed to load event workflow")}finally{f(!1)}})()},[e]),d)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})});if(!r||!a)return l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8 text-center",children:[l.jsx(gP,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"The event workflow could not be loaded."}),l.jsx("button",{onClick:()=>t("/events"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Events"})]});const p=()=>{var y,x,N,_,w,A,O,E;return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),l.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(r.event_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(si,{className:"w-4 h-4"}),l.jsxs("span",{children:[r.expected_attendance||"TBD"," expected"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ja,{className:"w-4 h-4"}),l.jsxs("span",{children:["$",r.estimated_budget||0," budget"]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(lr,{className:"w-5 h-5 text-purple-600"}),l.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Stella Workflow"})]})]})}),a.eventComplexity&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Complexity Analysis"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:`text-2xl font-bold mb-1 ${a.eventComplexity.complexity==="complex"?"text-red-600":a.eventComplexity.complexity==="moderate"?"text-yellow-600":"text-green-600"}`,children:a.eventComplexity.complexity.toUpperCase()}),l.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Level"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[a.eventComplexity.score,"/10"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Score"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx(Pu,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-sm text-gray-600",children:[((y=a.workflowPlan)==null?void 0:y.recommendedTimeline)||"6-8 weeks"," Timeline"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(Iy,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((N=(x=a.workflowPlan)==null?void 0:x.keyMilestones)==null?void 0:N.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Milestones"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(si,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((w=(_=a.workflowPlan)==null?void 0:_.volunteerNeeds)==null?void 0:w.totalVolunteers)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Volunteers Needed"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(Yo,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Object.keys(((A=a.workflowPlan)==null?void 0:A.communicationPlan)||{}).length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Communication Phases"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(Ja,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",((E=(O=a.workflowPlan)==null?void 0:O.budgetRecommendations)==null?void 0:E.suggestedBudget)||r.estimated_budget||0]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Recommended Budget"})]})]})]})},h=()=>{var y;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Timeline"}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(e1,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Milestone"})]})]}),(y=a.workflowPlan)!=null&&y.keyMilestones?l.jsx("div",{className:"space-y-4",children:a.workflowPlan.keyMilestones.map((x,N)=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${N===0?"bg-green-600":"bg-blue-600"}`,children:x.week}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:x.milestone}),l.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Week ",x.week," milestone"]}),x.tasks&&l.jsx("ul",{className:"space-y-1",children:x.tasks.map((_,w)=>l.jsxs("li",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(Rd,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{children:_})]},w))})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Fu,{className:"w-4 h-4"})}),l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Ru,{className:"w-4 h-4"})})]})]})},N))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Pu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No timeline generated yet"})]})]})},v=()=>{var y;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget Planning"}),l.jsxs("button",{onClick:()=>t("/budget/create"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[l.jsx(e1,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Budget"})]})]}),(y=a.workflowPlan)!=null&&y.budgetRecommendations?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recommended Budget"}),l.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",a.workflowPlan.budgetRecommendations.suggestedBudget]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total recommended amount"})]}),a.workflowPlan.budgetRecommendations.breakdown&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Budget Breakdown"}),l.jsx("div",{className:"space-y-3",children:Object.entries(a.workflowPlan.budgetRecommendations.breakdown).map(([x,N])=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"capitalize text-gray-700",children:x}),l.jsxs("span",{className:"font-medium text-gray-900",children:["$",N]})]},x))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ja,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No budget recommendations generated yet"})]})]})},g=()=>{var y;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Communication Campaign"}),l.jsxs("button",{onClick:()=>t("/communications/compose"),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[l.jsx(Yo,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Campaign"})]})]}),(y=a.workflowPlan)!=null&&y.communicationPlan?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(a.workflowPlan.communicationPlan).map(([x,N])=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx(Yo,{className:"w-5 h-5 text-purple-600"}),l.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:x.replace(/([A-Z])/g," $1")})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-md text-sm hover:bg-purple-200",children:"Create Email"}),l.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-md text-sm hover:bg-blue-200",children:"Schedule SMS"})]})]},x))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Yo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No communication plan generated yet"})]})]})},j=[{id:"overview",label:"Overview",icon:BN},{id:"timeline",label:"Timeline",icon:Pu},{id:"budget",label:"Budget",icon:Ja},{id:"communications",label:"Communications",icon:Yo}];return l.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Workflow"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive event management powered by Stella AI"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>t(`/events/${e}`),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"View Event"}),l.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[l.jsx(FN,{className:"w-4 h-4"}),l.jsx("span",{children:"Export Workflow"})]})]})]}),l.jsx("div",{className:"border-b border-gray-200 mb-8",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:j.map(y=>{const x=y.icon;return l.jsxs("button",{onClick:()=>u(y.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${c===y.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(x,{className:"w-4 h-4"}),l.jsx("span",{children:y.label})]},y.id)})})}),l.jsxs("div",{children:[c==="overview"&&l.jsx(p,{}),c==="timeline"&&l.jsx(h,{}),c==="budget"&&l.jsx(v,{}),c==="communications"&&l.jsx(g,{})]})]})};function PE(){const[e,t]=q.useState(null),[r,n]=q.useState(""),a=jr(),{id:i}=uc();q.useEffect(()=>{async function c(){const{data:u,error:d}=await Ye.from("events").select("*").eq("id",i).single();d?(n("Failed to load event."),console.error(d)):t(u)}c()},[i]);const o=c=>{const{name:u,value:d,type:f,checked:p}=c.target;t(h=>({...h,[u]:f==="checkbox"?p:d}))},s=async c=>{c.preventDefault();const{error:u}=await Ye.from("events").update({title:e.title,event_date:e.event_date,category:e.category,school_level:e.school_level,share_public:e.share_public}).eq("id",i);u?(n("Update failed."),console.error(u)):a("/events")};return e?l.jsxs("div",{className:"max-w-xl mx-auto mt-8 p-6 bg-white shadow rounded",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Edit Event"}),r&&l.jsx("p",{className:"text-red-500 mb-2",children:r}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{type:"text",name:"title",value:e.title,onChange:o,className:"w-full border p-2 rounded",required:!0}),l.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:o,className:"w-full border p-2 rounded",required:!0}),l.jsxs("select",{name:"category",value:e.category,onChange:o,className:"w-full border p-2 rounded",required:!0,children:[l.jsx("option",{value:"Fundraiser",children:"Fundraiser"}),l.jsx("option",{value:"Meeting",children:"Meeting"}),l.jsx("option",{value:"Celebration",children:"Celebration"}),l.jsx("option",{value:"Other",children:"Other"})]}),l.jsxs("select",{name:"school_level",value:e.school_level,onChange:o,className:"w-full border p-2 rounded",required:!0,children:[l.jsx("option",{value:"Elementary",children:"Elementary"}),l.jsx("option",{value:"Middle",children:"Middle"}),l.jsx("option",{value:"High",children:"High"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:o}),l.jsx("span",{children:"Share Publicly"})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]}):l.jsx("p",{className:"p-4",children:"Loading event..."})}function EE(e,t){if(bt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yS(e){var t=EE(e,"string");return bt(t)=="symbol"?t:t+""}function Xo(e,t,r){return(t=yS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E1(Object(r),!0).forEach(function(n){Xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zp(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function li(e,t){if(e==null)return{};var r,n,a=zp(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yS(n.key),n)}}function Er(e,t,r){return t&&k1(e.prototype,t),r&&k1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ph(e){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ph(e)}function bS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bS=function(){return!!e})()}function kE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TE(e,t){if(t&&(bt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kE(e)}function en(e,t,r){return t=Ph(t),TE(e,bS()?Reflect.construct(t,r||[],Ph(e).constructor):t.apply(e,r))}function Eh(e,t){return Eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Eh(e,t)}function tn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eh(e,t)}function xS(e){if(Array.isArray(e))return e}function CE(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Xv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Wy(e,t){if(e){if(typeof e=="string")return Xv(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xv(e,t):void 0}}function wS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function us(e,t){return xS(e)||CE(e,t)||Wy(e,t)||wS()}function jS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=jS(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function cr(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=jS(e))&&(n&&(n+=" "),n+=t);return n}function or(){return or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},or.apply(null,arguments)}var LE=function(e,t,r,n,a,i,o,s){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,i,o,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},ME=LE;const zu=wt(ME);var $E=function(){};function DE(e,t){var r={};return Object.keys(e).forEach(function(n){r[yh(n)]=$E}),r}function T1(e,t){return e[t]!==void 0}function yh(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function IE(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function RE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Eh(e,t)}function NS(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function SS(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function _S(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}NS.__suppressDeprecationWarning=!0;SS.__suppressDeprecationWarning=!0;_S.__suppressDeprecationWarning=!0;function FE(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=NS,t.componentWillReceiveProps=SS),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=_S;var s=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,u,d,p)}}return e}var BE="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function AS(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=IE(e),i=Object.keys(t),o=i.map(yh);a||!r.length||zu(!1);var s=function(u){RE(d,u);function d(){for(var p,h=arguments.length,v=new Array(h),g=0;g<h;g++)v[g]=arguments[g];p=u.call.apply(u,[this].concat(v))||this,p.handlers=Object.create(null),i.forEach(function(y){var x=t[y],N=function(w){if(p.props[x]){var A;p._notifying=!0;for(var O=arguments.length,E=new Array(O>1?O-1:0),T=1;T<O;T++)E[T-1]=arguments[T];(A=p.props)[x].apply(A,[w].concat(E)),p._notifying=!1}p.unmounted||p.setState(function($){var k,C=$.values;return{values:or(Object.create(null),C,(k={},k[y]=w,k))}})};p.handlers[x]=N}),r.length&&(p.attachRef=function(y){p.inner=y});var j=Object.create(null);return i.forEach(function(y){j[y]=p.props[yh(y)]}),p.state={values:j,prevProps:{}},p}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(h,v){var g=v.values,j=v.prevProps,y={values:or(Object.create(null),g),prevProps:{}};return i.forEach(function(x){y.prevProps[x]=h[x],!T1(h,x)&&T1(j,x)&&(y.values[x]=h[yh(x)])}),y},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var h=this,v=this.props,g=v.innerRef,j=zp(v,["innerRef"]);o.forEach(function(x){delete j[x]});var y={};return i.forEach(function(x){var N=h.props[x];y[x]=N!==void 0?N:h.state.values[x]}),B.createElement(e,or({},j,y,this.handlers,{ref:g||this.attachRef}))},d}(B.Component);FE(s),s.displayName="Uncontrolled("+n+")",s.propTypes=or({innerRef:function(){}},DE(t)),r.forEach(function(u){s.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=s;return B.forwardRef&&(c=B.forwardRef(function(u,d){return B.createElement(s,or({},u,{innerRef:d,__source:{fileName:BE,lineNumber:128},__self:this}))}),c.propTypes=s.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),AS(u,or({},t,d),f)},c}var kh="milliseconds",Uu="seconds",Wu="minutes",Hu="hours",ds="day",Cl="week",Gu="month",fs="year",hs="decade",ps="century",OS={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},qE={month:1,year:12,decade:10*12,century:100*12};function zE(e){return[31,UE(e),31,30,31,30,31,31,30,31,30,31]}function UE(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ta(e,t,r){switch(e=new Date(e),r){case kh:case Uu:case Wu:case Hu:case ds:case Cl:return WE(e,t*OS[r]);case Gu:case fs:case hs:case ps:return HE(e,t*qE[r])}throw new TypeError('Invalid units: "'+r+'"')}function WE(e,t){var r=new Date(+e+t);return GE(e,r)}function HE(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=r*12+n+t,o=Math.trunc(i/12),s=i%12,c=Math.min(a,zE(o)[s]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(s),u.setDate(c),u}function GE(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*OS.minutes)}function Vu(e,t,r){return Ta(e,-t,r)}function zr(e,t,r){switch(e=new Date(e),t){case ps:case hs:case fs:e=Ch(e,0);case Gu:e=CS(e,1);case Cl:case ds:e=Xu(e,0);case Hu:e=Ll(e,0);case Wu:e=Ku(e,0);case Uu:e=Yu(e,0)}return t===hs&&(e=Vu(e,ms(e)%10,"year")),t===ps&&(e=Vu(e,ms(e)%100,"year")),t===Cl&&(e=LS(e,0,r)),e}function Th(e,t,r){switch(e=new Date(e),e=zr(e,t,r),t){case ps:case hs:case fs:case Gu:case Cl:e=Ta(e,1,t),e=Vu(e,1,ds),e.setHours(23,59,59,999);break;case ds:e.setHours(23,59,59,999);break;case Hu:case Wu:case Uu:e=Ta(e,1,t),e=Vu(e,1,kh)}return e}var dc=hc(function(e,t){return e===t}),Hy=hc(function(e,t){return e!==t}),Up=hc(function(e,t){return e>t}),Bd=hc(function(e,t){return e>=t}),Gy=hc(function(e,t){return e<t}),fc=hc(function(e,t){return e<=t});function PS(){return new Date(Math.min.apply(Math,arguments))}function ES(){return new Date(Math.max.apply(Math,arguments))}function kS(e,t,r,n){return n=n||"day",(!t||Bd(e,t,n))&&(!r||fc(e,r,n))}var Yu=yo("Milliseconds"),Ku=yo("Seconds"),Ll=yo("Minutes"),Xu=yo("Hours"),TS=yo("Day"),CS=yo("Date"),Ch=yo("Month"),ms=yo("FullYear");function VE(e,t){return t===void 0?ms(zr(e,hs)):Ta(e,t+10,fs)}function YE(e,t){return t===void 0?ms(zr(e,ps)):Ta(e,t+100,fs)}function LS(e,t,r){var n=(TS(e)+7-(r||0))%7;return t===void 0?n:Ta(e,t-n,ds)}function KE(e,t,r,n){var a,i,o;switch(r){case kh:case Uu:case Wu:case Hu:case ds:case Cl:a=t.getTime()-e.getTime();break;case Gu:case fs:case hs:case ps:a=(ms(t)-ms(e))*12+Ch(t)-Ch(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case kh:i=1;break;case Uu:i=1e3;break;case Wu:i=1e3*60;break;case Hu:i=1e3*60*60;break;case ds:i=1e3*60*60*24;break;case Cl:i=1e3*60*60*24*7;break;case Gu:i=1;break;case fs:i=12;break;case hs:i=120;break;case ps:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=a/i,n?o:Math.round(o)}function yo(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function hc(e){return function(t,r,n){return e(+zr(t,n),+zr(r,n))}}const C1=Object.freeze(Object.defineProperty({__proto__:null,add:Ta,century:YE,date:CS,day:TS,decade:VE,diff:KE,endOf:Th,eq:dc,gt:Up,gte:Bd,hours:Xu,inRange:kS,lt:Gy,lte:fc,max:ES,milliseconds:Yu,min:PS,minutes:Ll,month:Ch,neq:Hy,seconds:Ku,startOf:zr,subtract:Vu,weekday:LS,year:ms},Symbol.toStringTag,{value:"Module"}));function XE(e){if(Array.isArray(e))return Xv(e)}function MS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bh(e){return XE(e)||MS(e)||Wy(e)||JE()}function ZE(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Vy=ZE;function QE(e,t){return e===t||e!==e&&t!==t}var qd=QE,ek=typeof Jn=="object"&&Jn&&Jn.Object===Object&&Jn,$S=ek,tk=$S,rk=typeof self=="object"&&self&&self.Object===Object&&self,nk=tk||rk||Function("return this")(),Ma=nk,ak=Ma,ik=ak.Symbol,pc=ik,L1=pc,DS=Object.prototype,ok=DS.hasOwnProperty,sk=DS.toString,fu=L1?L1.toStringTag:void 0;function lk(e){var t=ok.call(e,fu),r=e[fu];try{e[fu]=void 0;var n=!0}catch{}var a=sk.call(e);return n&&(t?e[fu]=r:delete e[fu]),a}var ck=lk,uk=Object.prototype,dk=uk.toString;function fk(e){return dk.call(e)}var hk=fk,M1=pc,pk=ck,mk=hk,gk="[object Null]",vk="[object Undefined]",$1=M1?M1.toStringTag:void 0;function yk(e){return e==null?e===void 0?vk:gk:$1&&$1 in Object(e)?pk(e):mk(e)}var Ri=yk;function bk(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var aa=bk;const mc=wt(aa);var xk=Ri,wk=aa,jk="[object AsyncFunction]",Nk="[object Function]",Sk="[object GeneratorFunction]",_k="[object Proxy]";function Ak(e){if(!wk(e))return!1;var t=xk(e);return t==Nk||t==Sk||t==jk||t==_k}var Wp=Ak;const nt=wt(Wp);var Ok=9007199254740991;function Pk(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ok}var Yy=Pk,Ek=Wp,kk=Yy;function Tk(e){return e!=null&&kk(e.length)&&!Ek(e)}var gc=Tk,Ck=9007199254740991,Lk=/^(?:0|[1-9]\d*)$/;function Mk(e,t){var r=typeof e;return t=t??Ck,!!t&&(r=="number"||r!="symbol"&&Lk.test(e))&&e>-1&&e%1==0&&e<t}var Ky=Mk,$k=qd,Dk=gc,Ik=Ky,Rk=aa;function Fk(e,t,r){if(!Rk(r))return!1;var n=typeof t;return(n=="number"?Dk(r)&&Ik(t,r.length):n=="string"&&t in r)?$k(r[t],e):!1}var vc=Fk,Bk=/\s/;function qk(e){for(var t=e.length;t--&&Bk.test(e.charAt(t)););return t}var zk=qk,Uk=zk,Wk=/^\s+/;function Hk(e){return e&&e.slice(0,Uk(e)+1).replace(Wk,"")}var Gk=Hk;function Vk(e){return e!=null&&typeof e=="object"}var $a=Vk,Yk=Ri,Kk=$a,Xk="[object Symbol]";function Jk(e){return typeof e=="symbol"||Kk(e)&&Yk(e)==Xk}var yc=Jk,Zk=Gk,D1=aa,Qk=yc,I1=NaN,eT=/^[-+]0x[0-9a-f]+$/i,tT=/^0b[01]+$/i,rT=/^0o[0-7]+$/i,nT=parseInt;function aT(e){if(typeof e=="number")return e;if(Qk(e))return I1;if(D1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=D1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Zk(e);var r=tT.test(e);return r||rT.test(e)?nT(e.slice(2),r?2:8):eT.test(e)?I1:+e}var IS=aT,iT=IS,R1=1/0,oT=17976931348623157e292;function sT(e){if(!e)return e===0?e:0;if(e=iT(e),e===R1||e===-R1){var t=e<0?-1:1;return t*oT}return e===e?e:0}var RS=sT,lT=RS;function cT(e){var t=lT(e),r=t%1;return t===t?r?t-r:t:0}var FS=cT,uT=Vy,dT=vc,fT=FS,hT=Math.ceil,pT=Math.max;function mT(e,t,r){(r?dT(e,t,r):t===void 0)?t=1:t=pT(fT(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,i=0,o=Array(hT(n/t));a<n;)o[i++]=uT(e,a,a+=t);return o}var gT=mT;const vT=wt(gT);function zd(e){return e&&e.ownerDocument||document}function yT(e){var t=zd(e);return t&&t.defaultView||window}function bT(e,t){return yT(e).getComputedStyle(e,t)}var xT=/([A-Z])/g;function wT(e){return e.replace(xT,"-$1").toLowerCase()}var jT=/^ms-/;function Kf(e){return wT(e).replace(jT,"-ms-")}var NT=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ST(e){return!!(e&&NT.test(e))}function gl(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Kf(t))||bT(e).getPropertyValue(Kf(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(Kf(a)):ST(a)?n+=a+"("+i+") ":r+=Kf(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function Ju(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function _T(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Xy(e){return"window"in e&&e.window===e?e:_T(e)&&e.defaultView||!1}function BS(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=Xy(n);if(a===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],a):n[t]=a}return r}const qS=BS("pageXOffset"),zS=BS("pageYOffset");function as(e){var t=zd(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!Ju(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+zS(n)-(n.clientTop||0),left:r.left+qS(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var AT=function(t){return!!t&&"offsetParent"in t};function OT(e){for(var t=zd(e),r=e&&e.offsetParent;AT(r)&&r.nodeName!=="HTML"&&gl(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var PT=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function US(e,t){var r={top:0,left:0},n;if(gl(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||OT(e);n=as(e),PT(a)!=="html"&&(r=as(a));var i=String(gl(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-zS(a)||0;var o=String(gl(a,"borderLeftWidth")||0);r.left+=parseInt(o,10)-qS(a)||0}var s=String(gl(e,"marginTop")||0),c=String(gl(e,"marginLeft")||0);return or({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const Jy=!!(typeof window<"u"&&window.document&&window.document.createElement);var F1=new Date().getTime();function ET(e){var t=new Date().getTime(),r=Math.max(0,16-(t-F1)),n=setTimeout(e,r);return F1=t,n}var kT=["","webkit","moz","o","ms"],Jv="clearTimeout",Zv=ET,B1=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};Jy&&kT.some(function(e){var t=B1(e,"request");return t in window&&(Jv=B1(e,"cancel"),Zv=function(n){return window[t](n)}),!!Zv});var q1=function(t){typeof window[Jv]=="function"&&window[Jv](t)},WS=Zv,Zg;function TT(e,t){if(!Zg){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Zg=function(i,o){return n.call(i,o)}}return Zg(e,t)}var CT=Function.prototype.bind.call(Function.prototype.call,[].slice);function LT(e,t){return CT(e.querySelectorAll(t))}var Qv=!1,e0=!1;try{var Qg={get passive(){return Qv=!0},get once(){return e0=Qv=!0}};Jy&&(window.addEventListener("test",Qg,Qg),window.removeEventListener("test",Qg,!0))}catch{}function MT(e,t,r,n){if(n&&typeof n!="boolean"&&!e0){var a=n.once,i=n.capture,o=r;!e0&&a&&(o=r.__once||function s(c){this.removeEventListener(t,s,i),r.call(this,c)},r.__once=o),e.addEventListener(t,o,Qv?n:i)}e.addEventListener(t,r,n)}function $T(e){const t=q.useRef(e);return q.useEffect(()=>{t.current=e},[e]),t}function z1(e){const t=$T(e);return q.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function U1(){return q.useState(null)}function DT(){const e=q.useRef(!0),t=q.useRef(()=>e.current);return q.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function IT(e){const t=DT();return[e[0],q.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var jn="top",ta="bottom",ra="right",Nn="left",Zy="auto",Ud=[jn,ta,ra,Nn],Ml="start",Zu="end",RT="clippingParents",HS="viewport",hu="popper",FT="reference",W1=Ud.reduce(function(e,t){return e.concat([t+"-"+Ml,t+"-"+Zu])},[]),Qy=[].concat(Ud,[Zy]).reduce(function(e,t){return e.concat([t,t+"-"+Ml,t+"-"+Zu])},[]),BT="beforeRead",qT="read",zT="afterRead",UT="beforeMain",WT="main",HT="afterMain",GT="beforeWrite",VT="write",YT="afterWrite",KT=[BT,qT,zT,UT,WT,HT,GT,VT,YT];function ni(e){return e.split("-")[0]}function In(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gs(e){var t=In(e).Element;return e instanceof t||e instanceof Element}function ai(e){var t=In(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function eb(e){if(typeof ShadowRoot>"u")return!1;var t=In(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var is=Math.max,Lh=Math.min,$l=Math.round;function t0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function GS(){return!/^((?!chrome|android).)*safari/i.test(t0())}function Dl(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&ai(e)&&(a=e.offsetWidth>0&&$l(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&$l(n.height)/e.offsetHeight||1);var o=gs(e)?In(e):window,s=o.visualViewport,c=!GS()&&r,u=(n.left+(c&&s?s.offsetLeft:0))/a,d=(n.top+(c&&s?s.offsetTop:0))/i,f=n.width/a,p=n.height/i;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u,x:u,y:d}}function tb(e){var t=Dl(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function VS(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&eb(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function po(e){return e?(e.nodeName||"").toLowerCase():null}function Mi(e){return In(e).getComputedStyle(e)}function XT(e){return["table","td","th"].indexOf(po(e))>=0}function bo(e){return((gs(e)?e.ownerDocument:e.document)||window.document).documentElement}function Hp(e){return po(e)==="html"?e:e.assignedSlot||e.parentNode||(eb(e)?e.host:null)||bo(e)}function H1(e){return!ai(e)||Mi(e).position==="fixed"?null:e.offsetParent}function JT(e){var t=/firefox/i.test(t0()),r=/Trident/i.test(t0());if(r&&ai(e)){var n=Mi(e);if(n.position==="fixed")return null}var a=Hp(e);for(eb(a)&&(a=a.host);ai(a)&&["html","body"].indexOf(po(a))<0;){var i=Mi(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Wd(e){for(var t=In(e),r=H1(e);r&&XT(r)&&Mi(r).position==="static";)r=H1(r);return r&&(po(r)==="html"||po(r)==="body"&&Mi(r).position==="static")?t:r||JT(e)||t}function rb(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ku(e,t,r){return is(e,Lh(t,r))}function ZT(e,t,r){var n=ku(e,t,r);return n>r?r:n}function YS(){return{top:0,right:0,bottom:0,left:0}}function KS(e){return Object.assign({},YS(),e)}function XS(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var QT=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,KS(typeof t!="number"?t:XS(t,Ud))};function eC(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,s=ni(r.placement),c=rb(s),u=[Nn,ra].indexOf(s)>=0,d=u?"height":"width";if(!(!i||!o)){var f=QT(a.padding,r),p=tb(i),h=c==="y"?jn:Nn,v=c==="y"?ta:ra,g=r.rects.reference[d]+r.rects.reference[c]-o[c]-r.rects.popper[d],j=o[c]-r.rects.reference[c],y=Wd(i),x=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,N=g/2-j/2,_=f[h],w=x-p[d]-f[v],A=x/2-p[d]/2+N,O=ku(_,A,w),E=c;r.modifiersData[n]=(t={},t[E]=O,t.centerOffset=O-A,t)}}function tC(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||VS(t.elements.popper,a)&&(t.elements.arrow=a))}const rC={name:"arrow",enabled:!0,phase:"main",fn:eC,effect:tC,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Il(e){return e.split("-")[1]}var nC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aC(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:$l(r*a)/a||0,y:$l(n*a)/a||0}}function G1(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=o.x,h=p===void 0?0:p,v=o.y,g=v===void 0?0:v,j=typeof d=="function"?d({x:h,y:g}):{x:h,y:g};h=j.x,g=j.y;var y=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),N=Nn,_=jn,w=window;if(u){var A=Wd(r),O="clientHeight",E="clientWidth";if(A===In(r)&&(A=bo(r),Mi(A).position!=="static"&&s==="absolute"&&(O="scrollHeight",E="scrollWidth")),A=A,a===jn||(a===Nn||a===ra)&&i===Zu){_=ta;var T=f&&A===w&&w.visualViewport?w.visualViewport.height:A[O];g-=T-n.height,g*=c?1:-1}if(a===Nn||(a===jn||a===ta)&&i===Zu){N=ra;var $=f&&A===w&&w.visualViewport?w.visualViewport.width:A[E];h-=$-n.width,h*=c?1:-1}}var k=Object.assign({position:s},u&&nC),C=d===!0?aC({x:h,y:g},In(r)):{x:h,y:g};if(h=C.x,g=C.y,c){var D;return Object.assign({},k,(D={},D[_]=x?"0":"",D[N]=y?"0":"",D.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",D))}return Object.assign({},k,(t={},t[_]=x?g+"px":"",t[N]=y?h+"px":"",t.transform="",t))}function iC(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,s=r.roundOffsets,c=s===void 0?!0:s,u={placement:ni(t.placement),variation:Il(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,G1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,G1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const oC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:iC,data:{}};var Xf={passive:!0};function sC(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,o=n.resize,s=o===void 0?!0:o,c=In(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",r.update,Xf)}),s&&c.addEventListener("resize",r.update,Xf),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Xf)}),s&&c.removeEventListener("resize",r.update,Xf)}}const lC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:sC,data:{}};var cC={left:"right",right:"left",bottom:"top",top:"bottom"};function xh(e){return e.replace(/left|right|bottom|top/g,function(t){return cC[t]})}var uC={start:"end",end:"start"};function V1(e){return e.replace(/start|end/g,function(t){return uC[t]})}function nb(e){var t=In(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function ab(e){return Dl(bo(e)).left+nb(e).scrollLeft}function dC(e,t){var r=In(e),n=bo(e),a=r.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,c=0;if(a){i=a.width,o=a.height;var u=GS();(u||!u&&t==="fixed")&&(s=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:s+ab(e),y:c}}function fC(e){var t,r=bo(e),n=nb(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=is(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=is(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-n.scrollLeft+ab(e),c=-n.scrollTop;return Mi(a||r).direction==="rtl"&&(s+=is(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:c}}function ib(e){var t=Mi(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function JS(e){return["html","body","#document"].indexOf(po(e))>=0?e.ownerDocument.body:ai(e)&&ib(e)?e:JS(Hp(e))}function Tu(e,t){var r;t===void 0&&(t=[]);var n=JS(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=In(n),o=a?[i].concat(i.visualViewport||[],ib(n)?n:[]):n,s=t.concat(o);return a?s:s.concat(Tu(Hp(o)))}function r0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function hC(e,t){var r=Dl(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Y1(e,t,r){return t===HS?r0(dC(e,r)):gs(t)?hC(t,r):r0(fC(bo(e)))}function pC(e){var t=Tu(Hp(e)),r=["absolute","fixed"].indexOf(Mi(e).position)>=0,n=r&&ai(e)?Wd(e):e;return gs(n)?t.filter(function(a){return gs(a)&&VS(a,n)&&po(a)!=="body"}):[]}function mC(e,t,r,n){var a=t==="clippingParents"?pC(e):[].concat(t),i=[].concat(a,[r]),o=i[0],s=i.reduce(function(c,u){var d=Y1(e,u,n);return c.top=is(d.top,c.top),c.right=Lh(d.right,c.right),c.bottom=Lh(d.bottom,c.bottom),c.left=is(d.left,c.left),c},Y1(e,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ZS(e){var t=e.reference,r=e.element,n=e.placement,a=n?ni(n):null,i=n?Il(n):null,o=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,c;switch(a){case jn:c={x:o,y:t.y-r.height};break;case ta:c={x:o,y:t.y+t.height};break;case ra:c={x:t.x+t.width,y:s};break;case Nn:c={x:t.x-r.width,y:s};break;default:c={x:t.x,y:t.y}}var u=a?rb(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Ml:c[u]=c[u]-(t[d]/2-r[d]/2);break;case Zu:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function Qu(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.strategy,o=i===void 0?e.strategy:i,s=r.boundary,c=s===void 0?RT:s,u=r.rootBoundary,d=u===void 0?HS:u,f=r.elementContext,p=f===void 0?hu:f,h=r.altBoundary,v=h===void 0?!1:h,g=r.padding,j=g===void 0?0:g,y=KS(typeof j!="number"?j:XS(j,Ud)),x=p===hu?FT:hu,N=e.rects.popper,_=e.elements[v?x:p],w=mC(gs(_)?_:_.contextElement||bo(e.elements.popper),c,d,o),A=Dl(e.elements.reference),O=ZS({reference:A,element:N,placement:a}),E=r0(Object.assign({},N,O)),T=p===hu?E:A,$={top:w.top-T.top+y.top,bottom:T.bottom-w.bottom+y.bottom,left:w.left-T.left+y.left,right:T.right-w.right+y.right},k=e.modifiersData.offset;if(p===hu&&k){var C=k[a];Object.keys($).forEach(function(D){var I=[ra,ta].indexOf(D)>=0?1:-1,H=[jn,ta].indexOf(D)>=0?"y":"x";$[D]+=C[H]*I})}return $}function gC(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,s=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?Qy:c,d=Il(n),f=d?s?W1:W1.filter(function(v){return Il(v)===d}):Ud,p=f.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=f);var h=p.reduce(function(v,g){return v[g]=Qu(e,{placement:g,boundary:a,rootBoundary:i,padding:o})[ni(g)],v},{});return Object.keys(h).sort(function(v,g){return h[v]-h[g]})}function vC(e){if(ni(e)===Zy)return[];var t=xh(e);return[V1(e),t,V1(t)]}function yC(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!0:o,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,v=h===void 0?!0:h,g=r.allowedAutoPlacements,j=t.options.placement,y=ni(j),x=y===j,N=c||(x||!v?[xh(j)]:vC(j)),_=[j].concat(N).reduce(function(Q,ne){return Q.concat(ni(ne)===Zy?gC(t,{placement:ne,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:g}):ne)},[]),w=t.rects.reference,A=t.rects.popper,O=new Map,E=!0,T=_[0],$=0;$<_.length;$++){var k=_[$],C=ni(k),D=Il(k)===Ml,I=[jn,ta].indexOf(C)>=0,H=I?"width":"height",V=Qu(t,{placement:k,boundary:d,rootBoundary:f,altBoundary:p,padding:u}),X=I?D?ra:Nn:D?ta:jn;w[H]>A[H]&&(X=xh(X));var J=xh(X),Y=[];if(i&&Y.push(V[C]<=0),s&&Y.push(V[X]<=0,V[J]<=0),Y.every(function(Q){return Q})){T=k,E=!1;break}O.set(k,Y)}if(E)for(var Z=v?3:1,ae=function(ne){var oe=_.find(function(he){var de=O.get(he);if(de)return de.slice(0,ne).every(function(ie){return ie})});if(oe)return T=oe,"break"},M=Z;M>0;M--){var U=ae(M);if(U==="break")break}t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}}const bC={name:"flip",enabled:!0,phase:"main",fn:yC,requiresIfExists:["offset"],data:{_skip:!1}};function K1(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function X1(e){return[jn,ra,ta,Nn].some(function(t){return e[t]>=0})}function xC(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=Qu(t,{elementContext:"reference"}),s=Qu(t,{altBoundary:!0}),c=K1(o,n),u=K1(s,a,i),d=X1(c),f=X1(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const wC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xC};function jC(e,t,r){var n=ni(e),a=[Nn,jn].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[Nn,ra].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function NC(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,o=Qy.reduce(function(d,f){return d[f]=jC(f,t.rects,i),d},{}),s=o[t.placement],c=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const SC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:NC};function _C(e){var t=e.state,r=e.name;t.modifiersData[r]=ZS({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const AC={name:"popperOffsets",enabled:!0,phase:"read",fn:_C,data:{}};function OC(e){return e==="x"?"y":"x"}function PC(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!1:o,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,p=r.tether,h=p===void 0?!0:p,v=r.tetherOffset,g=v===void 0?0:v,j=Qu(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),y=ni(t.placement),x=Il(t.placement),N=!x,_=rb(y),w=OC(_),A=t.modifiersData.popperOffsets,O=t.rects.reference,E=t.rects.popper,T=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,$=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(A){if(i){var D,I=_==="y"?jn:Nn,H=_==="y"?ta:ra,V=_==="y"?"height":"width",X=A[_],J=X+j[I],Y=X-j[H],Z=h?-E[V]/2:0,ae=x===Ml?O[V]:E[V],M=x===Ml?-E[V]:-O[V],U=t.elements.arrow,Q=h&&U?tb(U):{width:0,height:0},ne=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:YS(),oe=ne[I],he=ne[H],de=ku(0,O[V],Q[V]),ie=N?O[V]/2-Z-de-oe-$.mainAxis:ae-de-oe-$.mainAxis,xe=N?-O[V]/2+Z+de+he+$.mainAxis:M+de+he+$.mainAxis,be=t.elements.arrow&&Wd(t.elements.arrow),pe=be?_==="y"?be.clientTop||0:be.clientLeft||0:0,Ee=(D=k==null?void 0:k[_])!=null?D:0,$e=X+ie-Ee-pe,ye=X+xe-Ee,re=ku(h?Lh(J,$e):J,X,h?is(Y,ye):Y);A[_]=re,C[_]=re-X}if(s){var Ve,Be=_==="x"?jn:Nn,ke=_==="x"?ta:ra,Ce=A[w],De=w==="y"?"height":"width",Me=Ce+j[Be],Ge=Ce-j[ke],Ze=[jn,Nn].indexOf(y)!==-1,at=(Ve=k==null?void 0:k[w])!=null?Ve:0,ht=Ze?Me:Ce-O[De]-E[De]-at+$.altAxis,vt=Ze?Ce+O[De]+E[De]-at-$.altAxis:Ge,Ot=h&&Ze?ZT(ht,Ce,vt):ku(h?ht:Me,Ce,h?vt:Ge);A[w]=Ot,C[w]=Ot-Ce}t.modifiersData[n]=C}}const EC={name:"preventOverflow",enabled:!0,phase:"main",fn:PC,requiresIfExists:["offset"]};function kC(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function TC(e){return e===In(e)||!ai(e)?nb(e):kC(e)}function CC(e){var t=e.getBoundingClientRect(),r=$l(t.width)/e.offsetWidth||1,n=$l(t.height)/e.offsetHeight||1;return r!==1||n!==1}function LC(e,t,r){r===void 0&&(r=!1);var n=ai(t),a=ai(t)&&CC(t),i=bo(t),o=Dl(e,a,r),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((po(t)!=="body"||ib(i))&&(s=TC(t)),ai(t)?(c=Dl(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=ab(i))),{x:o.left+s.scrollLeft-c.x,y:o.top+s.scrollTop-c.y,width:o.width,height:o.height}}function MC(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var c=t.get(s);c&&a(c)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function $C(e){var t=MC(e);return KT.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function DC(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function IC(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var J1={placement:"bottom",modifiers:[],strategy:"absolute"};function Z1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function RC(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?J1:a;return function(s,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},J1,i),modifiersData:{},elements:{reference:s,popper:c},attributes:{},styles:{}},f=[],p=!1,h={state:d,setOptions:function(y){var x=typeof y=="function"?y(d.options):y;g(),d.options=Object.assign({},i,d.options,x),d.scrollParents={reference:gs(s)?Tu(s):s.contextElement?Tu(s.contextElement):[],popper:Tu(c)};var N=$C(IC([].concat(n,d.options.modifiers)));return d.orderedModifiers=N.filter(function(_){return _.enabled}),v(),h.update()},forceUpdate:function(){if(!p){var y=d.elements,x=y.reference,N=y.popper;if(Z1(x,N)){d.rects={reference:LC(x,Wd(N),d.options.strategy==="fixed"),popper:tb(N)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function($){return d.modifiersData[$.name]=Object.assign({},$.data)});for(var _=0;_<d.orderedModifiers.length;_++){if(d.reset===!0){d.reset=!1,_=-1;continue}var w=d.orderedModifiers[_],A=w.fn,O=w.options,E=O===void 0?{}:O,T=w.name;typeof A=="function"&&(d=A({state:d,options:E,name:T,instance:h})||d)}}}},update:DC(function(){return new Promise(function(j){h.forceUpdate(),j(d)})}),destroy:function(){g(),p=!0}};if(!Z1(s,c))return h;h.setOptions(u).then(function(j){!p&&u.onFirstUpdate&&u.onFirstUpdate(j)});function v(){d.orderedModifiers.forEach(function(j){var y=j.name,x=j.options,N=x===void 0?{}:x,_=j.effect;if(typeof _=="function"){var w=_({state:d,name:y,instance:h,options:N}),A=function(){};f.push(w||A)}})}function g(){f.forEach(function(j){return j()}),f=[]}return h}}var FC=RC({defaultModifiers:[wC,AC,oC,lC,SC,bC,EC,rC]}),Q1=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},BC={name:"applyStyles",enabled:!1},qC={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var o=(a.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==i.id});o.length?a.setAttribute("aria-describedby",o.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,i=a.popper,o=a.reference,s=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&s==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+i.id:i.id)}}},zC=[];function UC(e,t,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,o=n.placement,s=o===void 0?"bottom":o,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?zC:d,p=zp(n,["enabled","placement","strategy","modifiers"]),h=q.useRef(),v=q.useCallback(function(){var _;(_=h.current)==null||_.update()},[]),g=q.useCallback(function(){var _;(_=h.current)==null||_.forceUpdate()},[]),j=IT(q.useState({placement:s,update:v,forceUpdate:g,attributes:{},styles:{popper:Q1(u),arrow:{}}})),y=j[0],x=j[1],N=q.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(w){var A=w.state,O={},E={};Object.keys(A.elements).forEach(function(T){O[T]=A.styles[T],E[T]=A.attributes[T]}),x({state:A,styles:O,attributes:E,update:v,forceUpdate:g,placement:A.placement})}}},[v,g,x]);return q.useEffect(function(){!h.current||!i||h.current.setOptions({placement:s,strategy:u,modifiers:[].concat(f,[N,BC])})},[u,s,N,i]),q.useEffect(function(){if(!(!i||e==null||t==null))return h.current=FC(e,t,or({},p,{placement:s,strategy:u,modifiers:[].concat(f,[qC,N])})),function(){h.current!=null&&(h.current.destroy(),h.current=void 0,x(function(_){return or({},_,{attributes:{},styles:{popper:Q1(u)}})}))}},[i,e,t]),y}function WC(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function Au(e,t,r,n){return MT(e,t,r,n),function(){WC(e,t,r,n)}}var HC=function(){},GC=HC;const VC=wt(GC);function YC(e){return e&&"setState"in e?WN.findDOMNode(e):e??null}const KC=function(e){return zd(YC(e))};var XC=27,e2=function(){};function JC(e){return e.button===0}function ZC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var t2=function(t){return t&&("current"in t?t.current:t)};function QC(e,t,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,o=i===void 0?"click":i,s=q.useRef(!1),c=t||e2,u=q.useCallback(function(p){var h,v=t2(e);VC(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!v||ZC(p)||!JC(p)||!!Ju(v,(h=p.composedPath==null?void 0:p.composedPath()[0])!=null?h:p.target)},[e]),d=z1(function(p){s.current||c(p)}),f=z1(function(p){p.keyCode===XC&&c(p)});q.useEffect(function(){if(!(a||e==null)){var p=window.event,h=KC(t2(e)),v=Au(h,o,u,!0),g=Au(h,o,function(x){if(x===p){p=void 0;return}d(x)}),j=Au(h,"keyup",function(x){if(x===p){p=void 0;return}f(x)}),y=[];return"ontouchstart"in h.documentElement&&(y=[].slice.call(h.body.children).map(function(x){return Au(x,"mousemove",e2)})),function(){v(),g(),j(),y.forEach(function(x){return x()})}}},[e,a,o,u,d,f])}function eL(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function tL(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function rL(e){var t,r,n,a,i=e.enabled,o=e.enableEvents,s=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,p=e.arrowElement,h=e.popperConfig,v=h===void 0?{}:h,g=eL(v.modifiers);return or({},v,{placement:s,enabled:i,strategy:d?"fixed":v.strategy,modifiers:tL(or({},g,{eventListeners:{enabled:o},preventOverflow:or({},g.preventOverflow,{options:f?or({padding:f},(t=g.preventOverflow)==null?void 0:t.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:or({offset:u},(n=g.offset)==null?void 0:n.options)},arrow:or({},g.arrow,{enabled:!!p,options:or({},(a=g.arrow)==null?void 0:a.options,{element:p})}),flip:or({enabled:!!c},g.flip)}))})}function nL(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function aL(e,t){e.classList?e.classList.add(t):nL(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function r2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function iL(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=r2(e.className,t):e.setAttribute("class",r2(e.className&&e.className.baseVal||"",t))}var Jf;function ob(e){if((!Jf&&Jf!==0||e)&&Jy){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Jf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Jf}var ev=function(t){var r;return typeof document>"u"?null:t==null?zd().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function n2(e,t){var r=q.useState(function(){return ev(e)}),n=r[0],a=r[1];if(!n){var i=ev(e);i&&a(i)}return q.useEffect(function(){},[t,n]),q.useEffect(function(){var o=ev(e);o!==n&&a(o)},[e,n]),n}const a2=e=>!e||typeof e=="function"?e:t=>{e.current=t};function oL(e,t){const r=a2(e),n=a2(t);return a=>{r&&r(a),n&&n(a)}}function sL(e,t){return q.useMemo(()=>oL(e,t),[e,t])}var sb=B.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,i=e.containerPadding,o=i===void 0?5:i,s=e.popperConfig,c=s===void 0?{}:s,u=e.transition,d=U1(),f=d[0],p=d[1],h=U1(),v=h[0],g=h[1],j=sL(p,t),y=n2(e.container),x=n2(e.target),N=q.useState(!e.show),_=N[0],w=N[1],A=UC(x,f,rL({placement:a,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:v,popperConfig:c})),O=A.styles,E=A.attributes,T=zp(A,["styles","attributes"]);e.show?_&&w(!1):!e.transition&&!_&&w(!0);var $=function(){w(!0),e.onExited&&e.onExited.apply(e,arguments)},k=e.show||u&&!_;if(QC(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!k)return null;var C=e.children(or({},T,{show:!!e.show,props:or({},E.popper,{style:O.popper,ref:j}),arrowProps:or({},E.arrow,{style:O.arrow,ref:g})}));if(u){var D=e.onExit,I=e.onExiting,H=e.onEnter,V=e.onEntering,X=e.onEntered;C=B.createElement(u,{in:e.show,appear:!0,onExit:D,onExiting:I,onExited:$,onEnter:H,onEntering:V,onEntered:X},C)}return y?WN.createPortal(C,y):null});sb.displayName="Overlay";sb.propTypes={show:Se.bool,placement:Se.oneOf(Qy),target:Se.any,container:Se.any,flip:Se.bool,children:Se.func.isRequired,containerPadding:Se.number,popperConfig:Se.object,rootClose:Se.bool,rootCloseEvent:Se.oneOf(["click","mousedown"]),rootCloseDisabled:Se.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var i;return(i=Se.func).isRequired.apply(i,[t].concat(n))}return Se.func.apply(Se,[t].concat(n))},transition:Se.elementType,onEnter:Se.func,onEntering:Se.func,onEntered:Se.func,onExit:Se.func,onExiting:Se.func,onExited:Se.func};function lL(){this.__data__=[],this.size=0}var cL=lL,uL=qd;function dL(e,t){for(var r=e.length;r--;)if(uL(e[r][0],t))return r;return-1}var Gp=dL,fL=Gp,hL=Array.prototype,pL=hL.splice;function mL(e){var t=this.__data__,r=fL(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():pL.call(t,r,1),--this.size,!0}var gL=mL,vL=Gp;function yL(e){var t=this.__data__,r=vL(t,e);return r<0?void 0:t[r][1]}var bL=yL,xL=Gp;function wL(e){return xL(this.__data__,e)>-1}var jL=wL,NL=Gp;function SL(e,t){var r=this.__data__,n=NL(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _L=SL,AL=cL,OL=gL,PL=bL,EL=jL,kL=_L;function bc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bc.prototype.clear=AL;bc.prototype.delete=OL;bc.prototype.get=PL;bc.prototype.has=EL;bc.prototype.set=kL;var Vp=bc,TL=Vp;function CL(){this.__data__=new TL,this.size=0}var LL=CL;function ML(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var $L=ML;function DL(e){return this.__data__.get(e)}var IL=DL;function RL(e){return this.__data__.has(e)}var FL=RL,BL=Ma,qL=BL["__core-js_shared__"],zL=qL,tv=zL,i2=function(){var e=/[^.]+$/.exec(tv&&tv.keys&&tv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function UL(e){return!!i2&&i2 in e}var WL=UL,HL=Function.prototype,GL=HL.toString;function VL(e){if(e!=null){try{return GL.call(e)}catch{}try{return e+""}catch{}}return""}var QS=VL,YL=Wp,KL=WL,XL=aa,JL=QS,ZL=/[\\^$.*+?()[\]{}|]/g,QL=/^\[object .+?Constructor\]$/,eM=Function.prototype,tM=Object.prototype,rM=eM.toString,nM=tM.hasOwnProperty,aM=RegExp("^"+rM.call(nM).replace(ZL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iM(e){if(!XL(e)||KL(e))return!1;var t=YL(e)?aM:QL;return t.test(JL(e))}var oM=iM;function sM(e,t){return e==null?void 0:e[t]}var lM=sM,cM=oM,uM=lM;function dM(e,t){var r=uM(e,t);return cM(r)?r:void 0}var As=dM,fM=As,hM=Ma,pM=fM(hM,"Map"),lb=pM,mM=As,gM=mM(Object,"create"),Yp=gM,o2=Yp;function vM(){this.__data__=o2?o2(null):{},this.size=0}var yM=vM;function bM(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var xM=bM,wM=Yp,jM="__lodash_hash_undefined__",NM=Object.prototype,SM=NM.hasOwnProperty;function _M(e){var t=this.__data__;if(wM){var r=t[e];return r===jM?void 0:r}return SM.call(t,e)?t[e]:void 0}var AM=_M,OM=Yp,PM=Object.prototype,EM=PM.hasOwnProperty;function kM(e){var t=this.__data__;return OM?t[e]!==void 0:EM.call(t,e)}var TM=kM,CM=Yp,LM="__lodash_hash_undefined__";function MM(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=CM&&t===void 0?LM:t,this}var $M=MM,DM=yM,IM=xM,RM=AM,FM=TM,BM=$M;function xc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xc.prototype.clear=DM;xc.prototype.delete=IM;xc.prototype.get=RM;xc.prototype.has=FM;xc.prototype.set=BM;var qM=xc,s2=qM,zM=Vp,UM=lb;function WM(){this.size=0,this.__data__={hash:new s2,map:new(UM||zM),string:new s2}}var HM=WM;function GM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var VM=GM,YM=VM;function KM(e,t){var r=e.__data__;return YM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Kp=KM,XM=Kp;function JM(e){var t=XM(this,e).delete(e);return this.size-=t?1:0,t}var ZM=JM,QM=Kp;function e$(e){return QM(this,e).get(e)}var t$=e$,r$=Kp;function n$(e){return r$(this,e).has(e)}var a$=n$,i$=Kp;function o$(e,t){var r=i$(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var s$=o$,l$=HM,c$=ZM,u$=t$,d$=a$,f$=s$;function wc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wc.prototype.clear=l$;wc.prototype.delete=c$;wc.prototype.get=u$;wc.prototype.has=d$;wc.prototype.set=f$;var cb=wc,h$=Vp,p$=lb,m$=cb,g$=200;function v$(e,t){var r=this.__data__;if(r instanceof h$){var n=r.__data__;if(!p$||n.length<g$-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new m$(n)}return r.set(e,t),this.size=r.size,this}var y$=v$,b$=Vp,x$=LL,w$=$L,j$=IL,N$=FL,S$=y$;function jc(e){var t=this.__data__=new b$(e);this.size=t.size}jc.prototype.clear=x$;jc.prototype.delete=w$;jc.prototype.get=j$;jc.prototype.has=N$;jc.prototype.set=S$;var ub=jc,_$="__lodash_hash_undefined__";function A$(e){return this.__data__.set(e,_$),this}var O$=A$;function P$(e){return this.__data__.has(e)}var E$=P$,k$=cb,T$=O$,C$=E$;function Mh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new k$;++t<r;)this.add(e[t])}Mh.prototype.add=Mh.prototype.push=T$;Mh.prototype.has=C$;var e_=Mh;function L$(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var t_=L$;function M$(e,t){return e.has(t)}var r_=M$,$$=e_,D$=t_,I$=r_,R$=1,F$=2;function B$(e,t,r,n,a,i){var o=r&R$,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,h=r&F$?new $$:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],g=t[f];if(n)var j=o?n(g,v,f,t,e,i):n(v,g,f,e,t,i);if(j!==void 0){if(j)continue;p=!1;break}if(h){if(!D$(t,function(y,x){if(!I$(h,x)&&(v===y||a(v,y,r,n,i)))return h.push(x)})){p=!1;break}}else if(!(v===g||a(v,g,r,n,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var n_=B$,q$=Ma,z$=q$.Uint8Array,a_=z$;function U$(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var W$=U$;function H$(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var db=H$,l2=pc,c2=a_,G$=qd,V$=n_,Y$=W$,K$=db,X$=1,J$=2,Z$="[object Boolean]",Q$="[object Date]",eD="[object Error]",tD="[object Map]",rD="[object Number]",nD="[object RegExp]",aD="[object Set]",iD="[object String]",oD="[object Symbol]",sD="[object ArrayBuffer]",lD="[object DataView]",u2=l2?l2.prototype:void 0,rv=u2?u2.valueOf:void 0;function cD(e,t,r,n,a,i,o){switch(r){case lD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sD:return!(e.byteLength!=t.byteLength||!i(new c2(e),new c2(t)));case Z$:case Q$:case rD:return G$(+e,+t);case eD:return e.name==t.name&&e.message==t.message;case nD:case iD:return e==t+"";case tD:var s=Y$;case aD:var c=n&X$;if(s||(s=K$),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=J$,o.set(e,t);var d=V$(s(e),s(t),n,a,i,o);return o.delete(e),d;case oD:if(rv)return rv.call(e)==rv.call(t)}return!1}var uD=cD;function dD(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var fb=dD,fD=Array.isArray,rn=fD,hD=fb,pD=rn;function mD(e,t,r){var n=t(e);return pD(e)?n:hD(n,r(e))}var i_=mD;function gD(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var vD=gD;function yD(){return[]}var o_=yD,bD=vD,xD=o_,wD=Object.prototype,jD=wD.propertyIsEnumerable,d2=Object.getOwnPropertySymbols,ND=d2?function(e){return e==null?[]:(e=Object(e),bD(d2(e),function(t){return jD.call(e,t)}))}:xD,hb=ND;function SD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _D=SD,AD=Ri,OD=$a,PD="[object Arguments]";function ED(e){return OD(e)&&AD(e)==PD}var kD=ED,f2=kD,TD=$a,s_=Object.prototype,CD=s_.hasOwnProperty,LD=s_.propertyIsEnumerable,MD=f2(function(){return arguments}())?f2:function(e){return TD(e)&&CD.call(e,"callee")&&!LD.call(e,"callee")},pb=MD,$h={exports:{}};function $D(){return!1}var DD=$D;$h.exports;(function(e,t){var r=Ma,n=DD,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||n;e.exports=u})($h,$h.exports);var Xp=$h.exports,ID=Ri,RD=Yy,FD=$a,BD="[object Arguments]",qD="[object Array]",zD="[object Boolean]",UD="[object Date]",WD="[object Error]",HD="[object Function]",GD="[object Map]",VD="[object Number]",YD="[object Object]",KD="[object RegExp]",XD="[object Set]",JD="[object String]",ZD="[object WeakMap]",QD="[object ArrayBuffer]",e8="[object DataView]",t8="[object Float32Array]",r8="[object Float64Array]",n8="[object Int8Array]",a8="[object Int16Array]",i8="[object Int32Array]",o8="[object Uint8Array]",s8="[object Uint8ClampedArray]",l8="[object Uint16Array]",c8="[object Uint32Array]",Yt={};Yt[t8]=Yt[r8]=Yt[n8]=Yt[a8]=Yt[i8]=Yt[o8]=Yt[s8]=Yt[l8]=Yt[c8]=!0;Yt[BD]=Yt[qD]=Yt[QD]=Yt[zD]=Yt[e8]=Yt[UD]=Yt[WD]=Yt[HD]=Yt[GD]=Yt[VD]=Yt[YD]=Yt[KD]=Yt[XD]=Yt[JD]=Yt[ZD]=!1;function u8(e){return FD(e)&&RD(e.length)&&!!Yt[ID(e)]}var d8=u8;function f8(e){return function(t){return e(t)}}var Jp=f8,Dh={exports:{}};Dh.exports;(function(e,t){var r=$S,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Dh,Dh.exports);var mb=Dh.exports,h8=d8,p8=Jp,h2=mb,p2=h2&&h2.isTypedArray,m8=p2?p8(p2):h8,gb=m8,g8=_D,v8=pb,y8=rn,b8=Xp,x8=Ky,w8=gb,j8=Object.prototype,N8=j8.hasOwnProperty;function S8(e,t){var r=y8(e),n=!r&&v8(e),a=!r&&!n&&b8(e),i=!r&&!n&&!a&&w8(e),o=r||n||a||i,s=o?g8(e.length,String):[],c=s.length;for(var u in e)(t||N8.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||x8(u,c)))&&s.push(u);return s}var l_=S8,_8=Object.prototype;function A8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||_8;return e===r}var vb=A8;function O8(e,t){return function(r){return e(t(r))}}var c_=O8,P8=c_,E8=P8(Object.keys,Object),k8=E8,T8=vb,C8=k8,L8=Object.prototype,M8=L8.hasOwnProperty;function $8(e){if(!T8(e))return C8(e);var t=[];for(var r in Object(e))M8.call(e,r)&&r!="constructor"&&t.push(r);return t}var D8=$8,I8=l_,R8=D8,F8=gc;function B8(e){return F8(e)?I8(e):R8(e)}var Nc=B8,q8=i_,z8=hb,U8=Nc;function W8(e){return q8(e,U8,z8)}var u_=W8,m2=u_,H8=1,G8=Object.prototype,V8=G8.hasOwnProperty;function Y8(e,t,r,n,a,i){var o=r&H8,s=m2(e),c=s.length,u=m2(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var p=s[f];if(!(o?p in t:V8.call(t,p)))return!1}var h=i.get(e),v=i.get(t);if(h&&v)return h==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var j=o;++f<c;){p=s[f];var y=e[p],x=t[p];if(n)var N=o?n(x,y,p,t,e,i):n(y,x,p,e,t,i);if(!(N===void 0?y===x||a(y,x,r,n,i):N)){g=!1;break}j||(j=p=="constructor")}if(g&&!j){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(e),i.delete(t),g}var K8=Y8,X8=As,J8=Ma,Z8=X8(J8,"DataView"),Q8=Z8,eI=As,tI=Ma,rI=eI(tI,"Promise"),nI=rI,aI=As,iI=Ma,oI=aI(iI,"Set"),d_=oI,sI=As,lI=Ma,cI=sI(lI,"WeakMap"),uI=cI,n0=Q8,a0=lb,i0=nI,o0=d_,s0=uI,f_=Ri,Sc=QS,g2="[object Map]",dI="[object Object]",v2="[object Promise]",y2="[object Set]",b2="[object WeakMap]",x2="[object DataView]",fI=Sc(n0),hI=Sc(a0),pI=Sc(i0),mI=Sc(o0),gI=Sc(s0),Wo=f_;(n0&&Wo(new n0(new ArrayBuffer(1)))!=x2||a0&&Wo(new a0)!=g2||i0&&Wo(i0.resolve())!=v2||o0&&Wo(new o0)!=y2||s0&&Wo(new s0)!=b2)&&(Wo=function(e){var t=f_(e),r=t==dI?e.constructor:void 0,n=r?Sc(r):"";if(n)switch(n){case fI:return x2;case hI:return g2;case pI:return v2;case mI:return y2;case gI:return b2}return t});var Zp=Wo,nv=ub,vI=n_,yI=uD,bI=K8,w2=Zp,j2=rn,N2=Xp,xI=gb,wI=1,S2="[object Arguments]",_2="[object Array]",Zf="[object Object]",jI=Object.prototype,A2=jI.hasOwnProperty;function NI(e,t,r,n,a,i){var o=j2(e),s=j2(t),c=o?_2:w2(e),u=s?_2:w2(t);c=c==S2?Zf:c,u=u==S2?Zf:u;var d=c==Zf,f=u==Zf,p=c==u;if(p&&N2(e)){if(!N2(t))return!1;o=!0,d=!1}if(p&&!d)return i||(i=new nv),o||xI(e)?vI(e,t,r,n,a,i):yI(e,t,c,r,n,a,i);if(!(r&wI)){var h=d&&A2.call(e,"__wrapped__"),v=f&&A2.call(t,"__wrapped__");if(h||v){var g=h?e.value():e,j=v?t.value():t;return i||(i=new nv),a(g,j,r,n,i)}}return p?(i||(i=new nv),bI(e,t,r,n,a,i)):!1}var SI=NI,_I=SI,O2=$a;function h_(e,t,r,n,a){return e===t?!0:e==null||t==null||!O2(e)&&!O2(t)?e!==e&&t!==t:_I(e,t,r,n,h_,a)}var yb=h_,AI=yb;function OI(e,t){return AI(e,t)}var PI=OI;const vs=wt(PI);function av(e,t){var r=Xy(e);return r?r.innerHeight:as(e).height}function p_(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(TT(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function EI(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var m_=EI,kI=ub,TI=yb,CI=1,LI=2;function MI(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var c=s[0],u=e[c],d=s[1];if(o&&s[2]){if(u===void 0&&!(c in e))return!1}else{var f=new kI;if(n)var p=n(u,d,c,e,t,f);if(!(p===void 0?TI(d,u,CI|LI,n,f):p))return!1}}return!0}var $I=MI,DI=aa;function II(e){return e===e&&!DI(e)}var g_=II,RI=g_,FI=Nc;function BI(e){for(var t=FI(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,RI(a)]}return t}var qI=BI;function zI(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var v_=zI,UI=$I,WI=qI,HI=v_;function GI(e){var t=WI(e);return t.length==1&&t[0][2]?HI(t[0][0],t[0][1]):function(r){return r===e||UI(r,e,t)}}var VI=GI,YI=rn,KI=yc,XI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JI=/^\w*$/;function ZI(e,t){if(YI(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||KI(e)?!0:JI.test(e)||!XI.test(e)||t!=null&&e in Object(t)}var bb=ZI,y_=cb,QI="Expected a function";function xb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(QI);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(xb.Cache||y_),r}xb.Cache=y_;var b_=xb;const e7=wt(b_);var t7=b_,r7=500;function n7(e){var t=t7(e,function(n){return r.size===r7&&r.clear(),n}),r=t.cache;return t}var a7=n7,i7=a7,o7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s7=/\\(\\)?/g,l7=i7(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(o7,function(r,n,a,i){t.push(a?i.replace(s7,"$1"):n||r)}),t}),c7=l7;function u7(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Qp=u7,P2=pc,d7=Qp,f7=rn,h7=yc,E2=P2?P2.prototype:void 0,k2=E2?E2.toString:void 0;function x_(e){if(typeof e=="string")return e;if(f7(e))return d7(e,x_)+"";if(h7(e))return k2?k2.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var p7=x_,m7=p7;function g7(e){return e==null?"":m7(e)}var w_=g7,v7=rn,y7=bb,b7=c7,x7=w_;function w7(e,t){return v7(e)?e:y7(e,t)?[e]:b7(x7(e))}var em=w7,j7=yc;function N7(e){if(typeof e=="string"||j7(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Hd=N7,S7=em,_7=Hd;function A7(e,t){t=S7(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[_7(t[r++])];return r&&r==n?e:void 0}var tm=A7,O7=tm;function P7(e,t,r){var n=e==null?void 0:O7(e,t);return n===void 0?r:n}var j_=P7;const Dn=wt(j_);function E7(e,t){return e!=null&&t in Object(e)}var k7=E7,T7=em,C7=pb,L7=rn,M7=Ky,$7=Yy,D7=Hd;function I7(e,t,r){t=T7(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=D7(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&$7(a)&&M7(o,a)&&(L7(e)||C7(e)))}var R7=I7,F7=k7,B7=R7;function q7(e,t){return e!=null&&B7(e,t,F7)}var z7=q7,U7=yb,W7=j_,H7=z7,G7=bb,V7=g_,Y7=v_,K7=Hd,X7=1,J7=2;function Z7(e,t){return G7(e)&&V7(t)?Y7(K7(e),t):function(r){var n=W7(r,e);return n===void 0&&n===t?H7(r,e):U7(t,n,X7|J7)}}var Q7=Z7;function eR(e){return e}var _c=eR;function tR(e){return function(t){return t==null?void 0:t[e]}}var rR=tR,nR=tm;function aR(e){return function(t){return nR(t,e)}}var iR=aR,oR=rR,sR=iR,lR=bb,cR=Hd;function uR(e){return lR(e)?oR(cR(e)):sR(e)}var dR=uR,fR=VI,hR=Q7,pR=_c,mR=rn,gR=dR;function vR(e){return typeof e=="function"?e:e==null?pR:typeof e=="object"?mR(e)?hR(e[0],e[1]):fR(e):gR(e)}var Da=vR,yR=m_,bR=Da,xR=FS,wR=Math.max;function jR(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:xR(r);return a<0&&(a=wR(n+a,0)),yR(e,bR(t),a)}var N_=jR;const NR=wt(N_);var SR=Math.ceil,_R=Math.max;function AR(e,t,r,n){for(var a=-1,i=_R(SR((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var OR=AR,PR=OR,ER=vc,iv=RS;function kR(e){return function(t,r,n){return n&&typeof n!="number"&&ER(t,r,n)&&(r=n=void 0),t=iv(t),r===void 0?(r=t,t=0):r=iv(r),n=n===void 0?t<r?1:-1:iv(n),PR(t,r,n,e)}}var TR=kR,CR=TR,LR=CR(),MR=LR;const ed=wt(MR);var T2=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function $R(e,t){return!!(e===t||T2(e)&&T2(t))}function DR(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!$R(e[r],t[r]))return!1;return!0}function S_(e,t){t===void 0&&(t=DR);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}function l0(e,t){var r=Xy(e);return r?r.innerWidth:as(e).width}var C2=pc,IR=pb,RR=rn,L2=C2?C2.isConcatSpreadable:void 0;function FR(e){return RR(e)||IR(e)||!!(L2&&e&&e[L2])}var BR=FR,qR=fb,zR=BR;function __(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=zR),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?__(s,t-1,r,n,a):qR(a,s):n||(a[a.length]=s)}return a}var wb=__;function UR(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var c=o[e?s:++a];if(r(i[c],c,i)===!1)break}return t}}var WR=UR,HR=WR,GR=HR(),VR=GR,YR=VR,KR=Nc;function XR(e,t){return e&&YR(e,t,KR)}var jb=XR,JR=gc;function ZR(e,t){return function(r,n){if(r==null)return r;if(!JR(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var QR=ZR,eF=jb,tF=QR,rF=tF(eF),Nb=rF,nF=Nb,aF=gc;function iF(e,t){var r=-1,n=aF(e)?Array(e.length):[];return nF(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var A_=iF;function oF(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var sF=oF,M2=yc;function lF(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=M2(e),o=t!==void 0,s=t===null,c=t===t,u=M2(t);if(!s&&!u&&!i&&e>t||i&&o&&c&&!s&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!c)return-1}return 0}var cF=lF,uF=cF;function dF(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var c=uF(a[n],i[n]);if(c){if(n>=s)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var fF=dF,ov=Qp,hF=tm,pF=Da,mF=A_,gF=sF,vF=Jp,yF=fF,bF=_c,xF=rn;function wF(e,t,r){t.length?t=ov(t,function(i){return xF(i)?function(o){return hF(o,i.length===1?i[0]:i)}:i}):t=[bF];var n=-1;t=ov(t,vF(pF));var a=mF(e,function(i,o,s){var c=ov(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return gF(a,function(i,o){return yF(i,o,r)})}var jF=wF;function NF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var SF=NF,_F=SF,$2=Math.max;function AF(e,t,r){return t=$2(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=$2(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),_F(e,this,s)}}var O_=AF;function OF(e){return function(){return e}}var PF=OF,EF=As,kF=function(){try{var e=EF(Object,"defineProperty");return e({},"",{}),e}catch{}}(),P_=kF,TF=PF,D2=P_,CF=_c,LF=D2?function(e,t){return D2(e,"toString",{configurable:!0,enumerable:!1,value:TF(t),writable:!0})}:CF,MF=LF,$F=800,DF=16,IF=Date.now;function RF(e){var t=0,r=0;return function(){var n=IF(),a=DF-(n-r);if(r=n,a>0){if(++t>=$F)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var FF=RF,BF=MF,qF=FF,zF=qF(BF),E_=zF,UF=_c,WF=O_,HF=E_;function GF(e,t){return HF(WF(e,t,UF),e+"")}var k_=GF,VF=wb,YF=jF,KF=k_,I2=vc,XF=KF(function(e,t){if(e==null)return[];var r=t.length;return r>1&&I2(e,t[0],t[1])?t=[]:r>2&&I2(t[0],t[1],t[2])&&(t=[t[0]]),YF(e,VF(t,1),[])}),JF=XF;const rm=wt(JF);function T_(e){return xS(e)||MS(e)||Wy(e)||wS()}function ZF(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var QF=ZF,eB=aa,tB=vb,rB=QF,nB=Object.prototype,aB=nB.hasOwnProperty;function iB(e){if(!eB(e))return rB(e);var t=tB(e),r=[];for(var n in e)n=="constructor"&&(t||!aB.call(e,n))||r.push(n);return r}var oB=iB,sB=l_,lB=oB,cB=gc;function uB(e){return cB(e)?sB(e,!0):lB(e)}var nm=uB,dB=k_,fB=qd,hB=vc,pB=nm,C_=Object.prototype,mB=C_.hasOwnProperty,gB=dB(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&hB(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],o=pB(i),s=-1,c=o.length;++s<c;){var u=o[s],d=e[u];(d===void 0||fB(d,C_[u])&&!mB.call(e,u))&&(e[u]=i[u])}return e}),vB=gB;const yB=wt(vB);var R2=P_;function bB(e,t,r){t=="__proto__"&&R2?R2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Sb=bB,xB=Sb,wB=jb,jB=Da;function NB(e,t){var r={};return t=jB(t),wB(e,function(n,a,i){xB(r,a,t(n,a,i))}),r}var SB=NB;const L_=wt(SB);function _B(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var M_=_B,AB=Sb,OB=qd,PB=Object.prototype,EB=PB.hasOwnProperty;function kB(e,t,r){var n=e[t];(!(EB.call(e,t)&&OB(n,r))||r===void 0&&!(t in e))&&AB(e,t,r)}var $_=kB,TB=$_,CB=Sb;function LB(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],c=n?n(r[s],e[s],s,r,e):void 0;c===void 0&&(c=e[s]),a?CB(r,s,c):TB(r,s,c)}return r}var Gd=LB,MB=Gd,$B=Nc;function DB(e,t){return e&&MB(t,$B(t),e)}var IB=DB,RB=Gd,FB=nm;function BB(e,t){return e&&RB(t,FB(t),e)}var qB=BB,Ih={exports:{}};Ih.exports;(function(e,t){var r=Ma,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=s?s(f):new u.constructor(f);return u.copy(p),p}e.exports=c})(Ih,Ih.exports);var zB=Ih.exports;function UB(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var WB=UB,HB=Gd,GB=hb;function VB(e,t){return HB(e,GB(e),t)}var YB=VB,KB=c_,XB=KB(Object.getPrototypeOf,Object),am=XB,JB=fb,ZB=am,QB=hb,e9=o_,t9=Object.getOwnPropertySymbols,r9=t9?function(e){for(var t=[];e;)JB(t,QB(e)),e=ZB(e);return t}:e9,D_=r9,n9=Gd,a9=D_;function i9(e,t){return n9(e,a9(e),t)}var o9=i9,s9=i_,l9=D_,c9=nm;function u9(e){return s9(e,c9,l9)}var I_=u9,d9=Object.prototype,f9=d9.hasOwnProperty;function h9(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&f9.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var p9=h9,F2=a_;function m9(e){var t=new e.constructor(e.byteLength);return new F2(t).set(new F2(e)),t}var _b=m9,g9=_b;function v9(e,t){var r=t?g9(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var y9=v9,b9=/\w*$/;function x9(e){var t=new e.constructor(e.source,b9.exec(e));return t.lastIndex=e.lastIndex,t}var w9=x9,B2=pc,q2=B2?B2.prototype:void 0,z2=q2?q2.valueOf:void 0;function j9(e){return z2?Object(z2.call(e)):{}}var N9=j9,S9=_b;function _9(e,t){var r=t?S9(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var A9=_9,O9=_b,P9=y9,E9=w9,k9=N9,T9=A9,C9="[object Boolean]",L9="[object Date]",M9="[object Map]",$9="[object Number]",D9="[object RegExp]",I9="[object Set]",R9="[object String]",F9="[object Symbol]",B9="[object ArrayBuffer]",q9="[object DataView]",z9="[object Float32Array]",U9="[object Float64Array]",W9="[object Int8Array]",H9="[object Int16Array]",G9="[object Int32Array]",V9="[object Uint8Array]",Y9="[object Uint8ClampedArray]",K9="[object Uint16Array]",X9="[object Uint32Array]";function J9(e,t,r){var n=e.constructor;switch(t){case B9:return O9(e);case C9:case L9:return new n(+e);case q9:return P9(e,r);case z9:case U9:case W9:case H9:case G9:case V9:case Y9:case K9:case X9:return T9(e,r);case M9:return new n;case $9:case R9:return new n(e);case D9:return E9(e);case I9:return new n;case F9:return k9(e)}}var Z9=J9,Q9=aa,U2=Object.create,eq=function(){function e(){}return function(t){if(!Q9(t))return{};if(U2)return U2(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),R_=eq,tq=R_,rq=am,nq=vb;function aq(e){return typeof e.constructor=="function"&&!nq(e)?tq(rq(e)):{}}var iq=aq,oq=Zp,sq=$a,lq="[object Map]";function cq(e){return sq(e)&&oq(e)==lq}var uq=cq,dq=uq,fq=Jp,W2=mb,H2=W2&&W2.isMap,hq=H2?fq(H2):dq,pq=hq,mq=Zp,gq=$a,vq="[object Set]";function yq(e){return gq(e)&&mq(e)==vq}var bq=yq,xq=bq,wq=Jp,G2=mb,V2=G2&&G2.isSet,jq=V2?wq(V2):xq,Nq=jq,Sq=ub,_q=M_,Aq=$_,Oq=IB,Pq=qB,Eq=zB,kq=WB,Tq=YB,Cq=o9,Lq=u_,Mq=I_,$q=Zp,Dq=p9,Iq=Z9,Rq=iq,Fq=rn,Bq=Xp,qq=pq,zq=aa,Uq=Nq,Wq=Nc,Hq=nm,Gq=1,Vq=2,Yq=4,F_="[object Arguments]",Kq="[object Array]",Xq="[object Boolean]",Jq="[object Date]",Zq="[object Error]",B_="[object Function]",Qq="[object GeneratorFunction]",ez="[object Map]",tz="[object Number]",q_="[object Object]",rz="[object RegExp]",nz="[object Set]",az="[object String]",iz="[object Symbol]",oz="[object WeakMap]",sz="[object ArrayBuffer]",lz="[object DataView]",cz="[object Float32Array]",uz="[object Float64Array]",dz="[object Int8Array]",fz="[object Int16Array]",hz="[object Int32Array]",pz="[object Uint8Array]",mz="[object Uint8ClampedArray]",gz="[object Uint16Array]",vz="[object Uint32Array]",Wt={};Wt[F_]=Wt[Kq]=Wt[sz]=Wt[lz]=Wt[Xq]=Wt[Jq]=Wt[cz]=Wt[uz]=Wt[dz]=Wt[fz]=Wt[hz]=Wt[ez]=Wt[tz]=Wt[q_]=Wt[rz]=Wt[nz]=Wt[az]=Wt[iz]=Wt[pz]=Wt[mz]=Wt[gz]=Wt[vz]=!0;Wt[Zq]=Wt[B_]=Wt[oz]=!1;function wh(e,t,r,n,a,i){var o,s=t&Gq,c=t&Vq,u=t&Yq;if(r&&(o=a?r(e,n,a,i):r(e)),o!==void 0)return o;if(!zq(e))return e;var d=Fq(e);if(d){if(o=Dq(e),!s)return kq(e,o)}else{var f=$q(e),p=f==B_||f==Qq;if(Bq(e))return Eq(e,s);if(f==q_||f==F_||p&&!a){if(o=c||p?{}:Rq(e),!s)return c?Cq(e,Pq(o,e)):Tq(e,Oq(o,e))}else{if(!Wt[f])return a?e:{};o=Iq(e,f,s)}}i||(i=new Sq);var h=i.get(e);if(h)return h;i.set(e,o),Uq(e)?e.forEach(function(j){o.add(wh(j,t,r,j,e,i))}):qq(e)&&e.forEach(function(j,y){o.set(y,wh(j,t,r,y,e,i))});var v=u?c?Mq:Lq:c?Hq:Wq,g=d?void 0:v(e);return _q(g||e,function(j,y){g&&(y=j,j=e[y]),Aq(o,y,wh(j,t,r,y,e,i))}),o}var yz=wh;function bz(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var z_=bz;const xz=wt(z_);var wz=tm,jz=Vy;function Nz(e,t){return t.length<2?e:wz(e,jz(t,0,-1))}var Sz=Nz,_z=em,Az=z_,Oz=Sz,Pz=Hd;function Ez(e,t){return t=_z(t,e),e=Oz(e,t),e==null||delete e[Pz(Az(t))]}var kz=Ez,Tz=Ri,Cz=am,Lz=$a,Mz="[object Object]",$z=Function.prototype,Dz=Object.prototype,U_=$z.toString,Iz=Dz.hasOwnProperty,Rz=U_.call(Object);function Fz(e){if(!Lz(e)||Tz(e)!=Mz)return!1;var t=Cz(e);if(t===null)return!0;var r=Iz.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&U_.call(r)==Rz}var W_=Fz;const Bz=wt(W_);var qz=W_;function zz(e){return qz(e)?void 0:e}var Uz=zz,Wz=wb;function Hz(e){var t=e==null?0:e.length;return t?Wz(e,1):[]}var Gz=Hz,Vz=Gz,Yz=O_,Kz=E_;function Xz(e){return Kz(Yz(e,void 0,Vz),e+"")}var Jz=Xz,Zz=Qp,Qz=yz,eU=kz,tU=em,rU=Gd,nU=Uz,aU=Jz,iU=I_,oU=1,sU=2,lU=4,cU=aU(function(e,t){var r={};if(e==null)return r;var n=!1;t=Zz(t,function(i){return i=tU(i,e),n||(n=i.length>1),i}),rU(e,iU(e),r),n&&(r=Qz(r,oU|sU|lU,nU));for(var a=t.length;a--;)eU(r,t[a]);return r}),uU=cU;const dU=wt(uU);var fU=M_,hU=R_,pU=jb,mU=Da,gU=am,vU=rn,yU=Xp,bU=Wp,xU=aa,wU=gb;function jU(e,t,r){var n=vU(e),a=n||yU(e)||wU(e);if(t=mU(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:xU(e)?r=bU(i)?hU(gU(e)):{}:r={}}return(a?fU:pU)(e,function(o,s,c){return t(r,o,s,c)}),r}var NU=jU;const SU=wt(NU);var _U={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Jn,function(){return function(r,n,a){n.prototype.isBetween=function(i,o,s,c){var u=a(i),d=a(o),f=(c=c||"()")[0]==="(",p=c[1]===")";return(f?this.isAfter(u,s):!this.isBefore(u,s))&&(p?this.isBefore(d,s):!this.isAfter(d,s))||(f?this.isBefore(u,s):!this.isAfter(u,s))&&(p?this.isAfter(d,s):!this.isBefore(d,s))}}})})(_U);var AU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Jn,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(AU);var OU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Jn,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(OU);var PU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Jn,function(){return function(r,n,a){var i=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,p,h,v,g){var j=f.name?f:f.$locale(),y=o(j[p]),x=o(j[h]),N=y||x.map(function(w){return w.slice(0,v)});if(!g)return N;var _=j.weekStart;return N.map(function(w,A){return N[(A+(_||0))%7]})},c=function(){return a.Ls[a.locale()]},u=function(f,p){return f.formats[p]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,g,j){return g||j.slice(1)})}(f.formats[p.toUpperCase()])},d=function(){var f=this;return{months:function(p){return p?p.format("MMMM"):s(f,"months")},monthsShort:function(p){return p?p.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):s(f,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return u(f.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(p){return u(f,p)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return s(c(),"months")},a.monthsShort=function(){return s(c(),"monthsShort","months",3)},a.weekdays=function(f){return s(c(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return s(c(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return s(c(),"weekdaysMin","weekdays",2,f)}}})})(PU);var EU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Jn,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var o=a.prototype,s=o.format;i.en.formats=r,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,p){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,v,g){var j=g&&g.toUpperCase();return v||p[g]||r[g]||p[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,N){return x||N.slice(1)})})}(c,u===void 0?{}:u);return s.call(this,d)}}})})(EU);var kU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Jn,function(){return function(r,n,a){var i=function(o,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var c;s.length===1&&s[0].length>0&&(s=s[0]),c=(s=s.filter(function(d){return d}))[0];for(var u=1;u<s.length;u+=1)s[u].isValid()&&!s[u][o](c)||(c=s[u]);return c};a.max=function(){var o=[].slice.call(arguments,0);return i("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return i("isBefore",o)}}})})(kU);var TU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Jn,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,o,s){var c=o.prototype;s.utc=function(g){var j={date:g,utc:!0,args:arguments};return new o(j)},c.utc=function(g){var j=s(this.toDate(),{locale:this.$L,utc:!0});return g?j.add(this.utcOffset(),r):j},c.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=c.init;c.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(g,j){var y=this.$utils().u;if(y(g))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(w){w===void 0&&(w="");var A=w.match(n);if(!A)return null;var O=(""+A[0]).match(a)||["-",0,0],E=O[0],T=60*+O[1]+ +O[2];return T===0?0:E==="+"?T:-T}(g),g===null))return this;var x=Math.abs(g)<=16?60*g:g,N=this;if(j)return N.$offset=x,N.$u=g===0,N;if(g!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(N=this.local().add(x+_,r)).$offset=x,N.$x.$localOffset=_}else N=this.utc();return N};var p=c.format;c.format=function(g){var j=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,j)},c.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var h=c.toDate;c.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var v=c.diff;c.diff=function(g,j,y){if(g&&this.$u===g.$u)return v.call(this,g,j,y);var x=this.local(),N=s(g).local();return v.call(x,N,j,y)}}})})(TU);var CU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Jn,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(CU);function Xa(e){return e.children}var Sn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},cn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Y2=Object.keys(cn).map(function(e){return cn[e]});Se.oneOfType([Se.string,Se.func]);Se.any;Se.func;Se.oneOfType([Se.arrayOf(Se.oneOf(Y2)),Se.objectOf(function(e,t){var r=Y2.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return Se.elementType.apply(Se,[e,t].concat(a))})]);Se.oneOfType([Se.oneOf(["overlap","no-overlap"]),Se.func]);var K2={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function H_(e,t){var r=zr(e,"month");return zr(r,"week",t.startOfWeek())}function G_(e,t){var r=Th(e,"month");return Th(r,"week",t.startOfWeek())}function LU(e,t){for(var r=H_(e,t),n=G_(e,t),a=[];fc(r,n,"day");)a.push(r),r=Ta(r,1,"day");return a}function MU(e,t){var r=zr(e,t);return dc(r,e)?r:Ta(r,1,t)}function $U(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];fc(n,t,r);)a.push(n),n=Ta(n,1,r);return a}function DU(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=zr(e,"day"),e=Xu(e,Xu(t)),e=Ll(e,Ll(t)),e=Ku(e,Ku(t)),Yu(e,Yu(t)))}function X2(e){return Xu(e)===0&&Ll(e)===0&&Ku(e)===0&&Yu(e)===0}function IU(e,t,r,n){return r==="day"&&(r="date"),Math.abs(C1[r](e,void 0,n)-C1[r](t,void 0,n))}function Ab(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+zr(e,r)/K2[r]-+zr(t,r)/K2[r]))}var RU=Se.oneOfType([Se.string,Se.func]);function FU(e,t,r,n,a){var i=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return zu(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function BU(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Ob(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function qU(e,t){return Ab(e,t,"minutes")+Ob(e,t)}function zU(e){var t=zr(e,"day");return Ab(t,e,"minutes")+Ob(t,e)}function UU(e,t){return Gy(e,t,"day")}function WU(e,t,r){var n=dc(e,t,"minutes");return n?Bd(t,r,"minutes"):Up(t,r,"minutes")}function c0(e,t){return IU(e,t,"day")}function HU(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,i=e.evtB,o=i.start,s=i.end,c=i.allDay,u=+zr(r,"day")-+zr(o,"day"),d=c0(r,n),f=c0(o,s);return u||f-d||!!c-!!a||+r-+o||+n-+s}function GU(e){var t=e.event,r=t.start,n=t.end,a=e.range,i=a.start,o=a.end,s=zr(r,"day"),c=fc(s,o,"day"),u=Hy(s,n,"minutes"),d=u?Up(n,i,"minutes"):Bd(n,i,"minutes");return c&&d}function VU(e,t){return dc(e,t,"day")}function YU(e,t){return X2(e)&&X2(t)}var KU=Er(function e(t){var r=this;Pr(this,e),zu(typeof t.format=="function","date localizer `format(..)` must be a function"),zu(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||RU,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return FU.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||DU,this.inRange=t.inRange||kS,this.lt=t.lt||Gy,this.lte=t.lte||fc,this.gt=t.gt||Up,this.gte=t.gte||Bd,this.eq=t.eq||dc,this.neq=t.neq||Hy,this.startOf=t.startOf||zr,this.endOf=t.endOf||Th,this.add=t.add||Ta,this.range=t.range||$U,this.diff=t.diff||Ab,this.ceil=t.ceil||MU,this.min=t.min||PS,this.max=t.max||ES,this.minutes=t.minutes||Ll,this.daySpan=t.daySpan||c0,this.firstVisibleDay=t.firstVisibleDay||H_,this.lastVisibleDay=t.lastVisibleDay||G_,this.visibleDays=t.visibleDays||LU,this.getSlotDate=t.getSlotDate||BU,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Ob,this.getTotalMin=t.getTotalMin||qU,this.getMinutesFromMidnight=t.getMinutesFromMidnight||zU,this.continuesPrior=t.continuesPrior||UU,this.continuesAfter=t.continuesAfter||WU,this.sortEvents=t.sortEvents||HU,this.inEventRange=t.inEventRange||GU,this.isSameDate=t.isSameDate||VU,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||YU,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function XU(e,t,r,n){var a=Bt(Bt({},e.formats),r);return Bt(Bt({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,s){return e.format(o,a[s]||s,t)}})}var JU=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return B.createElement("div",{className:"rbc-toolbar"},B.createElement("span",{className:"rbc-btn-group"},B.createElement("button",{type:"button",onClick:this.navigate.bind(null,Sn.TODAY)},a.today),B.createElement("button",{type:"button",onClick:this.navigate.bind(null,Sn.PREVIOUS)},a.previous),B.createElement("button",{type:"button",onClick:this.navigate.bind(null,Sn.NEXT)},a.next)),B.createElement("span",{className:"rbc-toolbar-label"},i),B.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map(function(s){return B.createElement("button",{type:"button",key:s,className:cr({"rbc-active":o===s}),onClick:a.view.bind(null,s)},n[s])})}}])}(B.Component);function Xt(e,t){e&&e.apply(null,[].concat(t))}var ZU={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function QU(e){return Bt(Bt({},ZU),e)}function eW(e){var t=e.ref,r=e.callback;q.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var tW=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],V_=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,o=n.event,s=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,p=n.localizer,h=n.continuesPrior,v=n.continuesAfter,g=n.accessors,j=n.getters,y=n.children,x=n.components,N=x.event,_=x.eventWrapper,w=n.slotStart,A=n.slotEnd,O=li(n,tW);delete O.resizable;var E=g.title(o),T=g.tooltip(o),$=g.end(o),k=g.start(o),C=g.allDay(o),D=c||C||p.diff(k,p.ceil($,"day"),"day")>1,I=j.eventProp(o,k,$,s),H=B.createElement("div",{className:"rbc-event-content",title:T||void 0},N?B.createElement(N,{event:o,continuesPrior:h,continuesAfter:v,title:E,isAllDay:C,localizer:p,slotStart:w,slotEnd:A}):E);return B.createElement(_,Object.assign({},this.props,{type:"date"}),B.createElement("div",Object.assign({},O,{style:Bt(Bt({},I.style),a),className:cr("rbc-event",i,I.className,{"rbc-selected":s,"rbc-event-allday":D,"rbc-event-continues-prior":h,"rbc-event-continues-after":v}),onClick:function(X){return u&&u(o,X)},onDoubleClick:function(X){return d&&d(o,X)},onKeyDown:function(X){return f&&f(o,X)}}),typeof y=="function"?y(H):H))}}])}(B.Component);function im(e,t){return!e||t==null?!1:vs(e,t)}function Y_(e,t){var r=e.right-e.left,n=r/t;return n}function K_(e,t,r,n){var a=Y_(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function rW(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function nW(e,t,r,n,a){var i=-1,o=-1,s=n-1,c=Y_(t,n),u=K_(t,r.x,a,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,p=e.y>t.bottom,h=t.top>e.y,v=r.top<t.top&&r.bottom>t.bottom;return v&&(i=0,o=s),d&&(h?(i=0,o=u):p&&(i=u,o=s)),f&&(i=o=a?s-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<i?i=u:o=u:e.y<r.y?o=s:i=0),{startIdx:i,endIdx:o}}function aW(e){var t=e.target,r=e.offset,n=e.container,a=e.box,i=as(t),o=i.top,s=i.left,c=i.width,u=i.height,d=as(n),f=d.top,p=d.left,h=d.width,v=d.height,g=as(a),j=g.width,y=g.height,x=f+v,N=p+h,_=o+y,w=s+j,A=r.x,O=r.y,E=_>x?o-y-O:o+O+u,T=w>N?s+A-j+c:s+A;return{topOffset:E,leftOffset:T}}function iW(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,i=e.components,o=e.localizer,s=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,p=e.onSelect,h=e.onDoubleClick,v=e.onKeyPress,g=e.handleDragStart,j=e.popperRef,y=e.target,x=e.offset;eW({ref:j,callback:c}),q.useLayoutEffect(function(){var w=aW({target:y,offset:x,container:t.current,box:j.current}),A=w.topOffset,O=w.leftOffset;j.current.style.top="".concat(A,"px"),j.current.style.left="".concat(O,"px")},[x.x,x.y,y]);var N=s.width,_={minWidth:N+N/2};return B.createElement("div",{style:_,className:"rbc-overlay",ref:j},B.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(w,A){return B.createElement(V_,{key:A,type:"popup",localizer:o,event:w,getters:n,onSelect:p,accessors:r,components:i,onDoubleClick:h,onKeyPress:v,continuesPrior:o.lt(r.end(w),d,"day"),continuesAfter:o.gte(r.start(w),f,"day"),slotStart:d,slotEnd:f,selected:im(w,a),draggable:!0,onDragStart:function(){return g(w)},onDragEnd:function(){return c()}})}))}var X_=B.forwardRef(function(e,t){return B.createElement(iW,Object.assign({},e,{popperRef:t}))});X_.propTypes={accessors:Se.object.isRequired,getters:Se.object.isRequired,selected:Se.object,components:Se.object.isRequired,localizer:Se.object.isRequired,position:Se.object.isRequired,show:Se.func.isRequired,events:Se.array.isRequired,slotStart:Se.instanceOf(Date).isRequired,slotEnd:Se.instanceOf(Date),onSelect:Se.func,onDoubleClick:Se.func,onKeyPress:Se.func,handleDragStart:Se.func,style:Se.object,offset:Se.shape({x:Se.number,y:Se.number})};function oW(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,i=e.accessors,o=e.localizer,s=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,p=e.handleKeyPressEvent,h=e.handleDragStart,v=e.onHide,g=e.overlayDisplay,j=q.useRef(null);if(!a.position)return null;var y=n;isNaN(n)||(y={x:n,y:n});var x=a.position,N=a.events,_=a.date,w=a.end;return B.createElement(sb,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:a.target},function(A){var O=A.props;return B.createElement(X_,Object.assign({},O,{containerRef:t,ref:j,target:a.target,offset:y,accessors:i,getters:c,selected:u,components:s,localizer:o,position:x,show:g,events:N,slotStart:_,slotEnd:w,onSelect:d,onDoubleClick:f,onKeyPress:p,handleDragStart:h}))})}var Pb=B.forwardRef(function(e,t){return B.createElement(oW,Object.assign({},e,{containerRef:t}))});Pb.propTypes={popupOffset:Se.oneOfType([Se.number,Se.shape({x:Se.number,y:Se.number})]),overlay:Se.shape({position:Se.object,events:Se.array,date:Se.instanceOf(Date),end:Se.instanceOf(Date)}),accessors:Se.object.isRequired,localizer:Se.object.isRequired,components:Se.object.isRequired,getters:Se.object.isRequired,selected:Se.object,handleSelectEvent:Se.func,handleDoubleClickEvent:Se.func,handleKeyPressEvent:Se.func,handleDragStart:Se.func,onHide:Se.func,overlayDisplay:Se.func};function Xr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Au(r,e,t,{passive:!1})}function sW(e,t,r){return!e||Ju(e,document.elementFromPoint(t,r))}function lW(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return p_(a,".rbc-event",e)}function cW(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return p_(a,".rbc-show-more",e)}function Rh(e,t){return!!lW(e,t)}function uW(e,t){return!!cW(e,t)}function pu(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var J2=5,dW=250,J_=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,o=i===void 0?250:i,s=r.validContainers,c=s===void 0?[]:s;Pr(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Xr("touchmove",function(){},window),this._removeKeyDownListener=Xr("keydown",this._keyListener),this._removeKeyUpListener=Xr("keyup",this._keyListener),this._removeDropFromOutsideListener=Xr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Xr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Er(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var o=a.indexOf(n);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o,s=this._listeners[r]||[];return s.forEach(function(c){o===void 0&&(o=c.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:Z2(n,ys(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,o=null,s=null,c=function(p){i=setTimeout(function(){d(),r(p)},a.longPressThreshold),o=Xr("touchmove",function(){return d()}),s=Xr("touchend",function(){return d()})},u=Xr("touchstart",c),d=function(){i&&clearTimeout(i),o&&o(),s&&s(),i=null,o=null,s=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Xr("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=Xr("mousedown",r._handleInitialEvent)}),a=Xr("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=pu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:o,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=pu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:o,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=pu(r),a=n.clientX,i=n.clientY,o=n.pageX,s=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!sW(c,a,i))){if(!this.globalMouse&&c&&!Ju(c,r.target)){var f=fW(0),p=f.top,h=f.left,v=f.bottom,g=f.right;if(d=ys(c),u=Z2({top:d.top-p,left:d.left-h,bottom:d.bottom+v,right:d.right+g},{top:s,left:o}),!u)return}var j=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:s,clientX:a,clientY:i});if(j!==!1)switch(r.type){case"mousedown":this._removeEndListener=Xr("mouseup",this._handleTerminatingEvent),this._onEscListener=Xr("keydown",this._handleTerminatingEvent),this._removeMoveListener=Xr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Xr("touchend",this._handleTerminatingEvent),this._removeMoveListener=Xr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||Ju(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=pu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<dW?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:o,clientY:s})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:i,clientX:o,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,o=pu(r),s=o.pageX,c=o.pageY,u=Math.abs(a-s),d=Math.abs(i-c),f=Math.min(s,a),p=Math.min(c,i),h=this.selecting,v=this.isClick(s,c);v&&!h&&!(u||d)||(!h&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:p,left:f,x:s,y:c,right:f+u,bottom:p+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,o=a.y,s=a.isTouch;return!s&&Math.abs(r-i)<=J2&&Math.abs(n-o)<=J2}}])}();function fW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return bt(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function Z2(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=ys(e),a=n.top,i=n.left,o=n.right,s=o===void 0?i:o,c=n.bottom,u=c===void 0?a:c,d=ys(t),f=d.top,p=d.left,h=d.right,v=h===void 0?p:h,g=d.bottom,j=g===void 0?f:g;return!(u-r<f||a+r>j||s-r<p||i+r>v)}function ys(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+Q2("left"),n=t.top+Q2("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function Q2(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var hW=function(e){function t(r,n){var a;return Pr(this,t),a=en(this,t,[r,n]),a.state={selecting:!1},a.containerRef=q.createRef(),a}return tn(t,e),Er(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,o=n.getters,s=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,p=d.startIdx,h=d.endIdx,v=i();return B.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(g,j){var y=f&&j>=p&&j<=h,x=o.dayProp(g),N=x.className,_=x.style;return B.createElement(c,{key:j,value:g,range:a},B.createElement("div",{style:_,className:cr("rbc-day-bg",N,y&&"rbc-selected-cell",u.isSameDate(g,v)&&"rbc-today",s&&u.neq(s,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new J_(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,u){if(!Rh(a,c)&&!uW(a,c)){var d=ys(a),f=n.props,p=f.range,h=f.rtl;if(rW(d,c)){var v=K_(d,c.x,h,p.length);n._selectSlot({startIdx:v,endIdx:v,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(s){var c=n.props,u=c.range,d=c.rtl,f=-1,p=-1;if(n.state.selecting||(Xt(n.props.onSelectStart,[s]),n._initial={x:s.x,y:s.y}),i.isSelected(a)){var h=ys(a),v=nW(n._initial,h,s,u.length,d);f=v.startIdx,p=v.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:p})}),i.on("beforeSelect",function(s){if(n.props.selectable==="ignoreEvents")return!Rh(n.containerRef.current,s)}),i.on("click",function(s){return o(s,"click")}),i.on("doubleClick",function(s){return o(s,"doubleClick")}),i.on("select",function(s){n._selectSlot(Bt(Bt({},n.state),{},{action:"select",bounds:s})),n._initial={},n.setState({selecting:!1}),Xt(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,o=n.action,s=n.bounds,c=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:o,bounds:s,box:c,resourceId:this.props.resourceId})}}])}(B.Component),Kn={propTypes:{slotMetrics:Se.object.isRequired,selected:Se.object,isAllDay:Se.bool,accessors:Se.object.isRequired,localizer:Se.object.isRequired,components:Se.object.isRequired,getters:Se.object.isRequired,onSelect:Se.func,onDoubleClick:Se.func,onKeyPress:Se.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,o=t.onSelect,s=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,p=t.resizable,h=d.continuesPrior(r),v=d.continuesAfter(r);return B.createElement(V_,{event:r,getters:i,localizer:u,accessors:a,components:f,onSelect:o,onDoubleClick:s,onKeyPress:c,continuesPrior:h,continuesAfter:v,slotStart:d.first,slotEnd:d.last,selected:im(r,n),resizable:p})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return B.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},Z_=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,o=a.slotMetrics.slots,s=a.className,c=1;return B.createElement("div",{className:cr(s,"rbc-row")},i.reduce(function(u,d,f){var p=d.event,h=d.left,v=d.right,g=d.span,j="_lvl_"+f,y=h-c,x=Kn.renderEvent(n.props,p);return y&&u.push(Kn.renderSpan(o,y,"".concat(j,"_gap"))),u.push(Kn.renderSpan(o,g,j,x)),c=v+1,u},[]))}}])}(B.Component);Z_.defaultProps=Bt({},Kn.defaultProps);function Q_(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function pW(e,t,r,n){var a=Q_({dateRange:t,localizer:n}),i=a.first,o=a.last,s=n.diff(i,o,"day"),c=n.max(n.startOf(r.start(e),"day"),i),u=n.min(n.ceil(r.end(e),"day"),o),d=NR(t,function(p){return n.isSameDate(p,c)}),f=n.diff(c,u,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function u0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],o=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<i.length&&mW(a,i[n]);n++);n>=t?o.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(s,c){return s.left-c.left});return{levels:i,extra:o}}function td(e,t,r,n,a){var i={start:n.start(e),end:n.end(e)},o={start:t,end:r};return a.inEventRange({event:i,range:o})}function mW(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function gW(e,t,r){var n=bh(e),a=[],i=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?a.push(c):i.push(c)});var o=a.sort(function(c,u){return d0(c,u,t,r)}),s=i.sort(function(c,u){return d0(c,u,t,r)});return[].concat(bh(o),bh(s))}function d0(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:i})}var f0=function(t,r){return t.left<=r&&t.right>=r},sv=function(t,r){return t.filter(function(n){return f0(n,r)}).map(function(n){return n.event})},eA=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,o=u0(a).levels[0],s=1,c=1,u=[];s<=i;){var d="_lvl_"+s,f=o.filter(function(_){return f0(_,s)})[0]||{},p=f.event,h=f.left,v=f.right,g=f.span;if(!p){var j=this.getHiddenEventsForSlot(a,s);if(j.length>0){var y=s-c;y&&u.push(Kn.renderSpan(i,y,d+"_gap")),u.push(Kn.renderSpan(i,1,d,this.renderShowMore(a,s))),c=s=s+1;continue}s++;continue}var x=Math.max(0,h-c);if(this.canRenderSlotEvent(h,g)){var N=Kn.renderEvent(this.props,p);x&&u.push(Kn.renderSpan(i,x,d+"_gap")),u.push(Kn.renderSpan(i,g,d,N)),c=s=v+1}else x&&u.push(Kn.renderSpan(i,x,d+"_gap")),u.push(Kn.renderSpan(i,1,d,this.renderShowMore(a,s))),c=s=s+1}return B.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=sv(n,a),o=u0(n).levels[0],s=o.filter(function(c){return f0(c,a)}).map(function(c){return c.event});return i.filter(function(c){return!s.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return ed(n,n+a).every(function(o){var s=sv(i,o).length;return s===1})}},{key:"renderShowMore",value:function(n,a){var i=this,o=this.props,s=o.localizer,c=o.slotMetrics,u=o.components,d=c.getEventsForSlot(a),f=sv(n,a),p=f.length;if(u!=null&&u.showMore){var h=u.showMore,v=c.getDateForSlot(a-1);return p?B.createElement(h,{localizer:s,slotDate:v,slot:a,count:p,events:d,remainingEvents:f}):!1}return p?B.createElement("button",{type:"button",key:"sm_"+a,className:cr("rbc-button-link","rbc-show-more"),onClick:function(j){return i.showMore(a,j)}},s.messages.showMore(p,f,d)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(B.Component);eA.defaultProps=Bt({},Kn.defaultProps);var vW=function(t){var r=t.children;return B.createElement("div",{className:"rbc-row-content-scroll-container"},r)},yW=function(t,r){return t.left<=r&&t.right>=r},bW=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function tA(){return S_(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,i=e.accessors,o=e.localizer,s=Q_({dateRange:t,localizer:o}),c=s.first,u=s.last,d=r.map(function(g){return pW(g,t,i,o)}),f=u0(d,Math.max(n-1,1)),p=f.levels,h=f.extra,v=h.length>0?a-1:a;p.length<v;)p.push([]);return{first:c,last:u,levels:p,extra:h,range:t,slots:t.length,clone:function(j){var y=tA();return y(Bt(Bt({},e),j))},getDateForSlot:function(j){return t[j]},getSlotForDate:function(j){return t.find(function(y){return o.isSameDate(y,j)})},getEventsForSlot:function(j){return d.filter(function(y){return yW(y,j)}).map(function(y){return y.event})},continuesPrior:function(j){return o.continuesPrior(i.start(j),c)},continuesAfter:function(j){var y=i.start(j),x=i.end(j);return o.continuesAfter(y,x,u)}}},bW)}var rd=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleSelectSlot=function(o){var s=r.props,c=s.range,u=s.onSelectSlot;u(c.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,s){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),p=LT(r.containerRef.current,".rbc-row-bg")[0],h;p&&(h=p.children[o-1]);var v=f.getEventsForSlot(o);d(v,u[o-1],h,o,s)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,s){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:o,key:"header_".concat(s),className:cr("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,s=o.className,c=o.range,u=o.renderHeader,d=o.showAllEvents;return B.createElement("div",{className:s,ref:r.containerRef},B.createElement("div",{className:cr("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&B.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),B.createElement("div",{className:"rbc-row",ref:r.eventRowRef},B.createElement("div",{className:"rbc-row-segment"},B.createElement("div",{className:"rbc-event"},B.createElement("div",{className:"rbc-event-content"},"Â "))))))},r.containerRef=q.createRef(),r.headingRowRef=q.createRef(),r.eventRowRef=q.createRef(),r.slotMetrics=tA(),r}return tn(t,e),Er(t,[{key:"getRowLimit",value:function(){var n,a=av(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?av(this.headingRowRef.current):0,o=av(this.containerRef.current)-i;return Math.max(Math.floor(o/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,o=n.range,s=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,p=n.getters,h=n.components,v=n.getNow,g=n.renderHeader,j=n.onSelect,y=n.localizer,x=n.onSelectStart,N=n.onSelectEnd,_=n.onDoubleClick,w=n.onKeyPress,A=n.resourceId,O=n.longPressThreshold,E=n.isAllDay,T=n.resizable,$=n.showAllEvents;if(d)return this.renderDummy();var k=this.slotMetrics(this.props),C=k.levels,D=k.extra,I=$?vW:Xa,H=h.weekWrapper,V={selected:c,accessors:f,getters:p,localizer:y,components:h,onSelect:j,onDoubleClick:_,onKeyPress:w,resourceId:A,slotMetrics:k,resizable:T};return B.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},B.createElement(hW,{localizer:y,date:a,getNow:v,rtl:i,range:o,selectable:u,container:this.getContainer,getters:p,onSelectStart:x,onSelectEnd:N,onSelectSlot:this.handleSelectSlot,components:h,longPressThreshold:O,resourceId:A}),B.createElement("div",{className:cr("rbc-row-content",$&&"rbc-row-content-scrollable"),role:"row"},g&&B.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),B.createElement(I,null,B.createElement(H,Object.assign({isAllDay:E},V,{rtl:this.props.rtl}),C.map(function(X,J){return B.createElement(Z_,Object.assign({key:J,segments:X},V))}),!!D.length&&B.createElement(eA,Object.assign({segments:D,onShowMore:this.handleShowMore},V))))))}}])}(B.Component);rd.defaultProps={minRows:0,maxRows:1/0};var Eb=function(t){var r=t.label;return B.createElement("span",{role:"columnheader","aria-sort":"none"},r)},xW=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):B.createElement("span",null,r)},wW=["date","className"],jW=function(t,r,n,a,i){return t.filter(function(o){return td(o,r,n,a,i)})},om=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,s){var c=r.props,u=c.events,d=c.components,f=c.selectable,p=c.getNow,h=c.selected,v=c.date,g=c.localizer,j=c.longPressThreshold,y=c.accessors,x=c.getters,N=c.showAllEvents,_=r.state,w=_.needLimitMeasure,A=_.rowLimit,O=jW(bh(u),o[0],o[o.length-1],y,g),E=gW(O,y,g);return B.createElement(rd,{key:s,ref:s===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:p,date:v,range:o,events:E,maxRows:N?1/0:A,selected:h,selectable:f,components:d,accessors:y,getters:x,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:w,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:j,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:N})},r.readerDateHeading=function(o){var s=o.date,c=o.className,u=li(o,wW),d=r.props,f=d.date,p=d.getDrilldownView,h=d.localizer,v=h.neq(f,s,"month"),g=h.isSameDate(s,f),j=p(s),y=h.format(s,"dateFormat"),x=r.props.components.dateHeader||xW;return B.createElement("div",Object.assign({},u,{className:cr(c,v&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),B.createElement(x,{label:y,date:s,drilldownView:j,isOffRange:v,onDrillDown:function(_){return r.handleHeadingClick(s,j,_)}}))},r.handleSelectSlot=function(o,s){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(s)})},r.handleHeadingClick=function(o,s,c){c.preventDefault(),r.clearSelection(),Xt(r.props.onDrillDown,[o,s])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onKeyPressEvent,s)},r.handleShowMore=function(o,s,c,u,d){var f=r.props,p=f.popup,h=f.onDrillDown,v=f.onShowMore,g=f.getDrilldownView,j=f.doShowMoreDrillDown;if(r.clearSelection(),p){var y=US(c,r.containerRef.current);r.setState({overlay:{date:s,events:o,position:y,target:d}})}else j&&Xt(h,[s,g(s)||cn.DAY]);Xt(v,[o,s,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=q.createRef(),r.slotRowRef=q.createRef(),r._bgRows=[],r._pendingSelection=[],r}return tn(t,e),Er(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||WS(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.className,s=i.visibleDays(a,i),c=vT(s,7);return this._weekCount=c.length,B.createElement("div",{className:cr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},B.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,o=a.components,s=n[0],c=n[n.length-1],u=o.header||Eb;return i.range(s,c,"day").map(function(d,f){return B.createElement("div",{key:"header_"+f,className:"rbc-header"},B.createElement(u,{date:d,localizer:i,label:i.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},s=this.props,c=s.accessors,u=s.localizer,d=s.components,f=s.getters,p=s.selected,h=s.popupOffset,v=s.handleDragStart,g=function(){return i.setState({overlay:null})};return B.createElement(Pb,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:p,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(s,c){return+s-+c});var i=new Date(a[0]),o=new Date(a[a.length-1]);o.setDate(a[a.length-1].getDate()+1),Xt(this.props.onSelectSlot,{slots:a,start:i,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,o=n.localizer;return{date:i,needLimitMeasure:o.neq(i,a.date,"month")}}}])}(B.Component);om.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};om.navigate=function(e,t,r){var n=r.localizer;switch(t){case Sn.PREVIOUS:return n.add(e,-1,"month");case Sn.NEXT:return n.add(e,1,"month");default:return e}};om.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var ew=function(t){var r=t.min,n=t.max,a=t.step,i=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function kb(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,i=e.localizer,o=ew({step:n,localizer:i}),s=1+i.getTotalMin(t,r),c=i.getMinutesFromMidnight(t),u=Math.ceil((s-1)/(n*a)),d=u*a,f=new Array(u),p=new Array(d),h=0;h<u;h++){f[h]=new Array(a);for(var v=0;v<a;v++){var g=h*a+v,j=g*n;p[g]=f[h][v]=i.getSlotDate(t,c,j)}}var y=p.length*n;p.push(i.getSlotDate(t,c,y));function x(N){var _=i.diff(t,N,"minutes")+i.getDstOffset(t,N);return Math.min(_,s)}return{groups:f,update:function(_){return ew(_)!==o?kb(_):this},dateIsInGroup:function(_,w){var A=f[w+1];return i.inRange(_,f[w][0],A?A[0]:r,"minutes")},nextSlot:function(_){var w=p[Math.min(p.findIndex(function(A){return A===_||i.eq(A,_)})+1,p.length-1)];return i.eq(w,_)&&(w=i.add(_,n,"minutes")),w},closestSlotToPosition:function(_){var w=Math.min(p.length-1,Math.max(0,Math.floor(_*d)));return p[w]},closestSlotFromPoint:function(_,w){var A=Math.abs(w.top-w.bottom);return this.closestSlotToPosition((_.y-w.top)/A)},closestSlotFromDate:function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(_,t,"minutes"))return p[0];if(i.gt(_,r,"minutes"))return p[p.length-1];var A=i.diff(t,_,"minutes");return p[(A-A%n)/n+w]},startsBeforeDay:function(_){return i.lt(_,t,"day")},startsAfterDay:function(_){return i.gt(_,r,"day")},startsBefore:function(_){return i.lt(i.merge(t,_),t,"minutes")},startsAfter:function(_){return i.gt(i.merge(r,_),r,"minutes")},getRange:function(_,w,A,O){A||(_=i.min(r,i.max(t,_))),O||(w=i.min(r,i.max(t,w)));var E=x(_),T=x(w),$=T>n*d&&!i.eq(r,w)?(E-n)/(n*d)*100:E/(n*d)*100;return{top:$,height:T/(n*d)*100-$,start:x(_),startDate:_,end:x(w),endDate:w}},getCurrentTimePosition:function(_){var w=x(_),A=w/(n*d)*100;return A}}}var NW=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;Pr(this,e);var i=a.getRange(n.start(t),n.end(t)),o=i.start,s=i.startDate,c=i.end,u=i.endDate,d=i.top,f=i.height;this.start=o,this.end=c,this.startMs=+s,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Er(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,o=n.indexOf(this)+1;return a+o*i}}])}();function SW(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function _W(e){for(var t=rm(e,["startMs",function(s){return-s.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var i=t[a];if(!(n.endMs>i.startMs)){if(a>0){var o=t.splice(a,1)[0];r.push(o)}break}}}return r}function rA(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=t.map(function(d){return new NW(d,{slotMetrics:n,accessors:a})}),o=_W(i),s=[],c=function(){var f=o[u],p=s.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!p)return f.rows=[],s.push(f),1;f.container=p;for(var h=null,v=p.rows.length-1;!h&&v>=0;v--)SW(p.rows[v],f,r)&&(h=p.rows[v]);h?(h.leaves.push(f),f.row=h):(f.leaves=[],p.rows.push(f))},u=0;u<o.length;u++)c();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function nA(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=nA(e.friends[n],t,r);t=t>a?t:a}return t}function AW(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=rA({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(H,V){return H=H.style,V=V.style,H.top!==V.top?H.top>V.top?1:-1:H.height!==V.height?H.top+H.height<V.top+V.height?1:-1:0});for(var o=0;o<i.length;++o)i[o].friends=[],delete i[o].style.left,delete i[o].style.left,delete i[o].idx,delete i[o].size;for(var s=0;s<i.length-1;++s)for(var c=i[s],u=c.style.top,d=c.style.top+c.style.height,f=s+1;f<i.length;++f){var p=i[f],h=p.style.top,v=p.style.top+p.style.height;(h>=u&&v<=d||v>u&&v<=d||h>=u&&h<d)&&(c.friends.push(p),p.friends.push(c))}for(var g=0;g<i.length;++g){for(var j=i[g],y=[],x=0;x<100;++x)y.push(1);for(var N=0;N<j.friends.length;++N)j.friends[N].idx!==void 0&&(y[j.friends[N].idx]=0);j.idx=y.indexOf(1)}for(var _=0;_<i.length;++_){var w=0;if(!i[_].size){var A=[],O=nA(i[_],0,A);w=100/(O+1),i[_].size=w;for(var E=0;E<A.length;++E)A[E].size=w}}for(var T=0;T<i.length;++T){var $=i[T];$.style.left=$.idx*$.size;for(var k=0,C=0;C<$.friends.length;++C){var D=$.friends[C].idx;k=k>D?k:D}k<=$.idx&&($.size=100-$.idx*$.size);var I=$.idx===0?0:3;$.style.width="calc(".concat($.size,"% - ").concat(I,"px)"),$.style.height="calc(".concat($.style.height,"% - 2px)"),$.style.xOffset="calc(".concat($.style.left,"% + ").concat(I,"px)")}return i}var tw={overlap:rA,"no-overlap":AW};function OW(e){return!!(e&&e.constructor&&e.call&&e.apply)}function PW(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in tw&&(r=tw[t]),OW(r)?r.apply(this,arguments):[]}var aA=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,o=n.group,s=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?Xa:d,p=s?s.slotGroupProp(o):{};return B.createElement("div",Object.assign({className:"rbc-timeslot-group"},p),o.map(function(h,v){var g=s?s.slotProp(h,i):{};return B.createElement(f,{key:v,value:h,resource:i},B.createElement("div",Object.assign({},g,{className:cr("rbc-time-slot",g.className)}),a&&a(h,v)))}))}}])}(q.Component);function Qf(e){return typeof e=="string"?e:e+"%"}function EW(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,i=e.rtl,o=e.selected,s=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,p=e.onDoubleClick,h=e.isBackgroundEvent,v=e.onKeyPress,g=e.components,j=g.event,y=g.eventWrapper,x=a.title(n),N=a.tooltip(n),_=a.end(n),w=a.start(n),A=d.eventProp(n,w,_,o),O=[B.createElement("div",{key:"1",className:"rbc-event-label"},s),B.createElement("div",{key:"2",className:"rbc-event-content"},j?B.createElement(j,{event:n,title:x}):x)],E=t.height,T=t.top,$=t.width,k=t.xOffset,C=Bt(Bt({},A.style),{},Xo({top:Qf(T),height:Qf(E),width:Qf($)},i?"right":"left",Qf(k)));return B.createElement(y,Object.assign({type:"time"},e),B.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:p,style:C,onKeyDown:v,title:N?(typeof s=="string"?s+": ":"")+N:void 0,className:cr(h?"rbc-background-event":"rbc-event",r,A.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},O))}var kW=function(t){var r=t.children,n=t.className,a=t.style,i=t.innerRef;return B.createElement("div",{className:n,style:a,ref:i},r)},TW=B.forwardRef(function(e,t){return B.createElement(kW,Object.assign({},e,{innerRef:t}))}),CW=["dayProp"],LW=["eventContainerWrapper","timeIndicatorWrapper"],iA=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var s=o.events,c=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,p=u.accessors,h=u.localizer,v=u.getters,g=u.components,j=u.step,y=u.timeslots,x=u.dayLayoutAlgorithm,N=u.resizable,_=r,w=_.slotMetrics,A=h.messages,O=PW({events:s,accessors:p,slotMetrics:w,minimumStartDifference:Math.ceil(j*y/2),dayLayoutAlgorithm:x});return O.map(function(E,T){var $,k=E.event,C=E.style,D=p.end(k),I=p.start(k),H=($=p.eventId(k))!==null&&$!==void 0?$:"evt_"+T,V="eventTimeRangeFormat",X,J=w.startsBeforeDay(I),Y=w.startsAfterDay(D);J?V="eventTimeRangeEndFormat":Y&&(V="eventTimeRangeStartFormat"),J&&Y?X=A.allDay:X=h.format({start:I,end:D},V);var Z=J||w.startsBefore(I),ae=Y||w.startsAfter(D);return B.createElement(EW,{style:C,event:k,label:X,key:H,getters:v,rtl:d,components:g,continuesPrior:Z,continuesAfter:ae,accessors:p,resource:r.props.resource,selected:im(k,f),onClick:function(U){return r._select(Bt(Bt(Bt({},k),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),U)},onDoubleClick:function(U){return r._doubleClick(k,U)},isBackgroundEvent:c,onKeyPress:function(U){return r._keyPress(k,U)},resizable:N})})},r._selectable=function(){var o=r.containerRef.current,s=r.props,c=s.longPressThreshold,u=s.localizer,d=r._selector=new J_(function(){return o},{longPressThreshold:c}),f=function(g){var j=r.props.onSelecting,y=r.state||{},x=p(g),N=x.startDate,_=x.endDate;j&&(u.eq(y.startDate,N,"minutes")&&u.eq(y.endDate,_,"minutes")||j({start:N,end:_,resourceId:r.props.resource})===!1)||(r.state.start!==x.start||r.state.end!==x.end||r.state.selecting!==x.selecting)&&r.setState(x)},p=function(g){var j=r.slotMetrics.closestSlotFromPoint(g,ys(o));r.state.selecting||(r._initialSlot=j);var y=r._initialSlot;u.lte(y,j)?j=r.slotMetrics.nextSlot(j):u.gt(y,j)&&(y=r.slotMetrics.nextSlot(y));var x=r.slotMetrics.getRange(u.min(y,j),u.max(y,j));return Bt(Bt({},x),{},{selecting:!0,top:"".concat(x.top,"%"),height:"".concat(x.height,"%")})},h=function(g,j){if(!Rh(r.containerRef.current,g)){var y=p(g),x=y.startDate,N=y.endDate;r._selectSlot({startDate:x,endDate:N,action:j,box:g})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(v){if(r.props.selectable==="ignoreEvents")return!Rh(r.containerRef.current,v)}),d.on("click",function(v){return h(v,"click")}),d.on("doubleClick",function(v){return h(v,"doubleClick")}),d.on("select",function(v){r.state.selecting&&(r._selectSlot(Bt(Bt({},r.state),{},{action:"select",bounds:v})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var s=o.startDate,c=o.endDate,u=o.action,d=o.bounds,f=o.box,p=s,h=[];r.props.localizer.lte(p,c);)h.push(p),p=new Date(+p+r.props.step*60*1e3);Xt(r.props.onSelectSlot,{slots:h,start:s,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onSelectEvent,s)},r._doubleClick=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onDoubleClickEvent,s)},r._keyPress=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onKeyPressEvent,s)},r.slotMetrics=kb(r.props),r.containerRef=q.createRef(),r}return tn(t,e),Er(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,o=i.getNow,s=i.isNow,c=i.localizer,u=i.date,d=i.min,f=i.max,p=c.neq(n.getNow(),o(),"minutes");if(n.isNow!==s||p){if(this.clearTimeIndicatorInterval(),s){var h=!p&&c.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(h)}}else s&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,o=n.getNow,s=o();if(s>=a&&s<=i){var c=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,o=n.rtl,s=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,p=f.dayProp,h=li(f,CW),v=n.components,g=v.eventContainerWrapper,j=v.timeIndicatorWrapper,y=li(v,LW);this.slotMetrics=this.slotMetrics.update(this.props);var x=this.slotMetrics,N=this.state,_=N.selecting,w=N.top,A=N.height,O=N.startDate,E=N.endDate,T={start:O,end:E},$=p(i,c),k=$.className,C=$.style,D={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},I=y.dayColumnWrapper||TW;return B.createElement(I,{ref:this.containerRef,date:a,style:C,className:cr(k,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",_&&"rbc-slot-selecting"),slotMetrics:x,resource:c},x.groups.map(function(H,V){return B.createElement(aA,{key:V,group:H,resource:c,getters:h,components:y})}),B.createElement(g,{localizer:d,resource:c,accessors:u,getters:h,components:y,slotMetrics:x},B.createElement("div",{className:cr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),_&&B.createElement("div",{className:"rbc-slot-selection",style:{top:w,height:A}},B.createElement("span",null,d.format(T,"selectRangeFormat"))),s&&this.intervalTriggered&&B.createElement(j,D,B.createElement("div",D)))}}])}(B.Component);iA.defaultProps={dragThroughEvents:!0,timeslots:2};var oA=function(t){var r=t.label;return B.createElement(B.Fragment,null,r)},MW=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleHeaderClick=function(o,s,c){c.preventDefault(),Xt(r.props.onDrillDown,[o,s])},r.renderRow=function(o){var s=r.props,c=s.events,u=s.rtl,d=s.selectable,f=s.getNow,p=s.range,h=s.getters,v=s.localizer,g=s.accessors,j=s.components,y=s.resizable,x=g.resourceId(o),N=o?c.filter(function(_){return g.resource(_)===x}):c;return B.createElement(rd,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:p,events:N,resourceId:x,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:j,accessors:g,getters:h,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:y})},r}return tn(t,e),Er(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,s=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components.header,f=d===void 0?Eb:d,p=c();return n.map(function(h,v){var g=s(h),j=o.format(h,"dayFormat"),y=u(h),x=y.className,N=y.style,_=B.createElement(f,{date:h,label:j,localizer:o});return B.createElement("div",{key:v,style:N,className:cr("rbc-header",x,o.isSameDate(h,p)&&"rbc-today")},g?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(A){return a.handleHeaderClick(h,g,A)}},_):B.createElement("span",null,_))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,o=a.rtl,s=a.resources,c=a.range,u=a.events,d=a.getNow,f=a.accessors,p=a.selectable,h=a.components,v=a.getters,g=a.scrollRef,j=a.localizer,y=a.isOverflowing,x=a.components,N=x.timeGutterHeader,_=x.resourceHeader,w=_===void 0?oA:_,A=a.resizable,O={};y&&(O[o?"marginLeft":"marginRight"]="".concat(ob()-1,"px"));var E=s.groupEvents(u);return B.createElement("div",{style:O,ref:g,className:cr("rbc-time-header",y&&"rbc-overflowing")},B.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},N&&B.createElement(N,null)),s.map(function(T,$){var k=us(T,2),C=k[0],D=k[1];return B.createElement("div",{className:"rbc-time-header-content",key:C||$},D&&B.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat($)},B.createElement("div",{className:"rbc-header"},B.createElement(w,{index:$,label:f.resourceTitle(D),resource:D}))),B.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),B.createElement(rd,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:E.get(C)||[],resourceId:D&&C,className:"rbc-allday-cell",selectable:p,selected:n.props.selected,components:h,accessors:f,getters:v,localizer:j,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:A}))}))}}])}(B.Component),$W=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleHeaderClick=function(o,s,c){c.preventDefault(),Xt(r.props.onDrillDown,[o,s])},r}return tn(t,e),Er(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,s=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components,f=d.header,p=f===void 0?Eb:f,h=d.resourceHeader,v=h===void 0?oA:h,g=i.resources,j=i.accessors,y=i.events,x=i.rtl,N=i.selectable,_=i.components,w=i.getters,A=i.resizable,O=c(),E=g.groupEvents(y);return n.map(function(T,$){var k=s(T),C=o.format(T,"dayFormat"),D=u(T),I=D.className,H=D.style,V=B.createElement(p,{date:T,label:C,localizer:o});return B.createElement("div",{key:$,className:"rbc-time-header-content rbc-resource-grouping"},B.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},B.createElement("div",{style:H,className:cr("rbc-header",I,o.isSameDate(T,O)&&"rbc-today")},k?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(J){return a.handleHeaderClick(T,k,J)}},V):B.createElement("span",null,V))),B.createElement("div",{className:"rbc-row"},g.map(function(X,J){var Y=us(X,2),Z=Y[0],ae=Y[1];return B.createElement("div",{key:"resource_".concat(Z,"_").concat(J),className:cr("rbc-header",I,o.isSameDate(T,O)&&"rbc-today")},B.createElement(v,{index:J,label:j.resourceTitle(ae),resource:ae}))})),B.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(X,J){var Y=us(X,2),Z=Y[0],ae=Y[1],M=(E.get(Z)||[]).filter(function(U){return o.isSameDate(U.start,T)||o.isSameDate(U.end,T)});return B.createElement(rd,{key:"resource_".concat(Z,"_").concat(J),isAllDay:!0,rtl:x,getNow:c,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[T],events:M,resourceId:ae&&Z,className:"rbc-allday-cell",selectable:N,selected:a.props.selected,components:_,accessors:j,getters:w,localizer:o,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:A})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,o=n.range,s=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[i?"marginLeft":"marginRight"]="".concat(ob()-1,"px")),B.createElement("div",{style:d,ref:s,className:cr("rbc-time-header",c&&"rbc-overflowing")},B.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&B.createElement(u,null)),this.renderHeaderCells(o))}}])}(B.Component);function DW(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var IW=function(t){var r=t.min,n=t.max,a=t.timeslots,i=t.step,o=t.localizer,s=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,p=u.timeGutterWrapper,h=q.useMemo(function(){return DW({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),v=h.start,g=h.end,j=q.useState(kb({min:v,max:g,timeslots:a,step:i,localizer:o})),y=us(j,2),x=y[0],N=y[1];q.useEffect(function(){x&&N(x.update({min:v,max:g,timeslots:a,step:i,localizer:o}))},[v==null?void 0:v.toISOString(),g==null?void 0:g.toISOString(),a,i]);var _=q.useCallback(function(w,A){if(A)return null;var O=x.dateIsInGroup(s(),A);return B.createElement("span",{className:cr("rbc-label",O&&"rbc-now")},o.format(w,"timeGutterFormat"))},[x,o,s]);return B.createElement(p,{slotMetrics:x},B.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},x.groups.map(function(w,A){return B.createElement(aA,{key:A,group:w,resource:c,components:u,renderSlot:_,getters:d})})))},RW=B.forwardRef(function(e,t){return B.createElement(IW,Object.assign({gutterRef:t},e))}),lv={};function FW(e,t){return{map:function(n){return e?e.map(function(a,i){return n([t.resourceId(a),a],i)}):[n([lv,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(i){var o=t.resource(i)||lv;if(Array.isArray(o))o.forEach(function(c){var u=a.get(c)||[];u.push(i),a.set(c,u)});else{var s=a.get(o)||[];s.push(i),a.set(o,s)}}),a):(a.set(lv,n),a)}}}var Ac=function(e){function t(r){var n;return Pr(this,t),n=en(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){q1(n.rafHandle),n.rafHandle=WS(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Xt(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Xt(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Xt(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,o,s,c){var u=n.props,d=u.popup,f=u.onDrillDown,p=u.onShowMore,h=u.getDrilldownView,v=u.doShowMoreDrillDown;if(n.clearSelection(),d){var g=US(o,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:Bt(Bt({},g),{},{width:"200px"}),target:c}})}else v&&Xt(f,[i,h(i)||cn.DAY]);Xt(p,[a,i,s])},n.handleSelectAllDaySlot=function(a,i){var o=n.props.onSelectSlot,s=new Date(a[0]),c=new Date(a[a.length-1]);c.setDate(a[a.length-1].getDate()+1),Xt(o,{slots:a,start:s,end:c,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=S_(function(a,i){return FW(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=B.createRef(),n.contentRef=B.createRef(),n.containerRef=B.createRef(),n._scrollRatio=null,n.gutterRef=q.createRef(),n}return tn(t,e),Er(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),q1(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,o,s,c,u,d,f,p){var h=this.props,v=h.min,g=h.max,j=(o.get(a)||[]).filter(function(x){return c.inRange(n,u.start(x),u.end(x),"day")}),y=(s.get(a)||[]).filter(function(x){return c.inRange(n,u.start(x),u.end(x),"day")});return B.createElement(iA,Object.assign({},this.props,{localizer:c,min:c.merge(n,v),max:c.merge(n,g),resource:i&&a,components:d,isNow:c.isSameDate(n,p),key:"".concat(a,"-").concat(n),date:n,events:j,backgroundEvents:y,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,o,s,c,u,d,f){var p=this;return a.map(function(h){var v=us(h,2),g=v[0],j=v[1];return n.map(function(y){return p.renderDayColumn(y,g,j,i,o,s,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,a,i,o,s,c,u,d,f){var p=this;return n.map(function(h){return B.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:h},a.map(function(v){var g=us(v,2),j=g[0],y=g[1];return B.createElement("div",{style:{flex:1},key:c.resourceId(y)},p.renderDayColumn(h,j,y,i,o,s,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,a,i,o){var s=this.props,c=s.accessors,u=s.localizer,d=s.resourceGroupingLayout,f=s.components,p=s.dayLayoutAlgorithm,h=this.memoizedResources(this.props.resources,c),v=h.groupEvents(a),g=h.groupEvents(i);return d?this.renderRangeFirst(n,h,v,g,u,c,o,f,p):this.renderResourcesFirst(n,h,v,g,u,c,o,f,p)}},{key:"render",value:function(){var n,a=this.props,i=a.events,o=a.backgroundEvents,s=a.range,c=a.width,u=a.rtl,d=a.selected,f=a.getNow,p=a.resources,h=a.components,v=a.accessors,g=a.getters,j=a.localizer,y=a.min,x=a.max,N=a.showMultiDayTimes,_=a.longPressThreshold,w=a.resizable,A=a.resourceGroupingLayout;c=c||this.state.gutterWidth;var O=s[0],E=s[s.length-1];this.slots=s.length;var T=[],$=[],k=[];i.forEach(function(D){if(td(D,O,E,v,j)){var I=v.start(D),H=v.end(D);v.allDay(D)||j.startAndEndAreDateOnly(I,H)||!N&&!j.isSameDate(I,H)?T.push(D):$.push(D)}}),o.forEach(function(D){td(D,O,E,v,j)&&k.push(D)}),T.sort(function(D,I){return d0(D,I,v,j)});var C={range:s,events:T,width:c,rtl:u,getNow:f,localizer:j,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(p,v),selectable:this.props.selectable,accessors:v,getters:g,components:h,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:_,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:w};return B.createElement("div",{className:cr("rbc-time-view",p&&"rbc-time-view-resources"),ref:this.containerRef},p&&p.length>1&&A?B.createElement($W,C):B.createElement(MW,C),this.props.popup&&this.renderOverlay(),B.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},B.createElement(RW,{date:O,ref:this.gutterRef,localizer:j,min:j.merge(O,y),max:j.merge(O,x),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:h,className:"rbc-time-gutter",getters:g}),this.renderEvents(s,$,k,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},s=this.props,c=s.accessors,u=s.localizer,d=s.components,f=s.getters,p=s.selected,h=s.popupOffset,v=s.handleDragStart,g=function(){return i.setState({overlay:null})};return B.createElement(Pb,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:p,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?l0(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,o=n.scrollToTime,s=n.localizer,c=s.diff(s.merge(o,a),o,"milliseconds"),u=s.diff(a,i,"milliseconds");this._scrollRatio=c/u}}])}(q.Component);Ac.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var BW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],sm=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=li(n,BW),g=t.range(a,{localizer:i});return B.createElement(Ac,Object.assign({},v,{range:g,eventOffset:10,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(B.Component);sm.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};sm.navigate=function(e,t,r){var n=r.localizer;switch(t){case Sn.PREVIOUS:return n.add(e,-1,"day");case Sn.NEXT:return n.add(e,1,"day");default:return e}};sm.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var qW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],mo=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=li(n,qW),g=t.range(a,this.props);return B.createElement(Ac,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(B.Component);mo.defaultProps=Ac.defaultProps;mo.navigate=function(e,t,r){var n=r.localizer;switch(t){case Sn.PREVIOUS:return n.add(e,-1,"week");case Sn.NEXT:return n.add(e,1,"week");default:return e}};mo.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(a,i)};mo.title=function(e,t){var r=t.localizer,n=mo.range(e,{localizer:r}),a=T_(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var zW=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Tb(e,t){return mo.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Vd=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=li(n,zW),g=Tb(a,this.props);return B.createElement(Ac,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(B.Component);Vd.defaultProps=Ac.defaultProps;Vd.range=Tb;Vd.navigate=mo.navigate;Vd.title=function(e,t){var r=t.localizer,n=Tb(e,{localizer:r}),a=T_(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var lm=30;function cm(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,i=e.getters,o=e.length,s=o===void 0?lm:o,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,p=q.useRef(null),h=q.useRef(null),v=q.useRef(null),g=q.useRef(null),j=q.useRef(null);q.useEffect(function(){N()});var y=function(E,T,$){var k=r.event,C=r.date;return T=T.filter(function(D){return td(D,c.startOf(E,"day"),c.endOf(E,"day"),t,c)}),T.map(function(D,I){var H=t.title(D),V=t.end(D),X=t.start(D),J=i.eventProp(D,X,V,im(D,f)),Y=I===0&&c.format(E,"agendaDateFormat"),Z=I===0?B.createElement("td",{rowSpan:T.length,className:"rbc-agenda-date-cell"},C?B.createElement(C,{day:E,label:Y}):Y):!1;return B.createElement("tr",{key:$+"_"+I,className:J.className,style:J.style},Z,B.createElement("td",{className:"rbc-agenda-time-cell"},x(E,D)),B.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(M){return d&&d(D,M)},onDoubleClick:function(M){return u&&u(D,M)}},k?B.createElement(k,{event:D,title:H}):H))},[])},x=function(E,T){var $="",k=r.time,C=c.messages.allDay,D=t.end(T),I=t.start(T);return t.allDay(T)||(c.eq(I,D)?C=c.format(I,"agendaTimeFormat"):c.isSameDate(I,D)?C=c.format({start:I,end:D},"agendaTimeRangeFormat"):c.isSameDate(E,I)?C=c.format(I,"agendaTimeFormat"):c.isSameDate(E,D)&&(C=c.format(D,"agendaTimeFormat"))),c.gt(E,I,"day")&&($="rbc-continues-prior"),c.lt(E,D,"day")&&($+=" rbc-continues-after"),B.createElement("span",{className:$.trim()},k?B.createElement(k,{event:T,day:E,label:C}):C)},N=function(){if(j.current){var E=p.current,T=j.current.firstChild;if(T){var $=g.current.scrollHeight>g.current.clientHeight,k=[],C=k;k=[l0(T.children[0]),l0(T.children[1])],(C[0]!==k[0]||C[1]!==k[1])&&(h.current.style.width=k[0]+"px",v.current.style.width=k[1]+"px"),$?(aL(E,"rbc-header-overflowing"),E.style.marginRight=ob()+"px"):iL(E,"rbc-header-overflowing")}}},_=c.messages,w=c.add(n,s,"day"),A=c.range(n,w,"day");return a=a.filter(function(O){return td(O,c.startOf(n,"day"),c.endOf(w,"day"),t,c)}),a.sort(function(O,E){return+t.start(O)-+t.start(E)}),B.createElement("div",{className:"rbc-agenda-view"},a.length!==0?B.createElement(B.Fragment,null,B.createElement("table",{ref:p,className:"rbc-agenda-table"},B.createElement("thead",null,B.createElement("tr",null,B.createElement("th",{className:"rbc-header",ref:h},_.date),B.createElement("th",{className:"rbc-header",ref:v},_.time),B.createElement("th",{className:"rbc-header"},_.event)))),B.createElement("div",{className:"rbc-agenda-content",ref:g},B.createElement("table",{className:"rbc-agenda-table"},B.createElement("tbody",{ref:j},A.map(function(O,E){return y(O,a,E)}))))):B.createElement("span",{className:"rbc-agenda-empty"},_.noEventsInRange))}cm.range=function(e,t){var r=t.length,n=r===void 0?lm:r,a=t.localizer,i=a.add(e,n,"day");return{start:e,end:i}};cm.navigate=function(e,t,r){var n=r.length,a=n===void 0?lm:n,i=r.localizer;switch(t){case Sn.PREVIOUS:return i.add(e,-a,"day");case Sn.NEXT:return i.add(e,a,"day");default:return e}};cm.title=function(e,t){var r=t.length,n=r===void 0?lm:r,a=t.localizer,i=a.add(e,n,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var jh=Xo(Xo(Xo(Xo(Xo({},cn.MONTH,om),cn.WEEK,mo),cn.WORK_WEEK,Vd),cn.DAY,sm),cn.AGENDA,cm),UW=["action","date","today"];function WW(e,t){var r=t.action,n=t.date,a=t.today,i=li(t,UW);switch(e=typeof e=="string"?jh[e]:e,r){case Sn.TODAY:n=a||new Date;break;case Sn.DATE:break;default:zu(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function HW(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&bt(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var _i=function(t){return function(r){return HW(r,t)}},GW=["view","date","getNow","onNavigate"],VW=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function sA(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=us(n[r],2),i=a[0],o=a[1];o&&t.push(i)}return t}function YW(e,t){var r=t.views,n=sA(r);return n.indexOf(e)!==-1}var lA=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?SU(o,function(s,c){return s[c]=jh[c]},{}):bt(o)==="object"?L_(o,function(s,c){return s===!0?jh[c]:s}):jh},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var s=r.props,c=s.view,u=s.drilldownView,d=s.getDrilldownView;return d?d(o,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,s,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&s.range&&d(s.range(o,{localizer:f}),c)},r.handleNavigate=function(o,s){var c=r.props,u=c.view,d=c.date,f=c.getNow,p=c.onNavigate,h=li(c,GW),v=r.getView(),g=f();d=WW(v,Bt(Bt({},h),{},{action:o,date:s||d||g,today:g})),p(d,u,o),r.handleRangeChange(d,v)},r.handleViewChange=function(o){o!==r.props.view&&YW(o,r.props)&&r.props.onView(o);var s=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),s[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onKeyPressEvent,s)},r.handleSelectSlot=function(o){Xt(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,s){var c=r.props.onDrillDown;if(c){c(o,s,r.drilldownView);return}s&&r.handleViewChange(s),r.handleNavigate(Sn.DATE,o)},r.state={context:t.getContext(r.props)},r}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,o=n.events,s=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,p=n.date,h=n.getNow,v=n.length,g=n.showMultiDayTimes,j=n.onShowMore,y=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var x=li(n,VW);p=p||h();var N=this.getView(),_=this.state.context,w=_.accessors,A=_.components,O=_.getters,E=_.localizer,T=_.viewNames,$=A.toolbar||JU,k=N.title(p,{localizer:E,length:v});return B.createElement("div",Object.assign({},f,{className:cr(d,"rbc-calendar",x.rtl&&"rbc-rtl"),style:u}),i&&B.createElement($,{date:p,view:a,views:T,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:E}),B.createElement(N,Object.assign({},x,{events:o,backgroundEvents:s,date:p,getNow:h,length:v,localizer:E,getters:O,components:A,accessors:w,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:j,doShowMoreDrillDown:y,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,o=n.allDayAccessor,s=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,p=n.eventIdAccessor,h=n.eventPropGetter,v=n.backgroundEventPropGetter,g=n.slotPropGetter,j=n.slotGroupPropGetter,y=n.dayPropGetter,x=n.view,N=n.views,_=n.localizer,w=n.culture,A=n.messages,O=A===void 0?{}:A,E=n.components,T=E===void 0?{}:E,$=n.formats,k=$===void 0?{}:$,C=sA(N),D=QU(O);return{viewNames:C,localizer:XU(_,w,k,D),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return j&&j.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:yB(T[x]||{},dU(T,C),{eventWrapper:Xa,backgroundEventWrapper:Xa,eventContainerWrapper:Xa,dateCellWrapper:Xa,weekWrapper:Xa,timeSlotWrapper:Xa,timeGutterWrapper:Xa,timeIndicatorWrapper:Xa}),accessors:{start:_i(a),end:_i(i),allDay:_i(o),tooltip:_i(s),title:_i(c),resource:_i(u),resourceId:_i(d),resourceTitle:_i(f),eventId:_i(p)}}}}])}(B.Component);lA.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:cn.MONTH,views:[cn.MONTH,cn.WEEK,cn.DAY,cn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:cn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var KW=AS(lA,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),XW=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"P",r)," â€“ ").concat(n.format(i,"P",r))},cv=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"p",r)," â€“ ").concat(n.format(i,"p",r))},JW=function(t,r,n){var a=t.start;return"".concat(n.format(a,"h:mma",r)," â€“ ")},ZW=function(t,r,n){var a=t.end;return" â€“ ".concat(n.format(a,"h:mma",r))},QW=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"MMMM dd",r)," â€“ ").concat(n.format(i,dc(a,i,"month")?"dd":"MMMM dd",r))},eH={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:cv,eventTimeRangeFormat:cv,eventTimeRangeStartFormat:JW,eventTimeRangeEndFormat:ZW,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:QW,agendaHeaderFormat:XW,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:cv},tH=function(t){var r=t.startOfWeek,n=t.getDay,a=t.format,i=t.locales;return new KU({formats:eH,firstOfWeek:function(s){return n(r(new Date,{locale:i[s]}))},format:function(s,c,u){return a(new Date(s),c,{locale:i[u]})}})};const rH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nH=(e,t,r)=>{let n;const a=rH[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function uv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const aH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sH={date:uv({formats:aH,defaultWidth:"full"}),time:uv({formats:iH,defaultWidth:"full"}),dateTime:uv({formats:oH,defaultWidth:"full"})},lH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cH=(e,t,r,n)=>lH[e];function mu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const uH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gH=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},vH={ordinalNumber:gH,era:mu({values:uH,defaultWidth:"wide"}),quarter:mu({values:dH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mu({values:fH,defaultWidth:"wide"}),day:mu({values:hH,defaultWidth:"wide"}),dayPeriod:mu({values:pH,defaultWidth:"wide",formattingValues:mH,defaultFormattingWidth:"wide"})};function gu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?bH(s,f=>f.test(o)):yH(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function yH(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function bH(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function xH(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const wH=/^(\d+)(th|st|nd|rd)?/i,jH=/\d+/i,NH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SH={any:[/^b/i,/^(a|c)/i]},_H={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AH={any:[/1/i,/2/i,/3/i,/4/i]},OH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LH={ordinalNumber:xH({matchPattern:wH,parsePattern:jH,valueCallback:e=>parseInt(e,10)}),era:gu({matchPatterns:NH,defaultMatchWidth:"wide",parsePatterns:SH,defaultParseWidth:"any"}),quarter:gu({matchPatterns:_H,defaultMatchWidth:"wide",parsePatterns:AH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:gu({matchPatterns:OH,defaultMatchWidth:"wide",parsePatterns:PH,defaultParseWidth:"any"}),day:gu({matchPatterns:EH,defaultMatchWidth:"wide",parsePatterns:kH,defaultParseWidth:"any"}),dayPeriod:gu({matchPatterns:TH,defaultMatchWidth:"any",parsePatterns:CH,defaultParseWidth:"any"})},cA={code:"en-US",formatDistance:nH,formatLong:sH,formatRelative:cH,localize:vH,match:LH,options:{weekStartsOn:0,firstWeekContainsDate:1}};let MH={};function um(){return MH}const uA=6048e5,$H=864e5,rw=Symbol.for("constructDateFrom");function go(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&rw in e?e[rw](t):e instanceof Date?new e.constructor(t):new Date(t)}function ia(e,t){return go(t||e,e)}function nw(e){const t=ia(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function DH(e,...t){const r=go.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function aw(e,t){const r=ia(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function IH(e,t,r){const[n,a]=DH(r==null?void 0:r.in,e,t),i=aw(n),o=aw(a),s=+i-nw(i),c=+o-nw(o);return Math.round((s-c)/$H)}function RH(e,t){const r=ia(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function FH(e,t){const r=ia(e,t==null?void 0:t.in);return IH(r,RH(r))+1}function Rl(e,t){var s,c,u,d;const r=um(),n=(t==null?void 0:t.weekStartsOn)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ia(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Fh(e,t){return Rl(e,{...t,weekStartsOn:1})}function dA(e,t){const r=ia(e,t==null?void 0:t.in),n=r.getFullYear(),a=go(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Fh(a),o=go(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Fh(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function BH(e,t){const r=dA(e,t),n=go(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Fh(n)}function qH(e,t){const r=ia(e,t==null?void 0:t.in),n=+Fh(r)-+BH(r);return Math.round(n/uA)+1}function fA(e,t){var d,f,p,h;const r=ia(e,t==null?void 0:t.in),n=r.getFullYear(),a=um(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=go((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=Rl(o,t),c=go((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Rl(c,t);return+r>=+s?n+1:+r>=+u?n:n-1}function zH(e,t){var s,c,u,d;const r=um(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=fA(e,t),i=go((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Rl(i,t)}function UH(e,t){const r=ia(e,t==null?void 0:t.in),n=+Rl(r,t)-+zH(r,t);return Math.round(n/uA)+1}function Lt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const no={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Lt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Lt(r+1,2)},d(e,t){return Lt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Lt(e.getHours()%12||12,t.length)},H(e,t){return Lt(e.getHours(),t.length)},m(e,t){return Lt(e.getMinutes(),t.length)},s(e,t){return Lt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Lt(a,t.length)}},cl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return no.y(e,t)},Y:function(e,t,r,n){const a=fA(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Lt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Lt(i,t.length)},R:function(e,t){const r=dA(e);return Lt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Lt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Lt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Lt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return no.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Lt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=UH(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Lt(a,t.length)},I:function(e,t,r){const n=qH(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Lt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):no.d(e,t)},D:function(e,t,r){const n=FH(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Lt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Lt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Lt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Lt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=cl.noon:n===0?a=cl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=cl.evening:n>=12?a=cl.afternoon:n>=4?a=cl.morning:a=cl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return no.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):no.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):no.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):no.s(e,t)},S:function(e,t){return no.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return sw(n);case"XXXX":case"XX":return Ho(n);case"XXXXX":case"XXX":default:return Ho(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return sw(n);case"xxxx":case"xx":return Ho(n);case"xxxxx":case"xxx":default:return Ho(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ow(n,":");case"OOOO":default:return"GMT"+Ho(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ow(n,":");case"zzzz":default:return"GMT"+Ho(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Lt(n,t.length)},T:function(e,t,r){return Lt(+e,t.length)}};function ow(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Lt(i,2)}function sw(e,t){return e%60===0?(e>0?"-":"+")+Lt(Math.abs(e)/60,2):Ho(e,t)}function Ho(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Lt(Math.trunc(n/60),2),i=Lt(n%60,2);return r+a+t+i}const lw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},WH=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return lw(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",lw(n,t)).replace("{{time}}",hA(a,t))},HH={p:hA,P:WH},GH=/^D+$/,VH=/^Y+$/,YH=["D","DD","YY","YYYY"];function KH(e){return GH.test(e)}function XH(e){return VH.test(e)}function JH(e,t,r){const n=ZH(e,t,r);if(console.warn(n),YH.includes(e))throw new RangeError(n)}function ZH(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function QH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function eG(e){return!(!QH(e)&&typeof e!="number"||isNaN(+ia(e)))}const tG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nG=/^'([^]*?)'?$/,aG=/''/g,iG=/[a-zA-Z]/;function Cb(e,t,r){var d,f,p,h,v,g,j,y;const n=um(),a=(r==null?void 0:r.locale)??n.locale??cA,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(j=n.locale)==null?void 0:j.options)==null?void 0:y.weekStartsOn)??0,s=ia(e,r==null?void 0:r.in);if(!eG(s))throw new RangeError("Invalid time value");let c=t.match(rG).map(x=>{const N=x[0];if(N==="p"||N==="P"){const _=HH[N];return _(x,a.formatLong)}return x}).join("").match(tG).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const N=x[0];if(N==="'")return{isToken:!1,value:oG(x)};if(iw[N])return{isToken:!0,value:x};if(N.match(iG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(s,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const N=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&XH(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&KH(N))&&JH(N,t,String(e));const _=iw[N[0]];return _(s,N,a.localize,u)}).join("")}function oG(e){const t=e.match(nG);return t?t[1].replace(aG,"'"):e}function sG(e,t){return ia(e,t==null?void 0:t.in).getDay()}const lG={"en-US":cA},cG=tH({format:Cb,startOfWeek:Rl,getDay:sG,locales:lG});function uG(){const[e,t]=q.useState([]);return q.useEffect(()=>{async function r(){var c,u;const{data:{user:n},error:a}=await Ye.auth.getUser();if(a||!n){console.error("User error:",a);return}const i=((c=n==null?void 0:n.user_metadata)==null?void 0:c.org_id)||((u=n==null?void 0:n.app_metadata)==null?void 0:u.org_id);if(!i){console.error("Missing org_id in user metadata.");return}const{data:o,error:s}=await Ye.from("events").select("*").eq("org_id",i);if(s)console.error("Error loading events:",s);else{const d=o.map(f=>({id:f.id,title:f.title,start:new Date(f.event_date),end:new Date(f.event_date)}));t(d)}}r()},[]),l.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Calendar"}),l.jsx(KW,{localizer:cG,events:e,startAccessor:"start",endAccessor:"end",style:{height:600}})]})}function Lb({title:e,loading:t=!1,error:r=null,children:n,className:a=""}){return t?l.jsx(Fy,{size:"lg"}):r?l.jsx("div",{className:"p-4 text-center text-red-600",children:r}):l.jsxs("div",{className:`p-6 ${a}`,children:[e&&l.jsx("div",{className:"mb-6",children:l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e})}),n||l.jsx(Ry,{})]})}function xn({children:e,variant:t="default",className:r="",disabled:n=!1,fullWidth:a=!1,...i}){let o="inline-flex items-center justify-center px-4 py-2 rounded font-medium focus:outline-none transition",s="";switch(t){case"outline":s="border border-blue-600 text-blue-600 bg-white hover:bg-blue-50";break;case"danger":s="bg-red-600 text-white hover:bg-red-700";break;default:s="bg-blue-600 text-white hover:bg-blue-700"}let c=n?"opacity-50 cursor-not-allowed":"",u=a?"w-full":"";return l.jsx("button",{className:`${o} ${s} ${c} ${u} ${r}`,disabled:n,...i,children:e})}function Ln({title:e,description:t,children:r,className:n="",...a}){return l.jsxs("div",{className:`
        bg-white rounded-lg shadow-md overflow-hidden
        ${n}
      `,...a,children:[(e||t)&&l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e&&l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),t&&l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),l.jsx("div",{className:"p-6",children:r})]})}function ul({label:e,error:t,as:r="input",className:n="",...a}){const i=r==="textarea"?"textarea":"input";return l.jsxs("div",{className:"space-y-1",children:[e&&l.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),l.jsx(i,{className:`block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""} ${n}`,...a}),t&&l.jsx("p",{className:"text-sm text-red-600",children:t})]})}function cw({label:e,error:t,options:r=[],className:n="",...a}){return l.jsxs("div",{className:"space-y-1",children:[e&&l.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),l.jsx("select",{className:`
          block w-full rounded-lg
          border-gray-300 shadow-sm
          focus:border-blue-500 focus:ring-blue-500
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
          ${n}
        `,...a,children:r.map(i=>l.jsx("option",{value:i.value,children:i.label},i.value))}),t&&l.jsx("p",{className:"text-sm text-red-600",children:t})]})}function dG(e){return e==null}var fG=dG;const ft=wt(fG);var hG=Ri,pG=rn,mG=$a,gG="[object String]";function vG(e){return typeof e=="string"||!pG(e)&&mG(e)&&hG(e)==gG}var yG=vG;const bs=wt(yG);var pA={exports:{}},Mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=Symbol.for("react.element"),$b=Symbol.for("react.portal"),dm=Symbol.for("react.fragment"),fm=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),pm=Symbol.for("react.provider"),mm=Symbol.for("react.context"),bG=Symbol.for("react.server_context"),gm=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),bm=Symbol.for("react.memo"),xm=Symbol.for("react.lazy"),xG=Symbol.for("react.offscreen"),mA;mA=Symbol.for("react.module.reference");function oa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mb:switch(e=e.type,e){case dm:case hm:case fm:case vm:case ym:return e;default:switch(e=e&&e.$$typeof,e){case bG:case mm:case gm:case xm:case bm:case pm:return e;default:return t}}case $b:return t}}}Mt.ContextConsumer=mm;Mt.ContextProvider=pm;Mt.Element=Mb;Mt.ForwardRef=gm;Mt.Fragment=dm;Mt.Lazy=xm;Mt.Memo=bm;Mt.Portal=$b;Mt.Profiler=hm;Mt.StrictMode=fm;Mt.Suspense=vm;Mt.SuspenseList=ym;Mt.isAsyncMode=function(){return!1};Mt.isConcurrentMode=function(){return!1};Mt.isContextConsumer=function(e){return oa(e)===mm};Mt.isContextProvider=function(e){return oa(e)===pm};Mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mb};Mt.isForwardRef=function(e){return oa(e)===gm};Mt.isFragment=function(e){return oa(e)===dm};Mt.isLazy=function(e){return oa(e)===xm};Mt.isMemo=function(e){return oa(e)===bm};Mt.isPortal=function(e){return oa(e)===$b};Mt.isProfiler=function(e){return oa(e)===hm};Mt.isStrictMode=function(e){return oa(e)===fm};Mt.isSuspense=function(e){return oa(e)===vm};Mt.isSuspenseList=function(e){return oa(e)===ym};Mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dm||e===hm||e===fm||e===vm||e===ym||e===xG||typeof e=="object"&&e!==null&&(e.$$typeof===xm||e.$$typeof===bm||e.$$typeof===pm||e.$$typeof===mm||e.$$typeof===gm||e.$$typeof===mA||e.getModuleId!==void 0)};Mt.typeOf=oa;pA.exports=Mt;var wG=pA.exports,jG=Ri,NG=$a,SG="[object Number]";function _G(e){return typeof e=="number"||NG(e)&&jG(e)==SG}var gA=_G;const AG=wt(gA);var OG=gA;function PG(e){return OG(e)&&e!=+e}var EG=PG;const Oc=wt(EG);var un=function(t){return t===0?0:t>0?1:-1},Zo=function(t){return bs(t)&&t.indexOf("%")===t.length-1},Le=function(t){return AG(t)&&!Oc(t)},Or=function(t){return Le(t)||bs(t)},kG=0,Pc=function(t){var r=++kG;return"".concat(t||"").concat(r)},dn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(t)&&!bs(t))return n;var i;if(Zo(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Oc(i)&&(i=n),a&&i>r&&(i=r),i},oo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},TG=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},bn=function(t,r){return Le(t)&&Le(r)?function(n){return t+n*(r-t)}:function(){return r}};function Bh(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Dn(n,t))===r})}var CG=function(t,r){return Le(t)&&Le(r)?t-r:bs(t)&&bs(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Pl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function h0(e){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h0(e)}var LG=["viewBox","children"],MG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uw=["points","pathLength"],dv={svg:LG,polygon:uw,polyline:uw},Db=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qh=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(q.isValidElement(t)&&(n=t.props),!mc(n))return null;var a={};return Object.keys(n).forEach(function(i){Db.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},$G=function(t,r,n){return function(a){return t(r,n,a),null}},xs=function(t,r,n){if(!mc(t)||h0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];Db.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=$G(o,r,n))}),a},DG=["children"],IG=["children"];function dw(e,t){if(e==null)return{};var r=RG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p0(e){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p0(e)}var fw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ti=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},hw=null,fv=null,Ib=function e(t){if(t===hw&&Array.isArray(fv))return fv;var r=[];return q.Children.forEach(t,function(n){ft(n)||(wG.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),fv=r,hw=t,r};function ea(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ti(a)}):n=[Ti(t)],Ib(e).forEach(function(a){var i=Dn(a,"type.displayName")||Dn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Cn(e,t){var r=ea(e,t);return r&&r[0]}var pw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Le(n)||n<=0||!Le(a)||a<=0)},FG=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],BG=function(t){return t&&t.type&&bs(t.type)&&FG.indexOf(t.type)>=0},qG=function(t){return t&&p0(t)==="object"&&"clipDot"in t},zG=function(t,r,n,a){var i,o=(i=dv==null?void 0:dv[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!nt(t)&&(a&&o.includes(r)||MG.includes(r))||n&&Db.includes(r)},Xe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(q.isValidElement(t)&&(a=t.props),!mc(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;zG((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},m0=function e(t,r){if(t===r)return!0;var n=q.Children.count(t);if(n!==q.Children.count(r))return!1;if(n===0)return!0;if(n===1)return mw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!mw(i,o))return!1}return!0},mw=function(t,r){if(ft(t)&&ft(r))return!0;if(!ft(t)&&!ft(r)){var n=t.props||{},a=n.children,i=dw(n,DG),o=r.props||{},s=o.children,c=dw(o,IG);return a&&s?Pl(i,c)&&m0(a,s):!a&&!s?Pl(i,c):!1}return!1},gw=function(t,r){var n=[],a={};return Ib(t).forEach(function(i,o){if(BG(i))n.push(i);else if(i){var s=Ti(i.type),c=r[s]||{},u=c.handler,d=c.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},UG=function(t){var r=t&&t.type;return r&&fw[r]?fw[r]:null},WG=function(t,r){return Ib(r).indexOf(t)},HG=["children","width","height","viewBox","className","style","title","desc"];function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(this,arguments)}function GG(e,t){if(e==null)return{};var r=VG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,c=e.desc,u=GG(e,HG),d=a||{width:r,height:n,x:0,y:0},f=pt("recharts-surface",i);return B.createElement("svg",g0({},Xe(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,s),B.createElement("desc",null,c),t)}var YG=["children","className"];function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y0.apply(this,arguments)}function KG(e,t){if(e==null)return{};var r=XG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nt=B.forwardRef(function(e,t){var r=e.children,n=e.className,a=KG(e,YG),i=pt("recharts-layer",n);return B.createElement("g",y0({className:i},Xe(a,!0),{ref:t}),r)}),ka=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},JG=Vy;function ZG(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:JG(e,t,r)}var QG=ZG,eV="\\ud800-\\udfff",tV="\\u0300-\\u036f",rV="\\ufe20-\\ufe2f",nV="\\u20d0-\\u20ff",aV=tV+rV+nV,iV="\\ufe0e\\ufe0f",oV="\\u200d",sV=RegExp("["+oV+eV+aV+iV+"]");function lV(e){return sV.test(e)}var vA=lV;function cV(e){return e.split("")}var uV=cV,yA="\\ud800-\\udfff",dV="\\u0300-\\u036f",fV="\\ufe20-\\ufe2f",hV="\\u20d0-\\u20ff",pV=dV+fV+hV,mV="\\ufe0e\\ufe0f",gV="["+yA+"]",b0="["+pV+"]",x0="\\ud83c[\\udffb-\\udfff]",vV="(?:"+b0+"|"+x0+")",bA="[^"+yA+"]",xA="(?:\\ud83c[\\udde6-\\uddff]){2}",wA="[\\ud800-\\udbff][\\udc00-\\udfff]",yV="\\u200d",jA=vV+"?",NA="["+mV+"]?",bV="(?:"+yV+"(?:"+[bA,xA,wA].join("|")+")"+NA+jA+")*",xV=NA+jA+bV,wV="(?:"+[bA+b0+"?",b0,xA,wA,gV].join("|")+")",jV=RegExp(x0+"(?="+x0+")|"+wV+xV,"g");function NV(e){return e.match(jV)||[]}var SV=NV,_V=uV,AV=vA,OV=SV;function PV(e){return AV(e)?OV(e):_V(e)}var EV=PV,kV=QG,TV=vA,CV=EV,LV=w_;function MV(e){return function(t){t=LV(t);var r=TV(t)?CV(t):void 0,n=r?r[0]:t.charAt(0),a=r?kV(r,1).join(""):t.slice(1);return n[e]()+a}}var $V=MV,DV=$V,IV=DV("toUpperCase"),RV=IV;const wm=wt(RV);function Gt(e){return function(){return e}}const SA=Math.cos,zh=Math.sin,Ia=Math.sqrt,Uh=Math.PI,jm=2*Uh,w0=Math.PI,j0=2*w0,Go=1e-6,FV=j0-Go;function _A(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function BV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _A;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class qV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_A:BV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,u=a-r,d=o-t,f=s-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Go)if(!(Math.abs(f*c-u*d)>Go)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=a-s,g=c*c+u*u,j=h*h+v*v,y=Math.sqrt(g),x=Math.sqrt(p),N=i*Math.tan((w0-Math.acos((g+p-j)/(2*y*x)))/2),_=N/x,w=N/y;Math.abs(_-1)>Go&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*v)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),u=t+s,d=r+c,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Go||Math.abs(this._y1-d)>Go)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%j0+j0),p>FV?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Go&&this._append`A${n},${n},0,${+(p>=w0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Rb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qV(t)}function Fb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AA(e){this._context=e}AA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nm(e){return new AA(e)}function OA(e){return e[0]}function PA(e){return e[1]}function EA(e,t){var r=Gt(!0),n=null,a=Nm,i=null,o=Rb(s);e=typeof e=="function"?e:e===void 0?OA:Gt(e),t=typeof t=="function"?t:t===void 0?PA:Gt(t);function s(c){var u,d=(c=Fb(c)).length,f,p=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,c),+t(f,u,c));if(h)return i=null,h+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gt(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gt(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Gt(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function eh(e,t,r){var n=null,a=Gt(!0),i=null,o=Nm,s=null,c=Rb(u);e=typeof e=="function"?e:e===void 0?OA:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?PA:Gt(+r);function u(f){var p,h,v,g=(f=Fb(f)).length,j,y=!1,x,N=new Array(g),_=new Array(g);for(i==null&&(s=o(x=c())),p=0;p<=g;++p){if(!(p<g&&a(j=f[p],p,f))===y)if(y=!y)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=h;--v)s.point(N[v],_[v]);s.lineEnd(),s.areaEnd()}y&&(N[p]=+e(j,p,f),_[p]=+t(j,p,f),s.point(n?+n(j,p,f):N[p],r?+r(j,p,f):_[p]))}if(x)return s=null,x+""||null}function d(){return EA().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Gt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class kA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function zV(e){return new kA(e,!0)}function UV(e){return new kA(e,!1)}const Bb={draw(e,t){const r=Ia(t/Uh);e.moveTo(r,0),e.arc(0,0,r,0,jm)}},WV={draw(e,t){const r=Ia(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},TA=Ia(1/3),HV=TA*2,GV={draw(e,t){const r=Ia(t/HV),n=r*TA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VV={draw(e,t){const r=Ia(t),n=-r/2;e.rect(n,n,r,r)}},YV=.8908130915292852,CA=zh(Uh/10)/zh(7*Uh/10),KV=zh(jm/10)*CA,XV=-SA(jm/10)*CA,JV={draw(e,t){const r=Ia(t*YV),n=KV*r,a=XV*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=jm*i/5,s=SA(o),c=zh(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},hv=Ia(3),ZV={draw(e,t){const r=-Ia(t/(hv*3));e.moveTo(0,r*2),e.lineTo(-hv*r,-r),e.lineTo(hv*r,-r),e.closePath()}},Gn=-.5,Vn=Ia(3)/2,N0=1/Ia(12),QV=(N0/2+1)*3,eY={draw(e,t){const r=Ia(t/QV),n=r/2,a=r*N0,i=n,o=r*N0+r,s=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,c),e.lineTo(Gn*n-Vn*a,Vn*n+Gn*a),e.lineTo(Gn*i-Vn*o,Vn*i+Gn*o),e.lineTo(Gn*s-Vn*c,Vn*s+Gn*c),e.lineTo(Gn*n+Vn*a,Gn*a-Vn*n),e.lineTo(Gn*i+Vn*o,Gn*o-Vn*i),e.lineTo(Gn*s+Vn*c,Gn*c-Vn*s),e.closePath()}};function tY(e,t){let r=null,n=Rb(a);e=typeof e=="function"?e:Gt(e||Bb),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Wh(){}function Hh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function LA(e){this._context=e}LA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rY(e){return new LA(e)}function MA(e){this._context=e}MA.prototype={areaStart:Wh,areaEnd:Wh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nY(e){return new MA(e)}function $A(e){this._context=e}$A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aY(e){return new $A(e)}function DA(e){this._context=e}DA.prototype={areaStart:Wh,areaEnd:Wh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iY(e){return new DA(e)}function vw(e){return e<0?-1:1}function yw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(vw(i)+vw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function bw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function pv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Gh(e){this._context=e}Gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pv(this,this._t0,bw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pv(this,bw(this,r=yw(this,e,t)),r);break;default:pv(this,this._t0,r=yw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function IA(e){this._context=new RA(e)}(IA.prototype=Object.create(Gh.prototype)).point=function(e,t){Gh.prototype.point.call(this,t,e)};function RA(e){this._context=e}RA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function oY(e){return new Gh(e)}function sY(e){return new IA(e)}function FA(e){this._context=e}FA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=xw(e),a=xw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function lY(e){return new FA(e)}function Sm(e,t){this._context=e,this._t=t}Sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cY(e){return new Sm(e,.5)}function uY(e){return new Sm(e,0)}function dY(e){return new Sm(e,1)}function Fl(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function S0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fY(e,t){return e[t]}function hY(e){const t=[];return t.key=e,t}function pY(){var e=Gt([]),t=S0,r=Fl,n=fY;function a(i){var o=Array.from(e.apply(this,arguments),hY),s,c=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=Fb(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Gt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?S0:typeof i=="function"?i:Gt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Fl,a):r},a}function mY(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Fl(e,t)}}function gY(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Fl(e,t)}}function vY(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,v=0;v<s;++v){var g=e[t[v]],j=g[n][1]||0,y=g[n-1][1]||0;h+=j-y}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Fl(e,t)}}function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}var yY=["type","size","sizeType"];function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_0.apply(this,arguments)}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){bY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bY(e,t,r){return t=xY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xY(e){var t=wY(e,"string");return nd(t)=="symbol"?t:t+""}function wY(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jY(e,t){if(e==null)return{};var r=NY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BA={symbolCircle:Bb,symbolCross:WV,symbolDiamond:GV,symbolSquare:VV,symbolStar:JV,symbolTriangle:ZV,symbolWye:eY},SY=Math.PI/180,_Y=function(t){var r="symbol".concat(wm(t));return BA[r]||Bb},AY=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*SY;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},OY=function(t,r){BA["symbol".concat(wm(t))]=r},qb=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,c=jY(t,yY),u=jw(jw({},c),{},{type:n,size:i,sizeType:s}),d=function(){var j=_Y(n),y=tY().type(j).size(AY(i,s,n));return y()},f=u.className,p=u.cx,h=u.cy,v=Xe(u,!0);return p===+p&&h===+h&&i===+i?B.createElement("path",_0({},v,{className:pt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};qb.registerSymbol=OY;function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A0.apply(this,arguments)}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){ad(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zA(n.key),n)}}function TY(e,t,r){return t&&kY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CY(e,t,r){return t=Vh(t),LY(e,qA()?Reflect.construct(t,r||[],Vh(e).constructor):t.apply(e,r))}function LY(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MY(e)}function MY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qA=function(){return!!e})()}function Vh(e){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vh(e)}function $Y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O0(e,t)}function O0(e,t){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O0(e,t)}function ad(e,t,r){return t=zA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zA(e){var t=DY(e,"string");return Bl(t)=="symbol"?t:t+""}function DY(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yn=32,zb=function(e){function t(){return EY(this,t),CY(this,t,arguments)}return $Y(t,e),TY(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Yn/2,o=Yn/6,s=Yn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Yn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Yn,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return B.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-Yn,"z"),className:"recharts-legend-icon"});if(B.isValidElement(n.legendIcon)){var u=PY({},n);return delete u.legendIcon,B.cloneElement(n.legendIcon,u)}return B.createElement(qb,{fill:c,cx:i,cy:i,size:Yn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Yn,height:Yn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,v){var g=h.formatter||c,j=pt(ad(ad({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=nt(h.value)?null:h.value;ka(!nt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=h.inactive?u:h.color;return B.createElement("li",A0({className:j,style:f,key:"legend-item-".concat(v)},xs(n.props,h,v)),B.createElement(v0,{width:o,height:o,viewBox:d,style:p},n.renderIcon(h)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(y,h,v):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(q.PureComponent);ad(zb,"displayName","Legend");ad(zb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function IY(e){return e!==e}var RY=IY;function FY(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var BY=FY,qY=m_,zY=RY,UY=BY;function WY(e,t,r){return t===t?UY(e,t,r):qY(e,zY,r)}var HY=WY,GY=HY;function VY(e,t){var r=e==null?0:e.length;return!!r&&GY(e,t,0)>-1}var YY=VY;function KY(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var XY=KY;function JY(){}var ZY=JY,mv=d_,QY=ZY,eK=db,tK=1/0,rK=mv&&1/eK(new mv([,-0]))[1]==tK?function(e){return new mv(e)}:QY,nK=rK,aK=e_,iK=YY,oK=XY,sK=r_,lK=nK,cK=db,uK=200;function dK(e,t,r){var n=-1,a=iK,i=e.length,o=!0,s=[],c=s;if(r)o=!1,a=oK;else if(i>=uK){var u=t?null:lK(e);if(u)return cK(u);o=!1,a=sK,c=new aK}else c=t?[]:s;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),s.push(d)}else a(c,f,r)||(c!==s&&c.push(f),s.push(d))}return s}var fK=dK,hK=Da,pK=fK;function mK(e,t){return e&&e.length?pK(e,hK(t)):[]}var gK=mK;const Sw=wt(gK);function UA(e,t,r){return t===!0?Sw(e,r):nt(t)?Sw(e,t):e}function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}var vK=["ref"];function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){_m(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HA(n.key),n)}}function bK(e,t,r){return t&&Aw(e.prototype,t),r&&Aw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xK(e,t,r){return t=Yh(t),wK(e,WA()?Reflect.construct(t,r||[],Yh(e).constructor):t.apply(e,r))}function wK(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jK(e)}function jK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WA=function(){return!!e})()}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yh(e)}function NK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P0(e,t)}function P0(e,t){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P0(e,t)}function _m(e,t,r){return t=HA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HA(e){var t=SK(e,"string");return ql(t)=="symbol"?t:t+""}function SK(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _K(e,t){if(e==null)return{};var r=AK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OK(e){return e.value}function PK(e,t){if(B.isValidElement(e))return B.cloneElement(e,t);if(typeof e=="function")return B.createElement(e,t);t.ref;var r=_K(t,vK);return B.createElement(zb,r)}var Ow=1,os=function(e){function t(){var r;yK(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=xK(this,t,[].concat(a)),_m(r,"lastBoundingBox",{width:-1,height:-1}),r}return NK(t,e),bK(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Ow||Math.abs(a.height-this.lastBoundingBox.height)>Ow)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ai({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((d||0)-v.height)/2}}else p=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ai(Ai({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ai(Ai({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},PK(i,Ai(Ai({},this.props),{},{payload:UA(d,u,OK)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ai(Ai({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Le(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(q.PureComponent);_m(os,"displayName","Legend");_m(os,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(this,arguments)}function EK(e,t){return LK(e)||CK(e,t)||TK(e,t)||kK()}function kK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TK(e,t){if(e){if(typeof e=="string")return Pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(e,t)}}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function LK(e){if(Array.isArray(e))return e}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){MK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MK(e,t,r){return t=$K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=DK(e,"string");return id(t)=="symbol"?t:t+""}function DK(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IK(e){return Array.isArray(e)&&Or(e[0])&&Or(e[1])?e.join(" ~ "):e}var RK=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,v=t.labelClassName,g=t.label,j=t.labelFormatter,y=t.accessibilityLayer,x=y===void 0?!1:y,N=function(){if(d&&d.length){var C={padding:0,margin:0},D=(p?rm(d,p):d).map(function(I,H){if(I.type==="none")return null;var V=gv({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),X=I.formatter||f||IK,J=I.value,Y=I.name,Z=J,ae=Y;if(X&&Z!=null&&ae!=null){var M=X(J,Y,I,H,d);if(Array.isArray(M)){var U=EK(M,2);Z=U[0],ae=U[1]}else Z=M}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:V},Or(ae)?B.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Or(ae)?B.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,B.createElement("span",{className:"recharts-tooltip-item-value"},Z),B.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:C},D)}return null},_=gv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=gv({margin:0},u),A=!ft(g),O=A?g:"",E=pt("recharts-default-tooltip",h),T=pt("recharts-tooltip-label",v);A&&j&&d!==void 0&&d!==null&&(O=j(g,d));var $=x?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",E0({className:E,style:_},$),B.createElement("p",{className:T,style:w},B.isValidElement(O)?O:"".concat(O)),N())};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function th(e,t,r){return t=FK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=BK(e,"string");return od(t)=="symbol"?t:t+""}function BK(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vu="recharts-tooltip-wrapper",qK={visibility:"hidden"};function zK(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return pt(vu,th(th(th(th({},"".concat(vu,"-right"),Le(r)&&t&&Le(t.x)&&r>=t.x),"".concat(vu,"-left"),Le(r)&&t&&Le(t.x)&&r<t.x),"".concat(vu,"-bottom"),Le(n)&&t&&Le(t.y)&&n>=t.y),"".concat(vu,"-top"),Le(n)&&t&&Le(t.y)&&n<t.y))}function kw(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Le(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var p=d,h=c[n];return p<h?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+s,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(f,c[n])}function UK(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function WK(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=kw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=kw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=UK({translateX:d,translateY:f,useTranslate3d:s})):u=qK,{cssProperties:u,cssClasses:zK({translateX:d,translateY:f,coordinate:r})}}function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){T0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VA(n.key),n)}}function VK(e,t,r){return t&&GK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YK(e,t,r){return t=Kh(t),KK(e,GA()?Reflect.construct(t,r||[],Kh(e).constructor):t.apply(e,r))}function KK(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XK(e)}function XK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GA=function(){return!!e})()}function Kh(e){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kh(e)}function JK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k0(e,t)}function k0(e,t){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k0(e,t)}function T0(e,t,r){return t=VA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VA(e){var t=ZK(e,"string");return zl(t)=="symbol"?t:t+""}function ZK(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lw=1,QK=function(e){function t(){var r;HK(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=YK(this,t,[].concat(a)),T0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),T0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return JK(t,e),VK(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Lw||Math.abs(n.height-this.state.lastBoundingBox.height)>Lw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,v=a.position,g=a.reverseDirection,j=a.useTranslate3d,y=a.viewBox,x=a.wrapperStyle,N=WK({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:y}),_=N.cssClasses,w=N.cssProperties,A=Cw(Cw({transition:p&&i?"transform ".concat(s,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return B.createElement("div",{tabIndex:-1,className:_,style:A,ref:function(E){n.wrapperNode=E}},u)}}])}(q.PureComponent),eX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Os={isSsr:eX()};function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){Ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KA(n.key),n)}}function nX(e,t,r){return t&&rX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aX(e,t,r){return t=Xh(t),iX(e,YA()?Reflect.construct(t,r||[],Xh(e).constructor):t.apply(e,r))}function iX(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oX(e)}function oX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YA=function(){return!!e})()}function Xh(e){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xh(e)}function sX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C0(e,t)}function C0(e,t){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C0(e,t)}function Ub(e,t,r){return t=KA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KA(e){var t=lX(e,"string");return Ul(t)=="symbol"?t:t+""}function lX(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cX(e){return e.dataKey}function uX(e,t){return B.isValidElement(e)?B.cloneElement(e,t):typeof e=="function"?B.createElement(e,t):B.createElement(RK,t)}var Na=function(e){function t(){return tX(this,t),aX(this,t,arguments)}return sX(t,e),nX(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,v=a.payload,g=a.payloadUniqBy,j=a.position,y=a.reverseDirection,x=a.useTranslate3d,N=a.viewBox,_=a.wrapperStyle,w=v??[];f&&w.length&&(w=UA(v.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),g,cX));var A=w.length>0;return B.createElement(QK,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:A,offset:h,position:j,reverseDirection:y,useTranslate3d:x,viewBox:N,wrapperStyle:_},uX(u,$w($w({},this.props),{},{payload:w})))}}])}(q.PureComponent);Ub(Na,"displayName","Tooltip");Ub(Na,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Os.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dX=Ma,fX=function(){return dX.Date.now()},hX=fX,pX=aa,vv=hX,Dw=IS,mX="Expected a function",gX=Math.max,vX=Math.min;function yX(e,t,r){var n,a,i,o,s,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(mX);t=Dw(t)||0,pX(r)&&(d=!!r.leading,f="maxWait"in r,i=f?gX(Dw(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function h(A){var O=n,E=a;return n=a=void 0,u=A,o=e.apply(E,O),o}function v(A){return u=A,s=setTimeout(y,t),d?h(A):o}function g(A){var O=A-c,E=A-u,T=t-O;return f?vX(T,i-E):T}function j(A){var O=A-c,E=A-u;return c===void 0||O>=t||O<0||f&&E>=i}function y(){var A=vv();if(j(A))return x(A);s=setTimeout(y,g(A))}function x(A){return s=void 0,p&&n?h(A):(n=a=void 0,o)}function N(){s!==void 0&&clearTimeout(s),u=0,n=c=a=s=void 0}function _(){return s===void 0?o:x(vv())}function w(){var A=vv(),O=j(A);if(n=arguments,a=this,c=A,O){if(s===void 0)return v(c);if(f)return clearTimeout(s),s=setTimeout(y,t),h(c)}return s===void 0&&(s=setTimeout(y,t)),o}return w.cancel=N,w.flush=_,w}var bX=yX,xX=bX,wX=aa,jX="Expected a function";function NX(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(jX);return wX(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),xX(e,t,{leading:n,maxWait:t,trailing:a})}var SX=NX;const XA=wt(SX);function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return t=AX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AX(e){var t=OX(e,"string");return sd(t)=="symbol"?t:t+""}function OX(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PX(e,t){return CX(e)||TX(e,t)||kX(e,t)||EX()}function EX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kX(e,t){if(e){if(typeof e=="string")return Rw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rw(e,t)}}function Rw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function CX(e){if(Array.isArray(e))return e}var Fw=q.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,c=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,h=e.children,v=e.debounce,g=v===void 0?0:v,j=e.id,y=e.className,x=e.onResize,N=e.style,_=N===void 0?{}:N,w=q.useRef(null),A=q.useRef();A.current=x,q.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var O=q.useState({containerWidth:a.width,containerHeight:a.height}),E=PX(O,2),T=E[0],$=E[1],k=q.useCallback(function(D,I){$(function(H){var V=Math.round(D),X=Math.round(I);return H.containerWidth===V&&H.containerHeight===X?H:{containerWidth:V,containerHeight:X}})},[]);q.useEffect(function(){var D=function(Y){var Z,ae=Y[0].contentRect,M=ae.width,U=ae.height;k(M,U),(Z=A.current)===null||Z===void 0||Z.call(A,M,U)};g>0&&(D=XA(D,g,{trailing:!0,leading:!1}));var I=new ResizeObserver(D),H=w.current.getBoundingClientRect(),V=H.width,X=H.height;return k(V,X),I.observe(w.current),function(){I.disconnect()}},[k,g]);var C=q.useMemo(function(){var D=T.containerWidth,I=T.containerHeight;if(D<0||I<0)return null;ka(Zo(o)||Zo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ka(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=Zo(o)?D:o,V=Zo(c)?I:c;r&&r>0&&(H?V=H/r:V&&(H=V*r),p&&V>p&&(V=p)),ka(H>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,V,o,c,d,f,r);var X=!Array.isArray(h)&&Ti(h.type).endsWith("Chart");return B.Children.map(h,function(J){return B.isValidElement(J)?q.cloneElement(J,rh({width:H,height:V},X?{style:rh({height:"100%",width:"100%",maxHeight:V,maxWidth:H},J.props.style)}:{})):J})},[r,h,c,p,f,d,T,o]);return B.createElement("div",{id:j?"".concat(j):void 0,className:pt("recharts-responsive-container",y),style:rh(rh({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:w},C)}),Am=function(t){return null};Am.displayName="Cell";function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){LX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LX(e,t,r){return t=MX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=$X(e,"string");return ld(t)=="symbol"?t:t+""}function $X(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dl={widthCache:{},cacheCount:0},DX=2e3,IX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qw="recharts_measurement_span";function RX(e){var t=L0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Cu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Os.isSsr)return{width:0,height:0};var n=RX(r),a=JSON.stringify({text:t,copyStyle:n});if(dl.widthCache[a])return dl.widthCache[a];try{var i=document.getElementById(qw);i||(i=document.createElement("span"),i.setAttribute("id",qw),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=L0(L0({},IX),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),c={width:s.width,height:s.height};return dl.widthCache[a]=c,++dl.cacheCount>DX&&(dl.cacheCount=0,dl.widthCache={}),c}catch{return{width:0,height:0}}},FX=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function Jh(e,t){return UX(e)||zX(e,t)||qX(e,t)||BX()}function BX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qX(e,t){if(e){if(typeof e=="string")return zw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zw(e,t)}}function zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function UX(e){if(Array.isArray(e))return e}function WX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GX(n.key),n)}}function HX(e,t,r){return t&&Uw(e.prototype,t),r&&Uw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GX(e){var t=VX(e,"string");return cd(t)=="symbol"?t:t+""}function VX(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ww=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XX=Object.keys(JA),yl="NaN";function JX(e,t){return e*JA[t]}var nh=function(){function e(t,r){WX(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!YX.test(r)&&(this.num=NaN,this.unit=""),XX.includes(r)&&(this.num=JX(t,r),this.unit="px")}return HX(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=KX.exec(r))!==null&&n!==void 0?n:[],i=Jh(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function ZA(e){if(e.includes(yl))return yl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Ww.exec(t))!==null&&r!==void 0?r:[],a=Jh(n,4),i=a[1],o=a[2],s=a[3],c=nh.parse(i??""),u=nh.parse(s??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return yl;t=t.replace(Ww,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=Hw.exec(t))!==null&&f!==void 0?f:[],h=Jh(p,4),v=h[1],g=h[2],j=h[3],y=nh.parse(v??""),x=nh.parse(j??""),N=g==="+"?y.add(x):y.subtract(x);if(N.isNaN())return yl;t=t.replace(Hw,N.toString())}return t}var Gw=/\(([^()]*)\)/;function ZX(e){for(var t=e;t.includes("(");){var r=Gw.exec(t),n=Jh(r,2),a=n[1];t=t.replace(Gw,ZA(a))}return t}function QX(e){var t=e.replace(/\s+/g,"");return t=ZX(t),t=ZA(t),t}function eJ(e){try{return QX(e)}catch{return yl}}function yv(e){var t=eJ(e.slice(5,-1));return t===yl?"":t}var tJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rJ=["dx","dy","angle","className","breakAll"];function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function Vw(e,t){if(e==null)return{};var r=nJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yw(e,t){return sJ(e)||oJ(e,t)||iJ(e,t)||aJ()}function aJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iJ(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function sJ(e){if(Array.isArray(e))return e}var QA=/[ \f\n\r\t\v\u2028\u2029]+/,e3=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ft(r)||(n?i=r.toString().split(""):i=r.toString().split(QA));var o=i.map(function(c){return{word:c,width:Cu(c,a).width}}),s=n?0:Cu("Â ",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},lJ=function(t,r,n,a,i){var o=t.maxLines,s=t.children,c=t.style,u=t.breakAll,d=Le(o),f=s,p=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(V,X){var J=X.word,Y=X.width,Z=V[V.length-1];if(Z&&(a==null||i||Z.width+Y+n<Number(a)))Z.words.push(J),Z.width+=Y+n;else{var ae={words:[J],width:Y};V.push(ae)}return V},[])},h=p(r),v=function(H){return H.reduce(function(V,X){return V.width>X.width?V:X})};if(!d)return h;for(var g="â€¦",j=function(H){var V=f.slice(0,H),X=e3({breakAll:u,style:c,children:V+g}).wordsWithComputedWidth,J=p(X),Y=J.length>o||v(J).width>Number(a);return[Y,J]},y=0,x=f.length-1,N=0,_;y<=x&&N<=f.length-1;){var w=Math.floor((y+x)/2),A=w-1,O=j(A),E=Yw(O,2),T=E[0],$=E[1],k=j(w),C=Yw(k,1),D=C[0];if(!T&&!D&&(y=w+1),T&&D&&(x=w-1),!T&&D){_=$;break}N++}return _||h},Xw=function(t){var r=ft(t)?[]:t.toString().split(QA);return[{words:r}]},cJ=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Os.isSsr){var c,u,d=e3({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return Xw(a);return lJ({breakAll:o,children:a,maxLines:s,style:i},c,u,r,n)}return Xw(a)},Jw="#808080",ws=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,p=t.textAnchor,h=p===void 0?"start":p,v=t.verticalAnchor,g=v===void 0?"end":v,j=t.fill,y=j===void 0?Jw:j,x=Vw(t,tJ),N=q.useMemo(function(){return cJ({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,w=x.dy,A=x.angle,O=x.className,E=x.breakAll,T=Vw(x,rJ);if(!Or(n)||!Or(i))return null;var $=n+(Le(_)?_:0),k=i+(Le(w)?w:0),C;switch(g){case"start":C=yv("calc(".concat(u,")"));break;case"middle":C=yv("calc(".concat((N.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:C=yv("calc(".concat(N.length-1," * -").concat(s,")"));break}var D=[];if(f){var I=N[0].width,H=x.width;D.push("scale(".concat((Le(H)?H/I:1)/I,")"))}return A&&D.push("rotate(".concat(A,", ").concat($,", ").concat(k,")")),D.length&&(T.transform=D.join(" ")),B.createElement("text",M0({},Xe(T,!0),{x:$,y:k,className:pt("recharts-text",O),textAnchor:h,fill:y.includes("url")?Jw:y}),N.map(function(V,X){var J=V.words.join(E?"":" ");return B.createElement("tspan",{x:$,dy:X===0?C:s,key:"".concat(J,"-").concat(X)},J)}))};function uo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wb(e){let t,r,n;e.length!==2?(t=uo,r=(s,c)=>uo(e(s),c),n=(s,c)=>e(s)-c):(t=e===uo||e===uJ?e:dJ,r=e,n=e);function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=a(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:a,center:o,right:i}}function dJ(){return 0}function t3(e){return e===null?NaN:+e}function*fJ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const hJ=Wb(uo),Yd=hJ.right;Wb(t3).center;class Zw extends Map{constructor(t,r=gJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Qw(this,t))}has(t){return super.has(Qw(this,t))}set(t,r){return super.set(pJ(this,t),r)}delete(t){return super.delete(mJ(this,t))}}function Qw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function pJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function mJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function gJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vJ(e=uo){if(e===uo)return r3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function r3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const yJ=Math.sqrt(50),bJ=Math.sqrt(10),xJ=Math.sqrt(2);function Zh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=yJ?10:i>=bJ?5:i>=xJ?2:1;let s,c,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?Zh(e,t,r*2):[s,c,u]}function $0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Zh(t,e,r):Zh(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(i-u)/-o;else for(let u=0;u<s;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(a+u)/-o;else for(let u=0;u<s;++u)c[u]=(a+u)*o;return c}function D0(e,t,r){return t=+t,e=+e,r=+r,Zh(e,t,r)[2]}function I0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?D0(t,e,r):D0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function e5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function t5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function n3(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?r3:vJ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+p)),v=Math.min(n,Math.floor(t+(c-u)*f/c+p));n3(e,t,h,v,a)}const i=e[t];let o=r,s=n;for(yu(e,r,t),a(e[n],i)>0&&yu(e,r,n);o<s;){for(yu(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?yu(e,r,s):(++s,yu(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function yu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function wJ(e,t,r){if(e=Float64Array.from(fJ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return t5(e);if(t>=1)return e5(e);var n,a=(n-1)*t,i=Math.floor(a),o=e5(n3(e,i).subarray(0,i+1)),s=t5(e.subarray(i+1));return o+(s-o)*(a-i)}}function jJ(e,t,r=t3){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function NJ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function sa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const R0=Symbol("implicit");function Hb(){var e=new Zw,t=[],r=[],n=R0;function a(i){let o=e.get(i);if(o===void 0){if(n!==R0)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Zw;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Hb(t,r).unknown(n)},sa.apply(a,arguments),a}function ud(){var e=Hb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,h=a<n,v=h?a:n,g=h?n:a;i=(g-v)/Math.max(1,p-c+u*2),s&&(i=Math.floor(i)),v+=(g-v-i*(p-c))*d,o=i*(1-c),s&&(v=Math.round(v),o=Math.round(o));var j=NJ(p).map(function(y){return v+i*y});return r(h?j.reverse():j)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return ud(t(),[n,a]).round(s).paddingInner(c).paddingOuter(u).align(d)},sa.apply(f(),arguments)}function a3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a3(t())},e}function Lu(){return a3(ud.apply(null,arguments).paddingInner(1))}function Gb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function i3(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Kd(){}var dd=.7,Qh=1/dd,El="\\s*([+-]?\\d+)\\s*",fd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SJ=/^#([0-9a-f]{3,8})$/,_J=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),AJ=new RegExp(`^rgb\\(${ii},${ii},${ii}\\)$`),OJ=new RegExp(`^rgba\\(${El},${El},${El},${fd}\\)$`),PJ=new RegExp(`^rgba\\(${ii},${ii},${ii},${fd}\\)$`),EJ=new RegExp(`^hsl\\(${fd},${ii},${ii}\\)$`),kJ=new RegExp(`^hsla\\(${fd},${ii},${ii},${fd}\\)$`),r5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gb(Kd,hd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:n5,formatHex:n5,formatHex8:TJ,formatHsl:CJ,formatRgb:a5,toString:a5});function n5(){return this.rgb().formatHex()}function TJ(){return this.rgb().formatHex8()}function CJ(){return o3(this).formatHsl()}function a5(){return this.rgb().formatRgb()}function hd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=SJ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?i5(t):r===3?new wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ah(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ah(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_J.exec(e))?new wn(t[1],t[2],t[3],1):(t=AJ.exec(e))?new wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OJ.exec(e))?ah(t[1],t[2],t[3],t[4]):(t=PJ.exec(e))?ah(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EJ.exec(e))?l5(t[1],t[2]/100,t[3]/100,1):(t=kJ.exec(e))?l5(t[1],t[2]/100,t[3]/100,t[4]):r5.hasOwnProperty(e)?i5(r5[e]):e==="transparent"?new wn(NaN,NaN,NaN,0):null}function i5(e){return new wn(e>>16&255,e>>8&255,e&255,1)}function ah(e,t,r,n){return n<=0&&(e=t=r=NaN),new wn(e,t,r,n)}function LJ(e){return e instanceof Kd||(e=hd(e)),e?(e=e.rgb(),new wn(e.r,e.g,e.b,e.opacity)):new wn}function F0(e,t,r,n){return arguments.length===1?LJ(e):new wn(e,t,r,n??1)}function wn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Gb(wn,F0,i3(Kd,{brighter(e){return e=e==null?Qh:Math.pow(Qh,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dd:Math.pow(dd,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wn(ss(this.r),ss(this.g),ss(this.b),ep(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o5,formatHex:o5,formatHex8:MJ,formatRgb:s5,toString:s5}));function o5(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function MJ(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function s5(){const e=ep(this.opacity);return`${e===1?"rgb(":"rgba("}${ss(this.r)}, ${ss(this.g)}, ${ss(this.b)}${e===1?")":`, ${e})`}`}function ep(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ss(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qo(e){return e=ss(e),(e<16?"0":"")+e.toString(16)}function l5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Oa(e,t,r,n)}function o3(e){if(e instanceof Oa)return new Oa(e.h,e.s,e.l,e.opacity);if(e instanceof Kd||(e=hd(e)),!e)return new Oa;if(e instanceof Oa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new Oa(o,s,c,e.opacity)}function $J(e,t,r,n){return arguments.length===1?o3(e):new Oa(e,t,r,n??1)}function Oa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Gb(Oa,$J,i3(Kd,{brighter(e){return e=e==null?Qh:Math.pow(Qh,e),new Oa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dd:Math.pow(dd,e),new Oa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new wn(bv(e>=240?e-240:e+120,a,n),bv(e,a,n),bv(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Oa(c5(this.h),ih(this.s),ih(this.l),ep(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ep(this.opacity);return`${e===1?"hsl(":"hsla("}${c5(this.h)}, ${ih(this.s)*100}%, ${ih(this.l)*100}%${e===1?")":`, ${e})`}`}}));function c5(e){return e=(e||0)%360,e<0?e+360:e}function ih(e){return Math.max(0,Math.min(1,e||0))}function bv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Vb=e=>()=>e;function DJ(e,t){return function(r){return e+r*t}}function IJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function RJ(e){return(e=+e)==1?s3:function(t,r){return r-t?IJ(t,r,e):Vb(isNaN(t)?r:t)}}function s3(e,t){var r=t-e;return r?DJ(e,r):Vb(isNaN(e)?t:e)}const u5=function e(t){var r=RJ(t);function n(a,i){var o=r((a=F0(a)).r,(i=F0(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),u=s3(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function FJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function BJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qJ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Ec(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function zJ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function tp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function UJ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ec(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var B0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xv=new RegExp(B0.source,"g");function WJ(e){return function(){return e}}function HJ(e){return function(t){return e(t)+""}}function GJ(e,t){var r=B0.lastIndex=xv.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=B0.exec(e))&&(a=xv.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:tp(n,a)})),r=xv.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?HJ(c[0].x):WJ(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function Ec(e,t){var r=typeof t,n;return t==null||r==="boolean"?Vb(t):(r==="number"?tp:r==="string"?(n=hd(t))?(t=n,u5):GJ:t instanceof hd?u5:t instanceof Date?zJ:BJ(t)?FJ:Array.isArray(t)?qJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UJ:tp)(e,t)}function Yb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function VJ(e,t){t===void 0&&(t=e,e=Ec);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function YJ(e){return function(){return e}}function rp(e){return+e}var d5=[0,1];function fn(e){return e}function q0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:YJ(isNaN(t)?NaN:.5)}function KJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function XJ(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=q0(a,n),i=r(o,i)):(n=q0(n,a),i=r(i,o)),function(s){return i(n(s))}}function JJ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=q0(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=Yd(e,s,1,n)-1;return i[c](a[c](s))}}function Xd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Om(){var e=d5,t=d5,r=Ec,n,a,i,o=fn,s,c,u;function d(){var p=Math.min(e.length,t.length);return o!==fn&&(o=KJ(e[0],e[p-1])),s=p>2?JJ:XJ,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=s(e.map(n),t,r)))(n(o(p)))}return f.invert=function(p){return o(a((u||(u=s(t,e.map(n),tp)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,rp),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=Yb,d()},f.clamp=function(p){return arguments.length?(o=p?!0:fn,d()):o!==fn},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function Kb(){return Om()(fn,fn)}function ZJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function np(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Wl(e){return e=np(Math.abs(e)),e?e[1]:NaN}function QJ(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function eZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pd(e){if(!(t=tZ.exec(e)))throw new Error("invalid format: "+e);var t;return new Xb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pd.prototype=Xb.prototype;function Xb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rZ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var l3;function nZ(e,t){var r=np(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(l3=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+np(e,Math.max(0,t+i-1))[0]}function f5(e,t){var r=np(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const h5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>f5(e*100,t),r:f5,s:nZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function p5(e){return e}var m5=Array.prototype.map,g5=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function aZ(e){var t=e.grouping===void 0||e.thousands===void 0?p5:QJ(m5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?p5:eZ(m5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"âˆ’":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=pd(f);var p=f.fill,h=f.align,v=f.sign,g=f.symbol,j=f.zero,y=f.width,x=f.comma,N=f.precision,_=f.trim,w=f.type;w==="n"?(x=!0,w="g"):h5[w]||(N===void 0&&(N=12),_=!0,w="g"),(j||p==="0"&&h==="=")&&(j=!0,p="0",h="=");var A=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",O=g==="$"?n:/[%p]/.test(w)?o:"",E=h5[w],T=/[defgprs%]/.test(w);N=N===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function $(k){var C=A,D=O,I,H,V;if(w==="c")D=E(k)+D,k="";else{k=+k;var X=k<0||1/k<0;if(k=isNaN(k)?c:E(Math.abs(k),N),_&&(k=rZ(k)),X&&+k==0&&v!=="+"&&(X=!1),C=(X?v==="("?v:s:v==="-"||v==="("?"":v)+C,D=(w==="s"?g5[8+l3/3]:"")+D+(X&&v==="("?")":""),T){for(I=-1,H=k.length;++I<H;)if(V=k.charCodeAt(I),48>V||V>57){D=(V===46?a+k.slice(I+1):k.slice(I))+D,k=k.slice(0,I);break}}}x&&!j&&(k=t(k,1/0));var J=C.length+k.length+D.length,Y=J<y?new Array(y-J+1).join(p):"";switch(x&&j&&(k=t(Y+k,Y.length?y-D.length:1/0),Y=""),h){case"<":k=C+k+D+Y;break;case"=":k=C+Y+k+D;break;case"^":k=Y.slice(0,J=Y.length>>1)+C+k+D+Y.slice(J);break;default:k=Y+C+k+D;break}return i(k)}return $.toString=function(){return f+""},$}function d(f,p){var h=u((f=pd(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Wl(p)/3)))*3,g=Math.pow(10,-v),j=g5[8+v/3];return function(y){return h(g*y)+j}}return{format:u,formatPrefix:d}}var oh,Jb,c3;iZ({thousands:",",grouping:[3],currency:["$",""]});function iZ(e){return oh=aZ(e),Jb=oh.format,c3=oh.formatPrefix,oh}function oZ(e){return Math.max(0,-Wl(Math.abs(e)))}function sZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wl(t)/3)))*3-Wl(Math.abs(e)))}function lZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wl(t)-Wl(e))+1}function u3(e,t,r,n){var a=I0(e,t,r),i;switch(n=pd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=sZ(a,o))&&(n.precision=i),c3(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=lZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=oZ(a))&&(n.precision=i-(n.type==="%")*2);break}}return Jb(n)}function xo(e){var t=e.domain;return e.ticks=function(r){var n=t();return $0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return u3(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=D0(o,s,r),u===c)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function ap(){var e=Kb();return e.copy=function(){return Xd(e,ap())},sa.apply(e,arguments),xo(e)}function d3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return d3(e).unknown(t)},e=arguments.length?Array.from(e,rp):[0,1],xo(r)}function f3(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function v5(e){return Math.log(e)}function y5(e){return Math.exp(e)}function cZ(e){return-Math.log(-e)}function uZ(e){return-Math.exp(-e)}function dZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fZ(e){return e===10?dZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function b5(e){return(t,r)=>-e(-t,r)}function Zb(e){const t=e(v5,y5),r=t.domain;let n=10,a,i;function o(){return a=hZ(n),i=fZ(n),r()[0]<0?(a=b5(a),i=b5(i),e(cZ,uZ)):e(v5,y5),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),v,g;const j=s==null?10:+s;let y=[];if(!(n%1)&&h-p<j){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(v=1;v<n;++v)if(g=p<0?v/i(-p):v*i(p),!(g<u)){if(g>d)break;y.push(g)}}else for(;p<=h;++p)for(v=n-1;v>=1;--v)if(g=p>0?v/i(-p):v*i(p),!(g<u)){if(g>d)break;y.push(g)}y.length*2<j&&(y=$0(u,d,j))}else y=$0(p,h,Math.min(h-p,j)).map(i);return f?y.reverse():y},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=pd(c)).precision==null&&(c.trim=!0),c=Jb(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(f3(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function h3(){const e=Zb(Om()).domain([1,10]);return e.copy=()=>Xd(e,h3()).base(e.base()),sa.apply(e,arguments),e}function x5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function w5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Qb(e){var t=1,r=e(x5(t),w5(t));return r.constant=function(n){return arguments.length?e(x5(t=+n),w5(t)):t},xo(r)}function p3(){var e=Qb(Om());return e.copy=function(){return Xd(e,p3()).constant(e.constant())},sa.apply(e,arguments)}function j5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mZ(e){return e<0?-e*e:e*e}function ex(e){var t=e(fn,fn),r=1;function n(){return r===1?e(fn,fn):r===.5?e(pZ,mZ):e(j5(r),j5(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},xo(t)}function tx(){var e=ex(Om());return e.copy=function(){return Xd(e,tx()).exponent(e.exponent())},sa.apply(e,arguments),e}function gZ(){return tx.apply(null,arguments).exponent(.5)}function N5(e){return Math.sign(e)*e*e}function vZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function m3(){var e=Kb(),t=[0,1],r=!1,n;function a(i){var o=vZ(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(N5(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,rp)).map(N5)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return m3(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},sa.apply(a,arguments),xo(a)}function g3(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=jJ(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Yd(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(uo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return g3().domain(e).range(t).unknown(n)},sa.apply(i,arguments)}function v3(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Yd(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return v3().domain([e,t]).range(a).unknown(i)},sa.apply(xo(o),arguments)}function y3(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Yd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return y3().domain(e).range(t).unknown(r)},sa.apply(a,arguments)}const wv=new Date,jv=new Date;function kr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let u;do c.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return c},a.filter=i=>kr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(wv.setTime(+i),jv.setTime(+o),e(wv),e(jv),Math.floor(r(wv,jv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ip=kr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ip.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ip);ip.range;const Pi=1e3,Zn=Pi*60,Ei=Zn*60,$i=Ei*24,rx=$i*7,S5=$i*30,Nv=$i*365,es=kr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pi)},(e,t)=>(t-e)/Pi,e=>e.getUTCSeconds());es.range;const nx=kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getMinutes());nx.range;const ax=kr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCMinutes());ax.range;const ix=kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi-e.getMinutes()*Zn)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getHours());ix.range;const ox=kr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCHours());ox.range;const Jd=kr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zn)/$i,e=>e.getDate()-1);Jd.range;const Pm=kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$i,e=>e.getUTCDate()-1);Pm.range;const b3=kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$i,e=>Math.floor(e/$i));b3.range;function Ps(e){return kr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Zn)/rx)}const Em=Ps(0),op=Ps(1),yZ=Ps(2),bZ=Ps(3),Hl=Ps(4),xZ=Ps(5),wZ=Ps(6);Em.range;op.range;yZ.range;bZ.range;Hl.range;xZ.range;wZ.range;function Es(e){return kr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rx)}const km=Es(0),sp=Es(1),jZ=Es(2),NZ=Es(3),Gl=Es(4),SZ=Es(5),_Z=Es(6);km.range;sp.range;jZ.range;NZ.range;Gl.range;SZ.range;_Z.range;const sx=kr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sx.range;const lx=kr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lx.range;const Di=kr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Di.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Di.range;const Ii=kr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ii.range;function x3(e,t,r,n,a,i){const o=[[es,1,Pi],[es,5,5*Pi],[es,15,15*Pi],[es,30,30*Pi],[i,1,Zn],[i,5,5*Zn],[i,15,15*Zn],[i,30,30*Zn],[a,1,Ei],[a,3,3*Ei],[a,6,6*Ei],[a,12,12*Ei],[n,1,$i],[n,2,2*$i],[r,1,rx],[t,1,S5],[t,3,3*S5],[e,1,Nv]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),v=h?h.range(u,+d+1):[];return p?v.reverse():v}function c(u,d,f){const p=Math.abs(d-u)/f,h=Wb(([,,j])=>j).right(o,p);if(h===o.length)return e.every(I0(u/Nv,d/Nv,f));if(h===0)return ip.every(Math.max(I0(u,d,f),1));const[v,g]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return v.every(g)}return[s,c]}const[AZ,OZ]=x3(Ii,lx,km,b3,ox,ax),[PZ,EZ]=x3(Di,sx,Em,Jd,ix,nx);function Sv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _v(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function kZ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=xu(a),d=wu(a),f=xu(i),p=wu(i),h=xu(o),v=wu(o),g=xu(s),j=wu(s),y=xu(c),x=wu(c),N={a:X,A:J,b:Y,B:Z,c:null,d:k5,e:k5,f:QZ,g:cQ,G:dQ,H:XZ,I:JZ,j:ZZ,L:w3,m:eQ,M:tQ,p:ae,q:M,Q:L5,s:M5,S:rQ,u:nQ,U:aQ,V:iQ,w:oQ,W:sQ,x:null,X:null,y:lQ,Y:uQ,Z:fQ,"%":C5},_={a:U,A:Q,b:ne,B:oe,c:null,d:T5,e:T5,f:gQ,g:AQ,G:PQ,H:hQ,I:pQ,j:mQ,L:N3,m:vQ,M:yQ,p:he,q:de,Q:L5,s:M5,S:bQ,u:xQ,U:wQ,V:jQ,w:NQ,W:SQ,x:null,X:null,y:_Q,Y:OQ,Z:EQ,"%":C5},w={a:$,A:k,b:C,B:D,c:I,d:P5,e:P5,f:GZ,g:O5,G:A5,H:E5,I:E5,j:zZ,L:HZ,m:qZ,M:UZ,p:T,q:BZ,Q:YZ,s:KZ,S:WZ,u:$Z,U:DZ,V:IZ,w:MZ,W:RZ,x:H,X:V,y:O5,Y:A5,Z:FZ,"%":VZ};N.x=A(r,N),N.X=A(n,N),N.c=A(t,N),_.x=A(r,_),_.X=A(n,_),_.c=A(t,_);function A(ie,xe){return function(be){var pe=[],Ee=-1,$e=0,ye=ie.length,re,Ve,Be;for(be instanceof Date||(be=new Date(+be));++Ee<ye;)ie.charCodeAt(Ee)===37&&(pe.push(ie.slice($e,Ee)),(Ve=_5[re=ie.charAt(++Ee)])!=null?re=ie.charAt(++Ee):Ve=re==="e"?" ":"0",(Be=xe[re])&&(re=Be(be,Ve)),pe.push(re),$e=Ee+1);return pe.push(ie.slice($e,Ee)),pe.join("")}}function O(ie,xe){return function(be){var pe=bu(1900,void 0,1),Ee=E(pe,ie,be+="",0),$e,ye;if(Ee!=be.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(xe&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?($e=_v(bu(pe.y,0,1)),ye=$e.getUTCDay(),$e=ye>4||ye===0?sp.ceil($e):sp($e),$e=Pm.offset($e,(pe.V-1)*7),pe.y=$e.getUTCFullYear(),pe.m=$e.getUTCMonth(),pe.d=$e.getUTCDate()+(pe.w+6)%7):($e=Sv(bu(pe.y,0,1)),ye=$e.getDay(),$e=ye>4||ye===0?op.ceil($e):op($e),$e=Jd.offset($e,(pe.V-1)*7),pe.y=$e.getFullYear(),pe.m=$e.getMonth(),pe.d=$e.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),ye="Z"in pe?_v(bu(pe.y,0,1)).getUTCDay():Sv(bu(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(ye+5)%7:pe.w+pe.U*7-(ye+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,_v(pe)):Sv(pe)}}function E(ie,xe,be,pe){for(var Ee=0,$e=xe.length,ye=be.length,re,Ve;Ee<$e;){if(pe>=ye)return-1;if(re=xe.charCodeAt(Ee++),re===37){if(re=xe.charAt(Ee++),Ve=w[re in _5?xe.charAt(Ee++):re],!Ve||(pe=Ve(ie,be,pe))<0)return-1}else if(re!=be.charCodeAt(pe++))return-1}return pe}function T(ie,xe,be){var pe=u.exec(xe.slice(be));return pe?(ie.p=d.get(pe[0].toLowerCase()),be+pe[0].length):-1}function $(ie,xe,be){var pe=h.exec(xe.slice(be));return pe?(ie.w=v.get(pe[0].toLowerCase()),be+pe[0].length):-1}function k(ie,xe,be){var pe=f.exec(xe.slice(be));return pe?(ie.w=p.get(pe[0].toLowerCase()),be+pe[0].length):-1}function C(ie,xe,be){var pe=y.exec(xe.slice(be));return pe?(ie.m=x.get(pe[0].toLowerCase()),be+pe[0].length):-1}function D(ie,xe,be){var pe=g.exec(xe.slice(be));return pe?(ie.m=j.get(pe[0].toLowerCase()),be+pe[0].length):-1}function I(ie,xe,be){return E(ie,t,xe,be)}function H(ie,xe,be){return E(ie,r,xe,be)}function V(ie,xe,be){return E(ie,n,xe,be)}function X(ie){return o[ie.getDay()]}function J(ie){return i[ie.getDay()]}function Y(ie){return c[ie.getMonth()]}function Z(ie){return s[ie.getMonth()]}function ae(ie){return a[+(ie.getHours()>=12)]}function M(ie){return 1+~~(ie.getMonth()/3)}function U(ie){return o[ie.getUTCDay()]}function Q(ie){return i[ie.getUTCDay()]}function ne(ie){return c[ie.getUTCMonth()]}function oe(ie){return s[ie.getUTCMonth()]}function he(ie){return a[+(ie.getUTCHours()>=12)]}function de(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var xe=A(ie+="",N);return xe.toString=function(){return ie},xe},parse:function(ie){var xe=O(ie+="",!1);return xe.toString=function(){return ie},xe},utcFormat:function(ie){var xe=A(ie+="",_);return xe.toString=function(){return ie},xe},utcParse:function(ie){var xe=O(ie+="",!0);return xe.toString=function(){return ie},xe}}}var _5={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,TZ=/^%/,CZ=/[\\^$*+?|[\]().{}]/g;function At(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function LZ(e){return e.replace(CZ,"\\$&")}function xu(e){return new RegExp("^(?:"+e.map(LZ).join("|")+")","i")}function wu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MZ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $Z(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function DZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function IZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function RZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function A5(e,t,r){var n=Ir.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function O5(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BZ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function P5(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zZ(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function E5(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function UZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function WZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function HZ(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function GZ(e,t,r){var n=Ir.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function VZ(e,t,r){var n=TZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function YZ(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KZ(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function k5(e,t){return At(e.getDate(),t,2)}function XZ(e,t){return At(e.getHours(),t,2)}function JZ(e,t){return At(e.getHours()%12||12,t,2)}function ZZ(e,t){return At(1+Jd.count(Di(e),e),t,3)}function w3(e,t){return At(e.getMilliseconds(),t,3)}function QZ(e,t){return w3(e,t)+"000"}function eQ(e,t){return At(e.getMonth()+1,t,2)}function tQ(e,t){return At(e.getMinutes(),t,2)}function rQ(e,t){return At(e.getSeconds(),t,2)}function nQ(e){var t=e.getDay();return t===0?7:t}function aQ(e,t){return At(Em.count(Di(e)-1,e),t,2)}function j3(e){var t=e.getDay();return t>=4||t===0?Hl(e):Hl.ceil(e)}function iQ(e,t){return e=j3(e),At(Hl.count(Di(e),e)+(Di(e).getDay()===4),t,2)}function oQ(e){return e.getDay()}function sQ(e,t){return At(op.count(Di(e)-1,e),t,2)}function lQ(e,t){return At(e.getFullYear()%100,t,2)}function cQ(e,t){return e=j3(e),At(e.getFullYear()%100,t,2)}function uQ(e,t){return At(e.getFullYear()%1e4,t,4)}function dQ(e,t){var r=e.getDay();return e=r>=4||r===0?Hl(e):Hl.ceil(e),At(e.getFullYear()%1e4,t,4)}function fQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function T5(e,t){return At(e.getUTCDate(),t,2)}function hQ(e,t){return At(e.getUTCHours(),t,2)}function pQ(e,t){return At(e.getUTCHours()%12||12,t,2)}function mQ(e,t){return At(1+Pm.count(Ii(e),e),t,3)}function N3(e,t){return At(e.getUTCMilliseconds(),t,3)}function gQ(e,t){return N3(e,t)+"000"}function vQ(e,t){return At(e.getUTCMonth()+1,t,2)}function yQ(e,t){return At(e.getUTCMinutes(),t,2)}function bQ(e,t){return At(e.getUTCSeconds(),t,2)}function xQ(e){var t=e.getUTCDay();return t===0?7:t}function wQ(e,t){return At(km.count(Ii(e)-1,e),t,2)}function S3(e){var t=e.getUTCDay();return t>=4||t===0?Gl(e):Gl.ceil(e)}function jQ(e,t){return e=S3(e),At(Gl.count(Ii(e),e)+(Ii(e).getUTCDay()===4),t,2)}function NQ(e){return e.getUTCDay()}function SQ(e,t){return At(sp.count(Ii(e)-1,e),t,2)}function _Q(e,t){return At(e.getUTCFullYear()%100,t,2)}function AQ(e,t){return e=S3(e),At(e.getUTCFullYear()%100,t,2)}function OQ(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function PQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gl(e):Gl.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function EQ(){return"+0000"}function C5(){return"%"}function L5(e){return+e}function M5(e){return Math.floor(+e/1e3)}var fl,_3,A3;kQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kQ(e){return fl=kZ(e),_3=fl.format,fl.parse,A3=fl.utcFormat,fl.utcParse,fl}function TQ(e){return new Date(e)}function CQ(e){return e instanceof Date?+e:+new Date(+e)}function cx(e,t,r,n,a,i,o,s,c,u){var d=Kb(),f=d.invert,p=d.domain,h=u(".%L"),v=u(":%S"),g=u("%I:%M"),j=u("%I %p"),y=u("%a %d"),x=u("%b %d"),N=u("%B"),_=u("%Y");function w(A){return(c(A)<A?h:s(A)<A?v:o(A)<A?g:i(A)<A?j:n(A)<A?a(A)<A?y:x:r(A)<A?N:_)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?p(Array.from(A,CQ)):p().map(TQ)},d.ticks=function(A){var O=p();return e(O[0],O[O.length-1],A??10)},d.tickFormat=function(A,O){return O==null?w:u(O)},d.nice=function(A){var O=p();return(!A||typeof A.range!="function")&&(A=t(O[0],O[O.length-1],A??10)),A?p(f3(O,A)):d},d.copy=function(){return Xd(d,cx(e,t,r,n,a,i,o,s,c,u))},d}function LQ(){return sa.apply(cx(PZ,EZ,Di,sx,Em,Jd,ix,nx,es,_3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MQ(){return sa.apply(cx(AZ,OZ,Ii,lx,km,Pm,ox,ax,es,A3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tm(){var e=0,t=1,r,n,a,i,o=fn,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var h,v;return arguments.length?([h,v]=p,o=f(h,v),u):[o(0),o(1)]}}return u.range=d(Ec),u.rangeRound=d(Yb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function wo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function O3(){var e=xo(Tm()(fn));return e.copy=function(){return wo(e,O3())},Fi.apply(e,arguments)}function P3(){var e=Zb(Tm()).domain([1,10]);return e.copy=function(){return wo(e,P3()).base(e.base())},Fi.apply(e,arguments)}function E3(){var e=Qb(Tm());return e.copy=function(){return wo(e,E3()).constant(e.constant())},Fi.apply(e,arguments)}function ux(){var e=ex(Tm());return e.copy=function(){return wo(e,ux()).exponent(e.exponent())},Fi.apply(e,arguments)}function $Q(){return ux.apply(null,arguments).exponent(.5)}function k3(){var e=[],t=fn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Yd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(uo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>wJ(e,i/n))},r.copy=function(){return k3(t).domain(e)},Fi.apply(r,arguments)}function Cm(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,u=fn,d,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-i)*(n*g<n*i?s:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function v(g){return function(j){var y,x,N;return arguments.length?([y,x,N]=j,u=VJ(g,[y,x,N]),h):[u(0),u(.5),u(1)]}}return h.range=v(Ec),h.rangeRound=v(Yb),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return d=g,a=g(e),i=g(t),o=g(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function T3(){var e=xo(Cm()(fn));return e.copy=function(){return wo(e,T3())},Fi.apply(e,arguments)}function C3(){var e=Zb(Cm()).domain([.1,1,10]);return e.copy=function(){return wo(e,C3()).base(e.base())},Fi.apply(e,arguments)}function L3(){var e=Qb(Cm());return e.copy=function(){return wo(e,L3()).constant(e.constant())},Fi.apply(e,arguments)}function dx(){var e=ex(Cm());return e.copy=function(){return wo(e,dx()).exponent(e.exponent())},Fi.apply(e,arguments)}function DQ(){return dx.apply(null,arguments).exponent(.5)}const $5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ud,scaleDiverging:T3,scaleDivergingLog:C3,scaleDivergingPow:dx,scaleDivergingSqrt:DQ,scaleDivergingSymlog:L3,scaleIdentity:d3,scaleImplicit:R0,scaleLinear:ap,scaleLog:h3,scaleOrdinal:Hb,scalePoint:Lu,scalePow:tx,scaleQuantile:g3,scaleQuantize:v3,scaleRadial:m3,scaleSequential:O3,scaleSequentialLog:P3,scaleSequentialPow:ux,scaleSequentialQuantile:k3,scaleSequentialSqrt:$Q,scaleSequentialSymlog:E3,scaleSqrt:gZ,scaleSymlog:p3,scaleThreshold:y3,scaleTime:LQ,scaleUtc:MQ,tickFormat:u3},Symbol.toStringTag,{value:"Module"}));var IQ=yc;function RQ(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!IQ(o):r(o,s)))var s=o,c=i}return c}var Lm=RQ;function FQ(e,t){return e>t}var M3=FQ,BQ=Lm,qQ=M3,zQ=_c;function UQ(e){return e&&e.length?BQ(e,zQ,qQ):void 0}var WQ=UQ;const lo=wt(WQ);function HQ(e,t){return e<t}var $3=HQ,GQ=Lm,VQ=$3,YQ=_c;function KQ(e){return e&&e.length?GQ(e,YQ,VQ):void 0}var XQ=KQ;const Mm=wt(XQ);var JQ=Qp,ZQ=Da,QQ=A_,eee=rn;function tee(e,t){var r=eee(e)?JQ:QQ;return r(e,ZQ(t))}var ree=tee,nee=wb,aee=ree;function iee(e,t){return nee(aee(e,t),1)}var oee=iee;const see=wt(oee);var kc=1e9,lee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hx,Qt=!0,na="[DecimalError] ",ls=na+"Invalid argument: ",fx=na+"Exponent out of range: ",Tc=Math.floor,Vo=Math.pow,cee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,Mr=1e7,Kt=7,D3=9007199254740991,lp=Tc(D3/Kt),We={};We.absoluteValue=We.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};We.comparedTo=We.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};We.decimalPlaces=We.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};We.dividedBy=We.div=function(e){return Ci(this,new this.constructor(e))};We.dividedToIntegerBy=We.idiv=function(e){var t=this,r=t.constructor;return qt(Ci(t,new r(e),0,1),r.precision)};We.equals=We.eq=function(e){return!this.cmp(e)};We.exponent=function(){return wr(this)};We.greaterThan=We.gt=function(e){return this.cmp(e)>0};We.greaterThanOrEqualTo=We.gte=function(e){return this.cmp(e)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(e){return this.cmp(e)<0};We.lessThanOrEqualTo=We.lte=function(e){return this.cmp(e)<1};We.logarithm=We.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mn))throw Error(na+"NaN");if(r.s<1)throw Error(na+(r.s?"NaN":"-Infinity"));return r.eq(Mn)?new n(0):(Qt=!1,t=Ci(md(r,i),md(e,i),i),Qt=!0,qt(t,a))};We.minus=We.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?F3(t,e):I3(t,(e.s=-e.s,e))};We.modulo=We.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(na+"NaN");return r.s?(Qt=!1,t=Ci(r,e,0,1).times(e),Qt=!0,r.minus(t)):qt(new n(r),a)};We.naturalExponential=We.exp=function(){return R3(this)};We.naturalLogarithm=We.ln=function(){return md(this)};We.negated=We.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};We.plus=We.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I3(t,e):F3(t,(e.s=-e.s,e))};We.precision=We.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ls+e);if(t=wr(a)+1,n=a.d.length-1,r=n*Kt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};We.squareRoot=We.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(na+"NaN")}for(e=wr(s),Qt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Qa(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Tc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ci(s,i,o+2)).times(.5),Qa(i.d).slice(0,o)===(t=Qa(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(qt(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Qt=!0,qt(n,r)};We.times=We.mul=function(e){var t,r,n,a,i,o,s,c,u,d=this,f=d.constructor,p=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=p.length,u=h.length,c<u&&(i=p,p=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+h[n]*p[a-n-1]+t,i[a--]=s%Mr|0,t=s/Mr|0;i[a]=(i[a]+t)%Mr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Qt?qt(e,f.precision):e};We.toDecimalPlaces=We.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ci(e,0,kc),t===void 0?t=n.rounding:ci(t,0,8),qt(r,e+wr(r)+1,t))};We.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=js(n,!0):(ci(e,0,kc),t===void 0?t=a.rounding:ci(t,0,8),n=qt(new a(n),e+1,t),r=js(n,!0,e+1)),r};We.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?js(a):(ci(e,0,kc),t===void 0?t=i.rounding:ci(t,0,8),n=qt(new i(a),e+wr(a)+1,t),r=js(n.abs(),!1,e+wr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};We.toInteger=We.toint=function(){var e=this,t=e.constructor;return qt(new t(e),wr(e)+1,t.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Mn);if(s=new c(s),!s.s){if(e.s<1)throw Error(na+"Infinity");return s}if(s.eq(Mn))return s;if(n=c.precision,e.eq(Mn))return qt(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=D3){for(a=new c(Mn),t=Math.ceil(n/Kt+4),Qt=!1;r%2&&(a=a.times(s),I5(a.d,t)),r=Tc(r/2),r!==0;)s=s.times(s),I5(s.d,t);return Qt=!0,e.s<0?new c(Mn).div(a):qt(a,n)}}else if(i<0)throw Error(na+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Qt=!1,a=e.times(md(s,n+u)),Qt=!0,a=R3(a),a.s=i,a};We.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=wr(a),n=js(a,r<=i.toExpNeg||r>=i.toExpPos)):(ci(e,1,kc),t===void 0?t=i.rounding:ci(t,0,8),a=qt(new i(a),e,t),r=wr(a),n=js(a,e<=r||r<=i.toExpNeg,e)),n};We.toSignificantDigits=We.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ci(e,1,kc),t===void 0?t=n.rounding:ci(t,0,8)),qt(new n(r),e,t)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wr(e),r=e.constructor;return js(e,t<=r.toExpNeg||t>=r.toExpPos)};function I3(e,t){var r,n,a,i,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Qt?qt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=u.length):(n=u,a=o,s=c.length),o=Math.ceil(f/Kt),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=u.length,s-i<0&&(i=s,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Mr|0,c[i]%=Mr;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Qt?qt(t,f):t}function ci(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ls+e)}function Qa(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Kt-n.length,r&&(i+=io(r)),i+=n;o=e[t],n=o+"",r=Kt-n.length,r&&(i+=io(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ci=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%Mr|0,o=i/Mr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Mr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,u,d,f,p,h,v,g,j,y,x,N,_,w,A,O,E,T=n.constructor,$=n.s==a.s?1:-1,k=n.d,C=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(na+"Division by zero");for(c=n.e-a.e,O=C.length,w=k.length,h=new T($),v=h.d=[],u=0;C[u]==(k[u]||0);)++u;if(C[u]>(k[u]||0)&&--c,i==null?x=i=T.precision:o?x=i+(wr(n)-wr(a))+1:x=i,x<0)return new T(0);if(x=x/Kt+2|0,u=0,O==1)for(d=0,C=C[0],x++;(u<w||d)&&x--;u++)N=d*Mr+(k[u]||0),v[u]=N/C|0,d=N%C|0;else{for(d=Mr/(C[0]+1)|0,d>1&&(C=e(C,d),k=e(k,d),O=C.length,w=k.length),_=O,g=k.slice(0,O),j=g.length;j<O;)g[j++]=0;E=C.slice(),E.unshift(0),A=C[0],C[1]>=Mr/2&&++A;do d=0,s=t(C,g,O,j),s<0?(y=g[0],O!=j&&(y=y*Mr+(g[1]||0)),d=y/A|0,d>1?(d>=Mr&&(d=Mr-1),f=e(C,d),p=f.length,j=g.length,s=t(f,g,p,j),s==1&&(d--,r(f,O<p?E:C,p))):(d==0&&(s=d=1),f=C.slice()),p=f.length,p<j&&f.unshift(0),r(g,f,j),s==-1&&(j=g.length,s=t(C,g,O,j),s<1&&(d++,r(g,O<j?E:C,j))),j=g.length):s===0&&(d++,g=[0]),v[u++]=d,s&&g[0]?g[j++]=k[_]||0:(g=[k[_]],j=1);while((_++<w||g[0]!==void 0)&&x--)}return v[0]||v.shift(),h.e=c,qt(h,o?i+wr(h)+1:i)}}();function R3(e,t){var r,n,a,i,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(wr(e)>16)throw Error(fx+wr(e));if(!e.s)return new d(Mn);for(Qt=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Vo(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(Mn),d.precision=s;;){if(a=qt(a.times(e),s),r=r.times(++c),o=i.plus(Ci(a,r,s)),Qa(o.d).slice(0,s)===Qa(i.d).slice(0,s)){for(;u--;)i=qt(i.times(i),s);return d.precision=f,t==null?(Qt=!0,qt(i,f)):i}i=o}}function wr(e){for(var t=e.e*Kt,r=e.d[0];r>=10;r/=10)t++;return t}function Av(e,t,r){if(t>e.LN10.sd())throw Qt=!0,r&&(e.precision=r),Error(na+"LN10 precision limit exceeded");return qt(new e(e.LN10),t)}function io(e){for(var t="";e--;)t+="0";return t}function md(e,t){var r,n,a,i,o,s,c,u,d,f=1,p=10,h=e,v=h.d,g=h.constructor,j=g.precision;if(h.s<1)throw Error(na+(h.s?"NaN":"-Infinity"));if(h.eq(Mn))return new g(0);if(t==null?(Qt=!1,u=j):u=t,h.eq(10))return t==null&&(Qt=!0),Av(g,u);if(u+=p,g.precision=u,r=Qa(v),n=r.charAt(0),i=wr(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Qa(h.d),n=r.charAt(0),f++;i=wr(h),n>1?(h=new g("0."+r),i++):h=new g(n+"."+r.slice(1))}else return c=Av(g,u+2,j).times(i+""),h=md(new g(n+"."+r.slice(1)),u-p).plus(c),g.precision=j,t==null?(Qt=!0,qt(h,j)):h;for(s=o=h=Ci(h.minus(Mn),h.plus(Mn),u),d=qt(h.times(h),u),a=3;;){if(o=qt(o.times(d),u),c=s.plus(Ci(o,new g(a),u)),Qa(c.d).slice(0,u)===Qa(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(Av(g,u+2,j).times(i+""))),s=Ci(s,new g(f),u),g.precision=j,t==null?(Qt=!0,qt(s,j)):s;s=c,a+=2}}function D5(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Tc(r/Kt),e.d=[],n=(r+1)%Kt,r<0&&(n+=Kt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Kt;n<a;)e.d.push(+t.slice(n,n+=Kt));t=t.slice(n),n=Kt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Qt&&(e.e>lp||e.e<-lp))throw Error(fx+r)}else e.s=0,e.e=0,e.d=[0];return e}function qt(e,t,r){var n,a,i,o,s,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Kt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Kt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Kt,a=n-Kt+o}if(r!==void 0&&(i=Vo(10,o-a-1),s=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?u/Vo(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=wr(e),f.length=1,t=t-i-1,f[0]=Vo(10,(Kt-t%Kt)%Kt),e.e=Tc(-t/Kt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Vo(10,Kt-n),f[d]=a>0?(u/Vo(10,o-a)%Vo(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Mr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Mr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Qt&&(e.e>lp||e.e<-lp))throw Error(fx+wr(e));return e}function F3(e,t){var r,n,a,i,o,s,c,u,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Qt?qt(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),a=Math.max(Math.ceil(h/Kt),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Mr-1;--c[i],c[a]+=Mr}c[a]-=f[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Qt?qt(t,h):t):new p(0)}function js(e,t,r){var n,a=wr(e),i=Qa(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+io(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+io(-a-1)+i,r&&(n=r-o)>0&&(i+=io(n))):a>=o?(i+=io(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+io(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=io(n))),e.s<0?"-"+i:i}function I5(e,t){if(e.length>t)return e.length=t,!0}function B3(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ls+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return D5(o,i.toString())}else if(typeof i!="string")throw Error(ls+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,cee.test(i))D5(o,i);else throw Error(ls+i)}if(a.prototype=We,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=B3,a.config=a.set=uee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function uee(e){if(!e||typeof e!="object")throw Error(na+"Object expected");var t,r,n,a=["precision",1,kc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Tc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ls+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ls+r+": "+n);return this}var hx=B3(lee);Mn=new hx(1);const Dt=hx;function dee(e){return mee(e)||pee(e)||hee(e)||fee()}function fee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hee(e,t){if(e){if(typeof e=="string")return z0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z0(e,t)}}function pee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function mee(e){if(Array.isArray(e))return z0(e)}function z0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gee=function(t){return t},q3={},z3=function(t){return t===q3},R5=function(t){return function r(){return arguments.length===0||arguments.length===1&&z3(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},vee=function e(t,r){return t===1?r:R5(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==q3}).length;return o>=t?r.apply(void 0,a):e(t-o,R5(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var d=a.map(function(f){return z3(f)?c.shift():f});return r.apply(void 0,dee(d).concat(c))}))})},$m=function(t){return vee(t.length,t)},U0=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},yee=$m(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),bee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return gee;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,c){return c(s)},i.apply(void 0,arguments))}},W0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},U3=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,c){return s===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function xee(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function wee(e,t,r){for(var n=new Dt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var jee=$m(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Nee=$m(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),See=$m(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Dm={rangeStep:wee,getDigitCount:xee,interpolateNumber:jee,uninterpolateNumber:Nee,uninterpolateTruncation:See};function H0(e){return Oee(e)||Aee(e)||W3(e)||_ee()}function _ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Oee(e){if(Array.isArray(e))return G0(e)}function gd(e,t){return kee(e)||Eee(e,t)||W3(e,t)||Pee()}function Pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W3(e,t){if(e){if(typeof e=="string")return G0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G0(e,t)}}function G0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eee(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function kee(e){if(Array.isArray(e))return e}function H3(e){var t=gd(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function G3(e,t,r){if(e.lte(0))return new Dt(0);var n=Dm.getDigitCount(e.toNumber()),a=new Dt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Dt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?c:new Dt(Math.ceil(c))}function Tee(e,t,r){var n=1,a=new Dt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Dt(10).pow(Dm.getDigitCount(e)-1),a=new Dt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Dt(Math.floor(e)))}else e===0?a=new Dt(Math.floor((t-1)/2)):r||(a=new Dt(Math.floor(e)));var o=Math.floor((t-1)/2),s=bee(yee(function(c){return a.add(new Dt(c-o).mul(n)).toNumber()}),U0);return s(0,t)}function V3(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var i=G3(new Dt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Dt(0):(o=new Dt(e).add(t).div(2),o=o.sub(new Dt(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Dt(t).sub(o).div(i).toNumber()),u=s+c+1;return u>r?V3(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,s=t>0?s:s+(r-u)),{step:i,tickMin:o.sub(new Dt(s).mul(i)),tickMax:o.add(new Dt(c).mul(i))})}function Cee(e){var t=gd(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=H3([r,n]),c=gd(s,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(H0(U0(0,a-1).map(function(){return 1/0}))):[].concat(H0(U0(0,a-1).map(function(){return-1/0})),[d]);return r>n?W0(f):f}if(u===d)return Tee(u,a,i);var p=V3(u,d,o,i),h=p.step,v=p.tickMin,g=p.tickMax,j=Dm.rangeStep(v,g.add(new Dt(.1).mul(h)),h);return r>n?W0(j):j}function Lee(e,t){var r=gd(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=H3([n,a]),s=gd(o,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=G3(new Dt(u).sub(c).div(d-1),i,0),p=[].concat(H0(Dm.rangeStep(new Dt(c),new Dt(u).sub(new Dt(.99).mul(f)),f)),[u]);return n>a?W0(p):p}var Mee=U3(Cee),$ee=U3(Lee),Dee="Invariant failed";function Ns(e,t){throw new Error(Dee)}var Iee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(this,arguments)}function Ree(e,t){return zee(e)||qee(e,t)||Bee(e,t)||Fee()}function Fee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bee(e,t){if(e){if(typeof e=="string")return F5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F5(e,t)}}function F5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function zee(e){if(Array.isArray(e))return e}function Uee(e,t){if(e==null)return{};var r=Wee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X3(n.key),n)}}function Vee(e,t,r){return t&&Gee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yee(e,t,r){return t=up(t),Kee(e,Y3()?Reflect.construct(t,r||[],up(e).constructor):t.apply(e,r))}function Kee(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xee(e)}function Xee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y3=function(){return!!e})()}function up(e){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},up(e)}function Jee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V0(e,t)}function K3(e,t,r){return t=X3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X3(e){var t=Zee(e,"string");return Vl(t)=="symbol"?t:t+""}function Zee(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Im=function(e){function t(){return Hee(this,t),Yee(this,t,arguments)}return Jee(t,e),Vee(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=Uee(n,Iee),h=Xe(p,!1);this.props.direction==="x"&&d.type!=="number"&&Ns();var v=c.map(function(g){var j=u(g,s),y=j.x,x=j.y,N=j.value,_=j.errorVal;if(!_)return null;var w=[],A,O;if(Array.isArray(_)){var E=Ree(_,2);A=E[0],O=E[1]}else A=O=_;if(i==="vertical"){var T=d.scale,$=x+a,k=$+o,C=$-o,D=T(N-A),I=T(N+O);w.push({x1:I,y1:k,x2:I,y2:C}),w.push({x1:D,y1:$,x2:I,y2:$}),w.push({x1:D,y1:k,x2:D,y2:C})}else if(i==="horizontal"){var H=f.scale,V=y+a,X=V-o,J=V+o,Y=H(N-A),Z=H(N+O);w.push({x1:X,y1:Z,x2:J,y2:Z}),w.push({x1:V,y1:Y,x2:V,y2:Z}),w.push({x1:X,y1:Y,x2:J,y2:Y})}return B.createElement(Nt,cp({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},h),w.map(function(ae){return B.createElement("line",cp({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return B.createElement(Nt,{className:"recharts-errorBars"},v)}}])}(B.Component);K3(Im,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});K3(Im,"displayName","ErrorBar");function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function B5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(r),!0).forEach(function(n){Qee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qee(e,t,r){return t=ete(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ete(e){var t=tte(e,"string");return vd(t)=="symbol"?t:t+""}function tte(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J3=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Cn(r,os);if(!o)return null;var s=os.defaultProps,c=s!==void 0?Fo(Fo({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return d.concat(v.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?Fo(Fo({},p),f.props):{},v=h.dataKey,g=h.name,j=h.legendType,y=h.hide;return{inactive:y,dataKey:v,type:c.iconType||j||"square",color:px(f),value:g||v,payload:h}}),Fo(Fo(Fo({},c),os.getWithHeight(o,a)),{},{payload:u,item:o})};function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function q5(e){return ite(e)||ate(e)||nte(e)||rte()}function rte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(e,t){if(e){if(typeof e=="string")return Y0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y0(e,t)}}function ate(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ite(e){if(Array.isArray(e))return Y0(e)}function Y0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(r),!0).forEach(function(n){kl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kl(e,t,r){return t=ote(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ote(e){var t=ste(e,"string");return yd(t)=="symbol"?t:t+""}function ste(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t,r){return ft(e)||ft(t)?r:Or(t)?Dn(e,t,r):nt(t)?t(e):r}function Mu(e,t,r,n){var a=see(e,function(s){return Ar(s,t)});if(r==="number"){var i=a.filter(function(s){return Le(s)||parseFloat(s)});return i.length?[Mm(i),lo(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!ft(s)}):a;return o.map(function(s){return Or(s)||s instanceof Date?s:""})}var lte=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,p=u>=s-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(un(f-d)!==un(p-f)){var v=[];if(un(p-f)===un(c[1]-c[0])){h=p;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{h=d;var j=p+c[1]-c[0];v[0]=Math.min(f,(j+f)/2),v[1]=Math.max(f,(j+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>y[0]&&t<=y[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var x=Math.min(d,p),N=Math.max(d,p);if(t>(x+f)/2&&t<=(N+f)/2){o=a[u].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},px=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?sr(sr({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},cte=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),c=0,u=s.length;c<u;c++)for(var d=i[s[c]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var v=d[f[p]],g=v.items,j=v.cateAxisId,y=g.filter(function(O){return Ti(O.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,N=x!==void 0?sr(sr({},x),y[0].props):y[0].props,_=N.barSize,w=N[j];o[w]||(o[w]=[]);var A=ft(_)?r:_;o[w].push({item:y[0],stackList:y.slice(1),barSize:ft(A)?void 0:dn(A,n,0)})}}return o},ute=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,c=o.length;if(c<1)return null;var u=dn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=a/c,v=o.reduce(function(_,w){return _+w.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&h>0&&(p=!0,h*=.9,v=c*h);var g=(a-v)/2>>0,j={offset:g-u,size:0};d=o.reduce(function(_,w){var A={item:w.item,position:{offset:j.offset+j.size+u,size:p?h:w.barSize}},O=[].concat(q5(_),[A]);return j=O[O.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){O.push({item:E,position:j})}),O},f)}else{var y=dn(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var x=(a-2*y-(c-1)*u)/c;x>1&&(x>>=0);var N=s===+s?Math.min(x,s):x;d=o.reduce(function(_,w,A){var O=[].concat(q5(_),[{item:w.item,position:{offset:y+(x+u)*A+(x-N)/2,size:N}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){O.push({item:E,position:O[O.length-1].position})}),O},f)}return d},dte=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,c=o-(s.left||0)-(s.right||0),u=J3({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&h!=="center"&&Le(t[h]))return sr(sr({},t),{},kl({},h,t[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&v!=="middle"&&Le(t[v]))return sr(sr({},t),{},kl({},v,t[v]+(p||0)))}return t},fte=function(t,r,n){return ft(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Z3=function(t,r,n,a,i){var o=r.props.children,s=ea(o,Im).filter(function(u){return fte(a,i,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ar(d,n);if(ft(f))return u;var p=Array.isArray(f)?[Mm(f),lo(f)]:[f,f],h=c.reduce(function(v,g){var j=Ar(d,g,0),y=p[0]-Math.abs(Array.isArray(j)?j[0]:j),x=p[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},hte=function(t,r,n,a,i){var o=r.map(function(s){return Z3(t,s,n,i,a)}).filter(function(s){return!ft(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},Q3=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Z3(t,c,u,a)||Mu(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,c.push(u[d]));return c},[])},e4=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},t4=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,s=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||s.push(r),o||s.push(n),s},ki=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?un(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Oc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},Ov=new WeakMap,sh=function(t,r){if(typeof r!="function")return t;Ov.has(t)||Ov.set(t,new WeakMap);var n=Ov.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},r4=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:ud(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:ap(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Lu(),realScaleType:"point"}:i==="category"?{scale:ud(),realScaleType:"band"}:{scale:ap(),realScaleType:"linear"};if(bs(a)){var c="scale".concat(wm(a));return{scale:($5[c]||Lu)(),realScaleType:$5[c]?c:"point"}}return nt(a)?{scale:a}:{scale:Lu(),realScaleType:"point"}},U5=1e-4,n4=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-U5,o=Math.max(a[0],a[1])+U5,s=t(r[0]),c=t(r[n-1]);(s<i||s>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},pte=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},mte=function(t,r){if(!r||r.length!==2||!Le(r[0])||!Le(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Le(t[0])||t[0]<n)&&(i[0]=n),(!Le(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},gte=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var c=Oc(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=i,t[s][n][1]=i+c,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+c,o=t[s][n][1])}},vte=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=Oc(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},yte={sign:gte,expand:mY,none:Fl,silhouette:gY,wiggle:vY,positive:vte},bte=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=yte[n],o=pY().keys(a).value(function(s,c){return+Ar(s,c,0)}).order(S0).offset(i);return o(t)},xte=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,c={},u=s.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?sr(sr({},p.type.defaultProps),p.props):p.props,g=v.stackId,j=v.hide;if(j)return f;var y=v[n],x=f[y]||{hasStack:!1,stackGroups:{}};if(Or(g)){var N=x.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(p),x.hasStack=!0,x.stackGroups[g]=N}else x.stackGroups[Pc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return sr(sr({},f),{},kl({},y,x))},c),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,j){var y=h.stackGroups[j];return sr(sr({},g),{},kl({},j,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:bte(t,y.items,i)}))},v)}return sr(sr({},f),{},kl({},p,h))},d)},a4=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Mee(u,i,s);return t.domain([Mm(d),lo(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),p=$ee(f,i,s);return{niceTicks:p}}return null};function W5(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ft(a[t.dataKey])){var s=Bh(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ar(a,ft(o)?t.dataKey:o);return ft(c)?null:t.scale(c)}var H5=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var c=Ar(o,r.dataKey,r.domain[s]);return ft(c)?null:r.scale(c)-i/2+a},wte=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},jte=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?sr(sr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Or(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},Nte=function(t){return t.reduce(function(r,n){return[Mm(n.concat([r[0]]).filter(Le)),lo(n.concat([r[1]]).filter(Le))]},[1/0,-1/0])},i4=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,c=s.reduce(function(u,d){var f=Nte(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},G5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,V5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K0=function(t,r,n){if(nt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Le(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(G5.test(t[0])){var i=+G5.exec(t[0])[1];a[0]=r[0]-i}else nt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Le(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(V5.test(t[1])){var o=+V5.exec(t[1])[1];a[1]=r[1]+o}else nt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},dp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=rm(r,function(f){return f.coordinate}),o=1/0,s=1,c=i.length;s<c;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Y5=function(t,r,n){return!t||!t.length||vs(t,Dn(n,"type.defaultProps.domain"))?r:t},o4=function(t,r){var n=t.type.defaultProps?sr(sr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return sr(sr({},Xe(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:px(t),value:Ar(r,a),type:c,payload:r,chartType:u,hide:d})};function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function K5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(r),!0).forEach(function(n){s4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s4(e,t,r){return t=Ste(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ste(e){var t=_te(e,"string");return bd(t)=="symbol"?t:t+""}function _te(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ate(e,t){return kte(e)||Ete(e,t)||Pte(e,t)||Ote()}function Ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pte(e,t){if(e){if(typeof e=="string")return X5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X5(e,t)}}function X5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ete(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function kte(e){if(Array.isArray(e))return e}var fp=Math.PI/180,Tte=function(t){return t*180/Math.PI},Vt=function(t,r,n,a){return{x:t+Math.cos(-fp*a)*n,y:r+Math.sin(-fp*a)*n}},l4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Cte=function(t,r,n,a,i){var o=t.width,s=t.height,c=t.startAngle,u=t.endAngle,d=dn(t.cx,o,o/2),f=dn(t.cy,s,s/2),p=l4(o,s,n),h=dn(t.innerRadius,p,0),v=dn(t.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(j,y){var x=r[y],N=x.domain,_=x.reversed,w;if(ft(x.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[h,v]),_&&(w=[w[1],w[0]]);else{w=x.range;var A=w,O=Ate(A,2);c=O[0],u=O[1]}var E=r4(x,i),T=E.realScaleType,$=E.scale;$.domain(N).range(w),n4($);var k=a4($,Oi(Oi({},x),{},{realScaleType:T})),C=Oi(Oi(Oi({},x),k),{},{range:w,radius:v,realScaleType:T,scale:$,cx:d,cy:f,innerRadius:h,outerRadius:v,startAngle:c,endAngle:u});return Oi(Oi({},j),{},s4({},y,C))},{})},Lte=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Mte=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=Lte({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var c=(n-i)/s,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:s,angle:Tte(u),angleInRadian:u}},$te=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Dte=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},J5=function(t,r){var n=t.x,a=t.y,i=Mte({x:n,y:a},r),o=i.radius,s=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=$te(r),f=d.startAngle,p=d.endAngle,h=s,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?Oi(Oi({},r),{},{radius:o,angle:Dte(h,r)}):null},c4=function(t){return!q.isValidElement(t)&&!nt(t)&&typeof t!="boolean"?t.className:""};function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}var Ite=["offset"];function Rte(e){return zte(e)||qte(e)||Bte(e)||Fte()}function Fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bte(e,t){if(e){if(typeof e=="string")return X0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X0(e,t)}}function qte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zte(e){if(Array.isArray(e))return X0(e)}function X0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ute(e,t){if(e==null)return{};var r=Wte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z5(Object(r),!0).forEach(function(n){Hte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hte(e,t,r){return t=Gte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gte(e){var t=Vte(e,"string");return xd(t)=="symbol"?t:t+""}function Vte(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}var Yte=function(t){var r=t.value,n=t.formatter,a=ft(t.children)?r:t.children;return nt(n)?n(a):a},Kte=function(t,r){var n=un(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Xte=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,v=c.endAngle,g=c.clockWise,j=(f+p)/2,y=Kte(h,v),x=y>=0?1:-1,N,_;a==="insideStart"?(N=h+x*o,_=g):a==="insideEnd"?(N=v-x*o,_=!g):a==="end"&&(N=v+x*o,_=g),_=y<=0?_:!_;var w=Vt(u,d,j,N),A=Vt(u,d,j,N+(_?1:-1)*359),O="M".concat(w.x,",").concat(w.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),E=ft(t.id)?Pc("recharts-radial-line-"):t.id;return B.createElement("text",wd({},n,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",s)}),B.createElement("defs",null,B.createElement("path",{id:E,d:O})),B.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Jte=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=Vt(o,s,u+n,p),v=h.x,g=h.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var j=(c+u)/2,y=Vt(o,s,j,p),x=y.x,N=y.y;return{x,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Zte=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,j=g*a,y=g>0?"end":"start",x=g>0?"start":"end";if(i==="top"){var N={x:s+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return _r(_r({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:s+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:v};return _r(_r({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:s-j,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return _r(_r({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var A={x:s+u+j,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return _r(_r({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var O=n?{width:u,height:d}:{};return i==="insideLeft"?_r({x:s+j,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},O):i==="insideRight"?_r({x:s+u-j,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},O):i==="insideTop"?_r({x:s+u/2,y:c+p,textAnchor:"middle",verticalAnchor:v},O):i==="insideBottom"?_r({x:s+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:h},O):i==="insideTopLeft"?_r({x:s+j,y:c+p,textAnchor:x,verticalAnchor:v},O):i==="insideTopRight"?_r({x:s+u-j,y:c+p,textAnchor:y,verticalAnchor:v},O):i==="insideBottomLeft"?_r({x:s+j,y:c+d-p,textAnchor:x,verticalAnchor:h},O):i==="insideBottomRight"?_r({x:s+u-j,y:c+d-p,textAnchor:y,verticalAnchor:h},O):mc(i)&&(Le(i.x)||Zo(i.x))&&(Le(i.y)||Zo(i.y))?_r({x:s+dn(i.x,u),y:c+dn(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):_r({x:s+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Qte=function(t){return"cx"in t&&Le(t.cx)};function Dr(e){var t=e.offset,r=t===void 0?5:t,n=Ute(e,Ite),a=_r({offset:r},n),i=a.viewBox,o=a.position,s=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||ft(s)&&ft(c)&&!q.isValidElement(u)&&!nt(u))return null;if(q.isValidElement(u))return q.cloneElement(u,a);var h;if(nt(u)){if(h=q.createElement(u,a),q.isValidElement(h))return h}else h=Yte(a);var v=Qte(i),g=Xe(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Xte(a,h,g);var j=v?Jte(a):Zte(a);return B.createElement(ws,wd({className:pt("recharts-label",f)},g,j,{breakAll:p}),h)}Dr.displayName="Label";var u4=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,p=t.y,h=t.top,v=t.left,g=t.width,j=t.height,y=t.clockWise,x=t.labelViewBox;if(x)return x;if(Le(g)&&Le(j)){if(Le(f)&&Le(p))return{x:f,y:p,width:g,height:j};if(Le(h)&&Le(v))return{x:h,y:v,width:g,height:j}}return Le(f)&&Le(p)?{x:f,y:p,width:0,height:0}:Le(r)&&Le(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},ere=function(t,r){return t?t===!0?B.createElement(Dr,{key:"label-implicit",viewBox:r}):Or(t)?B.createElement(Dr,{key:"label-implicit",viewBox:r,value:t}):q.isValidElement(t)?t.type===Dr?q.cloneElement(t,{key:"label-implicit",viewBox:r}):B.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):nt(t)?B.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):mc(t)?B.createElement(Dr,wd({viewBox:r},t,{key:"label-implicit"})):null:null},tre=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=u4(t),o=ea(a,Dr).map(function(c,u){return q.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=ere(t.label,r||i);return[s].concat(Rte(o))};Dr.parseViewBox=u4;Dr.renderCallByParent=tre;function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}var rre=["valueAccessor"],nre=["data","dataKey","clockWise","id","textBreakAll"];function are(e){return lre(e)||sre(e)||ore(e)||ire()}function ire(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ore(e,t){if(e){if(typeof e=="string")return J0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J0(e,t)}}function sre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lre(e){if(Array.isArray(e))return J0(e)}function J0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(this,arguments)}function Q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(r),!0).forEach(function(n){cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cre(e,t,r){return t=ure(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ure(e){var t=dre(e,"string");return jd(t)=="symbol"?t:t+""}function dre(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tj(e,t){if(e==null)return{};var r=fre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hre=function(t){return Array.isArray(t.value)?xz(t.value):t.value};function Li(e){var t=e.valueAccessor,r=t===void 0?hre:t,n=tj(e,rre),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,c=n.textBreakAll,u=tj(n,nre);return!a||!a.length?null:B.createElement(Nt,{className:"recharts-label-list"},a.map(function(d,f){var p=ft(i)?r(d,f):Ar(d&&d.payload,i),h=ft(s)?{}:{id:"".concat(s,"-").concat(f)};return B.createElement(Dr,hp({},Xe(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Dr.parseViewBox(ft(o)?d:ej(ej({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Li.displayName="LabelList";function pre(e,t){return e?e===!0?B.createElement(Li,{key:"labelList-implicit",data:t}):B.isValidElement(e)||nt(e)?B.createElement(Li,{key:"labelList-implicit",data:t,content:e}):mc(e)?B.createElement(Li,hp({data:t},e,{key:"labelList-implicit"})):null:null}function mre(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ea(n,Li).map(function(o,s){return q.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=pre(e.label,t);return[i].concat(are(a))}Li.renderCallByParent=mre;function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gre(e,t,r){return t=vre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=yre(e,"string");return Nd(t)=="symbol"?t:t+""}function yre(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bre=function(t,r){var n=un(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},lh=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(s?1:-1)+a,f=Math.asin(c/d)/fp,p=u?i:i+o*f,h=Vt(r,n,d,p),v=Vt(r,n,a,p),g=u?i-o*f:i,j=Vt(r,n,d*Math.cos(f*fp),g);return{center:h,circleTangency:v,lineTangency:j,theta:f}},d4=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,c=bre(o,s),u=o+c,d=Vt(r,n,i,o),f=Vt(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Vt(r,n,a,o),v=Vt(r,n,a,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},xre=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=un(d-u),p=lh({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=p.circleTangency,v=p.lineTangency,g=p.theta,j=lh({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=j.circleTangency,x=j.lineTangency,N=j.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-N;if(_<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):d4({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var A=lh({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=A.circleTangency,E=A.lineTangency,T=A.theta,$=lh({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=$.circleTangency,C=$.lineTangency,D=$.theta,I=c?Math.abs(u-d):Math.abs(u-d)-T-D;if(I<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},wre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f4=function(t){var r=nj(nj({},wre),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(o<i||d===f)return null;var h=pt("recharts-sector",p),v=o-i,g=dn(s,v,0,!0),j;return g>0&&Math.abs(d-f)<360?j=xre({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):j=d4({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),B.createElement("path",Z0({},Xe(r,!0),{className:h,d:j,role:"img"}))};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}function aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(r),!0).forEach(function(n){jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jre(e,t,r){return t=Nre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=Sre(e,"string");return Sd(t)=="symbol"?t:t+""}function Sre(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oj={curveBasisClosed:nY,curveBasisOpen:aY,curveBasis:rY,curveBumpX:zV,curveBumpY:UV,curveLinearClosed:iY,curveLinear:Nm,curveMonotoneX:oY,curveMonotoneY:sY,curveNatural:lY,curveStep:cY,curveStepAfter:dY,curveStepBefore:uY},ch=function(t){return t.x===+t.x&&t.y===+t.y},ju=function(t){return t.x},Nu=function(t){return t.y},_re=function(t,r){if(nt(t))return t;var n="curve".concat(wm(t));return(n==="curveMonotone"||n==="curveBump")&&r?oj["".concat(n).concat(r==="vertical"?"Y":"X")]:oj[n]||Nm},Are=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=_re(n,s),f=u?i.filter(function(g){return ch(g)}):i,p;if(Array.isArray(o)){var h=u?o.filter(function(g){return ch(g)}):o,v=f.map(function(g,j){return ij(ij({},g),{},{base:h[j]})});return s==="vertical"?p=eh().y(Nu).x1(ju).x0(function(g){return g.base.x}):p=eh().x(ju).y1(Nu).y0(function(g){return g.base.y}),p.defined(ch).curve(d),p(v)}return s==="vertical"&&Le(o)?p=eh().y(Nu).x1(ju).x0(o):Le(o)?p=eh().x(ju).y1(Nu).y0(o):p=EA().x(ju).y(Nu),p.defined(ch).curve(d),p(f)},Tl=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Are(t):a;return B.createElement("path",Q0({},Xe(t,!1),qh(t),{className:pt("recharts-curve",r),d:o,ref:i}))},Ore=Object.getOwnPropertyNames,Pre=Object.getOwnPropertySymbols,Ere=Object.prototype.hasOwnProperty;function sj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function uh(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function lj(e){return Ore(e).concat(Pre(e))}var kre=Object.hasOwn||function(e,t){return Ere.call(e,t)};function ks(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Tre="__v",Cre="__o",Lre="_owner",cj=Object.getOwnPropertyDescriptor,uj=Object.keys;function Mre(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $re(e,t){return ks(e.getTime(),t.getTime())}function Dre(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ire(e,t){return e===t}function dj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var p=o.value,h=s.value;if(r.equals(p[0],h[0],c,f,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Rre=ks;function Fre(e,t,r){var n=uj(e),a=n.length;if(uj(t).length!==a)return!1;for(;a-- >0;)if(!h4(e,t,r,n[a]))return!1;return!0}function Su(e,t,r){var n=lj(e),a=n.length;if(lj(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!h4(e,t,r,i)||(o=cj(e,i),s=cj(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Bre(e,t){return ks(e.valueOf(),t.valueOf())}function qre(e,t){return e.source===t.source&&e.flags===t.flags}function fj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(s=c.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function zre(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Ure(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function h4(e,t,r,n){return(n===Lre||n===Cre||n===Tre)&&(e.$$typeof||t.$$typeof)?!0:kre(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Wre="[object Arguments]",Hre="[object Boolean]",Gre="[object Date]",Vre="[object Error]",Yre="[object Map]",Kre="[object Number]",Xre="[object Object]",Jre="[object RegExp]",Zre="[object Set]",Qre="[object String]",ene="[object URL]",tne=Array.isArray,hj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,pj=Object.assign,rne=Object.prototype.toString.call.bind(Object.prototype.toString);function nne(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(v,g,j){if(v===g)return!0;if(v==null||g==null)return!1;var y=typeof v;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?o(v,g,j):y==="function"?a(v,g,j):!1;var x=v.constructor;if(x!==g.constructor)return!1;if(x===Object)return s(v,g,j);if(tne(v))return t(v,g,j);if(hj!=null&&hj(v))return f(v,g,j);if(x===Date)return r(v,g,j);if(x===RegExp)return u(v,g,j);if(x===Map)return i(v,g,j);if(x===Set)return d(v,g,j);var N=rne(v);return N===Gre?r(v,g,j):N===Jre?u(v,g,j):N===Yre?i(v,g,j):N===Zre?d(v,g,j):N===Xre?typeof v.then!="function"&&typeof g.then!="function"&&s(v,g,j):N===ene?p(v,g,j):N===Vre?n(v,g,j):N===Wre?s(v,g,j):N===Hre||N===Kre||N===Qre?c(v,g,j):!1}}function ane(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Su:Mre,areDatesEqual:$re,areErrorsEqual:Dre,areFunctionsEqual:Ire,areMapsEqual:n?sj(dj,Su):dj,areNumbersEqual:Rre,areObjectsEqual:n?Su:Fre,arePrimitiveWrappersEqual:Bre,areRegExpsEqual:qre,areSetsEqual:n?sj(fj,Su):fj,areTypedArraysEqual:n?Su:zre,areUrlsEqual:Ure};if(r&&(a=pj({},a,r(a))),t){var i=uh(a.areArraysEqual),o=uh(a.areMapsEqual),s=uh(a.areObjectsEqual),c=uh(a.areSetsEqual);a=pj({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return a}function ine(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function one(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,p=f===void 0?t?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:p,equals:a,meta:h,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var sne=jo();jo({strict:!0});jo({circular:!0});jo({circular:!0,strict:!0});jo({createInternalComparator:function(){return ks}});jo({strict:!0,createInternalComparator:function(){return ks}});jo({circular:!0,createInternalComparator:function(){return ks}});jo({circular:!0,createInternalComparator:function(){return ks},strict:!0});function jo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=ane(e),c=nne(s),u=n?n(c):ine(c);return one({circular:r,comparator:c,createState:a,equals:u,strict:o})}function lne(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function mj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):lne(a)};requestAnimationFrame(n)}function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function cne(e){return hne(e)||fne(e)||dne(e)||une()}function une(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dne(e,t){if(e){if(typeof e=="string")return gj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gj(e,t)}}function gj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hne(e){if(Array.isArray(e))return e}function pne(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=cne(o),c=s[0],u=s.slice(1);if(typeof c=="number"){mj(a.bind(null,u),c);return}a(c),mj(a.bind(null,u));return}ey(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){p4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p4(e,t,r){return t=mne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mne(e){var t=gne(e,"string");return _d(t)==="symbol"?t:String(t)}function gne(e,t){if(_d(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vne=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},yne=function(t){return t},bne=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$u=function(t,r){return Object.keys(r).reduce(function(n,a){return yj(yj({},n),{},p4({},a,t(a,r[a])))},{})},bj=function(t,r,n){return t.map(function(a){return"".concat(bne(a)," ").concat(r,"ms ").concat(n)}).join(",")};function xne(e,t){return Nne(e)||jne(e,t)||m4(e,t)||wne()}function wne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Nne(e){if(Array.isArray(e))return e}function Sne(e){return One(e)||Ane(e)||m4(e)||_ne()}function _ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m4(e,t){if(e){if(typeof e=="string")return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}}function Ane(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function One(e){if(Array.isArray(e))return ty(e)}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pp=1e-4,g4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},v4=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},xj=function(t,r){return function(n){var a=g4(t,r);return v4(a,n)}},Pne=function(t,r){return function(n){var a=g4(t,r),i=[].concat(Sne(a.map(function(o,s){return o*s}).slice(1)),[0]);return v4(i,n)}},wj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),d=xne(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=xj(a,o),p=xj(i,s),h=Pne(a,o),v=function(y){return y>1?1:y<0?0:y},g=function(y){for(var x=y>1?1:y,N=x,_=0;_<8;++_){var w=f(N)-x,A=h(N);if(Math.abs(w-x)<pp||A<pp)return p(N);N=v(N-w/A)}return p(N)};return g.isStepper=!1,g},Ene=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,c=function(d,f,p){var h=-(d-f)*n,v=p*i,g=p+(h-v)*s/1e3,j=p*s/1e3+d;return Math.abs(j-f)<pp&&Math.abs(g)<pp?[f,0]:[j,g]};return c.isStepper=!0,c.dt=s,c},kne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wj(a);case"spring":return Ene();default:if(a.split("(")[0]==="cubic-bezier")return wj(a)}return typeof a=="function"?a:null};function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function jj(e){return Lne(e)||Cne(e)||y4(e)||Tne()}function Tne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lne(e){if(Array.isArray(e))return ny(e)}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){ry(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ry(e,t,r){return t=Mne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mne(e){var t=$ne(e,"string");return Ad(t)==="symbol"?t:String(t)}function $ne(e,t){if(Ad(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dne(e,t){return Fne(e)||Rne(e,t)||y4(e,t)||Ine()}function Ine(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4(e,t){if(e){if(typeof e=="string")return ny(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ny(e,t)}}function ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Fne(e){if(Array.isArray(e))return e}var mp=function(t,r,n){return t+(r-t)*n},ay=function(t){var r=t.from,n=t.to;return r!==n},Bne=function e(t,r,n){var a=$u(function(i,o){if(ay(o)){var s=t(o.from,o.to,o.velocity),c=Dne(s,2),u=c[0],d=c[1];return qr(qr({},o),{},{from:u,velocity:d})}return o},r);return n<1?$u(function(i,o){return ay(o)?qr(qr({},o),{},{velocity:mp(o.velocity,a[i].velocity,n),from:mp(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const qne=function(e,t,r,n,a){var i=vne(e,t),o=i.reduce(function(j,y){return qr(qr({},j),{},ry({},y,[e[y],t[y]]))},{}),s=i.reduce(function(j,y){return qr(qr({},j),{},ry({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return $u(function(y,x){return x.from},s)},h=function(){return!Object.values(s).filter(ay).length},v=function(y){u||(u=y);var x=y-u,N=x/r.dt;s=Bne(r,s,N),a(qr(qr(qr({},e),t),p())),u=y,h()||(c=requestAnimationFrame(f))},g=function(y){d||(d=y);var x=(y-d)/n,N=$u(function(w,A){return mp.apply(void 0,jj(A).concat([r(x)]))},o);if(a(qr(qr(qr({},e),t),N)),x<1)c=requestAnimationFrame(f);else{var _=$u(function(w,A){return mp.apply(void 0,jj(A).concat([r(1)]))},o);a(qr(qr(qr({},e),t),_))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}var zne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Une(e,t){if(e==null)return{};var r=Wne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wne(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Pv(e){return Yne(e)||Vne(e)||Gne(e)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gne(e,t){if(e){if(typeof e=="string")return iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iy(e,t)}}function Vne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yne(e){if(Array.isArray(e))return iy(e)}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){Ou(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ou(e,t,r){return t=b4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b4(n.key),n)}}function Jne(e,t,r){return t&&Xne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b4(e){var t=Zne(e,"string");return Yl(t)==="symbol"?t:String(t)}function Zne(e,t){if(Yl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oy(e,t)}function eae(e){var t=tae();return function(){var n=gp(e),a;if(t){var i=gp(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return sy(this,a)}}function sy(e,t){if(t&&(Yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ly(e)}function ly(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gp(e){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gp(e)}var ui=function(e){Qne(r,e);var t=eae(r);function r(n,a){var i;Kne(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,p=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ly(i)),i.changeStyle=i.changeStyle.bind(ly(i)),!s||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),sy(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},sy(i);i.state={style:c?Ou({},c,u):u}}else i.state={style:{}};return i}return Jne(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(s){if(!o){var h={style:c?Ou({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(h);return}if(!(sne(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:a.to;if(this.state&&p){var j={style:c?Ou({},c,g):g};(c&&p[c]!==g||!c&&p!==g)&&this.setState(j)}this.runAnimation(wa(wa({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=qne(o,s,kne(u),c,this.changeStyle),v=function(){i.stopJSAnimation=h()};this.manager.start([p,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(g,j,y){if(y===0)return g;var x=j.duration,N=j.easing,_=N===void 0?"ease":N,w=j.style,A=j.properties,O=j.onAnimationEnd,E=y>0?o[y-1]:j,T=A||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Pv(g),[i.runJSAnimation.bind(i,{from:E.style,to:w,duration:x,easing:_}),x]);var $=bj(T,x,_),k=wa(wa(wa({},E.style),w),{},{transition:$});return[].concat(Pv(g),[k,x,O]).filter(yne)};return this.manager.start([c].concat(Pv(o.reduce(h,[d,Math.max(p,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=pne());var i=a.begin,o=a.duration,s=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var g=s?Ou({},s,c):c,j=bj(Object.keys(g),o,u);v.start([d,i,wa(wa({},g),{},{transition:j}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Une(a,zne),u=q.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(h){var v=h.props,g=v.style,j=g===void 0?{}:g,y=v.className,x=q.cloneElement(h,wa(wa({},c),{},{style:wa(wa({},j),d),className:y}));return x};return u===1?f(q.Children.only(i)):B.createElement("div",null,q.Children.map(i,function(p){return f(p)}))}}]),r}(q.PureComponent);ui.displayName="Animate";ui.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ui.propTypes={from:Se.oneOfType([Se.object,Se.string]),to:Se.oneOfType([Se.object,Se.string]),attributeName:Se.string,duration:Se.number,begin:Se.number,easing:Se.oneOfType([Se.string,Se.func]),steps:Se.arrayOf(Se.shape({duration:Se.number.isRequired,style:Se.object.isRequired,easing:Se.oneOfType([Se.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Se.func]),properties:Se.arrayOf("string"),onAnimationEnd:Se.func})),children:Se.oneOfType([Se.node,Se.func]),isActive:Se.bool,canBegin:Se.bool,onAnimationEnd:Se.func,shouldReAnimate:Se.bool,onAnimationStart:Se.func,onAnimationReStart:Se.func};function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(this,arguments)}function rae(e,t){return oae(e)||iae(e,t)||aae(e,t)||nae()}function nae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aae(e,t){if(e){if(typeof e=="string")return _j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _j(e,t)}}function _j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function oae(e){if(Array.isArray(e))return e}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){sae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sae(e,t,r){return t=lae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lae(e){var t=cae(e,"string");return Od(t)=="symbol"?t:t+""}function cae(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pj=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>o?o:i[p];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*v,`
            L `).concat(t+n,",").concat(r+a-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},uae=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,c=r.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+c),p=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=p}return!1},dae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mx=function(t){var r=Oj(Oj({},dae),t),n=q.useRef(),a=q.useState(-1),i=rae(a,2),o=i[0],s=i[1];q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,v=r.animationEasing,g=r.animationDuration,j=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=pt("recharts-rectangle",h);return x?B.createElement(ui,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:x},function(_){var w=_.width,A=_.height,O=_.x,E=_.y;return B.createElement(ui,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:g,isActive:y,easing:v},B.createElement("path",vp({},Xe(r,!0),{className:N,d:Pj(O,E,w,A,p),ref:n})))}):B.createElement("path",vp({},Xe(r,!0),{className:N,d:Pj(c,u,d,f,p)}))},fae=["points","className","baseLinePoints","connectNulls"];function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(this,arguments)}function hae(e,t){if(e==null)return{};var r=pae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ej(e){return yae(e)||vae(e)||gae(e)||mae()}function mae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gae(e,t){if(e){if(typeof e=="string")return cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cy(e,t)}}function vae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yae(e){if(Array.isArray(e))return cy(e)}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kj=function(t){return t&&t.x===+t.x&&t.y===+t.y},bae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){kj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),kj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Du=function(t,r){var n=bae(t);r&&(n=[n.reduce(function(i,o){return[].concat(Ej(i),Ej(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},xae=function(t,r,n){var a=Du(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Du(r.reverse(),n).slice(1))},wae=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=hae(t,fae);if(!r||!r.length)return null;var s=pt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=xae(r,a,i);return B.createElement("g",{className:s},B.createElement("path",bl({},Xe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?B.createElement("path",bl({},Xe(o,!0),{fill:"none",d:Du(r,i)})):null,c?B.createElement("path",bl({},Xe(o,!0),{fill:"none",d:Du(a,i)})):null)}var d=Du(r,i);return B.createElement("path",bl({},Xe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}var Rm=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=pt("recharts-dot",i);return r===+r&&n===+n&&a===+a?B.createElement("circle",uy({},Xe(t,!1),qh(t),{className:o,cx:r,cy:n,r:a})):null};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}var jae=["x","y","top","left","width","height","className"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(this,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){Sae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sae(e,t,r){return t=_ae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=Aae(e,"string");return Pd(t)=="symbol"?t:t+""}function Aae(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oae(e,t){if(e==null)return{};var r=Pae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Eae=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},kae=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,p=t.height,h=p===void 0?0:p,v=t.className,g=Oae(t,jae),j=Nae({x:n,y:i,top:s,left:u,width:f,height:h},g);return!Le(n)||!Le(i)||!Le(f)||!Le(h)||!Le(s)||!Le(u)?null:B.createElement("path",dy({},Xe(j,!0),{className:pt("recharts-cross",v),d:Eae(n,i,f,h,s,u)}))},Tae=Lm,Cae=M3,Lae=Da;function Mae(e,t){return e&&e.length?Tae(e,Lae(t),Cae):void 0}var $ae=Mae;const Dae=wt($ae);var Iae=Lm,Rae=Da,Fae=$3;function Bae(e,t){return e&&e.length?Iae(e,Rae(t),Fae):void 0}var qae=Bae;const zae=wt(qae);var Uae=["cx","cy","angle","ticks","axisLine"],Wae=["ticks","tick","angle","tickFormatter","stroke"];function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iu.apply(this,arguments)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){Fm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lj(e,t){if(e==null)return{};var r=Hae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w4(n.key),n)}}function Vae(e,t,r){return t&&Mj(e.prototype,t),r&&Mj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yae(e,t,r){return t=yp(t),Kae(e,x4()?Reflect.construct(t,r||[],yp(e).constructor):t.apply(e,r))}function Kae(e,t){if(t&&(Kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xae(e)}function Xae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!e})()}function yp(e){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yp(e)}function Jae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fy(e,t)}function fy(e,t){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fy(e,t)}function Fm(e,t,r){return t=w4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w4(e){var t=Zae(e,"string");return Kl(t)=="symbol"?t:t+""}function Zae(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bm=function(e){function t(){return Gae(this,t),Yae(this,t,arguments)}return Jae(t,e),Vae(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,c=i.cy;return Vt(s,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,c=Dae(s,function(d){return d.coordinate||0}),u=zae(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,c=n.axisLine,u=Lj(n,Uae),d=s.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=Vt(a,i,d[0],o),p=Vt(a,i,d[1],o),h=Bo(Bo(Bo({},Xe(u,!1)),{},{fill:"none"},Xe(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return B.createElement("line",Iu({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,c=a.tickFormatter,u=a.stroke,d=Lj(a,Wae),f=this.getTickTextAnchor(),p=Xe(d,!1),h=Xe(o,!1),v=i.map(function(g,j){var y=n.getTickValueCoord(g),x=Bo(Bo(Bo(Bo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:j},y),{},{payload:g});return B.createElement(Nt,Iu({className:pt("recharts-polar-radius-axis-tick",c4(o)),key:"tick-".concat(g.coordinate)},xs(n.props,g,j)),t.renderTickItem(o,x,c?c(g.value,j):g.value))});return B.createElement(Nt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:B.createElement(Nt,{className:pt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Dr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):nt(n)?o=n(a):o=B.createElement(ws,Iu({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(q.PureComponent);Fm(Bm,"displayName","PolarRadiusAxis");Fm(Bm,"axisType","radiusAxis");Fm(Bm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){qm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N4(n.key),n)}}function eie(e,t,r){return t&&Dj(e.prototype,t),r&&Dj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tie(e,t,r){return t=bp(t),rie(e,j4()?Reflect.construct(t,r||[],bp(e).constructor):t.apply(e,r))}function rie(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nie(e)}function nie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!e})()}function bp(e){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bp(e)}function aie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hy(e,t)}function qm(e,t,r){return t=N4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N4(e){var t=iie(e,"string");return Xl(t)=="symbol"?t:t+""}function iie(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oie=Math.PI/180,Ij=1e-5,zm=function(e){function t(){return Qae(this,t),tie(this,t,arguments)}return aie(t,e),eie(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Vt(i,o,s,n.coordinate),p=Vt(i,o,s+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*oie),o;return i>Ij?o=a==="outer"?"start":"end":i<-Ij?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,c=n.axisLineType,u=qo(qo({},Xe(this.props,!1)),{},{fill:"none"},Xe(s,!1));if(c==="circle")return B.createElement(Rm,Jo({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(p){return Vt(a,i,o,p.coordinate)});return B.createElement(wae,Jo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Xe(this.props,!1),f=Xe(o,!1),p=qo(qo({},d),{},{fill:"none"},Xe(s,!1)),h=i.map(function(v,g){var j=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),x=qo(qo(qo({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:v,x:j.x2,y:j.y2});return B.createElement(Nt,Jo({className:pt("recharts-polar-angle-axis-tick",c4(o)),key:"tick-".concat(v.coordinate)},xs(n.props,v,g)),s&&B.createElement("line",Jo({className:"recharts-polar-angle-axis-tick-line"},p,j)),o&&t.renderTickItem(o,x,c?c(v.value,g):v.value))});return B.createElement(Nt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:B.createElement(Nt,{className:pt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):nt(n)?o=n(a):o=B.createElement(ws,Jo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(q.PureComponent);qm(zm,"displayName","PolarAngleAxis");qm(zm,"axisType","angleAxis");qm(zm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var sie=Ri,lie=$a,cie="[object Boolean]";function uie(e){return e===!0||e===!1||lie(e)&&sie(e)==cie}var die=uie;const fie=wt(die);function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(this,arguments)}function hie(e,t){return vie(e)||gie(e,t)||mie(e,t)||pie()}function pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(e,t){if(e){if(typeof e=="string")return Rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rj(e,t)}}function Rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function vie(e){if(Array.isArray(e))return e}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){yie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yie(e,t,r){return t=bie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bie(e){var t=xie(e,"string");return Ed(t)=="symbol"?t:t+""}function xie(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qj=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},wie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jie=function(t){var r=Bj(Bj({},wie),t),n=q.useRef(),a=q.useState(-1),i=hie(a,2),o=i[0],s=i[1];q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&s(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,v=r.animationEasing,g=r.animationDuration,j=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var x=pt("recharts-trapezoid",h);return y?B.createElement(ui,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:g,animationEasing:v,isActive:y},function(N){var _=N.upperWidth,w=N.lowerWidth,A=N.height,O=N.x,E=N.y;return B.createElement(ui,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:g,easing:v},B.createElement("path",xp({},Xe(r,!0),{className:x,d:qj(O,E,_,w,A),ref:n})))}):B.createElement("g",null,B.createElement("path",xp({},Xe(r,!0),{className:x,d:qj(c,u,d,f,p)})))},Nie=["option","shapeType","propTransformer","activeClassName","isActive"];function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function Sie(e,t){if(e==null)return{};var r=_ie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){Aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aie(e,t,r){return t=Oie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oie(e){var t=Pie(e,"string");return kd(t)=="symbol"?t:t+""}function Pie(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eie(e,t){return wp(wp({},t),e)}function kie(e,t){return e==="symbols"}function Uj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return B.createElement(mx,r);case"trapezoid":return B.createElement(jie,r);case"sector":return B.createElement(f4,r);case"symbols":if(kie(t))return B.createElement(qb,r);break;default:return null}}function Tie(e){return q.isValidElement(e)?e.props:e}function S4(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Eie:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,c=Sie(e,Nie),u;if(q.isValidElement(t))u=q.cloneElement(t,wp(wp({},c),Tie(t)));else if(nt(t))u=t(c);else if(Bz(t)&&!fie(t)){var d=a(t,c);u=B.createElement(Uj,{shapeType:r,elementProps:d})}else{var f=c;u=B.createElement(Uj,{shapeType:r,elementProps:f})}return s?B.createElement(Nt,{className:o},u):u}function Um(e,t){return t!=null&&"trapezoids"in e.props}function Wm(e,t){return t!=null&&"sectors"in e.props}function Td(e,t){return t!=null&&"points"in e.props}function Cie(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Lie(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Mie(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function $ie(e,t){var r;return Um(e,t)?r=Cie:Wm(e,t)?r=Lie:Td(e,t)&&(r=Mie),r}function Die(e,t){var r;return Um(e,t)?r="trapezoids":Wm(e,t)?r="sectors":Td(e,t)&&(r="points"),r}function Iie(e,t){if(Um(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Wm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Td(e,t)?t.payload:{}}function Rie(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Die(r,t),i=Iie(r,t),o=n.filter(function(c,u){var d=vs(i,c),f=r.props[a].filter(function(v){var g=$ie(r,t);return g(v,t)}),p=r.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),s=n.indexOf(o[o.length-1]);return s}var Nh;function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(this,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){Xn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A4(n.key),n)}}function Bie(e,t,r){return t&&Hj(e.prototype,t),r&&Hj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qie(e,t,r){return t=jp(t),zie(e,_4()?Reflect.construct(t,r||[],jp(e).constructor):t.apply(e,r))}function zie(e,t){if(t&&(Jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uie(e)}function Uie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_4=function(){return!!e})()}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jp(e)}function Wie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&py(e,t)}function py(e,t){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},py(e,t)}function Xn(e,t,r){return t=A4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A4(e){var t=Hie(e,"string");return Jl(t)=="symbol"?t:t+""}function Hie(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bi=function(e){function t(r){var n;return Fie(this,t),n=qie(this,t,[r]),Xn(n,"pieRef",null),Xn(n,"sectorRefs",[]),Xn(n,"id",Pc("recharts-pie-")),Xn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),nt(a)&&a()}),Xn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),nt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Wie(t,e),Bie(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,c=i.dataKey,u=i.valueKey,d=Xe(this.props,!1),f=Xe(o,!1),p=Xe(s,!1),h=o&&o.offsetRadius||20,v=n.map(function(g,j){var y=(g.startAngle+g.endAngle)/2,x=Vt(g.cx,g.cy,g.outerRadius+h,y),N=Ht(Ht(Ht(Ht({},d),g),{},{stroke:"none"},f),{},{index:j,textAnchor:t.getTextAnchor(x.x,g.cx)},x),_=Ht(Ht(Ht(Ht({},d),g),{},{fill:"none",stroke:g.fill},p),{},{index:j,points:[Vt(g.cx,g.cy,g.outerRadius,y),x]}),w=c;return ft(c)&&ft(u)?w="value":ft(c)&&(w=u),B.createElement(Nt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(j)},s&&t.renderLabelLineItem(s,_,"line"),t.renderLabelItem(o,N,Ar(g,w)))});return B.createElement(Nt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),p=c&&a.hasActiveIndex()?c:null,h=f?o:p,v=Ht(Ht({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return B.createElement(Nt,xl({ref:function(j){j&&!a.sectorRefs.includes(j)&&a.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},xs(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),B.createElement(S4,xl({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return B.createElement(ui,{begin:s,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,j=[],y=i&&i[0],x=y.startAngle;return i.forEach(function(N,_){var w=p&&p[_],A=_>0?Dn(N,"paddingAngle",0):0;if(w){var O=bn(w.endAngle-w.startAngle,N.endAngle-N.startAngle),E=Ht(Ht({},N),{},{startAngle:x+A,endAngle:x+O(g)+A});j.push(E),x=E.endAngle}else{var T=N.endAngle,$=N.startAngle,k=bn(0,T-$),C=k(g),D=Ht(Ht({},N),{},{startAngle:x+A,endAngle:x+C+A});j.push(D),x=D.endAngle}}),B.createElement(Nt,null,n.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!vs(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,p=a.outerRadius,h=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Le(u)||!Le(d)||!Le(f)||!Le(p))return null;var g=pt("recharts-pie",s);return B.createElement(Nt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),Dr.renderCallByParent(this.props,null,!1),(!h||v)&&Li.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(B.isValidElement(n))return B.cloneElement(n,a);if(nt(n))return n(a);var o=pt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return B.createElement(Tl,xl({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(B.isValidElement(n))return B.cloneElement(n,a);var o=i;if(nt(n)&&(o=n(a),B.isValidElement(o)))return o;var s=pt("recharts-pie-label-text",typeof n!="boolean"&&!nt(n)?n.className:"");return B.createElement(ws,xl({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(q.PureComponent);Nh=Bi;Xn(Bi,"displayName","Pie");Xn(Bi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Os.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xn(Bi,"parseDeltaAngle",function(e,t){var r=un(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Xn(Bi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Xe(e,!1),a=ea(r,Am);return t&&t.length?t.map(function(i,o){return Ht(Ht(Ht({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ht(Ht({},n),i.props)}):[]});Xn(Bi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=l4(a,i),s=n+dn(e.cx,a,a/2),c=r+dn(e.cy,i,i/2),u=dn(e.innerRadius,o,0),d=dn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Xn(Bi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ht(Ht({},t.type.defaultProps),t.props):t.props,a=Nh.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),v=Nh.parseCoordinateOfPie(n,r),g=Nh.parseDeltaAngle(o,s),j=Math.abs(g),y=u;ft(u)&&ft(f)?(ka(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):ft(u)&&(ka(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=a.filter(function(E){return Ar(E,y,0)!==0}).length,N=(j>=360?x:x-1)*c,_=j-x*h-N,w=a.reduce(function(E,T){var $=Ar(T,y,0);return E+(Le($)?$:0)},0),A;if(w>0){var O;A=a.map(function(E,T){var $=Ar(E,y,0),k=Ar(E,d,T),C=(Le($)?$:0)/w,D;T?D=O.endAngle+un(g)*c*($!==0?1:0):D=o;var I=D+un(g)*(($!==0?h:0)+C*_),H=(D+I)/2,V=(v.innerRadius+v.outerRadius)/2,X=[{name:k,value:$,payload:E,dataKey:y,type:p}],J=Vt(v.cx,v.cy,V,H);return O=Ht(Ht(Ht({percent:C,cornerRadius:i,name:k,tooltipPayload:X,midAngle:H,middleRadius:V,tooltipPosition:J},E),v),{},{value:Ar(E,y),startAngle:D,endAngle:I,payload:E,paddingAngle:un(g)*c}),O})}return Ht(Ht({},v),{},{sectors:A,data:a})});function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){O4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O4(e,t,r){return t=Gie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gie(e){var t=Vie(e,"string");return Cd(t)=="symbol"?t:t+""}function Vie(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yie=["Webkit","Moz","O","ms"],Kie=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Yie.reduce(function(i,o){return Vj(Vj({},i),{},O4({},o+n,r))},{});return a[t]=r,a};function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(this,arguments)}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ev(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){Tn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E4(n.key),n)}}function Jie(e,t,r){return t&&Kj(e.prototype,t),r&&Kj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zie(e,t,r){return t=Sp(t),Qie(e,P4()?Reflect.construct(t,r||[],Sp(e).constructor):t.apply(e,r))}function Qie(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eoe(e)}function eoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P4=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(e)}function toe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}function my(e,t){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},my(e,t)}function Tn(e,t,r){return t=E4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4(e){var t=roe(e,"string");return Zl(t)=="symbol"?t:t+""}function roe(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var noe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Lu().domain(ed(0,c)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},Xj=function(t){return t.changedTouches&&!!t.changedTouches.length},Ql=function(e){function t(r){var n;return Xie(this,t),n=Zie(this,t,[r]),Tn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Tn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Tn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),Tn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Tn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Tn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Tn(n,"handleSlideDragStart",function(a){var i=Xj(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return toe(t,e),Jie(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),h=t.getIndexInRange(o,f),v=t.getIndexInRange(o,p);return{startIndex:h-h%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,c=Ar(i[n],s,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,v=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-s,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-s));var j=this.getIndex({startX:o+g,endX:s+g});(j.startIndex!==p||j.endIndex!==h)&&v&&v(j),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Xj(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,v=d.onChange,g=d.gap,j=d.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+p-h-u):x<0&&(x=Math.max(x,f-u)),y[o]=u+x;var N=this.getIndex(y),_=N.startIndex,w=N.endIndex,A=function(){var E=j.length-1;return o==="startX"&&(s>c?_%g===0:w%g===0)||s<c&&w===E||o==="endX"&&(s>c?w%g===0:_%g===0)||s>c&&w===E};this.setState(Tn(Tn({},o,u+x),"brushMoveStartX",n.pageX),function(){v&&A()&&v(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=s.length)){var h=s[p];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(Tn({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.fill,u=n.stroke;return B.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.data,u=n.children,d=n.padding,f=q.Children.only(u);return f?B.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,v=c.data,g=c.startIndex,j=c.endIndex,y=Math.max(n,this.props.x),x=Ev(Ev({},Xe(this.props,!1)),{},{x:y,y:u,width:d,height:f}),N=h||"Min value: ".concat((i=v[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[j])===null||o===void 0?void 0:o.name);return B.createElement(Nt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,v={pointerEvents:"none",fill:u};return B.createElement(Nt,{className:"recharts-brush-texts"},B.createElement(ws,Np({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+s/2},v),this.getTextOfTick(a)),B.createElement(ws,Np({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:o+s/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,v=p.endX,g=p.isTextActive,j=p.isSlideMoving,y=p.isTravellerMoving,x=p.isTravellerFocused;if(!a||!a.length||!Le(s)||!Le(c)||!Le(u)||!Le(d)||u<=0||d<=0)return null;var N=pt("recharts-brush",i),_=B.Children.count(o)===1,w=Kie("userSelect","none");return B.createElement(Nt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(g||j||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,c=n.stroke,u=Math.floor(i+s/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:a,y:i,width:o,height:s,fill:c,stroke:"none"}),B.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return B.isValidElement(n)?i=B.cloneElement(n,a):nt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Ev({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?noe({data:i,width:o,x:s,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([s,s+o-c]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var c=Math.floor((o+s)/2);n[c]>a?s=c:o=c}return a>=n[s]?s:o}}])}(q.PureComponent);Tn(Ql,"displayName","Brush");Tn(Ql,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aoe=Nb;function ioe(e,t){var r;return aoe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var ooe=ioe,soe=t_,loe=Da,coe=ooe,uoe=rn,doe=vc;function foe(e,t,r){var n=uoe(e)?soe:coe;return r&&doe(e,t,r)&&(t=void 0),n(e,loe(t))}var hoe=foe;const poe=wt(hoe);var oi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r};function moe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var goe=moe,voe=Nb;function yoe(e,t){var r=!0;return voe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var boe=yoe,xoe=goe,woe=boe,joe=Da,Noe=rn,Soe=vc;function _oe(e,t,r){var n=Noe(e)?xoe:woe;return r&&Soe(e,t,r)&&(t=void 0),n(e,joe(t))}var Aoe=_oe;const k4=wt(Aoe);var Ooe=["x","y"];function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){Poe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Poe(e,t,r){return t=Eoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eoe(e){var t=koe(e,"string");return Ld(t)=="symbol"?t:t+""}function koe(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Toe(e,t){if(e==null)return{};var r=Coe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Coe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Loe(e,t){var r=e.x,n=e.y,a=Toe(e,Ooe),i="".concat(r),o=parseInt(i,10),s="".concat(n),c=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),p=parseInt(f,10);return _u(_u(_u(_u(_u({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function Zj(e){return B.createElement(S4,gy({shapeType:"rectangle",propTransformer:Loe,activeClassName:"recharts-active-bar"},e))}var Moe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||Ns(),r)}},$oe=["value","background"],T4;function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function Doe(e,t){if(e==null)return{};var r=Ioe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ioe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(this,arguments)}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){co(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Roe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L4(n.key),n)}}function Foe(e,t,r){return t&&eN(e.prototype,t),r&&eN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Boe(e,t,r){return t=Ap(t),qoe(e,C4()?Reflect.construct(t,r||[],Ap(e).constructor):t.apply(e,r))}function qoe(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zoe(e)}function zoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!e})()}function Ap(e){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(e)}function Uoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vy(e,t)}function co(e,t,r){return t=L4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4(e){var t=Woe(e,"string");return ec(t)=="symbol"?t:t+""}function Woe(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zd=function(e){function t(){var r;Roe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Boe(this,t,[].concat(a)),co(r,"state",{isAnimationFinished:!1}),co(r,"id",Pc("recharts-bar-")),co(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),co(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Uoe(t,e),Foe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Xe(this.props,!1);return n&&n.map(function(f,p){var h=p===c,v=h?u:o,g=xr(xr(xr({},d),f),{},{isActive:h,option:v,index:p,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return B.createElement(Nt,_p({className:"recharts-bar-rectangle"},xs(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),B.createElement(Zj,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return B.createElement(ui,{begin:c,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,g=i.map(function(j,y){var x=p&&p[y];if(x){var N=bn(x.x,j.x),_=bn(x.y,j.y),w=bn(x.width,j.width),A=bn(x.height,j.height);return xr(xr({},j),{},{x:N(v),y:_(v),width:w(v),height:A(v)})}if(o==="horizontal"){var O=bn(0,j.height),E=O(v);return xr(xr({},j),{},{y:j.y+j.height-E,height:E})}var T=bn(0,j.width),$=T(v);return xr(xr({},j),{},{width:$})});return B.createElement(Nt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!vs(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,c=Xe(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=Doe(u,$oe);if(!f)return null;var h=xr(xr(xr(xr(xr({},p),{},{fill:"#eee"},f),c),xs(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return B.createElement(Zj,_p({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ea(d,Im);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,h=function(j,y){var x=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:x,errorVal:Ar(j,y)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return B.createElement(Nt,v,f.map(function(g){return B.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,v=n.background,g=n.id;if(a||!i||!i.length)return null;var j=this.state.isAnimationFinished,y=pt("recharts-bar",o),x=s&&s.allowDataOverflow,N=c&&c.allowDataOverflow,_=x||N,w=ft(g)?this.id:g;return B.createElement(Nt,{className:y},x||N?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(w)},B.createElement("rect",{x:x?u:u-f/2,y:N?d:d-p/2,width:x?f:f*2,height:N?p:p*2}))):null,B.createElement(Nt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!h||j)&&Li.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(q.PureComponent);T4=Zd;co(Zd,"displayName","Bar");co(Zd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Os.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});co(Zd,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=pte(n,r);if(!h)return null;var v=t.layout,g=r.type.defaultProps,j=g!==void 0?xr(xr({},g),r.props):r.props,y=j.dataKey,x=j.children,N=j.minPointSize,_=v==="horizontal"?o:i,w=u?_.scale.domain():null,A=wte({numericAxis:_}),O=ea(x,Am),E=f.map(function(T,$){var k,C,D,I,H,V;u?k=mte(u[d+$],w):(k=Ar(T,y),Array.isArray(k)||(k=[A,k]));var X=Moe(N,T4.defaultProps.minPointSize)(k[1],$);if(v==="horizontal"){var J,Y=[o.scale(k[0]),o.scale(k[1])],Z=Y[0],ae=Y[1];C=H5({axis:i,ticks:s,bandSize:a,offset:h.offset,entry:T,index:$}),D=(J=ae??Z)!==null&&J!==void 0?J:void 0,I=h.size;var M=Z-ae;if(H=Number.isNaN(M)?0:M,V={x:C,y:o.y,width:I,height:o.height},Math.abs(X)>0&&Math.abs(H)<Math.abs(X)){var U=un(H||X)*(Math.abs(X)-Math.abs(H));D-=U,H+=U}}else{var Q=[i.scale(k[0]),i.scale(k[1])],ne=Q[0],oe=Q[1];if(C=ne,D=H5({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:T,index:$}),I=oe-ne,H=h.size,V={x:i.x,y:D,width:i.width,height:H},Math.abs(X)>0&&Math.abs(I)<Math.abs(X)){var he=un(I||X)*(Math.abs(X)-Math.abs(I));I+=he}}return xr(xr(xr({},T),{},{x:C,y:D,width:I,height:H,value:u?k:k[1],payload:T,background:V},O&&O[$]&&O[$].props),{},{tooltipPayload:[o4(r,T)],tooltipPosition:{x:C+I/2,y:D+H/2}})});return xr({data:E,layout:v},p)});function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function Hoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M4(n.key),n)}}function Goe(e,t,r){return t&&tN(e.prototype,t),r&&tN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){Hm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hm(e,t,r){return t=M4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M4(e){var t=Voe(e,"string");return Md(t)=="symbol"?t:t+""}function Voe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yoe=function(t,r,n,a,i){var o=t.width,s=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!Cn(u,Zd);return d.reduce(function(h,v){var g=r[v],j=g.orientation,y=g.domain,x=g.padding,N=x===void 0?{}:x,_=g.mirror,w=g.reversed,A="".concat(j).concat(_?"Mirror":""),O,E,T,$,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var C=y[1]-y[0],D=1/0,I=g.categoricalDomain.sort(CG);if(I.forEach(function(Q,ne){ne>0&&(D=Math.min((Q||0)-(I[ne-1]||0),D))}),Number.isFinite(D)){var H=D/C,V=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(O=H*V/2),g.padding==="no-gap"){var X=dn(t.barCategoryGap,H*V),J=H*V/2;O=J-X-(J-X)/V*X}}}a==="xAxis"?E=[n.left+(N.left||0)+(O||0),n.left+n.width-(N.right||0)-(O||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(O||0),n.top+n.height-(N.bottom||0)-(O||0)]:E=g.range,w&&(E=[E[1],E[0]]);var Y=r4(g,i,p),Z=Y.scale,ae=Y.realScaleType;Z.domain(y).range(E),n4(Z);var M=a4(Z,Sa(Sa({},g),{},{realScaleType:ae}));a==="xAxis"?(k=j==="top"&&!_||j==="bottom"&&_,T=n.left,$=f[A]-k*g.height):a==="yAxis"&&(k=j==="left"&&!_||j==="right"&&_,T=f[A]-k*g.width,$=n.top);var U=Sa(Sa(Sa({},g),M),{},{realScaleType:ae,x:T,y:$,scale:Z,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return U.bandSize=dp(U,M),!g.hide&&a==="xAxis"?f[A]+=(k?-1:1)*U.height:g.hide||(f[A]+=(k?-1:1)*U.width),Sa(Sa({},h),{},Hm({},v,U))},{})},$4=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},Koe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return $4({x:r,y:n},{x:a,y:i})},D4=function(){function e(t){Hoe(this,e),this.scale=t}return Goe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Hm(D4,"EPS",1e-4);var gx=function(t){var r=Object.keys(t).reduce(function(n,a){return Sa(Sa({},n),{},Hm({},a,D4.create(t[a])))},{});return Sa(Sa({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return L_(a,function(c,u){return r[u].apply(c,{bandAware:o,position:s})})},isInRange:function(a){return k4(a,function(i,o){return r[o].isInRange(i)})}})};function Xoe(e){return(e%180+180)%180}var Joe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Xoe(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Zoe=Da,Qoe=gc,ese=Nc;function tse(e){return function(t,r,n){var a=Object(t);if(!Qoe(t)){var i=Zoe(r);t=ese(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var rse=tse,nse=rse,ase=N_,ise=nse(ase),ose=ise;const sse=wt(ose);var lse=e7(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),vx=q.createContext(void 0),yx=q.createContext(void 0),I4=q.createContext(void 0),R4=q.createContext({}),F4=q.createContext(void 0),B4=q.createContext(0),q4=q.createContext(0),nN=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,c=t.width,u=t.height,d=lse(i);return B.createElement(vx.Provider,{value:n},B.createElement(yx.Provider,{value:a},B.createElement(R4.Provider,{value:i},B.createElement(I4.Provider,{value:d},B.createElement(F4.Provider,{value:o},B.createElement(B4.Provider,{value:u},B.createElement(q4.Provider,{value:c},s)))))))},cse=function(){return q.useContext(F4)},z4=function(t){var r=q.useContext(vx);r==null&&Ns();var n=r[t];return n==null&&Ns(),n},use=function(){var t=q.useContext(vx);return oo(t)},dse=function(){var t=q.useContext(yx),r=sse(t,function(n){return k4(n.domain,Number.isFinite)});return r||oo(t)},U4=function(t){var r=q.useContext(yx);r==null&&Ns();var n=r[t];return n==null&&Ns(),n},fse=function(){var t=q.useContext(I4);return t},hse=function(){return q.useContext(R4)},bx=function(){return q.useContext(q4)},xx=function(){return q.useContext(B4)};function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function pse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H4(n.key),n)}}function gse(e,t,r){return t&&mse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vse(e,t,r){return t=Op(t),yse(e,W4()?Reflect.construct(t,r||[],Op(e).constructor):t.apply(e,r))}function yse(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bse(e)}function bse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W4=function(){return!!e})()}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(e)}function xse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yy(e,t)}function yy(e,t){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yy(e,t)}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){wx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wx(e,t,r){return t=H4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H4(e){var t=wse(e,"string");return tc(t)=="symbol"?t:t+""}function wse(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jse(e,t){return Ase(e)||_se(e,t)||Sse(e,t)||Nse()}function Nse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sse(e,t){if(e){if(typeof e=="string")return oN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oN(e,t)}}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _se(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Ase(e){if(Array.isArray(e))return e}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(this,arguments)}var Ose=function(t,r){var n;return B.isValidElement(t)?n=B.cloneElement(t,r):nt(t)?n=t(r):n=B.createElement("line",by({},r,{className:"recharts-reference-line-line"})),n},Pse=function(t,r,n,a,i,o,s,c,u){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var v=u.y,g=t.y.apply(v,{position:o});if(oi(u,"discard")&&!t.y.isInRange(g))return null;var j=[{x:d+p,y:g},{x:d,y:g}];return c==="left"?j.reverse():j}if(r){var y=u.x,x=t.x.apply(y,{position:o});if(oi(u,"discard")&&!t.x.isInRange(x))return null;var N=[{x,y:f+h},{x,y:f}];return s==="top"?N.reverse():N}if(a){var _=u.segment,w=_.map(function(A){return t.apply(A,{position:o})});return oi(u,"discard")&&poe(w,function(A){return!t.isInRange(A)})?null:w}return null};function Ese(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,c=e.alwaysShow,u=cse(),d=z4(a),f=U4(i),p=fse();if(!u||!p)return null;ka(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=gx({x:d.scale,y:f.scale}),v=Or(t),g=Or(r),j=n&&n.length===2,y=Pse(h,v,g,j,p,e.position,d.orientation,f.orientation,e);if(!y)return null;var x=jse(y,2),N=x[0],_=N.x,w=N.y,A=x[1],O=A.x,E=A.y,T=oi(e,"hidden")?"url(#".concat(u,")"):void 0,$=iN(iN({clipPath:T},Xe(e,!0)),{},{x1:_,y1:w,x2:O,y2:E});return B.createElement(Nt,{className:pt("recharts-reference-line",s)},Ose(o,$),Dr.renderCallByParent(e,Koe({x1:_,y1:w,x2:O,y2:E})))}var jx=function(e){function t(){return pse(this,t),vse(this,t,arguments)}return xse(t,e),gse(t,[{key:"render",value:function(){return B.createElement(Ese,this.props)}}])}(B.Component);wx(jx,"displayName","ReferenceLine");wx(jx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){Gm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V4(n.key),n)}}function Cse(e,t,r){return t&&Tse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lse(e,t,r){return t=Pp(t),Mse(e,G4()?Reflect.construct(t,r||[],Pp(e).constructor):t.apply(e,r))}function Mse(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $se(e)}function $se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G4=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function Dse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wy(e,t)}function wy(e,t){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wy(e,t)}function Gm(e,t,r){return t=V4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V4(e){var t=Ise(e,"string");return rc(t)=="symbol"?t:t+""}function Ise(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rse=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=gx({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return oi(t,"discard")&&!o.isInRange(s)?null:s},Vm=function(e){function t(){return kse(this,t),Lse(this,t,arguments)}return Dse(t,e),Cse(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,c=n.clipPathId,u=Or(a),d=Or(i);if(ka(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Rse(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,g=v.shape,j=v.className,y=oi(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=lN(lN({clipPath:y},Xe(this.props,!0)),{},{cx:p,cy:h});return B.createElement(Nt,{className:pt("recharts-reference-dot",j)},t.renderDot(g,x),Dr.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])}(B.Component);Gm(Vm,"displayName","ReferenceDot");Gm(Vm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gm(Vm,"renderDot",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):nt(e)?r=e(t):r=B.createElement(Rm,xy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(this,arguments)}function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){Ym(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K4(n.key),n)}}function qse(e,t,r){return t&&Bse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zse(e,t,r){return t=Ep(t),Use(e,Y4()?Reflect.construct(t,r||[],Ep(e).constructor):t.apply(e,r))}function Use(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wse(e)}function Wse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!e})()}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function Hse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ny(e,t)}function Ny(e,t){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ny(e,t)}function Ym(e,t,r){return t=K4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4(e){var t=Gse(e,"string");return nc(t)=="symbol"?t:t+""}function Gse(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vse=function(t,r,n,a,i){var o=i.x1,s=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=gx({x:d.scale,y:f.scale}),h={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return oi(i,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:$4(h,v)},Km=function(e){function t(){return Fse(this,t),zse(this,t,arguments)}return Hse(t,e),qse(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ka(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Or(a),p=Or(i),h=Or(o),v=Or(s),g=this.props.shape;if(!f&&!p&&!h&&!v&&!g)return null;var j=Vse(f,p,h,v,this.props);if(!j&&!g)return null;var y=oi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(Nt,{className:pt("recharts-reference-area",c)},t.renderRect(g,uN(uN({clipPath:y},Xe(this.props,!0)),j)),Dr.renderCallByParent(this.props,j))}}])}(B.Component);Ym(Km,"displayName","ReferenceArea");Ym(Km,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ym(Km,"renderRect",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):nt(e)?r=e(t):r=B.createElement(mx,jy({},t,{className:"recharts-reference-area-rect"})),r});function X4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Yse(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Joe(n,r)}function Kse(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function kp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Xse(e,t){return X4(e,t+1)}function Jse(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:X4(n,u)};var g=c,j,y=function(){return j===void 0&&(j=r(v,g)),j},x=v.coordinate,N=c===0||kp(e,x,y,d,s);N||(c=0,d=o,u+=1),N&&(d=x+e*(y()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){Zse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zse(e,t,r){return t=Qse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qse(e){var t=ele(e,"string");return $d(t)=="symbol"?t:t+""}function ele(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tle(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,c=t.end,u=function(p){var h=i[p],v,g=function(){return v===void 0&&(v=r(h,p)),v};if(p===o-1){var j=e*(h.coordinate+e*g()/2-c);i[p]=h=Jr(Jr({},h),{},{tickCoord:j>0?h.coordinate-j*e:h.coordinate})}else i[p]=h=Jr(Jr({},h),{},{tickCoord:h.coordinate});var y=kp(e,h.tickCoord,g,s,c);y&&(c=h.tickCoord-e*(g()/2+a),i[p]=Jr(Jr({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function rle(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,c=t.start,u=t.end;if(i){var d=n[s-1],f=r(d,s-1),p=e*(d.coordinate+e*f/2-u);o[s-1]=d=Jr(Jr({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var h=kp(e,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Jr(Jr({},d),{},{isShow:!0}))}for(var v=i?s-1:s,g=function(x){var N=o[x],_,w=function(){return _===void 0&&(_=r(N,x)),_};if(x===0){var A=e*(N.coordinate-e*w()/2-c);o[x]=N=Jr(Jr({},N),{},{tickCoord:A<0?N.coordinate-A*e:N.coordinate})}else o[x]=N=Jr(Jr({},N),{},{tickCoord:N.coordinate});var O=kp(e,N.tickCoord,w,c,u);O&&(c=N.tickCoord+e*(w()/2+a),o[x]=Jr(Jr({},N),{},{isShow:!0}))},j=0;j<v;j++)g(j);return o}function Nx(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Le(c)||Os.isSsr)return Xse(a,typeof c=="number"&&Le(c)?c:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",v=d&&h==="width"?Cu(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(N,_){var w=nt(u)?u(N.value,_):N.value;return h==="width"?Yse(Cu(w,{fontSize:t,letterSpacing:r}),v,f):Cu(w,{fontSize:t,letterSpacing:r})[h]},j=a.length>=2?un(a[1].coordinate-a[0].coordinate):1,y=Kse(i,j,h);return c==="equidistantPreserveStart"?Jse(j,y,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=rle(j,y,g,a,o,c==="preserveStartEnd"):p=tle(j,y,g,a,o),p.filter(function(x){return x.isShow}))}var nle=["viewBox"],ale=["viewBox"],ile=["ticks"];function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){Sx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kv(e,t){if(e==null)return{};var r=ole(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ole(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z4(n.key),n)}}function lle(e,t,r){return t&&hN(e.prototype,t),r&&hN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cle(e,t,r){return t=Tp(t),ule(e,J4()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function ule(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dle(e)}function dle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J4=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function fle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sy(e,t)}function Sy(e,t){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sy(e,t)}function Sx(e,t,r){return t=Z4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z4(e){var t=hle(e,"string");return ac(t)=="symbol"?t:t+""}function hle(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cc=function(e){function t(r){var n;return sle(this,t),n=cle(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return fle(t,e),lle(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=kv(n,nle),s=this.props,c=s.viewBox,u=kv(s,ale);return!Pl(i,c)||!Pl(o,u)||!Pl(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,v,g,j,y,x,N=f?-1:1,_=n.tickSize||d,w=Le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=v=n.coordinate,j=o+ +!f*c,g=j-N*_,x=g-N*p,y=w;break;case"left":g=j=n.coordinate,v=i+ +!f*s,h=v-N*_,y=h-N*p,x=w;break;case"right":g=j=n.coordinate,v=i+ +f*s,h=v+N*_,y=h+N*p,x=w;break;default:h=v=n.coordinate,j=o+ +f*c,g=j+N*_,x=g+N*p,y=w;break}return{line:{x1:h,y1:g,x2:v,y2:j},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=sn(sn(sn({},Xe(this.props,!1)),Xe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=sn(sn({},f),{},{x1:a,y1:i+p*s,x2:a+o,y2:i+p*s})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=sn(sn({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+s})}return B.createElement("line",wl({},f,{className:pt("recharts-cartesian-axis-line",Dn(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,c=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,p=s.unit,h=Nx(sn(sn({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),j=Xe(this.props,!1),y=Xe(d,!1),x=sn(sn({},j),{},{fill:"none"},Xe(c,!1)),N=h.map(function(_,w){var A=o.getTickLineCoord(_),O=A.line,E=A.tick,T=sn(sn(sn(sn({textAnchor:v,verticalAnchor:g},j),{},{stroke:"none",fill:u},y),E),{},{index:w,payload:_,visibleTicksCount:h.length,tickFormatter:f});return B.createElement(Nt,wl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},xs(o.props,_,w)),c&&B.createElement("line",wl({},x,O,{className:pt("recharts-cartesian-axis-tick-line",Dn(c,"className"))})),d&&t.renderTickItem(d,T,"".concat(nt(f)?f(_.value,w):_.value).concat(p||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=kv(f,ile),v=p;return nt(c)&&(v=p&&p.length>0?c(this.props):c(h)),o<=0||s<=0||!v||!v.length?null:B.createElement(Nt,{className:pt("recharts-cartesian-axis",u),ref:function(j){n.layerReference=j}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Dr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):nt(n)?o=n(a):o=B.createElement(ws,wl({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(q.Component);Sx(Cc,"displayName","CartesianAxis");Sx(Cc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ple=["x1","y1","x2","y2","key"],mle=["offset"];function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){gle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gle(e,t,r){return t=vle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vle(e){var t=yle(e,"string");return Ss(t)=="symbol"?t:t+""}function yle(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function mN(e,t){if(e==null)return{};var r=ble(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ble(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xle=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,c=t.ry;return B.createElement("rect",{x:a,y:i,ry:c,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Q4(e,t){var r;if(B.isValidElement(e))r=B.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,c=mN(t,ple),u=Xe(c,!1);u.offset;var d=mN(u,mle);r=B.createElement("line",ts({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function wle(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var u=Zr(Zr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return Q4(a,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jle(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var u=Zr(Zr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return Q4(a,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Nle(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var v=!d[h+1],g=v?a+o-p:d[h+1]-p;if(g<=0)return null;var j=h%t.length;return B.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:g,width:i,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Sle(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var v=!d[h+1],g=v?i+s-p:d[h+1]-p;if(g<=0)return null;var j=h%n.length;return B.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:g,height:c,stroke:"none",fill:n[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var _le=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return t4(Nx(Zr(Zr(Zr({},Cc.defaultProps),n),{},{ticks:ki(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Ale=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return t4(Nx(Zr(Zr(Zr({},Cc.defaultProps),n),{},{ticks:ki(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},hl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function eO(e){var t,r,n,a,i,o,s=bx(),c=xx(),u=hse(),d=Zr(Zr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:hl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:hl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:hl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:hl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:hl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:hl.verticalFill,x:Le(e.x)?e.x:u.left,y:Le(e.y)?e.y:u.top,width:Le(e.width)?e.width:u.width,height:Le(e.height)?e.height:u.height}),f=d.x,p=d.y,h=d.width,v=d.height,g=d.syncWithTicks,j=d.horizontalValues,y=d.verticalValues,x=use(),N=dse();if(!Le(h)||h<=0||!Le(v)||v<=0||!Le(f)||f!==+f||!Le(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||_le,w=d.horizontalCoordinatesGenerator||Ale,A=d.horizontalPoints,O=d.verticalPoints;if((!A||!A.length)&&nt(w)){var E=j&&j.length,T=w({yAxis:N?Zr(Zr({},N),{},{ticks:E?j:N.ticks}):void 0,width:s,height:c,offset:u},E?!0:g);ka(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ss(T),"]")),Array.isArray(T)&&(A=T)}if((!O||!O.length)&&nt(_)){var $=y&&y.length,k=_({xAxis:x?Zr(Zr({},x),{},{ticks:$?y:x.ticks}):void 0,width:s,height:c,offset:u},$?!0:g);ka(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ss(k),"]")),Array.isArray(k)&&(O=k)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(xle,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),B.createElement(wle,ts({},d,{offset:u,horizontalPoints:A,xAxis:x,yAxis:N})),B.createElement(jle,ts({},d,{offset:u,verticalPoints:O,xAxis:x,yAxis:N})),B.createElement(Nle,ts({},d,{horizontalPoints:A})),B.createElement(Sle,ts({},d,{verticalPoints:O})))}eO.displayName="CartesianGrid";var Ole=["layout","type","stroke","connectNulls","isRange","ref"],Ple=["key"],tO;function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function rO(e,t){if(e==null)return{};var r=Ele(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ele(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(this,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){ei(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aO(n.key),n)}}function Tle(e,t,r){return t&&vN(e.prototype,t),r&&vN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cle(e,t,r){return t=Cp(t),Lle(e,nO()?Reflect.construct(t,r||[],Cp(e).constructor):t.apply(e,r))}function Lle(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mle(e)}function Mle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nO=function(){return!!e})()}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(e)}function $le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_y(e,t)}function ei(e,t,r){return t=aO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aO(e){var t=Dle(e,"string");return ic(t)=="symbol"?t:t+""}function Dle(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var No=function(e){function t(){var r;kle(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Cle(this,t,[].concat(a)),ei(r,"state",{isAnimationFinished:!0}),ei(r,"id",Pc("recharts-area-")),ei(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(o)&&o()}),ei(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(o)&&o()}),r}return $le(t,e),Tle(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,p=Xe(this.props,!1),h=Xe(u,!0),v=d.map(function(j,y){var x=ao(ao(ao({key:"dot-".concat(y),r:3},p),h),{},{index:y,cx:j.x,cy:j.y,dataKey:f,value:j.value,payload:j.payload,points:d});return t.renderDotItem(u,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return B.createElement(Nt,rs({className:"recharts-area-dots"},g),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=lo(o.map(function(p){return p.y||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(lo(i.map(function(p){return p.y||0})),f)),Le(f)?B.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=lo(o.map(function(p){return p.x||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(lo(i.map(function(p){return p.x||0})),f)),Le(f)?B.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var s=this.props,c=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,p=s.isRange;s.ref;var h=rO(s,Ole);return B.createElement(Nt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},B.createElement(Tl,rs({},Xe(h,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&B.createElement(Tl,rs({},Xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&p&&B.createElement(Tl,rs({},Xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,p=o.animationEasing,h=o.animationId,v=this.state,g=v.prevPoints,j=v.prevBaseLine;return B.createElement(ui,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t;if(g){var N=g.length/s.length,_=s.map(function(E,T){var $=Math.floor(T*N);if(g[$]){var k=g[$],C=bn(k.x,E.x),D=bn(k.y,E.y);return ao(ao({},E),{},{x:C(x),y:D(x)})}return E}),w;if(Le(c)&&typeof c=="number"){var A=bn(j,c);w=A(x)}else if(ft(c)||Oc(c)){var O=bn(j,0);w=O(x)}else w=c.map(function(E,T){var $=Math.floor(T*N);if(j[$]){var k=j[$],C=bn(k.x,E.x),D=bn(k.y,E.y);return ao(ao({},E),{},{x:C(x),y:D(x)})}return E});return i.renderAreaStatically(_,w,n,a)}return B.createElement(Nt,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),B.createElement(Nt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(s,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,s=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,p=u.totalLength;return c&&o&&o.length&&(!d&&p>0||!vs(d,o)||!vs(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,p=a.yAxis,h=a.width,v=a.height,g=a.isAnimationActive,j=a.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,x=s.length===1,N=pt("recharts-area",c),_=f&&f.allowDataOverflow,w=p&&p.allowDataOverflow,A=_||w,O=ft(j)?this.id:j,E=(n=Xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=E.r,$=T===void 0?3:T,k=E.strokeWidth,C=k===void 0?2:k,D=qG(o)?o:{},I=D.clipDot,H=I===void 0?!0:I,V=$*2+C;return B.createElement(Nt,{className:N},_||w?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(O)},B.createElement("rect",{x:_?d:d-h/2,y:w?u:u-v/2,width:_?h:h*2,height:w?v:v*2})),!H&&B.createElement("clipPath",{id:"clipPath-dots-".concat(O)},B.createElement("rect",{x:d-V/2,y:u-V/2,width:h+V,height:v+V}))):null,x?null:this.renderArea(A,O),(o||x)&&this.renderDots(A,H,O),(!g||y)&&Li.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(q.PureComponent);tO=No;ei(No,"displayName","Area");ei(No,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Os.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ei(No,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=o??i;if(Le(s)&&typeof s=="number")return s;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});ei(No,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=t.layout,v=u&&u.length,g=tO.getBaseValue(t,r,n,a),j=h==="horizontal",y=!1,x=f.map(function(_,w){var A;v?A=u[d+w]:(A=Ar(_,c),Array.isArray(A)?y=!0:A=[g,A]);var O=A[1]==null||v&&Ar(_,c)==null;return j?{x:W5({axis:n,ticks:i,bandSize:s,entry:_,index:w}),y:O?null:a.scale(A[1]),value:A,payload:_}:{x:O?null:n.scale(A[1]),y:W5({axis:a,ticks:o,bandSize:s,entry:_,index:w}),value:A,payload:_}}),N;return v||y?N=x.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return j?{x:_.x,y:w!=null&&_.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):N=j?a.scale(g):n.scale(g),ao({points:x,baseLine:N,layout:h,isRange:y},p)});ei(No,"renderDotItem",function(e,t){var r;if(B.isValidElement(e))r=B.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=pt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=rO(t,Ple);r=B.createElement(Rm,rs({},i,{key:a,className:n}))}return r});function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function Ile(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sO(n.key),n)}}function Fle(e,t,r){return t&&Rle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ble(e,t,r){return t=Lp(t),qle(e,iO()?Reflect.construct(t,r||[],Lp(e).constructor):t.apply(e,r))}function qle(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zle(e)}function zle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iO=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}function Ule(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ay(e,t)}function oO(e,t,r){return t=sO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sO(e){var t=Wle(e,"string");return oc(t)=="symbol"?t:t+""}function Wle(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(this,arguments)}function Hle(e){var t=e.xAxisId,r=bx(),n=xx(),a=z4(t);return a==null?null:B.createElement(Cc,Oy({},a,{className:pt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ki(o,!0)}}))}var Xm=function(e){function t(){return Ile(this,t),Ble(this,t,arguments)}return Ule(t,e),Fle(t,[{key:"render",value:function(){return B.createElement(Hle,this.props)}}])}(B.Component);oO(Xm,"displayName","XAxis");oO(Xm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function Gle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uO(n.key),n)}}function Yle(e,t,r){return t&&Vle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kle(e,t,r){return t=Mp(t),Xle(e,lO()?Reflect.construct(t,r||[],Mp(e).constructor):t.apply(e,r))}function Xle(e,t){if(t&&(sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jle(e)}function Jle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lO=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(e)}function Zle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Py(e,t)}function Py(e,t){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Py(e,t)}function cO(e,t,r){return t=uO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e){var t=Qle(e,"string");return sc(t)=="symbol"?t:t+""}function Qle(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}var ece=function(t){var r=t.yAxisId,n=bx(),a=xx(),i=U4(r);return i==null?null:B.createElement(Cc,Ey({},i,{className:pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return ki(s,!0)}}))},Jm=function(e){function t(){return Gle(this,t),Kle(this,t,arguments)}return Zle(t,e),Yle(t,[{key:"render",value:function(){return B.createElement(ece,this.props)}}])}(B.Component);cO(Jm,"displayName","YAxis");cO(Jm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function yN(e){return ace(e)||nce(e)||rce(e)||tce()}function tce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rce(e,t){if(e){if(typeof e=="string")return ky(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ky(e,t)}}function nce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ace(e){if(Array.isArray(e))return ky(e)}function ky(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ty=function(t,r,n,a,i){var o=ea(t,jx),s=ea(t,Vm),c=[].concat(yN(o),yN(s)),u=ea(t,Km),d="".concat(a,"Id"),f=a[0],p=r;if(c.length&&(p=c.reduce(function(g,j){if(j.props[d]===n&&oi(j.props,"extendDomain")&&Le(j.props[f])){var y=j.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},p)),u.length){var h="".concat(f,"1"),v="".concat(f,"2");p=u.reduce(function(g,j){if(j.props[d]===n&&oi(j.props,"extendDomain")&&Le(j.props[h])&&Le(j.props[v])){var y=j.props[h],x=j.props[v];return[Math.min(g[0],y,x),Math.max(g[1],y,x)]}return g},p)}return i&&i.length&&(p=i.reduce(function(g,j){return Le(j)?[Math.min(g[0],j),Math.max(g[1],j)]:g},p)),p},dO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,p),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],h]:c._events[v].push(h):(c._events[v]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,p,h,v){var g=r?r+u:u;if(!this._events[g])return!1;var j=this._events[g],y=arguments.length,x,N;if(j.fn){switch(j.once&&this.removeListener(u,j.fn,void 0,!0),y){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,d),!0;case 3:return j.fn.call(j.context,d,f),!0;case 4:return j.fn.call(j.context,d,f,p),!0;case 5:return j.fn.call(j.context,d,f,p,h),!0;case 6:return j.fn.call(j.context,d,f,p,h,v),!0}for(N=1,x=new Array(y-1);N<y;N++)x[N-1]=arguments[N];j.fn.apply(j.context,x)}else{var _=j.length,w;for(N=0;N<_;N++)switch(j[N].once&&this.removeListener(u,j[N].fn,void 0,!0),y){case 1:j[N].fn.call(j[N].context);break;case 2:j[N].fn.call(j[N].context,d);break;case 3:j[N].fn.call(j[N].context,d,f);break;case 4:j[N].fn.call(j[N].context,d,f,p);break;default:if(!x)for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];j[N].fn.apply(j[N].context,x)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var g=0,j=[],y=v.length;g<y;g++)(v[g].fn!==d||p&&!v[g].once||f&&v[g].context!==f)&&j.push(v[g]);j.length?this._events[h]=j.length===1?j[0]:j:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(dO);var ice=dO.exports;const oce=wt(ice);var Tv=new oce,Cv="recharts.syncMouseEvents";function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function sce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fO(n.key),n)}}function cce(e,t,r){return t&&lce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lv(e,t,r){return t=fO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fO(e){var t=uce(e,"string");return Dd(t)=="symbol"?t:t+""}function uce(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dce=function(){function e(){sce(this,e),Lv(this,"activeIndex",0),Lv(this,"coordinateList",[]),Lv(this,"layout","horizontal")}return cce(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function fce(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Le(n)&&Le(a))return!0}return!1}function hce(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function hO(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Vt(t,r,n,a),s=Vt(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function pce(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,p=Vt(s,c,u,f),h=Vt(s,c,d,f);n=p.x,a=p.y,i=h.x,o=h.y}else return hO(t);return[{x:n,y:a},{x:i,y:o}]}function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){mce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mce(e,t,r){return t=gce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gce(e){var t=vce(e,"string");return Id(t)=="symbol"?t:t+""}function vce(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yce(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var v,g=Tl;if(p==="ScatterChart")v=o,g=kae;else if(p==="BarChart")v=hce(f,o,c,d),g=mx;else if(f==="radial"){var j=hO(o),y=j.cx,x=j.cy,N=j.radius,_=j.startAngle,w=j.endAngle;v={cx:y,cy:x,startAngle:_,endAngle:w,innerRadius:N,outerRadius:N},g=f4}else v={points:pce(f,o,c)},g=Tl;var A=dh(dh(dh(dh({stroke:"#ccc",pointerEvents:"none"},c),v),Xe(h,!1)),{},{payload:s,payloadIndex:u,className:pt("recharts-tooltip-cursor",h.className)});return q.isValidElement(h)?q.cloneElement(h,A):q.createElement(g,A)}var bce=["item"],xce=["children","className","width","height","style","compact","title","desc"];function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function xN(e,t){return Nce(e)||jce(e,t)||mO(e,t)||wce()}function wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Nce(e){if(Array.isArray(e))return e}function wN(e,t){if(e==null)return{};var r=Sce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ace(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gO(n.key),n)}}function Oce(e,t,r){return t&&Ace(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pce(e,t,r){return t=$p(t),Ece(e,pO()?Reflect.construct(t,r||[],$p(e).constructor):t.apply(e,r))}function Ece(e,t){if(t&&(lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kce(e)}function kce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pO=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function Tce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cy(e,t)}function cc(e){return Mce(e)||Lce(e)||mO(e)||Cce()}function Cce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mO(e,t){if(e){if(typeof e=="string")return Ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ly(e,t)}}function Lce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mce(e){if(Array.isArray(e))return Ly(e)}function Ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function et(e,t,r){return t=gO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gO(e){var t=$ce(e,"string");return lc(t)=="symbol"?t:t+""}function $ce(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dce={xAxis:["bottom","top"],yAxis:["left","right"]},Ice={width:"100%",height:"100%"},vO={x:0,y:0};function fh(e){return e}var Rce=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Fce=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return Ne(Ne(Ne({},a),Vt(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var c=i.coordinate,u=a.angle;return Ne(Ne(Ne({},a),Vt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return vO},Zm=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(cc(s),cc(u)):s},[]);return o.length>0?o:t&&t.length&&Le(a)&&Le(i)?t.slice(a,i+1):[]};function yO(e){return e==="number"?[0,"auto"]:void 0}var My=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=Zm(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?s:f;p=Bh(h,o.dataKey,a)}else p=f&&f[n]||s[n];return p?[].concat(cc(c),[o4(u,p)]):c},[])},NN=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Rce(i,n),s=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=lte(o,s,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=My(t,r,d,f),h=Fce(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},Bce=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=t.stackOffset,h=e4(d,i);return n.reduce(function(v,g){var j,y=g.type.defaultProps!==void 0?Ne(Ne({},g.type.defaultProps),g.props):g.props,x=y.type,N=y.dataKey,_=y.allowDataOverflow,w=y.allowDuplicatedCategory,A=y.scale,O=y.ticks,E=y.includeHidden,T=y[o];if(v[T])return v;var $=Zm(t.data,{graphicalItems:a.filter(function(M){var U,Q=o in M.props?M.props[o]:(U=M.type.defaultProps)===null||U===void 0?void 0:U[o];return Q===T}),dataStartIndex:c,dataEndIndex:u}),k=$.length,C,D,I;fce(y.domain,_,x)&&(C=K0(y.domain,null,_),h&&(x==="number"||A!=="auto")&&(I=Mu($,N,"category")));var H=yO(x);if(!C||C.length===0){var V,X=(V=y.domain)!==null&&V!==void 0?V:H;if(N){if(C=Mu($,N,x),x==="category"&&h){var J=TG(C);w&&J?(D=C,C=ed(0,k)):w||(C=Y5(X,C,g).reduce(function(M,U){return M.indexOf(U)>=0?M:[].concat(cc(M),[U])},[]))}else if(x==="category")w?C=C.filter(function(M){return M!==""&&!ft(M)}):C=Y5(X,C,g).reduce(function(M,U){return M.indexOf(U)>=0||U===""||ft(U)?M:[].concat(cc(M),[U])},[]);else if(x==="number"){var Y=hte($,a.filter(function(M){var U,Q,ne=o in M.props?M.props[o]:(U=M.type.defaultProps)===null||U===void 0?void 0:U[o],oe="hide"in M.props?M.props.hide:(Q=M.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ne===T&&(E||!oe)}),N,i,d);Y&&(C=Y)}h&&(x==="number"||A!=="auto")&&(I=Mu($,N,"category"))}else h?C=ed(0,k):s&&s[T]&&s[T].hasStack&&x==="number"?C=p==="expand"?[0,1]:i4(s[T].stackGroups,c,u):C=Q3($,a.filter(function(M){var U=o in M.props?M.props[o]:M.type.defaultProps[o],Q="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return U===T&&(E||!Q)}),x,d,!0);if(x==="number")C=Ty(f,C,T,i,O),X&&(C=K0(X,C,_));else if(x==="category"&&X){var Z=X,ae=C.every(function(M){return Z.indexOf(M)>=0});ae&&(C=Z)}}return Ne(Ne({},v),{},et({},T,Ne(Ne({},y),{},{axisType:i,domain:C,categoricalDomain:I,duplicateDomain:D,originalDomain:(j=y.domain)!==null&&j!==void 0?j:H,isCategorical:h,layout:d})))},{})},qce=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=Zm(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=p.length,v=e4(d,i),g=-1;return n.reduce(function(j,y){var x=y.type.defaultProps!==void 0?Ne(Ne({},y.type.defaultProps),y.props):y.props,N=x[o],_=yO("number");if(!j[N]){g++;var w;return v?w=ed(0,h):s&&s[N]&&s[N].hasStack?(w=i4(s[N].stackGroups,c,u),w=Ty(f,w,N,i)):(w=K0(_,Q3(p,n.filter(function(A){var O,E,T=o in A.props?A.props[o]:(O=A.type.defaultProps)===null||O===void 0?void 0:O[o],$="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return T===N&&!$}),"number",d),a.defaultProps.allowDataOverflow),w=Ty(f,w,N,i)),Ne(Ne({},j),{},et({},N,Ne(Ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:Dn(Dce,"".concat(i,".").concat(g%2),null),domain:w,originalDomain:_,isCategorical:v,layout:d})))}return j},{})},zce=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),p=ea(d,i),h={};return p&&p.length?h=Bce(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=qce(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),h},Uce=function(t){var r=oo(t),n=ki(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:rm(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:dp(r,n)}},SN=function(t){var r=t.children,n=t.defaultShowTooltip,a=Cn(r,Ql),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Wce=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ti(r&&r.type);return n&&n.indexOf("Bar")>=0})},_N=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Hce=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,c=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=Cn(f,Ql),v=Cn(f,os),g=Object.keys(c).reduce(function(w,A){var O=c[A],E=O.orientation;return!O.mirror&&!O.hide?Ne(Ne({},w),{},et({},E,w[E]+O.width)):w},{left:p.left||0,right:p.right||0}),j=Object.keys(o).reduce(function(w,A){var O=o[A],E=O.orientation;return!O.mirror&&!O.hide?Ne(Ne({},w),{},et({},E,Dn(w,"".concat(E))+O.height)):w},{top:p.top||0,bottom:p.bottom||0}),y=Ne(Ne({},j),g),x=y.bottom;h&&(y.bottom+=h.props.height||Ql.defaultProps.height),v&&r&&(y=dte(y,a,n,r));var N=u-y.left-y.right,_=d-y.top-y.bottom;return Ne(Ne({brushBottom:x},y),{},{width:Math.max(N,0),height:Math.max(_,0)})},Gce=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},bO=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,p=function(y,x){var N=x.graphicalItems,_=x.stackGroups,w=x.offset,A=x.updateId,O=x.dataStartIndex,E=x.dataEndIndex,T=y.barSize,$=y.layout,k=y.barGap,C=y.barCategoryGap,D=y.maxBarSize,I=_N($),H=I.numericAxisName,V=I.cateAxisName,X=Wce(N),J=[];return N.forEach(function(Y,Z){var ae=Zm(y.data,{graphicalItems:[Y],dataStartIndex:O,dataEndIndex:E}),M=Y.type.defaultProps!==void 0?Ne(Ne({},Y.type.defaultProps),Y.props):Y.props,U=M.dataKey,Q=M.maxBarSize,ne=M["".concat(H,"Id")],oe=M["".concat(V,"Id")],he={},de=c.reduce(function(De,Me){var Ge=x["".concat(Me.axisType,"Map")],Ze=M["".concat(Me.axisType,"Id")];Ge&&Ge[Ze]||Me.axisType==="zAxis"||Ns();var at=Ge[Ze];return Ne(Ne({},De),{},et(et({},Me.axisType,at),"".concat(Me.axisType,"Ticks"),ki(at)))},he),ie=de[V],xe=de["".concat(V,"Ticks")],be=_&&_[ne]&&_[ne].hasStack&&jte(Y,_[ne].stackGroups),pe=Ti(Y.type).indexOf("Bar")>=0,Ee=dp(ie,xe),$e=[],ye=X&&cte({barSize:T,stackGroups:_,totalSize:Gce(de,V)});if(pe){var re,Ve,Be=ft(Q)?D:Q,ke=(re=(Ve=dp(ie,xe,!0))!==null&&Ve!==void 0?Ve:Be)!==null&&re!==void 0?re:0;$e=ute({barGap:k,barCategoryGap:C,bandSize:ke!==Ee?ke:Ee,sizeList:ye[oe],maxBarSize:Be}),ke!==Ee&&($e=$e.map(function(De){return Ne(Ne({},De),{},{position:Ne(Ne({},De.position),{},{offset:De.position.offset-ke/2})})}))}var Ce=Y&&Y.type&&Y.type.getComposedData;Ce&&J.push({props:Ne(Ne({},Ce(Ne(Ne({},de),{},{displayedData:ae,props:y,dataKey:U,item:Y,bandSize:Ee,barPosition:$e,offset:w,stackedData:be,layout:$,dataStartIndex:O,dataEndIndex:E}))),{},et(et(et({key:Y.key||"item-".concat(Z)},H,de[H]),V,de[V]),"animationId",A)),childIndex:WG(Y,y.children),item:Y})}),J},h=function(y,x){var N=y.props,_=y.dataStartIndex,w=y.dataEndIndex,A=y.updateId;if(!pw({props:N}))return null;var O=N.children,E=N.layout,T=N.stackOffset,$=N.data,k=N.reverseStackOrder,C=_N(E),D=C.numericAxisName,I=C.cateAxisName,H=ea(O,n),V=xte($,H,"".concat(D,"Id"),"".concat(I,"Id"),T,k),X=c.reduce(function(M,U){var Q="".concat(U.axisType,"Map");return Ne(Ne({},M),{},et({},Q,zce(N,Ne(Ne({},U),{},{graphicalItems:H,stackGroups:U.axisType===D&&V,dataStartIndex:_,dataEndIndex:w}))))},{}),J=Hce(Ne(Ne({},X),{},{props:N,graphicalItems:H}),x==null?void 0:x.legendBBox);Object.keys(X).forEach(function(M){X[M]=d(N,X[M],J,M.replace("Map",""),r)});var Y=X["".concat(I,"Map")],Z=Uce(Y),ae=p(N,Ne(Ne({},X),{},{dataStartIndex:_,dataEndIndex:w,updateId:A,graphicalItems:H,stackGroups:V,offset:J}));return Ne(Ne({formattedGraphicalItems:ae,graphicalItems:H,offset:J,stackGroups:V},Z),X)},v=function(j){function y(x){var N,_,w;return _ce(this,y),w=Pce(this,y,[x]),et(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(w,"accessibilityManager",new dce),et(w,"handleLegendBBoxUpdate",function(A){if(A){var O=w.state,E=O.dataStartIndex,T=O.dataEndIndex,$=O.updateId;w.setState(Ne({legendBBox:A},h({props:w.props,dataStartIndex:E,dataEndIndex:T,updateId:$},Ne(Ne({},w.state),{},{legendBBox:A}))))}}),et(w,"handleReceiveSyncEvent",function(A,O,E){if(w.props.syncId===A){if(E===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(O)}}),et(w,"handleBrushChange",function(A){var O=A.startIndex,E=A.endIndex;if(O!==w.state.dataStartIndex||E!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return Ne({dataStartIndex:O,dataEndIndex:E},h({props:w.props,dataStartIndex:O,dataEndIndex:E,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:O,dataEndIndex:E})}}),et(w,"handleMouseEnter",function(A){var O=w.getMouseInfo(A);if(O){var E=Ne(Ne({},O),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var T=w.props.onMouseEnter;nt(T)&&T(E,A)}}),et(w,"triggeredAfterMouseMove",function(A){var O=w.getMouseInfo(A),E=O?Ne(Ne({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var T=w.props.onMouseMove;nt(T)&&T(E,A)}),et(w,"handleItemMouseEnter",function(A){w.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),et(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),et(w,"handleMouseMove",function(A){A.persist(),w.throttleTriggeredAfterMouseMove(A)}),et(w,"handleMouseLeave",function(A){w.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};w.setState(O),w.triggerSyncEvent(O);var E=w.props.onMouseLeave;nt(E)&&E(O,A)}),et(w,"handleOuterEvent",function(A){var O=UG(A),E=Dn(w.props,"".concat(O));if(O&&nt(E)){var T,$;/.*touch.*/i.test(O)?$=w.getMouseInfo(A.changedTouches[0]):$=w.getMouseInfo(A),E((T=$)!==null&&T!==void 0?T:{},A)}}),et(w,"handleClick",function(A){var O=w.getMouseInfo(A);if(O){var E=Ne(Ne({},O),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var T=w.props.onClick;nt(T)&&T(E,A)}}),et(w,"handleMouseDown",function(A){var O=w.props.onMouseDown;if(nt(O)){var E=w.getMouseInfo(A);O(E,A)}}),et(w,"handleMouseUp",function(A){var O=w.props.onMouseUp;if(nt(O)){var E=w.getMouseInfo(A);O(E,A)}}),et(w,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),et(w,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.handleMouseDown(A.changedTouches[0])}),et(w,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.handleMouseUp(A.changedTouches[0])}),et(w,"handleDoubleClick",function(A){var O=w.props.onDoubleClick;if(nt(O)){var E=w.getMouseInfo(A);O(E,A)}}),et(w,"handleContextMenu",function(A){var O=w.props.onContextMenu;if(nt(O)){var E=w.getMouseInfo(A);O(E,A)}}),et(w,"triggerSyncEvent",function(A){w.props.syncId!==void 0&&Tv.emit(Cv,w.props.syncId,A,w.eventEmitterSymbol)}),et(w,"applySyncEvent",function(A){var O=w.props,E=O.layout,T=O.syncMethod,$=w.state.updateId,k=A.dataStartIndex,C=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)w.setState(Ne({dataStartIndex:k,dataEndIndex:C},h({props:w.props,dataStartIndex:k,dataEndIndex:C,updateId:$},w.state)));else if(A.activeTooltipIndex!==void 0){var D=A.chartX,I=A.chartY,H=A.activeTooltipIndex,V=w.state,X=V.offset,J=V.tooltipTicks;if(!X)return;if(typeof T=="function")H=T(J,A);else if(T==="value"){H=-1;for(var Y=0;Y<J.length;Y++)if(J[Y].value===A.activeLabel){H=Y;break}}var Z=Ne(Ne({},X),{},{x:X.left,y:X.top}),ae=Math.min(D,Z.x+Z.width),M=Math.min(I,Z.y+Z.height),U=J[H]&&J[H].value,Q=My(w.state,w.props.data,H),ne=J[H]?{x:E==="horizontal"?J[H].coordinate:ae,y:E==="horizontal"?M:J[H].coordinate}:vO;w.setState(Ne(Ne({},A),{},{activeLabel:U,activeCoordinate:ne,activePayload:Q,activeTooltipIndex:H}))}else w.setState(A)}),et(w,"renderCursor",function(A){var O,E=w.state,T=E.isTooltipActive,$=E.activeCoordinate,k=E.activePayload,C=E.offset,D=E.activeTooltipIndex,I=E.tooltipAxisBandSize,H=w.getTooltipEventType(),V=(O=A.props.active)!==null&&O!==void 0?O:T,X=w.props.layout,J=A.key||"_recharts-cursor";return B.createElement(yce,{key:J,activeCoordinate:$,activePayload:k,activeTooltipIndex:D,chartName:r,element:A,isActive:V,layout:X,offset:C,tooltipAxisBandSize:I,tooltipEventType:H})}),et(w,"renderPolarAxis",function(A,O,E){var T=Dn(A,"type.axisType"),$=Dn(w.state,"".concat(T,"Map")),k=A.type.defaultProps,C=k!==void 0?Ne(Ne({},k),A.props):A.props,D=$&&$[C["".concat(T,"Id")]];return q.cloneElement(A,Ne(Ne({},D),{},{className:pt(T,D.className),key:A.key||"".concat(O,"-").concat(E),ticks:ki(D,!0)}))}),et(w,"renderPolarGrid",function(A){var O=A.props,E=O.radialLines,T=O.polarAngles,$=O.polarRadius,k=w.state,C=k.radiusAxisMap,D=k.angleAxisMap,I=oo(C),H=oo(D),V=H.cx,X=H.cy,J=H.innerRadius,Y=H.outerRadius;return q.cloneElement(A,{polarAngles:Array.isArray(T)?T:ki(H,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray($)?$:ki(I,!0).map(function(Z){return Z.coordinate}),cx:V,cy:X,innerRadius:J,outerRadius:Y,key:A.key||"polar-grid",radialLines:E})}),et(w,"renderLegend",function(){var A=w.state.formattedGraphicalItems,O=w.props,E=O.children,T=O.width,$=O.height,k=w.props.margin||{},C=T-(k.left||0)-(k.right||0),D=J3({children:E,formattedGraphicalItems:A,legendWidth:C,legendContent:u});if(!D)return null;var I=D.item,H=wN(D,bce);return q.cloneElement(I,Ne(Ne({},H),{},{chartWidth:T,chartHeight:$,margin:k,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),et(w,"renderTooltip",function(){var A,O=w.props,E=O.children,T=O.accessibilityLayer,$=Cn(E,Na);if(!$)return null;var k=w.state,C=k.isTooltipActive,D=k.activeCoordinate,I=k.activePayload,H=k.activeLabel,V=k.offset,X=(A=$.props.active)!==null&&A!==void 0?A:C;return q.cloneElement($,{viewBox:Ne(Ne({},V),{},{x:V.left,y:V.top}),active:X,label:H,payload:X?I:[],coordinate:D,accessibilityLayer:T})}),et(w,"renderBrush",function(A){var O=w.props,E=O.margin,T=O.data,$=w.state,k=$.offset,C=$.dataStartIndex,D=$.dataEndIndex,I=$.updateId;return q.cloneElement(A,{key:A.key||"_recharts-brush",onChange:sh(w.handleBrushChange,A.props.onChange),data:T,x:Le(A.props.x)?A.props.x:k.left,y:Le(A.props.y)?A.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:Le(A.props.width)?A.props.width:k.width,startIndex:C,endIndex:D,updateId:"brush-".concat(I)})}),et(w,"renderReferenceElement",function(A,O,E){if(!A)return null;var T=w,$=T.clipPathId,k=w.state,C=k.xAxisMap,D=k.yAxisMap,I=k.offset,H=A.type.defaultProps||{},V=A.props,X=V.xAxisId,J=X===void 0?H.xAxisId:X,Y=V.yAxisId,Z=Y===void 0?H.yAxisId:Y;return q.cloneElement(A,{key:A.key||"".concat(O,"-").concat(E),xAxis:C[J],yAxis:D[Z],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:$})}),et(w,"renderActivePoints",function(A){var O=A.item,E=A.activePoint,T=A.basePoint,$=A.childIndex,k=A.isRange,C=[],D=O.props.key,I=O.item.type.defaultProps!==void 0?Ne(Ne({},O.item.type.defaultProps),O.item.props):O.item.props,H=I.activeDot,V=I.dataKey,X=Ne(Ne({index:$,dataKey:V,cx:E.x,cy:E.y,r:4,fill:px(O.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Xe(H,!1)),qh(H));return C.push(y.renderActiveDot(H,X,"".concat(D,"-activePoint-").concat($))),T?C.push(y.renderActiveDot(H,Ne(Ne({},X),{},{cx:T.x,cy:T.y}),"".concat(D,"-basePoint-").concat($))):k&&C.push(null),C}),et(w,"renderGraphicChild",function(A,O,E){var T=w.filterFormatItem(A,O,E);if(!T)return null;var $=w.getTooltipEventType(),k=w.state,C=k.isTooltipActive,D=k.tooltipAxis,I=k.activeTooltipIndex,H=k.activeLabel,V=w.props.children,X=Cn(V,Na),J=T.props,Y=J.points,Z=J.isRange,ae=J.baseLine,M=T.item.type.defaultProps!==void 0?Ne(Ne({},T.item.type.defaultProps),T.item.props):T.item.props,U=M.activeDot,Q=M.hide,ne=M.activeBar,oe=M.activeShape,he=!!(!Q&&C&&X&&(U||ne||oe)),de={};$!=="axis"&&X&&X.props.trigger==="click"?de={onClick:sh(w.handleItemMouseEnter,A.props.onClick)}:$!=="axis"&&(de={onMouseLeave:sh(w.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:sh(w.handleItemMouseEnter,A.props.onMouseEnter)});var ie=q.cloneElement(A,Ne(Ne({},T.props),de));function xe(Me){return typeof D.dataKey=="function"?D.dataKey(Me.payload):null}if(he)if(I>=0){var be,pe;if(D.dataKey&&!D.allowDuplicatedCategory){var Ee=typeof D.dataKey=="function"?xe:"payload.".concat(D.dataKey.toString());be=Bh(Y,Ee,H),pe=Z&&ae&&Bh(ae,Ee,H)}else be=Y==null?void 0:Y[I],pe=Z&&ae&&ae[I];if(oe||ne){var $e=A.props.activeIndex!==void 0?A.props.activeIndex:I;return[q.cloneElement(A,Ne(Ne(Ne({},T.props),de),{},{activeIndex:$e})),null,null]}if(!ft(be))return[ie].concat(cc(w.renderActivePoints({item:T,activePoint:be,basePoint:pe,childIndex:I,isRange:Z})))}else{var ye,re=(ye=w.getItemByXY(w.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:ie},Ve=re.graphicalItem,Be=Ve.item,ke=Be===void 0?A:Be,Ce=Ve.childIndex,De=Ne(Ne(Ne({},T.props),de),{},{activeIndex:Ce});return[q.cloneElement(ke,De),null,null]}return Z?[ie,null,null]:[ie,null]}),et(w,"renderCustomized",function(A,O,E){return q.cloneElement(A,Ne(Ne({key:"recharts-customized-".concat(E)},w.props),w.state))}),et(w,"renderMap",{CartesianGrid:{handler:fh,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:fh},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:fh},YAxis:{handler:fh},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((N=x.id)!==null&&N!==void 0?N:Pc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=XA(w.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return Tce(y,j),Oce(y,[{key:"componentDidMount",value:function(){var N,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,_=N.children,w=N.data,A=N.height,O=N.layout,E=Cn(_,Na);if(E){var T=E.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,k=My(this.state,w,T,$),C=this.state.tooltipTicks[T].coordinate,D=(this.state.offset.top+A)/2,I=O==="horizontal",H=I?{x:C,y:D}:{y:C,x:D},V=this.state.formattedGraphicalItems.find(function(J){var Y=J.item;return Y.type.name==="Scatter"});V&&(H=Ne(Ne({},H),V.props.points[T].tooltipPosition),k=V.props.points[T].tooltipPayload);var X={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:$,activePayload:k,activeCoordinate:H};this.setState(X),this.renderCursor(E),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var w,A;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(N){m0([Cn(N.children,Na)],[Cn(this.props.children,Na)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Cn(this.props.children,Na);if(N&&typeof N.props.shared=="boolean"){var _=N.props.shared?"axis":"item";return s.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),A=FX(w),O={chartX:Math.round(N.pageX-A.left),chartY:Math.round(N.pageY-A.top)},E=w.width/_.offsetWidth||1,T=this.inRange(O.chartX,O.chartY,E);if(!T)return null;var $=this.state,k=$.xAxisMap,C=$.yAxisMap,D=this.getTooltipEventType(),I=NN(this.state,this.props.data,this.props.layout,T);if(D!=="axis"&&k&&C){var H=oo(k).scale,V=oo(C).scale,X=H&&H.invert?H.invert(O.chartX):null,J=V&&V.invert?V.invert(O.chartY):null;return Ne(Ne({},O),{},{xValue:X,yValue:J},I)}return I?Ne(Ne({},O),I):null}},{key:"inRange",value:function(N,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,O=N/w,E=_/w;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,$=O>=T.left&&O<=T.left+T.width&&E>=T.top&&E<=T.top+T.height;return $?{x:O,y:E}:null}var k=this.state,C=k.angleAxisMap,D=k.radiusAxisMap;if(C&&D){var I=oo(C);return J5({x:O,y:E},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,_=this.getTooltipEventType(),w=Cn(N,Na),A={};w&&_==="axis"&&(w.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=qh(this.props,this.handleOuterEvent);return Ne(Ne({},O),A)}},{key:"addListener",value:function(){Tv.on(Cv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Tv.removeListener(Cv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,_,w){for(var A=this.state.formattedGraphicalItems,O=0,E=A.length;O<E;O++){var T=A[O];if(T.item===N||T.props.key===N.key||_===Ti(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,_=this.state.offset,w=_.left,A=_.top,O=_.height,E=_.width;return B.createElement("defs",null,B.createElement("clipPath",{id:N},B.createElement("rect",{x:w,y:A,height:O,width:E})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(_,w){var A=xN(w,2),O=A[0],E=A[1];return Ne(Ne({},_),{},et({},O,E.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(_,w){var A=xN(w,2),O=A[0],E=A[1];return Ne(Ne({},_),{},et({},O,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(N){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(N){var _=this.state,w=_.formattedGraphicalItems,A=_.activeItem;if(w&&w.length)for(var O=0,E=w.length;O<E;O++){var T=w[O],$=T.props,k=T.item,C=k.type.defaultProps!==void 0?Ne(Ne({},k.type.defaultProps),k.props):k.props,D=Ti(k.type);if(D==="Bar"){var I=($.data||[]).find(function(J){return uae(N,J)});if(I)return{graphicalItem:T,payload:I}}else if(D==="RadialBar"){var H=($.data||[]).find(function(J){return J5(N,J)});if(H)return{graphicalItem:T,payload:H}}else if(Um(T,A)||Wm(T,A)||Td(T,A)){var V=Rie({graphicalItem:T,activeTooltipItem:A,itemData:C.data}),X=C.activeIndex===void 0?V:C.activeIndex;return{graphicalItem:Ne(Ne({},T),{},{childIndex:X}),payload:Td(T,A)?C.data[V]:T.props.data[V]}}}return null}},{key:"render",value:function(){var N=this;if(!pw(this))return null;var _=this.props,w=_.children,A=_.className,O=_.width,E=_.height,T=_.style,$=_.compact,k=_.title,C=_.desc,D=wN(_,xce),I=Xe(D,!1);if($)return B.createElement(nN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(v0,jl({},I,{width:O,height:E,title:k,desc:C}),this.renderClipPath(),gw(w,this.renderMap)));if(this.props.accessibilityLayer){var H,V;I.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,I.role=(V=this.props.role)!==null&&V!==void 0?V:"application",I.onKeyDown=function(J){N.accessibilityManager.keyboardEvent(J)},I.onFocus=function(){N.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return B.createElement(nN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",jl({className:pt("recharts-wrapper",A),style:Ne({position:"relative",cursor:"default",width:O,height:E},T)},X,{ref:function(Y){N.container=Y}}),B.createElement(v0,jl({},I,{width:O,height:E,title:k,desc:C,style:Ice}),this.renderClipPath(),gw(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(q.Component);et(v,"displayName",r),et(v,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),et(v,"getDerivedStateFromProps",function(j,y){var x=j.dataKey,N=j.data,_=j.children,w=j.width,A=j.height,O=j.layout,E=j.stackOffset,T=j.margin,$=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var C=SN(j);return Ne(Ne(Ne({},C),{},{updateId:0},h(Ne(Ne({props:j},C),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:N,prevWidth:w,prevHeight:A,prevLayout:O,prevStackOffset:E,prevMargin:T,prevChildren:_})}if(x!==y.prevDataKey||N!==y.prevData||w!==y.prevWidth||A!==y.prevHeight||O!==y.prevLayout||E!==y.prevStackOffset||!Pl(T,y.prevMargin)){var D=SN(j),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},H=Ne(Ne({},NN(y,N,O)),{},{updateId:y.updateId+1}),V=Ne(Ne(Ne({},D),I),H);return Ne(Ne(Ne({},V),h(Ne({props:j},V),y)),{},{prevDataKey:x,prevData:N,prevWidth:w,prevHeight:A,prevLayout:O,prevStackOffset:E,prevMargin:T,prevChildren:_})}if(!m0(_,y.prevChildren)){var X,J,Y,Z,ae=Cn(_,Ql),M=ae&&(X=(J=ae.props)===null||J===void 0?void 0:J.startIndex)!==null&&X!==void 0?X:$,U=ae&&(Y=(Z=ae.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&Y!==void 0?Y:k,Q=M!==$||U!==k,ne=!ft(N),oe=ne&&!Q?y.updateId:y.updateId+1;return Ne(Ne({updateId:oe},h(Ne(Ne({props:j},y),{},{updateId:oe,dataStartIndex:M,dataEndIndex:U}),y)),{},{prevChildren:_,dataStartIndex:M,dataEndIndex:U})}return null}),et(v,"renderActiveDot",function(j,y,x){var N;return q.isValidElement(j)?N=q.cloneElement(j,y):nt(j)?N=j(y):N=B.createElement(Rm,y),B.createElement(Nt,{className:"recharts-active-dot",key:x},N)});var g=q.forwardRef(function(y,x){return B.createElement(v,jl({},y,{ref:x}))});return g.displayName=v.displayName,g},Vce=bO({chartName:"PieChart",GraphicalChild:Bi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:zm},{axisType:"radiusAxis",AxisComp:Bm}],formatAxisMap:Cte,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Yce=bO({chartName:"AreaChart",GraphicalChild:No,axisComponents:[{axisType:"xAxis",AxisComp:Xm},{axisType:"yAxis",AxisComp:Jm}],formatAxisMap:Yoe});const AN=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];function xO(){const{id:e}=uc(),{profile:t,loading:r}=vo(),n=t==null?void 0:t.org_id,[a,i]=q.useState(!0),[o,s]=q.useState(null),[c,u]=q.useState("overview"),[d,f]=q.useState("6m"),[p,h]=q.useState({total_donations:0,total_donors:0,average_donation:0,progress:0,top_donor:null,monetary_donations:0,time_donations:0,supply_donations:0,donor_retention_rate:0,recurring_donors:0,campaign_efficiency:0,volunteer_hours:0,supply_value:0,monthly_trends:[],donor_demographics:[],campaign_performance:[],volunteer_metrics:[],supply_categories:[],donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]}),[v,g]=q.useState({type:"monetary",amount:"",description:"",date:Cb(new Date,"yyyy-MM-dd"),donor_name:"",donor_email:"",donor_phone:"",is_recurring:!1,frequency:"monthly",category:"",payment_method:"credit_card"});q.useEffect(()=>{if(!r){if(!e&&!n){s("No fundraiser or organization context found."),i(!1);return}y()}},[e,d,n,r]);const j=N=>({...p,...N,monthly_trends:Array.isArray(N==null?void 0:N.monthly_trends)?N.monthly_trends:[],donor_demographics:Array.isArray(N==null?void 0:N.donor_demographics)?N.donor_demographics:[],campaign_performance:Array.isArray(N==null?void 0:N.campaign_performance)?N.campaign_performance:[],volunteer_metrics:Array.isArray(N==null?void 0:N.volunteer_metrics)?N.volunteer_metrics:[],supply_categories:Array.isArray(N==null?void 0:N.supply_categories)?N.supply_categories:[],donors:Array.isArray(N==null?void 0:N.donors)?N.donors:[],top_donors:Array.isArray(N==null?void 0:N.top_donors)?N.top_donors:[],recurring_donor_list:Array.isArray(N==null?void 0:N.recurring_donor_list)?N.recurring_donor_list:[],donor_retention:Array.isArray(N==null?void 0:N.donor_retention)?N.donor_retention:[]}),y=async()=>{var N,_,w,A,O,E,T,$,k,C,D,I,H;try{i(!0);const[V,X,J,Y]=await Promise.all([Pa.getAnalyticsOverview({dateRange:d}),Pa.getAnalyticsTrends({dateRange:d}),Pa.getAnalyticsDonorRetention({dateRange:d}),Pa.getAnalyticsCampaigns({dateRange:d})]);console.log("Analytics API responses:",{overview:V,trends:X,retention:J,campaigns:Y});const Z={total_donations:((_=(N=V==null?void 0:V.data)==null?void 0:N.data)==null?void 0:_.total_donations)||0,total_donors:((A=(w=V==null?void 0:V.data)==null?void 0:w.data)==null?void 0:A.total_donors)||0,volunteer_hours:((E=(O=V==null?void 0:V.data)==null?void 0:O.data)==null?void 0:E.total_volunteer_hours)||0,supply_value:(($=(T=V==null?void 0:V.data)==null?void 0:T.data)==null?void 0:$.total_supply_value)||0,active_campaigns:((C=(k=V==null?void 0:V.data)==null?void 0:k.data)==null?void 0:C.active_campaigns)||0,monthly_trends:((D=X==null?void 0:X.data)==null?void 0:D.data)||[],donor_retention:((I=J==null?void 0:J.data)==null?void 0:I.data)||[],campaign_performance:((H=Y==null?void 0:Y.data)==null?void 0:H.data)||[]};h(j(Z)),s(null)}catch(V){const X="Failed to fetch fundraiser analytics";s(X),Ea(V,X),console.error("Analytics fetch error:",V)}finally{i(!1)}},x=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N);return o?l.jsx("div",{className:"text-red-500 text-center mt-8",children:o}):a?l.jsx("div",{className:"text-center py-12",children:"Loading analytics..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(Ln,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx(Ja,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donations"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:x(p.total_donations)})]})]})}),l.jsx(Ln,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx(si,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donors"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.total_donors})]})]})}),l.jsx(Ln,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx(Pu,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Volunteer Hours"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.volunteer_hours})]})]})}),l.jsx(Ln,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(vP,{className:"h-6 w-6 text-yellow-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Supply Value"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:x(p.supply_value)})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Trends"}),l.jsx("div",{className:"h-80",children:l.jsx(Fw,{width:"100%",height:"100%",children:l.jsxs(Yce,{data:p.monthly_trends,children:[l.jsx(eO,{strokeDasharray:"3 3"}),l.jsx(Xm,{dataKey:"date"}),l.jsx(Jm,{}),l.jsx(Na,{formatter:N=>x(N)}),l.jsx(No,{type:"monotone",dataKey:"amount",stroke:"#2563eb",fill:"#93c5fd"})]})})})]}),l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Types"}),l.jsx("div",{className:"h-80",children:l.jsx(Fw,{width:"100%",height:"100%",children:l.jsxs(Vce,{children:[l.jsx(Bi,{data:p.supply_categories,dataKey:"value",nameKey:"category",cx:"50%",cy:"50%",outerRadius:80,fill:"#2563eb",label:!0,children:p.supply_categories.map((N,_)=>l.jsx(Am,{fill:AN[_%AN.length]},`cell-${_}`))}),l.jsx(Na,{}),l.jsx(os,{})]})})})]})]})]})}function Kce(){const{id:e}=uc(),[t,r]=q.useState(!0),[n,a]=q.useState(null),[i,o]=q.useState(null),[s,c]=q.useState(!1);q.useEffect(()=>{if(!e){a("No fundraiser selected. Please select a fundraiser to share."),r(!1);return}u()},[e]);const u=async()=>{if(e)try{r(!0);const{data:p,error:h}=await Pa.getFundraiser(e);if(h)throw new Error(h);o(p),a(null)}catch(p){const h="Failed to fetch fundraiser details";a(h),Ea(p,h)}finally{r(!1)}},d=async p=>{const h=`${window.location.origin}/fundraisers/${e}`,v=`Support ${i.title} - ${i.description}`;try{switch(p){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(h)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(v)}&url=${encodeURIComponent(h)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(h)}`,"_blank");break;default:break}cs("Shared successfully")}catch(g){Ea(g,"Failed to share")}},f=async()=>{const p=`${window.location.origin}/fundraisers/${e}`;try{await navigator.clipboard.writeText(p),c(!0),cs("Link copied to clipboard"),setTimeout(()=>c(!1),2e3)}catch(h){Ea(h,"Failed to copy link")}};return n?l.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):i?l.jsx(Lb,{title:"Share Fundraiser",loading:t,error:n,children:l.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:l.jsx(Ln,{title:i.title,description:i.description,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[l.jsxs(xn,{onClick:()=>d("facebook"),className:"flex items-center space-x-2",children:[l.jsx(yP,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on Facebook"})]}),l.jsxs(xn,{onClick:()=>d("twitter"),className:"flex items-center space-x-2",children:[l.jsx(bP,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on Twitter"})]}),l.jsxs(xn,{onClick:()=>d("linkedin"),className:"flex items-center space-x-2",children:[l.jsx(xP,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on LinkedIn"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600 truncate",children:`${window.location.origin}/fundraisers/${e}`}),l.jsx(xn,{onClick:f,variant:"outline",className:"flex items-center space-x-2",children:s?l.jsxs(l.Fragment,{children:[l.jsx(wP,{className:"h-5 w-5 text-green-500"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(qN,{className:"h-5 w-5"}),l.jsx("span",{children:"Copy"})]})})]})]})})})}):null}function Xce(){const e=jr(),[t,r]=q.useState(!0),[n,a]=q.useState(null),[i,o]=q.useState({donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]});q.useEffect(()=>{s()},[]);const s=async()=>{var d;try{r(!0);const f=await Pa.getAnalyticsDonorRetention();console.log("Donor retention response:",f);const p=(d=f==null?void 0:f.data)==null?void 0:d.data;let h=[];Array.isArray(p)?h=p:p&&typeof p=="object"&&(h=p.donors||p.retention||[]),Array.isArray(h)||(h=[]),console.log("Processed donor data:",h),o({donors:h,top_donors:h.slice(0,10),recurring_donor_list:h.filter(v=>v.months_active>1),donor_retention:h}),a(null)}catch(f){a("Failed to fetch donor analytics"),console.error("Donor analytics fetch error:",f)}finally{r(!1)}},c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),u=d=>Cb(new Date(d),"MMM d, yyyy");return n?l.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):t?l.jsx("div",{className:"text-center py-12",children:"Loading donors..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Donor Analytics"}),l.jsx(xn,{variant:"outline",onClick:()=>e("/fundraisers/record-donation"),children:"Add Donation"})]}),l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor List"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Recurring"})]})}),l.jsx("tbody",{children:i.donors&&i.donors.length>0?i.donors.map((d,f)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:((d==null?void 0:d.months_active)||0)>1?"Yes":"No"})]},f)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donors found."})})})]})})]}),l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Donors"}),l.jsx("ul",{className:"divide-y divide-gray-200",children:i.top_donors&&i.top_donors.length>0?i.top_donors.map((d,f)=>l.jsxs("li",{className:"py-2 flex justify-between",children:[l.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("li",{className:"text-center py-4 text-gray-500",children:"No top donors found."})})]}),l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recurring Donors"}),l.jsx("ul",{className:"divide-y divide-gray-200",children:i.recurring_donor_list&&i.recurring_donor_list.length>0?i.recurring_donor_list.map((d,f)=>l.jsxs("li",{className:"py-2 flex justify-between",children:[l.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("li",{className:"text-center py-4 text-gray-500",children:"No recurring donors found."})})]}),l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor Retention"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Donor"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Months Active"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"First Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"})]})}),l.jsx("tbody",{children:i.donor_retention&&i.donor_retention.length>0?i.donor_retention.map((d,f)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.months_active)||0}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.first_donation?u(d.first_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donor retention data found."})})})]})})]})]})}const ON=[{value:"monetary",label:"Monetary Donations"},{value:"volunteer",label:"Volunteer Hours"},{value:"supplies",label:"Supply Donations"},{value:"top_donors",label:"Top Donors"},{value:"recurring",label:"Recurring Donors"},{value:"retention",label:"Donor Retention"},{value:"campaign",label:"Campaign Performance"},{value:"year_over_year",label:"Year-over-Year Comparison"}];function Jce(){var h;const[e,t]=q.useState("monetary"),[r,n]=q.useState("6m"),[a,i]=q.useState(!1),[o,s]=q.useState([]),[c,u]=q.useState(null),d=()=>{i(!0),setTimeout(()=>{s([{name:"John Smith",value:1500,date:"2024-01-15"},{name:"Sarah Johnson",value:2500,date:"2024-03-01"},{name:"Mike Brown",value:500,date:"2024-02-01"}]),i(!1),u(null)},1e3)},f=()=>{alert("PDF export coming soon!")},p=()=>{alert("XLSX export coming soon!")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e,onChange:v=>t(v.target.value),children:ON.map(v=>l.jsx("option",{value:v.value,children:v.label},v.value))}),l.jsxs("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:v=>n(v.target.value),children:[l.jsx("option",{value:"6m",children:"Last 6 Months"}),l.jsx("option",{value:"1y",children:"Last Year"}),l.jsx("option",{value:"all",children:"All Time"})]}),l.jsx(xn,{variant:"outline",onClick:d,disabled:a,children:"Generate Report"})]}),l.jsxs(Ln,{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[(h=ON.find(v=>v.value===e))==null?void 0:h.label," Report"]}),l.jsxs("div",{className:"space-x-2",children:[l.jsx(xn,{variant:"outline",onClick:f,children:"Export as PDF"}),l.jsx(xn,{variant:"outline",onClick:p,children:"Export as XLSX"})]})]}),c&&l.jsx("div",{className:"text-red-500 mb-4",children:c}),a?l.jsx("div",{className:"text-center py-12",children:"Generating report..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),l.jsx("tbody",{children:o.length>0?o.map((v,g)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.name}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.value}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.date})]},g)):l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"text-center py-4 text-gray-500",children:"No data to display."})})})]})})]})]})}function wO({fundraiserId:e,onCancel:t,onSave:r,embedded:n=!1}){const a=jr(),{id:i}=uc(),o=e||i,[s,c]=q.useState(!0),[u,d]=q.useState(null),[f,p]=q.useState({title:"",description:"",goal_amount:"",category_id:"",start_date:"",end_date:"",status:"draft",visibility:"organization"}),h=[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],v=[{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"organization",label:"Organization Only"}];q.useEffect(()=>{o?g():c(!1)},[o]);const g=async()=>{var N;if(o)try{c(!0);const _=await Pa.getFundraiser(o);console.log("Raw API response:",_);const w=((N=_.data)==null?void 0:N.data)||_.data||_;if(console.log("Extracted fundraiser data:",w),console.log("Fundraiser data keys:",w?Object.keys(w):"no data"),_.error)throw new Error(_.error);if(!w)throw new Error("No fundraiser found with this ID.");const A={title:w.title||"",description:w.description||"",goal_amount:w.goal_amount||w.goal||"",category_id:w.category_id||w.category||"",start_date:w.start_date?w.start_date.split("T")[0]:"",end_date:w.end_date?w.end_date.split("T")[0]:"",status:w.status||"draft",visibility:w.visibility||"organization"};console.log("Individual field values:"),console.log("fundraiserData.title:",w.title),console.log("fundraiserData.goal:",w.goal),console.log("fundraiserData.start_date:",w.start_date),console.log("Transformed data for form:",A),p(A),d(null)}catch(_){const w="Failed to fetch fundraiser details";d(_.message||w),Ea(_,w)}finally{c(!1)}},j=async N=>{N.preventDefault();try{c(!0);const _={title:f.title,description:f.description,goal_amount:f.goal_amount,start_date:f.start_date,end_date:f.end_date,status:f.status,visibility:f.visibility,category:f.category_id};if(o){const{error:w}=await Pa.updateFundraiser(o,_);if(w)throw new Error(w);cs("Fundraiser updated successfully"),n&&r?r():a("/fundraisers")}else{const{error:w}=await Pa.createFundraiser(_);if(w)throw new Error(w);cs("Fundraiser created successfully"),n&&r?r():a("/fundraisers")}}catch(_){Ea(_,o?"Failed to update fundraiser":"Failed to create fundraiser")}finally{c(!1)}},y=N=>{const{name:_,value:w}=N.target;p(A=>({...A,[_]:w}))};if(s)return l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("span",{className:"text-blue-600 text-lg",children:"Loading fundraiser details..."})});if(u)return l.jsx("div",{className:"text-red-500 text-center mt-8",children:u});if(!o&&(window.location.pathname.includes("edit")||n))return l.jsx("div",{className:"text-red-500 text-center mt-8",children:"No fundraiser selected. Please select a fundraiser to edit."});const x=l.jsxs("form",{onSubmit:j,className:"max-w-2xl mx-auto space-y-6",children:[l.jsx(ul,{label:"Title",id:"title",name:"title",value:f.title,onChange:y,required:!0}),l.jsx(ul,{label:"Description",id:"description",name:"description",value:f.description,onChange:y,required:!0,as:"textarea",rows:4}),l.jsx(ul,{label:"Goal Amount",id:"goal_amount",name:"goal_amount",type:"number",value:f.goal_amount,onChange:y,required:!0,min:"0",step:"0.01"}),l.jsx(ul,{label:"Category",id:"category_id",name:"category_id",value:f.category_id,onChange:y}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(ul,{label:"Start Date",id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:y,required:!0}),l.jsx(ul,{label:"End Date",id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:y,required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(cw,{label:"Status",id:"status",name:"status",value:f.status,onChange:y,required:!0,options:h}),l.jsx(cw,{label:"Visibility",id:"visibility",name:"visibility",value:f.visibility,onChange:y,required:!0,options:v})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(xn,{type:"button",variant:"outline",onClick:n&&t?t:()=>a("/fundraisers"),children:"Cancel"}),l.jsxs(xn,{type:"submit",isLoading:s,children:[o?"Update":"Create"," Fundraiser"]})]})]});return n?x:l.jsx(Lb,{title:o?"Edit Fundraiser":"Create Fundraiser",loading:s,error:u,children:x})}function Zce(){const e=jr(),[t,r]=q.useState(!0),[n,a]=q.useState(null),[i,o]=q.useState([]),[s,c]=q.useState(""),[u,d]=q.useState("all"),[f,p]=q.useState(null),[h,v]=q.useState("fundraisers"),[g,j]=q.useState(null);q.useEffect(()=>{y();const T=sessionStorage.getItem("editFundraiserId");T&&(j(T),sessionStorage.removeItem("editFundraiserId"))},[]);const y=async()=>{try{r(!0);const{data:T,error:$}=await Pa.getFundraisers();if($)throw new Error($);o((T==null?void 0:T.data)||[]),a(null)}catch(T){const $="Failed to fetch fundraisers";a($),Ea(T,$)}finally{r(!1)}},x=async T=>{if(window.confirm("Are you sure you want to delete this fundraiser?"))try{r(!0);const{error:$}=await Pa.deleteFundraiser(T);if($)throw new Error($);cs("Fundraiser deleted successfully"),y()}catch($){Ea($,"Failed to delete fundraiser")}finally{r(!1)}},N=T=>new Date(T).toLocaleDateString(),_=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T),w=T=>{j(T)},A=()=>{j(null)},O=()=>{j(null),y()},E=i.filter(T=>{const $=T.title.toLowerCase().includes(s.toLowerCase())||T.description.toLowerCase().includes(s.toLowerCase()),k=u==="all"||T.status===u;return $&&k});return l.jsxs(Lb,{title:"Fundraiser Manager",loading:t,error:n,children:[l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="fundraisers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("fundraisers"),children:"Active Fundraisers"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="analytics"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("analytics"),children:"Analytics"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="donors"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("donors"),children:"Donors"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("reports"),children:"Reports"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="share"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("share"),children:"Share"})]})}),h==="fundraisers"&&!g&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Fundraisers"}),l.jsx(xn,{variant:"outline",onClick:()=>e("/fundraisers/create"),children:"Create New Fundraiser"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(T=>l.jsx(Ln,{title:T.title,description:T.description,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Goal:"}),l.jsx("span",{className:"font-medium",children:_(T.goal_amount)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Status:"}),l.jsx("span",{className:`font-medium ${T.status==="active"?"text-green-600":T.status==="completed"?"text-blue-600":"text-gray-600"}`,children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Dates:"}),l.jsxs("span",{className:"font-medium",children:[N(T.start_date)," - ",N(T.end_date)]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(xn,{variant:"outline",onClick:()=>w(T.id),children:"Edit"}),l.jsx(xn,{variant:"danger",onClick:()=>x(T.id),children:"Delete"})]})]})},T.id))}),E.length===0&&!t&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"No fundraisers found"})})]}),h==="fundraisers"&&g&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Fundraiser"}),l.jsx(xn,{variant:"outline",onClick:A,children:"â† Back to Fundraisers"})]}),l.jsx(wO,{fundraiserId:g,onCancel:A,onSave:O,embedded:!0})]}),h==="analytics"&&l.jsx("div",{className:"mt-8",children:l.jsx(xO,{})}),h==="donors"&&l.jsx("div",{className:"mt-8",children:l.jsx(Xce,{})}),h==="reports"&&l.jsx("div",{className:"mt-8",children:l.jsx(Jce,{})}),h==="share"&&l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"fundraiser-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Fundraiser to Share"}),l.jsxs("select",{id:"fundraiser-select",className:"block w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-base",value:f?f.id:"",onChange:T=>{const $=i.find(k=>k.id===T.target.value);p($||null)},children:[l.jsx("option",{value:"",children:"-- Select a Fundraiser --"}),i.map(T=>l.jsx("option",{value:T.id,children:T.title},T.id))]})]}),h==="share"&&l.jsx(Kce,{fundraiserId:f?f.id:null})]})}function Qce(){const{id:e}=uc(),t=jr();return q.useEffect(()=>{e?(sessionStorage.setItem("editFundraiserId",e),t("/fundraisers",{replace:!0})):t("/fundraisers",{replace:!0})},[e,t]),l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Redirecting to fundraiser editor..."})]})})}function eue(){const[e,t]=q.useState([]),[r,n]=q.useState("");q.useEffect(()=>{async function s(){const{data:{session:c}}=await Ye.auth.getSession();if(!(c!=null&&c.access_token)){n("Authentication required.");return}try{const u=await fetch("/api/budgets",{headers:{Authorization:`Bearer ${c.access_token}`}}),d=await u.json();u.ok?t(d):n(d.error||"Failed to load transactions.")}catch(u){console.error("Budget fetch error:",u),n("Error connecting to the server.")}}s()},[]);const a=e.filter(s=>s.type==="income").reduce((s,c)=>s+parseFloat(c.amount||0),0),i=e.filter(s=>s.type==="expense").reduce((s,c)=>s+parseFloat(c.amount||0),0),o=a-i;return l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"PTO Budget Overview"}),l.jsx(Aa,{to:"/budget/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Add Entry"})]}),l.jsxs("div",{className:"mb-6 p-4 border rounded bg-gray-100",children:[l.jsxs("p",{className:"text-lg font-semibold",children:["Current Balance: $",o.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-green-700",children:["Total Income: $",a.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-red-700",children:["Total Expenses: $",i.toFixed(2)]})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No budget entries found."}),l.jsx("ul",{className:"space-y-4",children:e.map(s=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold",children:s.label}),l.jsxs("span",{className:s.type==="income"?"text-green-600":"text-red-600",children:[s.type==="income"?"+":"-","$",parseFloat(s.amount).toFixed(2)]})]}),l.jsx("p",{className:"text-sm text-gray-500",children:s.category||"Uncategorized"}),s.related_event_id&&l.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Event ID: ",s.related_event_id]})]},s.id))})]})}const tue=()=>{const e=jr(),[t,r]=q.useState("overview"),[n,a]=q.useState("manual"),[i,o]=q.useState("current"),s={totalBudget:45e3,totalSpent:28500,totalRemaining:16500,projectedIncome:52e3,categories:[{id:1,name:"Events & Programs",budgeted:15e3,spent:8500,remaining:6500,percentage:57,trend:"up",createdBy:"stella",subcategories:[{name:"Fall Festival",budgeted:5e3,spent:3200},{name:"Science Night",budgeted:3e3,spent:1800},{name:"Book Fair",budgeted:4e3,spent:2500},{name:"Art Show",budgeted:3e3,spent:1e3}]},{id:2,name:"Educational Support",budgeted:12e3,spent:7200,remaining:4800,percentage:60,trend:"stable",createdBy:"manual",subcategories:[{name:"Classroom Supplies",budgeted:6e3,spent:4200},{name:"Technology",budgeted:4e3,spent:2e3},{name:"Library Books",budgeted:2e3,spent:1e3}]},{id:3,name:"Communications",budgeted:3e3,spent:1800,remaining:1200,percentage:60,trend:"down",createdBy:"stella",subcategories:[{name:"Website & Digital",budgeted:1500,spent:800},{name:"Print Materials",budgeted:1e3,spent:700},{name:"Social Media",budgeted:500,spent:300}]},{id:4,name:"Administrative",budgeted:5e3,spent:3200,remaining:1800,percentage:64,trend:"up",createdBy:"manual",subcategories:[{name:"Insurance",budgeted:2e3,spent:2e3},{name:"Banking & Fees",budgeted:1e3,spent:600},{name:"Office Supplies",budgeted:2e3,spent:600}]}],recentTransactions:[{id:1,date:"2024-10-15",description:"Fall Festival Decorations",category:"Events & Programs",amount:-450,type:"expense",createdBy:"stella"},{id:2,date:"2024-10-14",description:"Book Fair Revenue",category:"Events & Programs",amount:2800,type:"income",createdBy:"manual"},{id:3,date:"2024-10-12",description:"Classroom Technology",category:"Educational Support",amount:-1200,type:"expense",createdBy:"manual"}]},c=()=>{e("/budget/create")},u=()=>{e("/communications/ai?context=budget&mode=assisted")},d=()=>{e("/ai-workflow-orchestrator?context=budget&mode=automated")},f=w=>{e(`/budget/create?category=${w}&mode=view`)},p=w=>{e(`/budget/create?category=${w}&mode=edit`)},h=w=>{e(`/budget/create?category=${w}&mode=optimize`)},v=()=>{e("/budget/create?mode=reallocation")},g=()=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ja,{className:"w-6 h-6 text-blue-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Budget"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",s.totalBudget.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"For current fiscal year"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(jP,{className:"w-6 h-6 text-red-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Spent"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:["$",s.totalSpent.toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round(s.totalSpent/s.totalBudget*100),"% of budget used"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(zN,{className:"w-6 h-6 text-green-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Remaining"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",s.totalRemaining.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Available for spending"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Iy,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Projected Income"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",s.projectedIncome.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Expected total revenue"})]})]}),j=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(lr,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Budget Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Budget Health"}),l.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Excellent"}),l.jsx("div",{className:"text-xs text-purple-700",children:"On track for surplus"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Biggest Opportunity"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Fall Festival"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Could generate $2K more"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Cost Savings"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"$1,200 Found"}),l.jsx("div",{className:"text-xs text-purple-700",children:"In administrative costs"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"ðŸ’¡ Stella's Recommendation"}),l.jsx("div",{className:"text-sm text-purple-800",children:'"Your Events & Programs category is performing well! Consider reallocating $1,000 from Administrative to Educational Support to maximize impact on students. I can create a reallocation plan for you."'}),l.jsx("button",{onClick:v,className:"mt-3 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"Let Stella Create Reallocation Plan"})]})]}),y=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Budget Categories"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Entry"}),l.jsx("button",{className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Ask Stella"})]})]}),l.jsx("div",{className:"space-y-6",children:s.categories.map(w=>{const A=w.spent/w.budgeted*100,O=A>100;return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),w.createdBy==="stella"&&l.jsx(lr,{className:"w-4 h-4 text-purple-500",title:"Optimized by Stella"}),l.jsxs("div",{className:`flex items-center space-x-1 text-sm ${w.trend==="up"?"text-green-600":w.trend==="down"?"text-red-600":"text-gray-600"}`,children:[w.trend==="up"&&l.jsx(t1,{className:"w-4 h-4"}),w.trend==="down"&&l.jsx(r1,{className:"w-4 h-4"}),l.jsx("span",{className:"capitalize",children:w.trend})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",w.spent.toLocaleString()," / $",w.budgeted.toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["$",w.remaining.toLocaleString()," remaining"]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:`font-medium ${O?"text-red-600":"text-gray-900"}`,children:[Math.round(A),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${O?"bg-red-500":"bg-blue-600"}`,style:{width:`${Math.min(A,100)}%`}})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:w.subcategories.map((E,T)=>l.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),l.jsxs("div",{className:"text-xs text-gray-600",children:["$",E.spent.toLocaleString()," / $",E.budgeted.toLocaleString()]})]},T))}),l.jsxs("div",{className:"flex space-x-2 mt-4",children:[l.jsxs("button",{onClick:()=>f(w.id),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[l.jsx(Ru,{className:"w-4 h-4 mr-2"}),"View Details"]}),l.jsxs("button",{onClick:()=>p(w.id),className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[l.jsx(Fu,{className:"w-4 h-4 mr-2"}),"Edit"]}),w.createdBy==="manual"&&l.jsxs("button",{onClick:()=>h(w.id),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[l.jsx(lr,{className:"w-4 h-4 mr-2"}),"Ask Stella to Optimize"]})]})]},w.id)})})]}),x=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(NP,{className:"w-6 h-6 text-indigo-600"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Monthly Reconciliation"})]}),l.jsxs("button",{onClick:()=>e("/budget/reconciliation"),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[l.jsx(SP,{className:"w-4 h-4 mr-2"}),"View All Reconciliations"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"border-2 border-indigo-200 rounded-lg p-6 hover:border-indigo-400 transition-colors bg-indigo-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(_P,{className:"w-8 h-8 text-indigo-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-indigo-900",children:"Start New Reconciliation"}),l.jsx("p",{className:"text-sm text-indigo-700",children:"Upload bank statement and reconcile transactions"})]})]}),l.jsxs("ul",{className:"text-sm text-indigo-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ OCR bank statement processing"}),l.jsx("li",{children:"â€¢ Smart transaction matching"}),l.jsx("li",{children:"â€¢ Automated discrepancy detection"}),l.jsx("li",{children:"â€¢ Generate reconciliation reports"})]}),l.jsx("button",{onClick:()=>e("/budget/reconciliation/new"),className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Reconciliation"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Reconciliations"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-green-900",children:"October 2024"}),l.jsx("div",{className:"text-sm text-green-700",children:"Completed â€¢ 98% match rate"})]}),l.jsx(Rd,{className:"w-5 h-5 text-green-600"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-yellow-900",children:"November 2024"}),l.jsx("div",{className:"text-sm text-yellow-700",children:"In Progress â€¢ 3 discrepancies"})]}),l.jsx(AP,{className:"w-5 h-5 text-yellow-600"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"December 2024"}),l.jsx("div",{className:"text-sm text-gray-700",children:"Pending â€¢ Not started"})]}),l.jsx(Qn,{className:"w-5 h-5 text-gray-600"})]})]}),l.jsx("button",{onClick:()=>e("/budget/reconciliation"),className:"w-full mt-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"View Reconciliation History"})]})]}),l.jsxs("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(lr,{className:"w-5 h-5 text-indigo-600"}),l.jsx("span",{className:"font-medium text-indigo-900",children:"Reconciliation Insights"})]}),l.jsx("div",{className:"text-sm text-indigo-800",children:"Your reconciliation accuracy has improved by 15% this quarter. Consider setting up automated monthly reconciliations to maintain financial accuracy and save time."})]})]}),N=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Budget Item"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(OP,{className:"w-8 h-8 text-gray-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Manual Entry"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Full control over details"})]})]}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ Custom categories"}),l.jsx("li",{children:"â€¢ Detailed line items"}),l.jsx("li",{children:"â€¢ Manual calculations"})]}),l.jsx("button",{onClick:c,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),l.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(lr,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-blue-900",children:"Stella Assisted"}),l.jsx("p",{className:"text-sm text-blue-700",children:"Smart suggestions & validation"})]})]}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ Budget recommendations"}),l.jsx("li",{children:"â€¢ Historical comparisons"}),l.jsx("li",{children:"â€¢ Optimization suggestions"})]}),l.jsx("button",{onClick:u,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Stella's Help"})]}),l.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(lr,{className:"w-8 h-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-purple-900",children:"Stella Auto-Generate"}),l.jsx("p",{className:"text-sm text-purple-700",children:"Complete budget creation"})]})]}),l.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ AI-powered allocations"}),l.jsx("li",{children:"â€¢ Predictive modeling"}),l.jsx("li",{children:"â€¢ Optimization algorithms"})]}),l.jsx("button",{onClick:d,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Let Stella Generate"})]})]})]}),_=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Transactions"}),l.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(FN,{className:"w-4 h-4 mr-2"}),"Export"]})]}),l.jsx("div",{className:"space-y-4",children:s.recentTransactions.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w.type==="income"?"bg-green-100":"bg-red-100"}`,children:w.type==="income"?l.jsx(t1,{className:"w-5 h-5 text-green-600"}):l.jsx(r1,{className:"w-5 h-5 text-red-600"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:w.description}),w.createdBy==="stella"&&l.jsx(lr,{className:"w-4 h-4 text-purple-500",title:"Processed by Stella"})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[w.category," â€¢ ",new Date(w.date).toLocaleDateString()]})]})]}),l.jsxs("div",{className:`text-lg font-semibold ${w.type==="income"?"text-green-600":"text-red-600"}`,children:[w.type==="income"?"+":"","$",Math.abs(w.amount).toLocaleString()]})]},w.id))})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage your PTO finances with Stella's intelligent insights"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("select",{value:i,onChange:w=>o(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"current",children:"Current Year"}),l.jsx("option",{value:"previous",children:"Previous Year"}),l.jsx("option",{value:"quarter",children:"This Quarter"})]})})]}),l.jsx(g,{}),l.jsx(j,{}),l.jsx(x,{}),l.jsx(N,{}),l.jsx(y,{}),l.jsx(_,{})]})})};function rue(){const[e,t]=q.useState({label:"",amount:"",category:"",type:"expense",related_event_id:""}),[r,n]=q.useState(""),[a,i]=q.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},s=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await Ye.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Budget entry added successfully!"),t({label:"",amount:"",category:"",type:"expense",related_event_id:""})):i(f.error||"Submission failed.")}catch(d){console.error("Budget entry error:",d),i("Server error. Please try again.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Budget Entry"}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{name:"label",value:e.label,onChange:o,placeholder:"Label",className:"w-full border p-2",required:!0}),l.jsx("input",{type:"number",name:"amount",value:e.amount,onChange:o,placeholder:"Amount",className:"w-full border p-2",required:!0}),l.jsx("input",{name:"category",value:e.category,onChange:o,placeholder:"Category (e.g., supplies, venue)",className:"w-full border p-2"}),l.jsxs("select",{name:"type",value:e.type,onChange:o,className:"w-full border p-2",children:[l.jsx("option",{value:"expense",children:"Expense"}),l.jsx("option",{value:"income",children:"Income"})]}),l.jsx("input",{name:"related_event_id",value:e.related_event_id,onChange:o,placeholder:"Related Event ID (optional)",className:"w-full border p-2"}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Save Entry"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}const nue=()=>l.jsxs("div",{children:[l.jsx("h1",{children:"Reconciliation Dashboard"}),l.jsx("p",{children:"This is a placeholder for the Reconciliation Dashboard."})]});function aue({title:e,titleId:t,...r},n){return q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?q.createElement("title",{id:t},e):null,q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const iue=q.forwardRef(aue);function oue({title:e,titleId:t,...r},n){return q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?q.createElement("title",{id:t},e):null,q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const PN=q.forwardRef(oue);function sue({title:e,titleId:t,...r},n){return q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?q.createElement("title",{id:t},e):null,q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const $y=q.forwardRef(sue);function lue({title:e,titleId:t,...r},n){return q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?q.createElement("title",{id:t},e):null,q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const cue=q.forwardRef(lue);function uue({title:e,titleId:t,...r},n){return q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?q.createElement("title",{id:t},e):null,q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const due=q.forwardRef(uue);function fue({title:e,titleId:t,...r},n){return q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?q.createElement("title",{id:t},e):null,q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const hue=q.forwardRef(fue);function pue({title:e,titleId:t,...r},n){return q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?q.createElement("title",{id:t},e):null,q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const mue=q.forwardRef(pue);function gue({title:e,titleId:t,...r},n){return q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?q.createElement("title",{id:t},e):null,q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const vue=q.forwardRef(gue);function yue({title:e,titleId:t,...r},n){return q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?q.createElement("title",{id:t},e):null,q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const bue=q.forwardRef(yue);function xue({title:e,titleId:t,...r},n){return q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?q.createElement("title",{id:t},e):null,q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const jO=q.forwardRef(xue),Sh={startReconciliation:async e=>{var t,r,n,a,i,o,s,c,u,d;console.log("ðŸ” [FRONTEND DEBUG] startReconciliation called with data:",e);try{console.log("ðŸ” [FRONTEND DEBUG] Making API call to /budget/reconciliation/start");const f=await ln.post("/budget/reconciliation/start",e);console.log("ðŸ” [FRONTEND DEBUG] API response received:",{status:f.status,statusText:f.statusText,data:f.data});const p={success:f.data.success,data:f.data.data,error:((r=(t=f.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null};return console.log("ðŸ” [FRONTEND DEBUG] Processed result:",p),p}catch(f){console.error("âŒ [FRONTEND DEBUG] Error starting reconciliation:",f),console.error("âŒ [FRONTEND DEBUG] Error response:",f.response),console.error("âŒ [FRONTEND DEBUG] Error response data:",(n=f.response)==null?void 0:n.data),console.error("âŒ [FRONTEND DEBUG] Error response status:",(a=f.response)==null?void 0:a.status);const p=((c=(s=(o=(i=f.response)==null?void 0:i.data)==null?void 0:o.errors)==null?void 0:s[0])==null?void 0:c.message)||((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.error)||f.message;return console.error("âŒ [FRONTEND DEBUG] Final error message:",p),{success:!1,error:p}}},getReconciliations:async()=>{var e,t,r,n,a,i;try{const o=await ln.get("/budget/reconciliation");return{success:o.data.success,data:o.data.data,error:((t=(e=o.data.errors)==null?void 0:e[0])==null?void 0:t.message)||null}}catch(o){return console.error("Error fetching reconciliations:",o),{success:!1,error:((i=(a=(n=(r=o.response)==null?void 0:r.data)==null?void 0:n.errors)==null?void 0:a[0])==null?void 0:i.message)||o.message}}},uploadStatement:async(e,t)=>{var r,n,a,i,o,s;try{const c=await ln.post(`/budget/reconciliation/${e}/upload`,t);return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error uploading statement:",c),{success:!1,error:((s=(o=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:s.message)||c.message}}},getTransactions:async e=>{var t,r,n,a,i,o;try{const s=await ln.get(`/budget/reconciliation/${e}/transactions`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error fetching transactions:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}},matchTransaction:async(e,t)=>{var r,n,a,i,o,s;try{const c=await ln.post(`/budget/reconciliation/${e}/match`,{bank_transaction_id:t.bankTransactionId,expense_id:t.expenseId});return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error matching transaction:",c),{success:!1,error:((s=(o=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:s.message)||c.message}}},completeReconciliation:async e=>{var t,r,n,a,i,o;try{const s=await ln.post(`/budget/reconciliation/${e}/complete`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error completing reconciliation:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}},generateReport:async e=>{var t,r,n,a,i,o;try{const s=await ln.get(`/budget/reconciliation/${e}/report`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error generating report:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}}};var wue={exports:{}};(function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(Y,Z,ae){Y[Z]=ae.value},o,s=typeof Symbol=="function"?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function f(Y,Z,ae){return Object.defineProperty(Y,Z,{value:ae,enumerable:!0,configurable:!0,writable:!0}),Y[Z]}try{f({},"")}catch{f=function(Z,ae,M){return Z[ae]=M}}function p(Y,Z,ae,M){var U=Z&&Z.prototype instanceof N?Z:N,Q=Object.create(U.prototype),ne=new V(M||[]);return i(Q,"_invoke",{value:C(Y,ae,ne)}),Q}r.wrap=p;function h(Y,Z,ae){try{return{type:"normal",arg:Y.call(Z,ae)}}catch(M){return{type:"throw",arg:M}}}var v="suspendedStart",g="suspendedYield",j="executing",y="completed",x={};function N(){}function _(){}function w(){}var A={};f(A,c,function(){return this});var O=Object.getPrototypeOf,E=O&&O(O(X([])));E&&E!==n&&a.call(E,c)&&(A=E);var T=w.prototype=N.prototype=Object.create(A);_.prototype=w,i(T,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:_,configurable:!0}),_.displayName=f(w,d,"GeneratorFunction");function $(Y){["next","throw","return"].forEach(function(Z){f(Y,Z,function(ae){return this._invoke(Z,ae)})})}r.isGeneratorFunction=function(Y){var Z=typeof Y=="function"&&Y.constructor;return Z?Z===_||(Z.displayName||Z.name)==="GeneratorFunction":!1},r.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,w):(Y.__proto__=w,f(Y,d,"GeneratorFunction")),Y.prototype=Object.create(T),Y},r.awrap=function(Y){return{__await:Y}};function k(Y,Z){function ae(Q,ne,oe,he){var de=h(Y[Q],Y,ne);if(de.type==="throw")he(de.arg);else{var ie=de.arg,xe=ie.value;return xe&&typeof xe=="object"&&a.call(xe,"__await")?Z.resolve(xe.__await).then(function(be){ae("next",be,oe,he)},function(be){ae("throw",be,oe,he)}):Z.resolve(xe).then(function(be){ie.value=be,oe(ie)},function(be){return ae("throw",be,oe,he)})}}var M;function U(Q,ne){function oe(){return new Z(function(he,de){ae(Q,ne,he,de)})}return M=M?M.then(oe,oe):oe()}i(this,"_invoke",{value:U})}$(k.prototype),f(k.prototype,u,function(){return this}),r.AsyncIterator=k,r.async=function(Y,Z,ae,M,U){U===void 0&&(U=Promise);var Q=new k(p(Y,Z,ae,M),U);return r.isGeneratorFunction(Z)?Q:Q.next().then(function(ne){return ne.done?ne.value:Q.next()})};function C(Y,Z,ae){var M=v;return function(Q,ne){if(M===j)throw new Error("Generator is already running");if(M===y){if(Q==="throw")throw ne;return J()}for(ae.method=Q,ae.arg=ne;;){var oe=ae.delegate;if(oe){var he=D(oe,ae);if(he){if(he===x)continue;return he}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(M===v)throw M=y,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);M=j;var de=h(Y,Z,ae);if(de.type==="normal"){if(M=ae.done?y:g,de.arg===x)continue;return{value:de.arg,done:ae.done}}else de.type==="throw"&&(M=y,ae.method="throw",ae.arg=de.arg)}}}function D(Y,Z){var ae=Z.method,M=Y.iterator[ae];if(M===o)return Z.delegate=null,ae==="throw"&&Y.iterator.return&&(Z.method="return",Z.arg=o,D(Y,Z),Z.method==="throw")||ae!=="return"&&(Z.method="throw",Z.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),x;var U=h(M,Y.iterator,Z.arg);if(U.type==="throw")return Z.method="throw",Z.arg=U.arg,Z.delegate=null,x;var Q=U.arg;if(!Q)return Z.method="throw",Z.arg=new TypeError("iterator result is not an object"),Z.delegate=null,x;if(Q.done)Z[Y.resultName]=Q.value,Z.next=Y.nextLoc,Z.method!=="return"&&(Z.method="next",Z.arg=o);else return Q;return Z.delegate=null,x}$(T),f(T,d,"Generator"),f(T,c,function(){return this}),f(T,"toString",function(){return"[object Generator]"});function I(Y){var Z={tryLoc:Y[0]};1 in Y&&(Z.catchLoc=Y[1]),2 in Y&&(Z.finallyLoc=Y[2],Z.afterLoc=Y[3]),this.tryEntries.push(Z)}function H(Y){var Z=Y.completion||{};Z.type="normal",delete Z.arg,Y.completion=Z}function V(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(I,this),this.reset(!0)}r.keys=function(Y){var Z=Object(Y),ae=[];for(var M in Z)ae.push(M);return ae.reverse(),function U(){for(;ae.length;){var Q=ae.pop();if(Q in Z)return U.value=Q,U.done=!1,U}return U.done=!0,U}};function X(Y){if(Y){var Z=Y[c];if(Z)return Z.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var ae=-1,M=function U(){for(;++ae<Y.length;)if(a.call(Y,ae))return U.value=Y[ae],U.done=!1,U;return U.value=o,U.done=!0,U};return M.next=M}}return{next:J}}r.values=X;function J(){return{value:o,done:!0}}return V.prototype={constructor:V,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(H),!Y)for(var Z in this)Z.charAt(0)==="t"&&a.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=o)},stop:function(){this.done=!0;var Y=this.tryEntries[0],Z=Y.completion;if(Z.type==="throw")throw Z.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var Z=this;function ae(he,de){return Q.type="throw",Q.arg=Y,Z.next=he,de&&(Z.method="next",Z.arg=o),!!de}for(var M=this.tryEntries.length-1;M>=0;--M){var U=this.tryEntries[M],Q=U.completion;if(U.tryLoc==="root")return ae("end");if(U.tryLoc<=this.prev){var ne=a.call(U,"catchLoc"),oe=a.call(U,"finallyLoc");if(ne&&oe){if(this.prev<U.catchLoc)return ae(U.catchLoc,!0);if(this.prev<U.finallyLoc)return ae(U.finallyLoc)}else if(ne){if(this.prev<U.catchLoc)return ae(U.catchLoc,!0)}else if(oe){if(this.prev<U.finallyLoc)return ae(U.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,Z){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var M=this.tryEntries[ae];if(M.tryLoc<=this.prev&&a.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var U=M;break}}U&&(Y==="break"||Y==="continue")&&U.tryLoc<=Z&&Z<=U.finallyLoc&&(U=null);var Q=U?U.completion:{};return Q.type=Y,Q.arg=Z,U?(this.method="next",this.next=U.finallyLoc,x):this.complete(Q)},complete:function(Y,Z){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&Z&&(this.next=Z),x},finish:function(Y){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ae=this.tryEntries[Z];if(ae.finallyLoc===Y)return this.complete(ae.completion,ae.afterLoc),H(ae),x}},catch:function(Y){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ae=this.tryEntries[Z];if(ae.tryLoc===Y){var M=ae.completion;if(M.type==="throw"){var U=M.arg;H(ae)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(Y,Z,ae){return this.delegate={iterator:X(Y),resultName:Z,nextLoc:ae},this.method==="next"&&(this.arg=o),x}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(wue);var _x=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const jue=_x;let EN=0;var NO=({id:e,action:t,payload:r={}})=>{let n=e;return typeof n>"u"&&(n=jue("Job",EN),EN+=1),{id:n,action:t,payload:r}},Lc={};let Ax=!1;Lc.logging=Ax;Lc.setLogging=e=>{Ax=e};Lc.log=(...e)=>Ax?console.log.apply(void 0,e):null;const Nue=NO,{log:hh}=Lc,Sue=_x;let kN=0;var _ue=()=>{const e=Sue("Scheduler",kN),t={},r={};let n=[];kN+=1;const a=()=>n.length,i=()=>Object.keys(t).length,o=()=>{if(n.length!==0){const f=Object.keys(t);for(let p=0;p<f.length;p+=1)if(typeof r[f[p]]>"u"){n[0](t[f[p]]);break}}},s=(f,p)=>new Promise((h,v)=>{const g=Nue({action:f,payload:p});n.push(async j=>{n.shift(),r[j.id]=g;try{h(await j[f].apply(void 0,[...p,g.id]))}catch(y){v(y)}finally{delete r[j.id],o()}}),hh(`[${e}]: Add ${g.id} to JobQueue`),hh(`[${e}]: JobQueue length=${n.length}`),o()});return{addWorker:f=>(t[f.id]=f,hh(`[${e}]: Add ${f.id}`),hh(`[${e}]: Number of workers=${i()}`),o(),f.id),addJob:async(f,...p)=>{if(i()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return s(f,p)},terminate:async()=>{Object.keys(t).forEach(async f=>{await t[f].terminate()}),n=[]},getQueueLen:a,getNumWorkers:i}};function Aue(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Oue=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof Aue=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const Pue=Oue("type")==="browser",Eue=Pue?e=>new URL(e,window.location.href).href:e=>e;var kue=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=Eue(t[r]))}),t},SO={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Tue="6.0.1",Cue={version:Tue};var Lue={workerBlobURL:!0,logger:()=>{}};const Mue=Cue.version,$ue=Lue;var Due={...$ue,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Mue}/dist/worker.min.js`},Iue=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r},Rue=e=>{e.terminate()},Fue=(e,t)=>{e.onmessage=({data:r})=>{t(r)}},Bue=async(e,t)=>{e.postMessage(t)};const Mv=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:a}}})=>{r(Error(`File could not be read! Code=${a}`))},n.readAsArrayBuffer(e)}),Dy=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await Dy(e.src)),e.tagName==="VIDEO"&&(t=await Dy(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async n=>{t=await Mv(n),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();t=await Mv(r)}else(e instanceof File||e instanceof Blob)&&(t=await Mv(e));return new Uint8Array(t)};var que=Dy;const zue=Due,Uue=Iue,Wue=Rue,Hue=Fue,Gue=Bue,Vue=que;var Yue={defaultOptions:zue,spawnWorker:Uue,terminateWorker:Wue,onMessage:Hue,send:Gue,loadImage:Vue};const Kue=kue,Ya=NO,{log:TN}=Lc,Xue=_x,zo=SO,{defaultOptions:Jue,spawnWorker:Zue,terminateWorker:Que,onMessage:ede,loadImage:CN,send:tde}=Yue;let LN=0;var _O=async(e="eng",t=zo.LSTM_ONLY,r={},n={})=>{const a=Xue("Worker",LN),{logger:i,errorHandler:o,...s}=Kue({...Jue,...r}),c={},u=typeof e=="string"?e.split("+"):e;let d=t,f=n;const p=[zo.DEFAULT,zo.LSTM_ONLY].includes(t)&&!s.legacyCore;let h,v;const g=new Promise((X,J)=>{v=X,h=J}),j=X=>{h(X.message)};let y=Zue(s);y.onerror=j,LN+=1;const x=({id:X,action:J,payload:Y})=>new Promise((Z,ae)=>{TN(`[${a}]: Start ${X}, action=${J}`);const M=`${J}-${X}`;c[M]={resolve:Z,reject:ae},tde(y,{workerId:a,jobId:X,action:J,payload:Y})}),N=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),_=X=>x(Ya({id:X,action:"load",payload:{options:{lstmOnly:p,corePath:s.corePath,logging:s.logging}}})),w=(X,J,Y)=>x(Ya({id:Y,action:"FS",payload:{method:"writeFile",args:[X,J]}})),A=(X,J)=>x(Ya({id:J,action:"FS",payload:{method:"readFile",args:[X,{encoding:"utf8"}]}})),O=(X,J)=>x(Ya({id:J,action:"FS",payload:{method:"unlink",args:[X]}})),E=(X,J,Y)=>x(Ya({id:Y,action:"FS",payload:{method:X,args:J}})),T=(X,J)=>x(Ya({id:J,action:"loadLanguage",payload:{langs:X,options:{langPath:s.langPath,dataPath:s.dataPath,cachePath:s.cachePath,cacheMethod:s.cacheMethod,gzip:s.gzip,lstmOnly:[zo.DEFAULT,zo.LSTM_ONLY].includes(d)&&!s.legacyLang}}})),$=(X,J,Y,Z)=>x(Ya({id:Z,action:"initialize",payload:{langs:X,oem:J,config:Y}})),k=(X="eng",J,Y,Z)=>{if(p&&[zo.TESSERACT_ONLY,zo.TESSERACT_LSTM_COMBINED].includes(J))throw Error("Legacy model requested but code missing.");const ae=J||d;d=ae;const M=Y||f;f=M;const Q=(typeof X=="string"?X.split("+"):X).filter(ne=>!u.includes(ne));return u.push(...Q),Q.length>0?T(Q,Z).then(()=>$(X,ae,M,Z)):$(X,ae,M,Z)},C=(X={},J)=>x(Ya({id:J,action:"setParameters",payload:{params:X}})),D=async(X,J={},Y={text:!0},Z)=>x(Ya({id:Z,action:"recognize",payload:{image:await CN(X),options:J,output:Y}})),I=async(X,J)=>{if(p)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return x(Ya({id:J,action:"detect",payload:{image:await CN(X)}}))},H=async()=>(y!==null&&(Que(y),y=null),Promise.resolve());ede(y,({workerId:X,jobId:J,status:Y,action:Z,data:ae})=>{const M=`${Z}-${J}`;if(Y==="resolve")TN(`[${X}]: Complete ${J}`),c[M].resolve({jobId:J,data:ae}),delete c[M];else if(Y==="reject")if(c[M].reject(ae),delete c[M],Z==="load"&&h(ae),o)o(ae);else throw Error(ae);else Y==="progress"&&i({...ae,userJobId:J})});const V={id:a,worker:y,load:N,writeText:w,readText:A,removeFile:O,FS:E,reinitialize:k,setParameters:C,recognize:D,detect:I,terminate:H};return _().then(()=>T(e)).then(()=>$(e,t,n)).then(()=>v(V)).catch(()=>{}),g};const AO=_O,rde=async(e,t,r)=>{const n=await AO(t,1,r);return n.recognize(e).finally(async()=>{await n.terminate()})},nde=async(e,t)=>{const r=await AO("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})};var ade={recognize:rde,detect:nde},ide={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},ode={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const sde=_ue,lde=_O,cde=ade,ude=ide,dde=SO,fde=ode,{setLogging:hde}=Lc;var pde={languages:ude,OEM:dde,PSM:fde,createScheduler:sde,createWorker:lde,setLogging:hde,...cde};const mde=wt(pde);class gde{constructor(){this.worker=null,this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{this.worker=await mde.createWorker("eng"),this.isInitialized=!0,console.log("OCR Worker initialized successfully")}catch(t){throw console.error("Failed to initialize OCR worker:",t),new Error("OCR initialization failed")}}async processImage(t,r=null){this.isInitialized||await this.initialize();try{const n=await this.worker.recognize(t,{logger:r?a=>{a.status==="recognizing text"&&r(Math.round(a.progress*100))}:void 0});return{success:!0,text:n.data.text,confidence:n.data.confidence,words:n.data.words,lines:n.data.lines}}catch(n){return console.error("OCR processing failed:",n),{success:!1,error:n.message}}}async processBankStatement(t,r=null){const n=await this.processImage(t,r);if(!n.success)return n;const a=this.parseTransactions(n.text);return{success:!0,rawText:n.text,confidence:n.confidence,transactions:a,metadata:{totalTransactions:a.length,processingDate:new Date().toISOString()}}}parseTransactions(t){const r=[],n=t.split(`
`).filter(i=>i.trim().length>0),a={date:/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/,amount:/[\$\-]?(\d{1,3}(?:,\d{3})*\.?\d{0,2})/,debitCredit:/(DEBIT|CREDIT|DR|CR|WITHDRAWAL|DEPOSIT)/i};for(let i=0;i<n.length;i++){const o=n[i].trim();if(this.isHeaderLine(o)||o.length<10)continue;const s=o.match(a.date),c=o.match(new RegExp(a.amount.source,"g"));if(s&&c){const u=c.map(d=>{const f=d.replace(/[\$,]/g,"");return parseFloat(f)}).filter(d=>!isNaN(d)&&d>0);if(u.length>0){const d=Math.max(...u);let f=o.replace(a.date,"").replace(new RegExp(a.amount.source,"g"),"").replace(a.debitCredit,"").trim().replace(/\s+/g," ");f=this.cleanDescription(f),f.length>3&&r.push({id:`ocr_${Date.now()}_${i}`,date:this.parseDate(s[1]),description:f,amount:d,type:this.determineTransactionType(o),rawLine:o,confidence:this.calculateLineConfidence(o)})}}}return r.sort((i,o)=>new Date(o.date)-new Date(i.date))}isHeaderLine(t){const r=["STATEMENT","ACCOUNT","BALANCE","DATE","DESCRIPTION","AMOUNT","TRANSACTION","BEGINNING","ENDING","TOTAL","PAGE","BANK","CREDIT UNION"],n=t.toUpperCase();return r.some(a=>n.includes(a))&&!t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)}cleanDescription(t){return t.replace(/\b(POS|ATM|ACH|CHK|DEP|WD|TFR|FEE)\b/gi,"").replace(/\b\d{4,}\b/g,"").replace(/[#*]+/g,"").replace(/\s+/g," ").trim()}parseDate(t){const r=[/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/,/(\d{1,2})-(\d{1,2})-(\d{2,4})/];for(const n of r){const a=t.match(n);if(a){let[,i,o,s]=a;return s.length===2&&(s=parseInt(s)>50?`19${s}`:`20${s}`),`${s}-${i.padStart(2,"0")}-${o.padStart(2,"0")}`}}return t}determineTransactionType(t){const r=t.toUpperCase();return r.includes("DEBIT")||r.includes("WITHDRAWAL")||r.includes("DR")||r.includes("WD")?"debit":r.includes("CREDIT")||r.includes("DEPOSIT")||r.includes("CR")||r.includes("DEP")?"credit":"debit"}calculateLineConfidence(t){let r=.5;return t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)&&(r+=.2),t.match(/\$?\d+\.\d{2}/)&&(r+=.2),t.length>20&&t.length<100&&(r+=.1),Math.min(r,1)}async terminate(){this.worker&&(await this.worker.terminate(),this.worker=null,this.isInitialized=!1)}validateTransactions(t){return t.filter(r=>r.date&&r.description&&r.description.length>2&&r.amount&&r.amount>0&&!isNaN(r.amount))}suggestCorrections(t){return t.map(r=>{const n=[];return r.description.includes("0")&&r.description.includes("O")&&n.push("Check if O should be 0 or vice versa"),r.description.includes("1")&&r.description.includes("l")&&n.push("Check if l should be 1 or vice versa"),r.amount>1e4&&n.push("Verify large amount - possible OCR error"),{...r,suggestions:n}})}}const $v=new gde,vde=({onUpload:e})=>{const[t,r]=q.useState(null),[n,a]=q.useState(!1),[i,o]=q.useState(0),[s,c]=q.useState(null),[u,d]=q.useState(!1),[f,p]=q.useState(!1),h=w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?p(!0):w.type==="dragleave"&&p(!1)},v=w=>{w.preventDefault(),w.stopPropagation(),p(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&j(w.dataTransfer.files[0])},g=w=>{w.target.files&&w.target.files[0]&&j(w.target.files[0])},j=w=>{if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(w.type)){alert("Please upload a valid image (JPG, PNG) or PDF file.");return}if(w.size>10*1024*1024){alert("File size must be less than 10MB.");return}r(w),c(null),o(0)},y=async()=>{if(t){a(!0),o(0);try{if(t.type==="application/pdf"){alert("PDF processing will be implemented in the next update. Please use an image file for now."),a(!1);return}const w=await $v.processBankStatement(t,A=>{o(A)});if(w.success){const A=$v.validateTransactions(w.transactions),O=$v.suggestCorrections(A);c({...w,transactions:O})}else alert(`OCR processing failed: ${w.error}`)}catch(w){console.error("OCR processing error:",w),alert("Failed to process the bank statement. Please try again.")}finally{a(!1),o(0)}}},x=()=>{s&&s.transactions.length>0&&e({file:t,ocrResult:s,transactions:s.transactions})},N=(w,A,O)=>{const E=[...s.transactions];E[w]={...E[w],[A]:A==="amount"?parseFloat(O)||0:O},c({...s,transactions:E})},_=w=>{const A=s.transactions.filter((O,E)=>E!==w);c({...s,transactions:A})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload Bank Statement"}),l.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"border-gray-300"} ${n?"opacity-50 pointer-events-none":""}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:v,children:[l.jsx(iue,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:n?"Processing...":"Upload your bank statement"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Drag and drop or click to select. Supports JPG, PNG, and PDF files up to 10MB."}),l.jsxs("div",{className:"mt-6",children:[l.jsx("input",{type:"file",id:"file-upload",className:"sr-only",onChange:g,accept:".pdf,.png,.jpg,.jpeg",disabled:n}),l.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Select a file"})]}),t&&l.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Selected:"})," ",t.name," (",(t.size/1024/1024).toFixed(2)," MB)"]})}),n&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),l.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Processing: ",i,"%"]})]})]}),t&&!s&&!n&&l.jsx("div",{className:"text-center",children:l.jsxs("button",{onClick:y,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(vue,{className:"h-5 w-5 mr-2"}),"Extract Transactions with OCR"]})}),s&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx($y,{className:"h-5 w-5 text-green-400 mr-2"}),l.jsx("h4",{className:"text-sm font-medium text-green-800",children:"OCR Processing Complete"})]}),l.jsxs("p",{className:"mt-1 text-sm text-green-700",children:["Extracted ",s.transactions.length," transactions with ",Math.round(s.confidence),"% confidence."]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Review Extracted Transactions"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Please review and edit the transactions below before proceeding."})]}),l.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:s.transactions.map((w,A)=>l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),l.jsx("input",{type:"date",value:w.date,onChange:O=>N(A,"date",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("input",{type:"text",value:w.description,onChange:O=>N(A,"description",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),l.jsx("input",{type:"number",step:"0.01",value:w.amount,onChange:O=>N(A,"amount",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsx("button",{onClick:()=>_(A),className:"px-2 py-1 text-red-600 hover:text-red-800 text-sm",title:"Remove transaction",children:"âœ•"})]})]}),w.suggestions&&w.suggestions.length>0&&l.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(mue,{className:"h-4 w-4 text-yellow-400 mr-1 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-yellow-800",children:"Suggestions:"}),l.jsx("ul",{className:"text-xs text-yellow-700 list-disc list-inside",children:w.suggestions.map((O,E)=>l.jsx("li",{children:O},E))})]})]})}),l.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[l.jsxs("span",{children:["Confidence: ",Math.round(w.confidence*100),"%"]}),l.jsx("div",{className:"ml-2 flex-1 bg-gray-200 rounded-full h-1",children:l.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${w.confidence*100}%`}})})]})]},w.id))}),l.jsx("div",{className:"px-4 py-3 border-t border-gray-200 text-center",children:l.jsxs("button",{onClick:x,disabled:s.transactions.length===0,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[l.jsx($y,{className:"h-5 w-5 mr-2"}),"Confirm ",s.transactions.length," Transactions"]})})]})]})]})};class yde{constructor(){this.config={autoMatchThreshold:.85,suggestMatchThreshold:.6,weights:{amount:.4,description:.3,date:.2,vendor:.1},amountTolerance:.01,dateWindow:7,fuzzyThreshold:.6}}findMatches(t,r){const n=[];for(const a of t){const i=this.findSuggestionsForTransaction(a,r);n.push({bankTransaction:a,suggestions:i,bestMatch:i.length>0?i[0]:null,autoMatch:i.length>0&&i[0].confidence>=this.config.autoMatchThreshold,isMatched:!1})}return n}findSuggestionsForTransaction(t,r){const n=[];for(const a of r){const i=this.calculateMatchScore(t,a);i.totalScore>=this.config.suggestMatchThreshold&&n.push({expense:a,confidence:i.totalScore,matchReasons:i.reasons,scoreBreakdown:i.breakdown})}return n.sort((a,i)=>i.confidence-a.confidence)}calculateMatchScore(t,r){const n={amount:this.calculateAmountScore(t.amount,r.amount),description:this.calculateDescriptionScore(t.description,r.description||r.vendor),date:this.calculateDateScore(t.date,r.expense_date||r.date),vendor:this.calculateVendorScore(t.description,r.vendor)},a=Object.keys(n).reduce((o,s)=>o+n[s]*this.config.weights[s],0),i=this.generateMatchReasons(n,t,r);return{totalScore:Math.min(a,1),breakdown:n,reasons:i}}calculateAmountScore(t,r){const n=Math.abs(t-r);if(n<=this.config.amountTolerance)return 1;const a=n/Math.max(t,r);return a<=.01?.95:a<=.05?.85:a<=.1?.7:a<=.2?.5:0}calculateDescriptionScore(t,r){if(!t||!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r),i=this.calculateStringSimilarity(n,a),o=this.calculateWordMatchBoost(n,a);return Math.min(i+o,1)}calculateDateScore(t,r){if(!t||!r)return 0;const n=new Date(t),a=new Date(r),i=Math.abs((n-a)/(1e3*60*60*24));return i===0?1:i<=1?.9:i<=3?.8:i<=7?.6:i<=14?.4:i<=30?.2:0}calculateVendorScore(t,r){if(!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r);if(n.includes(a))return 1;const i=a.split(" ").filter(s=>s.length>2);return i.filter(s=>n.includes(s)).length/i.length}normalizeDescription(t){return t.toLowerCase().replace(/[^\w\s]/g," ").replace(/\b(pos|atm|ach|chk|dep|wd|tfr|fee)\b/g,"").replace(/\b\d+\b/g,"").replace(/\s+/g," ").trim()}calculateStringSimilarity(t,r){const n=[],a=t.length,i=r.length;for(let c=0;c<=a;c++)n[c]=[c];for(let c=0;c<=i;c++)n[0][c]=c;for(let c=1;c<=a;c++)for(let u=1;u<=i;u++){const d=t[c-1]===r[u-1]?0:1;n[c][u]=Math.min(n[c-1][u]+1,n[c][u-1]+1,n[c-1][u-1]+d)}const o=n[a][i],s=Math.max(a,i);return s===0?1:1-o/s}calculateWordMatchBoost(t,r){const n=t.split(" ").filter(s=>s.length>2),a=r.split(" ").filter(s=>s.length>2);return n.length===0||a.length===0?0:n.filter(s=>a.includes(s)).length/Math.max(n.length,a.length)*.2}generateMatchReasons(t,r,n){const a=[];return t.amount>=.95?a.push("Exact amount match"):t.amount>=.8?a.push("Very close amount"):t.amount>=.6&&a.push("Similar amount"),t.description>=.8?a.push("Strong description match"):t.description>=.6&&a.push("Similar description"),t.date>=.9?a.push("Same/next day"):t.date>=.6&&a.push("Within a week"),t.vendor>=.8&&a.push("Vendor name match"),a.length===0&&a.push("Potential match"),a}performAutoMatching(t){const r=[];for(const n of t)n.autoMatch&&n.bestMatch&&(n.isMatched=!0,n.matchedExpense=n.bestMatch.expense,r.push(n));return r}updateConfig(t){this.config={...this.config,...t}}getMatchingStats(t){return{total:t.length,withSuggestions:t.filter(r=>r.suggestions.length>0).length,autoMatched:t.filter(r=>r.autoMatch).length,highConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.8).length,mediumConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.6&&r.bestMatch.confidence<.8).length,lowConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence<.6).length,noMatches:t.filter(r=>r.suggestions.length===0).length}}}const MN=new yde,bde=({reconciliationId:e,bankTransactions:t=[],systemExpenses:r=[]})=>{const[n,a]=q.useState([]),[i,o]=q.useState(null),[s,c]=q.useState(null),[u,d]=q.useState(!1),[f,p]=q.useState(!0),[h,v]=q.useState({total:0,matched:0,autoMatched:0,unmatched:0});q.useEffect(()=>{t.length>0&&r.length>0&&g()},[t,r]);const g=()=>{d(!0);try{const _=MN.findMatches(t,r);a(_);const w={total:t.length,matched:_.filter(A=>A.bestMatch).length,autoMatched:_.filter(A=>A.autoMatch).length,unmatched:_.filter(A=>!A.bestMatch).length};if(v(w),f){const A=MN.performAutoMatching(_);console.log(`Auto-matched ${A.length} transactions`)}}catch(_){console.error("Matching failed:",_)}finally{d(!1)}},j=async(_,w)=>{try{if((await Sh.matchTransaction(e,{bankTransactionId:_.id,expenseId:w.id})).success){const O=n.map(E=>E.bankTransaction.id===_.id?{...E,isMatched:!0,matchedExpense:w}:E);a(O),o(null),c(null)}}catch(A){console.error("Failed to match transaction:",A),alert("Failed to match transaction. Please try again.")}},y=async _=>{_.bestMatch&&await j(_.bankTransaction,_.bestMatch.expense)},x=_=>_>=.8?"text-green-600 bg-green-100":_>=.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",N=_=>_>=.8?"High":_>=.6?"Medium":"Low";return u?l.jsxs("div",{className:"flex items-center justify-center p-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-2",children:"Analyzing transactions..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Smart Transaction Matching"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:f,onChange:_=>p(_.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Auto-match high confidence"})]}),l.jsx("button",{onClick:g,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Re-analyze"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.total}),l.jsx("div",{className:"text-sm text-blue-800",children:"Total Transactions"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.matched}),l.jsx("div",{className:"text-sm text-green-800",children:"Potential Matches"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:h.autoMatched}),l.jsx("div",{className:"text-sm text-purple-800",children:"Auto-Matched"})]}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.unmatched}),l.jsx("div",{className:"text-sm text-red-800",children:"Unmatched"})]})]}),l.jsx("div",{className:"space-y-4",children:n.map((_,w)=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"font-medium text-gray-900",children:_.bankTransaction.description}),l.jsxs("div",{className:"font-bold text-lg",children:["$",_.bankTransaction.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]})}),_.isMatched&&l.jsxs("div",{className:"flex items-center text-green-600",children:[l.jsx($y,{className:"h-5 w-5 mr-1"}),l.jsx("span",{className:"text-sm font-medium",children:"Matched"})]})]}),_.suggestions.length>0&&!_.isMatched&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[l.jsx(bue,{className:"h-4 w-4 mr-1"}),l.jsx("span",{children:"Suggested matches:"})]}),_.suggestions.slice(0,3).map((A,O)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border hover:bg-gray-100 cursor-pointer",onClick:()=>y({..._,bestMatch:A}),children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"font-medium",children:A.expense.vendor||A.expense.description}),l.jsxs("div",{className:"font-bold",children:["$",A.expense.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-500",children:A.expense.date})]}),l.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:A.matchReasons.map((E,T)=>l.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:E},T))})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${x(A.confidence)}`,children:[N(A.confidence)," (",Math.round(A.confidence*100),"%)"]}),l.jsx("button",{className:"p-1 text-green-600 hover:text-green-800",children:l.jsx(PN,{className:"h-4 w-4"})})]})]},A.expense.id)),_.suggestions.length>3&&l.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["+",_.suggestions.length-3," more potential matches"]})]}),_.suggestions.length===0&&!_.isMatched&&l.jsxs("div",{className:"flex items-center justify-center p-4 bg-red-50 rounded border border-red-200",children:[l.jsx(jO,{className:"h-5 w-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700",children:"No potential matches found"}),l.jsx("button",{className:"ml-4 px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Create New Expense"})]})]},_.bankTransaction.id))}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Manual Matching"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched Bank Transactions"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.filter(_=>!_.isMatched).map(_=>l.jsxs("div",{onClick:()=>o(_.bankTransaction),className:`p-3 rounded border cursor-pointer ${(i==null?void 0:i.id)===_.bankTransaction.id?"bg-blue-100 border-blue-400":"bg-white hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:_.bankTransaction.description}),l.jsxs("span",{className:"font-bold",children:["$",_.bankTransaction.amount.toFixed(2)]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]},_.bankTransaction.id))})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched System Expenses"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(_=>!_.is_matched).map(_=>l.jsxs("div",{onClick:()=>c(_),className:`p-3 rounded border cursor-pointer ${(s==null?void 0:s.id)===_.id?"bg-green-100 border-green-400":"bg-white hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:_.vendor||_.description}),l.jsxs("span",{className:"font-bold",children:["$",_.amount.toFixed(2)]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:_.date})]},_.id))})]})]}),i&&s&&l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("button",{onClick:()=>j(i,s),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[l.jsx(PN,{className:"h-5 w-5 mr-2"}),"Match Selected Transactions"]})})]})]})},OO=()=>l.jsxs("div",{children:[l.jsx("h1",{children:"Reconciliation Report"}),l.jsx("p",{children:"This is a placeholder for the Reconciliation Report."})]}),xde=({onComplete:e,onCancel:t})=>{const[r,n]=q.useState(1),[a,i]=q.useState({id:null,month:new Date().getMonth()+1,year:new Date().getFullYear(),bankStatement:null,bankTransactions:[],systemExpenses:[]}),[o,s]=q.useState(!1),c=[{id:1,name:"Period Selection",description:"Select reconciliation period"},{id:2,name:"Upload Statement",description:"Upload bank statement"},{id:3,name:"Match Transactions",description:"Review and match transactions"},{id:4,name:"Finalize Report",description:"Complete reconciliation"}],u=(v,g)=>{i(j=>({...j,[v]:g}))},d=async v=>{s(!0);try{const g=await Sh.uploadStatement(a.id,{transactions:v.transactions});if(g.success){const j=await Sh.getTransactions(a.id);j.success&&(i(y=>({...y,bankStatement:v.file,bankTransactions:j.data.bankTransactions,systemExpenses:j.data.systemExpenses})),n(r+1))}else alert("Failed to upload transactions: "+g.error)}catch(g){console.error("Failed to upload statement:",g),alert("Failed to upload statement. Please try again.")}finally{s(!1)}},f=async()=>{if(console.log("ðŸ” [FRONTEND DEBUG] nextStep called, currentStep:",r),r===1){console.log("ðŸ” [FRONTEND DEBUG] Starting reconciliation process"),console.log("ðŸ” [FRONTEND DEBUG] Reconciliation data:",{month:a.month,year:a.year}),s(!0);try{console.log("ðŸ” [FRONTEND DEBUG] Calling reconciliationAPI.startReconciliation");const v=await Sh.startReconciliation({month:a.month,year:a.year});console.log("ðŸ” [FRONTEND DEBUG] startReconciliation response:",v),v.success?(console.log("âœ… [FRONTEND DEBUG] Reconciliation started successfully, ID:",v.data.id),i(g=>({...g,id:v.data.id})),n(r+1)):(console.error("âŒ [FRONTEND DEBUG] Failed to start reconciliation:",v.error),alert("Failed to start reconciliation: "+v.error))}catch(v){console.error("âŒ [FRONTEND DEBUG] Exception in nextStep:",v),alert("Failed to start reconciliation. Please try again.")}finally{console.log("ðŸ” [FRONTEND DEBUG] Setting loading to false"),s(!1)}}else r<c.length&&(console.log("ðŸ” [FRONTEND DEBUG] Moving to next step:",r+1),n(r+1))},p=()=>{r>1&&n(r-1)},h=()=>{switch(r){case 1:return l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Reconciliation Period"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),l.jsx("select",{value:a.month,onChange:v=>u("month",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:Array.from({length:12},(v,g)=>l.jsx("option",{value:g+1,children:new Date(0,g).toLocaleString("default",{month:"long"})},g+1))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),l.jsx("input",{type:"number",value:a.year,onChange:v=>u("year",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]});case 2:return l.jsx(vde,{onUpload:d});case 3:return l.jsx(bde,{reconciliationId:a.id,bankTransactions:a.bankTransactions,systemExpenses:a.systemExpenses});case 4:return l.jsx(OO,{reconciliation:a});default:return l.jsxs("div",{children:["Step ",r]})}};return l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Monthly Reconciliation"}),l.jsx("button",{onClick:t,className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500 hover:border-gray-400",children:l.jsx(jO,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"flex items-center justify-between",children:c.map((v,g)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${r>=v.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:r>v.id?l.jsx(cue,{className:"h-5 w-5"}):l.jsx("span",{className:"text-sm font-medium",children:v.id})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("div",{className:`text-sm font-medium ${r>=v.id?"text-blue-600":"text-gray-500"}`,children:v.name}),l.jsx("div",{className:"text-xs text-gray-500",children:v.description})]}),g<c.length-1&&l.jsx("div",{className:`flex-1 h-0.5 mx-4 ${r>v.id?"bg-blue-600":"bg-gray-300"}`})]},v.id))})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:h()}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("button",{onClick:p,disabled:r===1,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(due,{className:"h-4 w-4 mr-2"}),"Previous"]}),r<c.length?l.jsxs("button",{onClick:f,disabled:o||r===2&&!a.bankStatement,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?"Starting...":"Next",l.jsx(hue,{className:"h-4 w-4 ml-2"})]}):l.jsx("button",{onClick:()=>e(a),className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:"Complete Reconciliation"})]})]})},wde=[{id:1,subject:"Back-to-School Picnic",type:"event",status:"draft",updated_at:"2025-06-01"},{id:2,subject:"Fundraiser Reminder",type:"fundraiser",status:"draft",updated_at:"2025-06-02"}],jde={draft:"bg-gray-200 text-gray-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};function Nde(){const[e,t]=q.useState("drafts"),r=n=>n.length===0?l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No communications found."}):l.jsx("ul",{className:"space-y-3 mt-4",children:n.map(a=>l.jsxs("li",{className:"p-4 bg-white border rounded shadow flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.subject}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ",a.type," â€¢ Last updated: ",a.updated_at]})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded ${jde[a.status]}`,children:a.status})]},a.id))});return l.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Communications"}),l.jsx(Aa,{to:"/communications/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ New"})]}),l.jsxs(Ni.Tabs,{value:e,onChange:n=>t(n),children:[l.jsxs(Ni.TabsHeader,{children:[l.jsx(Ni.Tab,{value:"drafts",children:"Drafts"}),l.jsx(Ni.Tab,{value:"scheduled",children:"Scheduled"}),l.jsx(Ni.Tab,{value:"sent",children:"Sent"})]}),l.jsxs(Ni.TabsBody,{children:[l.jsx(Ni.TabPanel,{value:"drafts",children:r(wde)}),l.jsx(Ni.TabPanel,{value:"scheduled",children:r([])}),l.jsx(Ni.TabPanel,{value:"sent",children:r([])})]})]})]})}const Sde=()=>{const e=jr(),[t,r]=q.useState("grid"),[n,a]=q.useState("manual"),[i,o]=q.useState(""),[s,c]=q.useState("all"),u=[{id:1,title:"Fall Festival Announcement",type:"email",status:"sent",audience:"All Families",sentDate:"2024-10-01",openRate:78,clickRate:12,createdBy:"stella",description:"Exciting announcement about our upcoming Fall Festival"},{id:2,title:"Volunteer Recruitment Drive",type:"social",status:"scheduled",audience:"Facebook & Instagram",scheduledDate:"2024-10-05",engagement:0,createdBy:"manual",description:"Call for volunteers for upcoming events"},{id:3,title:"Book Fair Reminder",type:"sms",status:"draft",audience:"Parent Contacts",deliveryRate:0,createdBy:"stella",description:"Reminder about the upcoming book fair"},{id:4,title:"Monthly Newsletter",type:"newsletter",status:"in_progress",audience:"All Subscribers",progress:65,createdBy:"manual",description:"October newsletter with updates and events"}],d=C=>{e(`/communications/compose?mode=email&ai=${C}`)},f=C=>{e(`/communications/compose?mode=social&ai=${C}`)},p=C=>{e(`/communications/compose?mode=sms&ai=${C}`)},h=C=>{e(`/communications/compose?mode=email&type=newsletter&ai=${C}`)},v=C=>{e(`/communications/create?view=${C}`)},g=C=>{e(`/communications/create?edit=${C}`)},j=C=>{console.log("Sending communication:",C)},y=()=>{e("/communications/ai")},x=()=>{e("/communications/create?tab=analytics")},N=()=>{e("/communications/create?tab=schedule")},_=()=>{e("/communications/create?tab=audiences")},w=()=>{e("/communications/create")},A=C=>{const D={draft:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};return D[C]||D.draft},O=C=>({email:Wf,sms:a1,social:n1,newsletter:Qn})[C]||Wf,E=({communication:C})=>{const D=O(C.type);return l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(D,{className:"w-5 h-5 text-blue-600"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.title}),C.createdBy==="stella"&&l.jsx(lr,{className:"w-4 h-4 text-purple-500",title:"Created by Stella"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(si,{className:"w-4 h-4"}),l.jsx("span",{children:C.audience})]}),C.sentDate&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(C.sentDate).toLocaleDateString()})]})]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(C.status)}`,children:C.status.replace("_"," ").charAt(0).toUpperCase()+C.status.replace("_"," ").slice(1)})]}),C.status==="sent"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-green-600",children:"Open Rate"}),l.jsxs("div",{className:"text-lg font-semibold text-green-700",children:[C.openRate,"%"]})]}),l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-blue-600",children:"Click Rate"}),l.jsxs("div",{className:"text-lg font-semibold text-blue-700",children:[C.clickRate,"%"]})]})]}),C.status==="in_progress"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium text-gray-900",children:[C.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${C.progress}%`}})})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>v(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ru,{className:"w-4 h-4 mr-2"}),"View"]}),l.jsxs("button",{onClick:()=>g(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(Fu,{className:"w-4 h-4 mr-2"}),"Edit"]}),C.status==="draft"&&l.jsxs("button",{onClick:()=>j(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(EP,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})})},T=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Communication"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Wf,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Campaign"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Reach all families"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>d("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>d("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>d("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-green-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(n1,{className:"w-8 h-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Social Media"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Facebook & Instagram"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>f("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>f("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>f("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-yellow-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(a1,{className:"w-8 h-8 text-yellow-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS Campaign"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Direct text messages"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>p("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>p("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>p("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-purple-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Qn,{className:"w-8 h-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Newsletter"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Monthly updates"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>h("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>h("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>h("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]})]})]}),$=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(lr,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Communication Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Best Send Time"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Tuesday 10 AM"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Based on your audience engagement"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Top Performing Subject"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Event Announcements"}),l.jsx("div",{className:"text-xs text-purple-700",children:"85% average open rate"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Stella's Suggestion"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Add Volunteer Call"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Include in next newsletter"})]})]}),l.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[l.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"ðŸ’¡ Stella's Tip of the Day"}),l.jsx("div",{className:"text-sm text-purple-800",children:'"Your Fall Festival emails get 23% higher engagement when sent on weekday mornings. Want me to schedule your next announcement for optimal timing?"'})]})]}),k=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:y,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[l.jsx(lr,{className:"w-6 h-6 text-purple-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Ask Stella"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Get content ideas"})]}),l.jsxs("button",{onClick:x,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors",children:[l.jsx(PP,{className:"w-6 h-6 text-green-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Analytics"}),l.jsx("span",{className:"text-xs text-gray-500",children:"View performance"})]}),l.jsxs("button",{onClick:N,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-yellow-300 hover:bg-yellow-50 transition-colors",children:[l.jsx(Pu,{className:"w-6 h-6 text-yellow-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Schedule"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Plan campaigns"})]}),l.jsxs("button",{onClick:_,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[l.jsx(si,{className:"w-6 h-6 text-blue-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Audiences"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Manage lists"})]})]})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communications Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage all your PTO communications with Stella's help or manual control"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("button",{onClick:()=>r(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?l.jsx($N,{className:"w-5 h-5"}):l.jsx(DN,{className:"w-5 h-5"})})})]}),l.jsx($,{}),l.jsx(k,{}),l.jsx(T,{}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(IN,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search communications...",value:i,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("select",{value:s,onChange:C=>c(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Types"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"social",children:"Social Media"}),l.jsx("option",{value:"newsletter",children:"Newsletter"})]})]})}),l.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(C=>l.jsx(E,{communication:C},C.id))}),u.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Wf,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No communications found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first communication"}),l.jsx("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Communication"})]})]})})};function _de(){const[e,t]=q.useState({subject:"",body:"",send_as:"email"}),[r,n]=q.useState(""),[a,i]=q.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},s=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await Ye.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Message created successfully!"),t({subject:"",body:"",send_as:"email"})):i(f.error||"Failed to send message.")}catch(d){console.error("Submit error:",d),i("Server error. Please try again.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Message"}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{name:"subject",value:e.subject,onChange:o,placeholder:"Subject",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"body",value:e.body,onChange:o,placeholder:"Message Body",className:"w-full border p-2",required:!0}),l.jsxs("select",{name:"send_as",value:e.send_as,onChange:o,className:"w-full border p-2",children:[l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"in_app",children:"In-App"})]}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Send Message"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}function Ade(){const e=jr();return q.useEffect(()=>{e("/communications/compose?mode=sms")},[e]),l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Yo,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"SMS Composer"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for SMS messages..."}),l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]})})})}function Ode(){const e=jr();return q.useEffect(()=>{e("/communications/compose?mode=social")},[e]),l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx(kP,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Social Media Composer"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for social media posts..."}),l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"})]})})})}const Pde="https://api.ptoconnect.com";function Ede(){const[e,t]=q.useState([]),[r,n]=q.useState("");q.useEffect(()=>{async function i(){const{data:{session:o}}=await Ye.auth.getSession(),s=o==null?void 0:o.access_token;if(!s)return n("Not authenticated.");try{const c=await _a.get(`${Pde}/api/documents`,{headers:{Authorization:`Bearer ${s}`}});t(c.data)}catch(c){n("Failed to load documents."),console.error(c)}}i()},[]);const a=i=>{const{data:o}=Ye.storage.from("documents").getPublicUrl(i);return o==null?void 0:o.publicUrl};return l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"PTO Documents"}),l.jsx(Aa,{to:"/documents/upload",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Upload Document"})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No documents found."}),l.jsx("ul",{className:"space-y-4",children:e.map(i=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-lg font-semibold",children:i.title}),l.jsx("a",{href:a(i.file_path),target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline text-sm",children:"View / Download"})]},i.id))})]})}const kde="https://api.ptoconnect.com";function Tde(){const[e,t]=q.useState(""),[r,n]=q.useState(null),[a,i]=q.useState(""),[o,s]=q.useState(""),c=async u=>{if(u.preventDefault(),!r||!e)return s("Title and file are required.");const{data:{session:d}}=await Ye.auth.getSession(),f=d==null?void 0:d.access_token;if(!f)return s("User not authenticated.");const p=new FormData;p.append("title",e),p.append("file",r);try{await _a.post(`${kde}/api/documents`,p,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}}),i("Document uploaded successfully."),t(""),n(null)}catch(h){s("Upload failed. Check console."),console.error(h)}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Upload Document"}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Document Title",value:e,onChange:u=>t(u.target.value),className:"w-full border p-2",required:!0}),l.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg",onChange:u=>n(u.target.files[0]),className:"w-full border p-2",required:!0}),l.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Upload"}),a&&l.jsx("p",{className:"text-green-600",children:a}),o&&l.jsx("p",{className:"text-red-600",children:o})]})]})}const Cde="https://api.ptoconnect.com";function Lde(){const[e,t]=q.useState([]),[r,n]=q.useState("");return q.useEffect(()=>{async function a(){const{data:{session:i}}=await Ye.auth.getSession(),o=i==null?void 0:i.access_token;if(!o){n("Not authenticated.");return}try{const s=await _a.get(`${Cde}/api/shared-library`,{headers:{Authorization:`Bearer ${o}`}});t(s.data)}catch(s){console.error(s),n("Failed to load shared library items.")}}a()},[]),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared PTO Library"}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No shared events or fundraisers yet."}),l.jsx("ul",{className:"space-y-4",children:e.map(a=>{var i;return l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-xl font-semibold",children:a.title}),l.jsx("p",{className:"text-sm text-gray-500",children:a.description}),l.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Type: ",((i=a.type)==null?void 0:i.toUpperCase())||"N/A"," â€¢ Shared by another PTO"]})]},a.id)})})]})}function Mde(){const[e,t]=q.useState({type:"",season:"",audience:"",theme:"",goal:""}),[r,n]=q.useState([]),[a,i]=q.useState(!1),[o,s]=q.useState(null),c=d=>{const{name:f,value:p}=d.target;t(h=>({...h,[f]:p}))},u=async()=>{i(!0),s(null),n([]);const{data:{session:d},error:f}=await Ye.auth.getSession();if(f||!(d!=null&&d.access_token)){s("Authentication required."),i(!1);return}try{const h=await(await fetch("/api/ai/generate-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.access_token}`},body:JSON.stringify(e)})).json();if(h.result){const v=h.result.split(/\n?\d+\.\s/).filter(Boolean).map(g=>g.trim().replace(/^\*\*/,"").replace(/\*\*$/,""));n(v)}else s("No ideas returned.")}catch(p){console.error(p),s("Error contacting the backend")}finally{i(!1)}};return l.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Event Idea Generator"}),l.jsxs("div",{className:"grid gap-4 mb-4",children:[l.jsx("input",{name:"type",value:e.type,onChange:c,placeholder:"Event Type (e.g. Family Night)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"season",value:e.season,onChange:c,placeholder:"Season or Month (e.g. Spring, October)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"audience",value:e.audience,onChange:c,placeholder:"Audience (e.g. students, families)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"theme",value:e.theme,onChange:c,placeholder:"Theme (e.g. carnival, STEM)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"goal",value:e.goal,onChange:c,placeholder:"Goal (e.g. raise funds, build community)",className:"w-full border p-2 rounded"})]}),l.jsx("button",{onClick:u,disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded",children:a?"Generating...":"Generate Ideas"}),o&&l.jsx("p",{className:"text-red-500 mt-4",children:o}),r.length>0&&l.jsx("ul",{className:"mt-6 space-y-2",children:r.map((d,f)=>l.jsx("li",{className:"border p-3 rounded bg-gray-50",children:d},f))})]})}const $de=()=>{const e=jr(),[t,r]=q.useState(null),[n,a]=q.useState(null),[i,o]=q.useState(null),[s,c]=q.useState({isGenerating:!1,currentStep:"",progress:0}),[u,d]=q.useState(null),[f,p]=q.useState(""),[h,v]=q.useState("assisted");q.useEffect(()=>{(async()=>{try{const{data:{session:w}}=await Ye.auth.getSession();if(w!=null&&w.user){const{data:A}=await Ye.from("profiles").select("*").eq("id",w.user.id).single();if(r(A),A!=null&&A.org_id){const O=await Nl.analyzeContext(A.org_id,"general");o(O),a(O.context)}}}catch(w){console.error("Error fetching user context:",w)}})()},[]);const g=async()=>{if(!f.trim()){xt.error("Please enter an event idea first");return}if(!(t!=null&&t.org_id)){xt.error("Organization context required");return}c({isGenerating:!0,currentStep:"Initializing Stella...",progress:10});try{c({isGenerating:!0,currentStep:"Stella is analyzing your event idea...",progress:25}),await new Promise(E=>setTimeout(E,1500));const _={title:f,category:"Event",estimated_budget:2e3,expected_attendance:100,description:`${f} for our school community`};c({isGenerating:!0,currentStep:"Calculating event complexity and requirements...",progress:50});const w=await Nl.analyzeEventWorkflow(_,t.org_id);c({isGenerating:!0,currentStep:"Creating your complete event workflow...",progress:75}),await new Promise(E=>setTimeout(E,2e3)),c({isGenerating:!0,currentStep:"Adding Stella's intelligent recommendations...",progress:90});const A=await Nl.generateContent("content",`Event planning recommendations for ${f}`,{orgId:t.org_id,mode:"recommendations"},!0);c({isGenerating:!0,currentStep:"Finalizing your workflow...",progress:100}),await new Promise(E=>setTimeout(E,1e3));const O={event:_,complexity:w.eventComplexity,workflow:w.workflowPlan,recommendations:A.recommendations||[],orgInsights:w.orgContext,createdAt:new Date().toISOString(),createdBy:"Stella AI Assistant"};d(O),c({isGenerating:!1,currentStep:"",progress:0}),xt.success("âœ¨ Stella has created your complete event workflow!")}catch(_){console.error("Workflow generation error:",_),xt.error("Stella encountered an issue creating your workflow. Please try again."),c({isGenerating:!1,currentStep:"",progress:0})}},j=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Your Workflow Experience"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{mode:"manual",title:"Manual Control",description:"I prefer to plan everything myself",icon:Dp,color:"gray"},{mode:"assisted",title:"Stella Assisted",description:"I want Stella's help with suggestions",icon:lr,color:"purple"},{mode:"automated",title:"Fully Automated",description:"Let Stella create the complete workflow",icon:_h,color:"blue"}].map(_=>{const w=_.icon,A=h===_.mode;return l.jsxs("button",{onClick:()=>v(_.mode),className:`p-4 rounded-lg border-2 transition-all ${A?`border-${_.color}-500 bg-${_.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[l.jsx(w,{className:`w-6 h-6 mx-auto mb-2 ${A?`text-${_.color}-600`:"text-gray-400"}`}),l.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:_.title}),l.jsx("p",{className:"text-sm text-gray-600",children:_.description})]},_.mode)})})]}),y=()=>{if(!i)return null;const{analysis:_}=i,w=_.organizationHealth;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(BN,{className:"w-6 h-6 text-blue-600"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stella's Organization Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx(si,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.keyMetrics.totalMembers}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Members"}),l.jsxs("div",{className:`text-xs mt-1 ${w.memberEngagement==="high"?"text-green-600":w.memberEngagement==="moderate"?"text-yellow-600":"text-red-600"}`,children:[w.memberEngagement.toUpperCase()," Engagement"]})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx(Qn,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.keyMetrics.activeEvents}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Events"}),l.jsxs("div",{className:`text-xs mt-1 ${w.eventActivity==="high"?"text-green-600":w.eventActivity==="moderate"?"text-yellow-600":"text-red-600"}`,children:[w.eventActivity.toUpperCase()," Activity"]})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx(Ja,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",_.keyMetrics.totalBudget.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Budget"}),l.jsx("div",{className:`text-xs mt-1 ${w.financialHealth==="excellent"?"text-green-600":w.financialHealth==="good"?"text-yellow-600":"text-red-600"}`,children:w.financialHealth.toUpperCase()})]})]}),_.recommendations&&_.recommendations.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"ðŸŒŸ Stella's Top Recommendations"}),l.jsx("div",{className:"space-y-2",children:_.recommendations.slice(0,3).map((A,O)=>l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${A.priority==="high"?"bg-red-500":A.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm text-gray-900",children:A.title}),l.jsx("div",{className:"text-xs text-gray-600",children:A.description})]})]},O))})]})]})},x=()=>s.isGenerating?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella is Working on Your Workflow"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[l.jsx("span",{children:s.currentStep}),l.jsxs("span",{children:[s.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${s.progress}%`}})})]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Stella is analyzing your organization's context, past events, and best practices to create the perfect workflow for your event."})]}):null,N=()=>{var T,$;if(!u)return null;const{event:_,complexity:w,workflow:A,recommendations:O,orgInsights:E}=u;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:_.title}),l.jsxs("div",{className:`px-3 py-1 rounded-full text-sm ${w.complexity==="complex"?"bg-red-100 text-red-800":w.complexity==="moderate"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[w.complexity.toUpperCase()," Event"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx(Qn,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Timeline"}),l.jsx("div",{className:"text-xs text-gray-600",children:(A==null?void 0:A.recommendedTimeline)||"6-8 weeks"})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx(Ja,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Budget"}),l.jsxs("div",{className:"text-xs text-gray-600",children:["$",((T=A==null?void 0:A.budgetRecommendations)==null?void 0:T.suggestedBudget)||_.estimated_budget]})]}),l.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[l.jsx(si,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Volunteers"}),l.jsx("div",{className:"text-xs text-gray-600",children:(($=A==null?void 0:A.volunteerNeeds)==null?void 0:$.totalVolunteers)||8})]}),l.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[l.jsx(zN,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Complexity"}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",w.score,"/10"]})]})]})]}),(A==null?void 0:A.keyMilestones)&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ðŸ“… Project Timeline"}),l.jsx("div",{className:"space-y-4",children:A.keyMilestones.map((k,C)=>l.jsxs("div",{className:"flex items-start space-x-4 p-4 border-l-4 border-blue-500 bg-blue-50",children:[l.jsxs("div",{className:"bg-blue-500 text-white text-sm font-medium px-2 py-1 rounded",children:["Week ",k.week]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-900",children:k.milestone}),k.tasks&&l.jsx("ul",{className:"text-sm text-gray-600 mt-1",children:k.tasks.map((D,I)=>l.jsxs("li",{className:"flex items-center space-x-2",children:[l.jsx(Rd,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{children:D})]},I))})]})]},C))})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ðŸš€ Next Steps"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:()=>e("/events/create"),className:"flex items-center justify-center space-x-2 p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Qn,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Event"})]}),l.jsxs("button",{onClick:()=>e("/budget"),className:"flex items-center justify-center space-x-2 p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Ja,{className:"w-5 h-5"}),l.jsx("span",{children:"Setup Budget"})]}),l.jsxs("button",{onClick:()=>e("/communications/compose?ai=auto"),className:"flex items-center justify-center space-x-2 p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[l.jsx(Yo,{className:"w-5 h-5"}),l.jsx("span",{children:"Start Communications"})]}),l.jsxs("button",{onClick:()=>xt.info("Project management coming in Phase 2!"),className:"flex items-center justify-center space-x-2 p-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[l.jsx(Iy,{className:"w-5 h-5"}),l.jsx("span",{children:"Manage Tasks"})]})]})]})]})};return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(lr,{className:"w-8 h-8 text-purple-600"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Meet Stella - Your AI Event Assistant"})]}),l.jsx("p",{className:"text-lg text-gray-600",children:"Hi! I'm Stella, your PTO planning assistant. I can generate complete event workflows with integrated project management, budgeting, communications, and volunteer coordination - or help with just the parts you need!"})]}),l.jsx(y,{}),l.jsx(j,{}),l.jsx(x,{}),u?l.jsx(N,{}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Let Stella Create Your Event Workflow"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What type of event would you like Stella to help you create?"}),l.jsx("input",{type:"text",value:f,onChange:_=>p(_.target.value),placeholder:"e.g., Fall Festival, Book Fair, Science Night, Teacher Appreciation...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:g,disabled:!f.trim()||s.isGenerating,className:"flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[l.jsx(lr,{className:"w-6 h-6"}),l.jsx("span",{className:"text-lg font-medium",children:s.isGenerating?"Stella is Working...":"Generate Complete Workflow"}),l.jsx(RN,{className:"w-6 h-6"})]})}),h==="automated"&&l.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(_h,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-900",children:"Fully Automated Mode"}),l.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Stella will create a complete workflow with project timeline, budget planning, communication campaigns, and volunteer coordination. You can review and adjust everything."})]})]})})]})]})})},Dde=()=>l.jsx($de,{});function Ide(){const[e,t]=q.useState([]),[r,n]=q.useState("");return q.useEffect(()=>{async function a(){const{data:{session:i}}=await Ye.auth.getSession();if(!(i!=null&&i.access_token)){n("Authentication required.");return}try{const o=await fetch("/api/teacher-requests",{headers:{Authorization:`Bearer ${i.access_token}`}}),s=await o.json();o.ok?t(s):n(s.error||"Failed to load teacher requests.")}catch(o){console.error("Fetch error:",o),n("Error connecting to server.")}}a()},[]),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Teacher Requests"}),l.jsx(Aa,{to:"/teacher-requests/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ New Request"})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No teacher requests found."}),l.jsx("ul",{className:"space-y-4",children:e.map(a=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-xl font-semibold",children:a.title}),l.jsxs("p",{className:"text-sm text-gray-500",children:["By ",a.teacher_name," (",a.grade_or_subject,")"]}),l.jsx("p",{className:"mt-2",children:a.description}),a.amount_requested&&l.jsxs("p",{className:"mt-2 text-blue-800 font-semibold",children:["Requested: $",parseFloat(a.amount_requested).toFixed(2)]})]},a.id))})]})}function Rde(){const[e,t]=q.useState({title:"",description:"",amount_requested:"",teacher_name:"",grade_or_subject:""}),[r,n]=q.useState(""),[a,i]=q.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},s=async c=>{c.preventDefault();const{data:{session:u}}=await Ye.auth.getSession();if(!(u!=null&&u.access_token)){i("You must be logged in to submit a request.");return}try{const d=await fetch("/api/teacher-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Request submitted successfully!"),i(""),t({})):(i(f.error||"Failed to submit request"),n(""))}catch(d){console.error("Submit error:",d),i("Network error or server unavailable")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Submit Teacher Request"}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{name:"title",value:e.title||"",onChange:o,placeholder:"Title",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"description",value:e.description||"",onChange:o,placeholder:"Description",className:"w-full border p-2"}),l.jsx("input",{type:"number",name:"amount_requested",value:e.amount_requested||"",onChange:o,placeholder:"Amount Requested",className:"w-full border p-2"}),l.jsx("input",{name:"teacher_name",value:e.teacher_name||"",onChange:o,placeholder:"Teacher Name",className:"w-full border p-2"}),l.jsx("input",{name:"grade_or_subject",value:e.grade_or_subject||"",onChange:o,placeholder:"Grade or Subject",className:"w-full border p-2"}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Submit"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}function Fde(){const[e,t]=q.useState(!1),[r,n]=q.useState(""),[a,i]=q.useState("monthly"),o=async()=>{var s;t(!0),n("");try{const u=(s=(await Ye.auth.getSession()).data.session)==null?void 0:s.access_token;if(!u){n("User session not found."),t(!1);return}const d=await fetch("https://api.ptoconnect.com/api/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({plan:a})});if(!d.ok){const p=await d.text();throw console.error("Stripe error response:",p),new Error("Stripe request failed.")}const f=await d.json();f!=null&&f.url?window.location.href=f.url:n("Checkout session failed to start.")}catch(c){console.error("Checkout error:",c),n("An error occurred during checkout.")}finally{t(!1)}};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Start Your PTO Connect Subscription"}),l.jsx("p",{className:"mb-4",children:"Subscribe now to unlock all features for your PTO group."}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block font-medium mb-1",children:"Choose a plan:"}),l.jsxs("select",{className:"border p-2 rounded w-full",value:a,onChange:s=>i(s.target.value),children:[l.jsx("option",{value:"monthly",children:"Monthly - $29/month"}),l.jsx("option",{value:"annual",children:"Annual - $299/year"})]})]}),l.jsx("button",{onClick:o,disabled:e,className:"bg-blue-600 text-white px-4 py-2 rounded",children:e?"Redirectingâ€¦":"Subscribe Now"}),r&&l.jsx("p",{className:"text-red-600 mt-4",children:r})]})}function Bde(){return l.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-green-600 mb-4",children:"Subscription Successful!"}),l.jsx("p",{className:"text-gray-700",children:"Thank you for subscribing to PTO Connect. Your account is now active."})]})}function qde(){return l.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Checkout Canceled"}),l.jsx("p",{className:"text-gray-700",children:"You canceled the checkout process. No charges were made."})]})}function zde(){const[e,t]=q.useState(""),[r,n]=q.useState(""),[a,i]=q.useState(""),[o,s]=q.useState(""),c=jr(),u=()=>{if(s(""),!e||!r){s("PTO Name and School Name are required.");return}const d={ptoName:e,schoolName:r,districtName:a};sessionStorage.setItem("pendingPto",JSON.stringify(d)),c("/onboarding/pricing")};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Your PTO"}),l.jsx("p",{className:"text-gray-700 mb-6",children:"Let's start by getting your organization set up. Enter your PTO's info below."}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"PTO Name",value:e,onChange:d=>t(d.target.value)}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"School Name",value:r,onChange:d=>n(d.target.value)}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"District Name (optional)",value:a,onChange:d=>i(d.target.value)}),l.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Continue to Plan Selection"}),o&&l.jsx("p",{className:"text-red-600 mt-4",children:o})]})}function Ude(){const[e,t]=q.useState(null),[r,n]=q.useState([]),[a,i]=q.useState("");jr(),q.useEffect(()=>{const s=sessionStorage.getItem("pendingPto");s?t(JSON.parse(s)):i("Missing PTO info. Please start again."),fetch("/api/stripe/get-prices").then(c=>c.json()).then(n).catch(()=>i("Could not load pricing. Please try again."))},[]);const o=async(s,c)=>{try{const d=await(await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:s,ptoMetadata:e,plan:c==="annual_plan"?"annual":"monthly"})})).json();d.url?window.location.href=d.url:i("Unable to start checkout session.")}catch{i("Stripe checkout error.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Choose Your Plan"}),a&&l.jsx("p",{className:"text-red-600 mb-4",children:a}),l.jsx("div",{className:"space-y-4",children:r.map(s=>l.jsxs("button",{onClick:()=>o(s.id,s.lookup_key),className:"w-full py-3 rounded bg-blue-600 text-white hover:bg-blue-700",children:[s.nickname||s.lookup_key," â€“ $",s.amount,"/",s.interval]},s.id))})]})}function Wde(){const[e]=CP(),t=jr(),[r,n]=q.useState({adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[a,i]=q.useState(null),[o,s]=q.useState(!1),[c,u]=q.useState("");q.useEffect(()=>{const p=e.get("session_id"),h=sessionStorage.getItem("pendingPto");if(!h){u("Missing PTO information. Please start the signup process again.");return}i(JSON.parse(h)),p&&sessionStorage.setItem("stripeSessionId",p)},[e]);const d=p=>{n({...r,[p.target.name]:p.target.value})},f=async p=>{if(p.preventDefault(),u(""),s(!0),!r.adminName||!r.adminEmail||!r.adminPassword){u("All fields are required."),s(!1);return}if(r.adminPassword!==r.confirmPassword){u("Passwords do not match."),s(!1);return}if(r.adminPassword.length<6){u("Password must be at least 6 characters."),s(!1);return}try{const h=sessionStorage.getItem("stripeSessionId"),v=await ln.post("/signup/complete",{ptoName:a.ptoName,schoolName:a.schoolName,adminName:r.adminName,adminEmail:r.adminEmail,adminPassword:r.adminPassword,stripeSessionId:h});v.success?(sessionStorage.removeItem("pendingPto"),sessionStorage.removeItem("stripeSessionId"),t("/onboarding/next-steps",{state:{organization:v.organization}})):u(v.error||"Failed to create account.")}catch(h){console.error("Signup error:",h),u("Failed to create account. Please try again.")}finally{s(!1)}};return a?l.jsxs("div",{className:"max-w-md mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Complete Your Setup"}),l.jsxs("p",{className:"text-gray-600",children:["Creating ",l.jsx("strong",{children:a.ptoName})," at ",a.schoolName]})]}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),l.jsx("input",{type:"text",name:"adminName",value:r.adminName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",name:"adminEmail",value:r.adminEmail,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx("input",{type:"password",name:"adminPassword",value:r.adminPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),l.jsx("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),c&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),l.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating Account...":"Complete Setup"})]}),l.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:l.jsx("p",{children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Missing PTO information. Please start the signup process again."}),l.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Over"})]})}function Hde(){const e=jr(),[t,r]=q.useState({ptoName:"",schoolName:"",adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[n,a]=q.useState(!1),[i,o]=q.useState(""),[s,c]=q.useState(null),u=f=>{r({...t,[f.target.name]:f.target.value})},d=async f=>{var p;if(f.preventDefault(),o(""),a(!0),!t.ptoName||!t.schoolName||!t.adminName||!t.adminEmail||!t.adminPassword){o("All fields are required."),a(!1);return}if(t.adminPassword!==t.confirmPassword){o("Passwords do not match."),a(!1);return}if(t.adminPassword.length<6){o("Password must be at least 6 characters."),a(!1);return}try{const h=await ln.post("/signup/complete",{ptoName:t.ptoName,schoolName:t.schoolName,adminName:t.adminName,adminEmail:t.adminEmail,adminPassword:t.adminPassword});h.data&&h.data.success?(c(h.data.organization),o("")):o(((p=h.data)==null?void 0:p.error)||"Failed to create account.")}catch(h){console.error("Signup error:",h),o("Failed to create account. Please try again.")}finally{a(!1)}};return s?l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Success! ðŸŽ‰"}),l.jsxs("p",{className:"text-green-700 mb-4",children:["Your organization ",l.jsx("strong",{children:s.name})," has been created successfully!"]}),l.jsxs("div",{className:"bg-white border border-green-300 rounded p-4 mb-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your signup code:"}),l.jsx("p",{className:"text-lg font-mono font-bold text-green-800",children:s.signup_code})]}),l.jsx("p",{className:"text-sm text-green-600",children:"Share this code with other members to join your organization."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Go to Login"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Create Another Organization"})]})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Your PTO Organization"}),l.jsx("p",{className:"text-gray-600",children:"Set up your PTO and create your admin account"})]}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PTO Name"}),l.jsx("input",{type:"text",name:"ptoName",value:t.ptoName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary PTO",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Name"}),l.jsx("input",{type:"text",name:"schoolName",value:t.schoolName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary School",required:!0})]}),l.jsx("hr",{className:"my-4"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),l.jsx("input",{type:"text",name:"adminName",value:t.adminName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",name:"adminEmail",value:t.adminEmail,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx("input",{type:"password",name:"adminPassword",value:t.adminPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),l.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),i&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),l.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating Organization...":"Create Organization"})]}),l.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[l.jsx("p",{children:"This will create a trial organization (14 days)"}),l.jsxs("p",{className:"mt-2",children:["Already have an account? ",l.jsx("a",{href:"/login",className:"text-blue-600 hover:underline",children:"Login here"})]})]})]})}function Gde(){var o;const e=UN(),t=jr(),[r,n]=q.useState(!1),a=(o=e.state)==null?void 0:o.organization,i=()=>{a!=null&&a.signup_code&&(navigator.clipboard.writeText(a.signup_code),n(!0),setTimeout(()=>n(!1),2e3))};return a?l.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Rd,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to PTO Connect!"}),l.jsxs("p",{className:"text-lg text-gray-600",children:["Your organization ",l.jsx("strong",{children:a.name})," has been successfully created."]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Your Organization Details"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Organization Name:"}),l.jsx("span",{className:"ml-2 text-blue-700",children:a.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Organization ID:"}),l.jsx("span",{className:"ml-2 text-blue-700 font-mono text-sm",children:a.slug})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Signup Code:"}),l.jsx("span",{className:"ml-2 text-blue-700 font-mono text-lg font-bold",children:a.signup_code}),l.jsx("button",{onClick:i,className:"ml-2 p-1 text-blue-600 hover:text-blue-800",title:"Copy signup code",children:l.jsx(qN,{className:"w-4 h-4"})}),r&&l.jsx("span",{className:"ml-2 text-green-600 text-sm",children:"Copied!"})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Next Steps to Get Started"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(si,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Invite Your Team"}),l.jsxs("p",{className:"text-gray-600 text-sm",children:["Share your signup code ",l.jsx("strong",{children:a.signup_code})," with other PTO members, teachers, and parents so they can join your organization."]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(Dp,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Configure Your Settings"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Set up your organization preferences, communication settings, and user roles."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(Qn,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Create Your First Event"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Start engaging your community by creating your first PTO event or meeting."})]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("button",{onClick:()=>t("/login"),className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),l.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Create Another PTO"})]}),l.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Need Help?"}),l.jsx("p",{className:"text-yellow-700 text-sm",children:"Check out our getting started guide or contact support if you need assistance setting up your PTO organization."})]})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Missing organization information. Please complete the signup process."}),l.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Setup"})]})}function Vde(){return l.jsxs(LP,{children:[l.jsx(Ue,{path:"/",element:l.jsx(s1,{})}),l.jsx(Ue,{path:"/login",element:l.jsx(s1,{})}),l.jsx(Ue,{path:"/signup",element:l.jsx(o6,{})}),l.jsx(Ue,{path:"/unauthorized",element:l.jsx(s6,{})}),l.jsx(Ue,{path:"/onboarding/create-pto",element:l.jsx(zde,{})}),l.jsx(Ue,{path:"/onboarding/pricing",element:l.jsx(Ude,{})}),l.jsx(Ue,{path:"/onboarding/complete-signup",element:l.jsx(Wde,{})}),l.jsx(Ue,{path:"/onboarding/simple-signup",element:l.jsx(Hde,{})}),l.jsx(Ue,{path:"/onboarding/next-steps",element:l.jsx(Gde,{})}),l.jsx(Ue,{path:"/billing/success",element:l.jsx(Bde,{})}),l.jsx(Ue,{path:"/billing/cancel",element:l.jsx(qde,{})}),l.jsx(Ue,{element:l.jsx(Io,{allowedRoles:["admin","board_member","committee_lead","volunteer","parent_member","teacher"]}),children:l.jsx(Ue,{element:l.jsx(Ro,{}),children:l.jsx(Ue,{path:"/dashboard",element:l.jsx(u6,{})})})}),l.jsx(Ue,{element:l.jsx(Io,{allowedRoles:["admin"]}),children:l.jsxs(Ue,{element:l.jsx(Ro,{}),children:[l.jsx(Ue,{path:"/dashboard/admin",element:l.jsx(zg,{})}),l.jsx(Ue,{path:"/admin/permissions",element:l.jsx(x6,{})}),l.jsx(Ue,{path:"/admin/users",element:l.jsx(zg,{})}),l.jsx(Ue,{path:"/admin/settings",element:l.jsx(zg,{})}),l.jsx(Ue,{path:"/billing",element:l.jsx(Fde,{})}),l.jsx(Ue,{path:"/events",element:l.jsx(O6,{})}),l.jsx(Ue,{path:"/events/legacy",element:l.jsx(A6,{})}),l.jsx(Ue,{path:"/events/create",element:l.jsx(_E,{})}),l.jsx(Ue,{path:"/events/create-enhanced",element:l.jsx(AE,{})}),l.jsx(Ue,{path:"/events/:eventId/workflow",element:l.jsx(OE,{})}),l.jsx(Ue,{path:"/events/edit/:id",element:l.jsx(PE,{})}),l.jsx(Ue,{path:"/events/calendar",element:l.jsx(uG,{})}),l.jsx(Ue,{path:"/fundraisers",element:l.jsx(Zce,{})}),l.jsx(Ue,{path:"/fundraisers/create",element:l.jsx(wO,{})}),l.jsx(Ue,{path:"/fundraisers/:id/edit",element:l.jsx(Qce,{})}),l.jsx(Ue,{path:"/fundraisers/:id/analytics",element:l.jsx(xO,{})}),l.jsx(Ue,{path:"/budget",element:l.jsx(tue,{})}),l.jsx(Ue,{path:"/budget/legacy",element:l.jsx(eue,{})}),l.jsx(Ue,{path:"/budget/create",element:l.jsx(rue,{})}),l.jsx(Ue,{path:"/budget/reconciliation",element:l.jsx(nue,{})}),l.jsx(Ue,{path:"/budget/reconciliation/new",element:l.jsx(xde,{})}),l.jsx(Ue,{path:"/budget/reconciliation/:id",element:l.jsx(OO,{})}),l.jsx(Ue,{path:"/communications",element:l.jsx(Sde,{})}),l.jsx(Ue,{path:"/communications/legacy",element:l.jsx(Nde,{})}),l.jsx(Ue,{path:"/communications/create",element:l.jsx(_de,{})}),l.jsx(Ue,{path:"/communications/email",element:l.jsx(AdvancedDesignStudio,{})}),l.jsx(Ue,{path:"/communications/sms",element:l.jsx(Ade,{})}),l.jsx(Ue,{path:"/communications/social",element:l.jsx(Ode,{})}),l.jsx(Ue,{path:"/communications/ai",element:l.jsx(UnifiedCommunicationComposer,{})}),l.jsx(Ue,{path:"/communications/design-studio",element:l.jsx(UnifiedCommunicationComposer,{})}),l.jsx(Ue,{path:"/communications/template-builder",element:l.jsx(UnifiedCommunicationComposer,{})}),l.jsx(Ue,{path:"/documents",element:l.jsx(Ede,{})}),l.jsx(Ue,{path:"/documents/upload",element:l.jsx(Tde,{})}),l.jsx(Ue,{path:"/shared-library",element:l.jsx(Lde,{})}),l.jsx(Ue,{path:"/ai-event-ideas",element:l.jsx(Mde,{})}),l.jsx(Ue,{path:"/ai-workflow-orchestrator",element:l.jsx(Dde,{})})]})}),l.jsx(Ue,{element:l.jsx(Io,{allowedRoles:["teacher"]}),children:l.jsxs(Ue,{element:l.jsx(Ro,{}),children:[l.jsx(Ue,{path:"/dashboard/teacher",element:l.jsx(_6,{})}),l.jsx(Ue,{path:"/teacher-requests",element:l.jsx(Ide,{})}),l.jsx(Ue,{path:"/teacher-requests/create",element:l.jsx(Rde,{})})]})}),l.jsx(Ue,{element:l.jsx(Io,{allowedRoles:["board_member"]}),children:l.jsx(Ue,{element:l.jsx(Ro,{}),children:l.jsx(Ue,{path:"/dashboard/board",element:l.jsx(w6,{})})})}),l.jsx(Ue,{element:l.jsx(Io,{allowedRoles:["committee_lead"]}),children:l.jsx(Ue,{element:l.jsx(Ro,{}),children:l.jsx(Ue,{path:"/dashboard/committee",element:l.jsx(j6,{})})})}),l.jsx(Ue,{element:l.jsx(Io,{allowedRoles:["volunteer"]}),children:l.jsx(Ue,{element:l.jsx(Ro,{}),children:l.jsx(Ue,{path:"/dashboard/volunteer",element:l.jsx(N6,{})})})}),l.jsx(Ue,{element:l.jsx(Io,{allowedRoles:["parent_member"]}),children:l.jsx(Ue,{element:l.jsx(Ro,{}),children:l.jsx(Ue,{path:"/dashboard/parent",element:l.jsx(S6,{})})})})]})}Iv.createRoot(document.getElementById("root")).render(l.jsx(B.StrictMode,{children:l.jsx(MP,{children:l.jsx(Vde,{})})}));export{Xo as _};
//# sourceMappingURL=index-kdqZw-Xn.js.map
